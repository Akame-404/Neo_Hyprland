"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[34232],{244975:(e,t,i)=>{i.d(t,{EK:()=>d,IM:()=>l,QZ:()=>a,YY:()=>o,_g:()=>r,dy:()=>n,x9:()=>c,yb:()=>u});var s=i(730459);function n(e,t){s.K4(e,"download_desktop_app",t)}function o(e,t){s.K4(e,"download_mobile_app",t)}function r(e,t){const{name:i,...n}=t;s.K4(e,"click_link",{...n,click_name:i})}function a(e,t){s.K4(e,"scroll",t)}function l(e,t){s.K4(e,"customer_io_in_app_callout_show",t)}function d(e,t){s.K4(e,"customer_io_in_app_callout_suppress",t)}function c(e,t){s.K4(e,"customer_io_in_app_callout_dismiss",t)}function u(e,t){s.K4(e,"customer_io_in_app_callout_error",t)}},585215:(e,t,i)=>{i.d(t,{l:()=>u});i(667294);var s=i(886628),n=i(709291),o=i(516639),r=i(80444),a=i(552275),l=i(312793),d=i(731278),c=i(785893);function u(e){const{group:t,menuListItemProps:i}=e,u=(0,s.VK)((()=>{const e=r.default.state.currentSpaceStore;if(e&&t.icon)return{pointer:{table:e.table,id:e.id},icon:t.icon}}),[t]),m=(0,n.useIntl)(),g=(0,o.kF)({intl:m,group:t});return(0,c.jsx)(a.Z,{...i,icon:u?(0,c.jsx)(d.Z,{disabled:!0,size:22,icon:u,isEmptyPage:!1,title:g}):(0,c.jsx)(l.Z,{size:22}),title:g})}},39849:(e,t,i)=>{i.d(t,{N:()=>l,Z:()=>c});i(667294);var s=i(724405),n=i(531701),o=i(137810),r=i(785893);const a={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:o.Z.fontWeight.semibold,borderRadius:4,color:n.ZP.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};let l=function(e){return e[e.Red=0]="Red",e[e.Gray=1]="Gray",e}({});function d(e){return!!e&&e>0}const c=function(e){let{count:t,color:i,style:n,numberStyle:o,fadeIn:c}=e;const m=i===l.Red,g=(0,s.yK)((e=>({badge:{...a,...n,...(t??0)>99&&{width:void 0,padding:2},background:m?e.redBadgeBackground:e.lightIconColor,...c&&{transition:"opacity 0.1s",opacity:d(t)?1:0}}})),[t,c,m,n]);return c||d(t)?(0,r.jsx)("div",{style:g.badge,children:(0,r.jsx)(u,{count:t,numberStyle:o})}):null};function u(e){let{count:t,numberStyle:i}=e;return t?1===t?(0,r.jsx)("span",{style:{marginLeft:-.5,...i},children:"1"}):t>99?(0,r.jsx)("span",{style:{letterSpacing:-.5,...i},children:"99+"}):t>9?(0,r.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...i},children:t}):(0,r.jsx)("span",{style:{...i},children:t}):null}},424145:(e,t,i)=>{i.d(t,{Z:()=>h});var s=i(667294),n=i(800480),o=i(886628),r=i(709291),a=i(75472),l=i(165598),d=i(26781),c=i(825464),u=i(526388),m=i(791487),g=i(147082),p=i(785893);const h=function(e){const{origin:t,permissionsInviteStore:i,store:h,handleClickRemoveToken:v,handleInputChange:f,handleInputSubmit:x,defaultRoleForNonBot:b,isTeamsEnabled:M,right:S,focus:y,handleFocus:j}=e,w="share_menu"===t||"add_members"===t,I="add_members"===t,[C,k]=(0,o.AF)(i),Z=(0,n.O7)(),{device:T}=Z,A=(0,r.useIntl)(),{tokenQuery:R}=C,L=(0,d.S)(h),_=C.inviteTargets.map((e=>{const t="newUser"===e.type?e.value.email:`${e.type}-${e.value.id}`,i=(0,a.OA)(e),n="newUser"===e.type||"existingUser"===e.type?e.value.email:void 0,o=i?L:void 0,l={key:t,target:e,onClickRemove:v,role:C.inviteRole,shouldWrap:w,showInfoIcon:Boolean(o)};return w&&n?(0,p.jsx)(u.Z,{placement:c.u.Top,disableTooltip:I,renderTooltip:()=>i?o||(0,p.jsx)(r.FormattedMessage,{defaultMessage:"{email} will be invited as a guest",id:"ContextualInvite.permissions_invites.guest.tooltip",values:{email:n}}):n,render:i=>(0,s.createElement)("span",{...i,key:t},(0,p.jsx)(m.Z,{...l,backgroundColor:(0,a.gQ)(e)}))},t):(0,s.createElement)(m.Z,{...l,key:t})}));return(0,p.jsx)(g.ZP,{focus:T.isMobile?void 0:y,focusInitial:T.isMobile,focusAfterAnimation:!0,onClick:()=>{T.isMobile||null==j||j()},format:g.UR.Share,value:R,onChange:f,type:"email",tokens:_,disabled:!1,autoComplete:"off",placeholder:w?M?A.formatMessage({defaultMessage:"Add people, groups, or emails…",id:"ContexualInvites.inviteUserModal.searchInput.placeholderWithTeams"}):A.formatMessage({defaultMessage:"Add emails or people",id:"ContexualInvites.inviteUserModal.searchInput.placeholderWithoutBots"}):(0,l.Mm)(h)||(0,l.R$)(h)?A.formatMessage({id:"inviteUserModal.searchInput.placeholder",defaultMessage:"Search name or emails"}):A.formatMessage({id:"permissionsInvite.searchInput.placeholder",defaultMessage:"Search emails, names, or groups"}),onRemoveLastToken:()=>{const e={...C};e.inviteTargets=e.inviteTargets.slice(0,-1),0===e.inviteTargets.length&&(e.isInviteTargetsEmpty=!0,e.inviteRole=b),k(C)},right:S,inputFullWidth:!0,inputAndTokenWrapRightStyle:{paddingTop:Z.device.isMobile?0:C.isInviteTargetsEmpty?7:6,paddingBottom:Z.device.isMobile||w?0:4},onEmptySubmit:()=>x(),dontShowBorderBottom:T.isAndroid,showBorder:w,...!w&&{style:{padding:"4px 9px"}},...w&&{style:{borderRadius:4,paddingTop:C.isInviteTargetsEmpty?3:0,paddingBottom:0,...y&&{background:"none"}}}})}},943579:(e,t,i)=>{i.d(t,{Z:()=>L});i(757658);var s=i(667294),n=i(800480),o=i(886628),r=i(724405),a=i(266897),l=i(133728),d=i(808843),c=i(307928),u=i(709291),m=i(137810),g=i(891219),p=i(195209),h=i(823586),v=i(75472),f=i(165598),x=i(825464),b=i(429677),M=i(535057),S=i(552275),y=i(632163),j=i(743765),w=i(672495),I=i(526388),C=i(585215),k=i(869507),Z=i(197680),T=i(785893);const A=(0,u.defineMessages)({invited_page:{id:"PermissionsInviteSearchRequest.userTooltip.invited_page",defaultMessage:"{userNameAndEmail} is invited to this page already"},invited_space:{id:"PermissionsInviteSearchRequest.userTooltip.invited_space",defaultMessage:"{userNameAndEmail} is invited to this workspace already"},invited_team:{id:"PermissionsInviteSearchRequest.userTooltip.invited_team",defaultMessage:"{userNameAndEmail} is invited to this teamspace already"},not_in_space:{id:"PermissionsInviteSearchRequest.userTooltip.admin",defaultMessage:"Click to invite {userNameAndEmail}"}});function R(e,t){return e.filter(((e,i)=>i<t))}const L=function(e){const{store:t,shouldShowBots:i,shouldShowGroups:L,sectionRenderLimit:_,membersOnly:F,hideUserTypeToken:U,disableInvitedUsers:B,guestsMustBeRequested:q,performSearchRequest:V}=e,[z,P,E]=(0,o.AF)(e.permissionsInviteStore),O=(0,n.O7)(),{device:N}=O,G=(0,u.useIntl)(),{tokenQuery:K}=z,W=(0,s.useMemo)((()=>v.ZK({environment:{device:N}})),[N]),H=(0,r.yK)((e=>({roleBadge:{...W},invitedBadge:{...W,backgroundColor:e.defaultBadgeBackground}})),[W]),D="invitee",$={request:K,performRequest:e=>V?V({query:e,limit:10,environment:O}):p.jL({query:e,sectionLimit:{userLimit:10,botLimit:i?10:0,groupLimit:L?10:0,importContactLimit:0},membersOnly:F,environment:O,intl:G}),render:(e,i,s)=>{if(e)return(0,T.jsx)(k.l,{loading:!s,children:(0,T.jsx)(j.Z,{title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchInput.errorMessage",defaultMessage:"Something went wrong"})})});const n=i&&{...i,importedContacts:(0,v.Bu)(i.inviteUsers,i.importedContacts)},o=n&&(null==K?void 0:K.length)>0,{inviteUsers:r,inviteGroups:p,importedContacts:h=[]}=o?n:(0,v.NN)({currentInviteActors:n,permissionsInviteStore:E,targetStore:t}),F=[...R(r,_),...R(h,10)].map(((e,i)=>{const s="newUser"===e.type?e.value.email:e.value.id,n=(0,v.fR)(e),r=Boolean(o&&(0,v.cm)({permissionsInviteStore:E,userTarget:e,targetStore:t}));return{key:s,render:i=>{const{tooltip:s,userTypeToken:o}=function(e){const{userTarget:t,targetStore:i,isInvited:s,userSpaceRole:n,styles:o,intl:r}=e,a="newUser"!==t.type&&t.value.name?`${t.value.name} (${t.value.email})`:t.value.email,l=n&&"not_in_space"!==n;if(s)return{tooltip:(0,f.Mm)(i)?r.formatMessage(A.invited_space,{userNameAndEmail:a}):(0,f.OY)(i)?r.formatMessage(A.invited_page,{userNameAndEmail:a}):r.formatMessage(A.invited_team,{userNameAndEmail:a}),userTypeToken:(0,T.jsx)("div",{style:{...o.invitedBadge},children:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.userRole.invitedBadge.label",defaultMessage:"Invited"})})};if(l){const e=v.Ji({role:n,intl:r,nameOrEmail:a});return{tooltip:e.tooltip,userTypeToken:(0,T.jsx)("div",{style:{...o.roleBadge},children:e.userRoleBadge})}}return{tooltip:r.formatMessage(A.not_in_space,{userNameAndEmail:a}),userTypeToken:void 0}}({userTarget:e,targetStore:t,userSpaceRole:n,isInvited:r,styles:H,intl:G});return"existingUser"===e.type?(0,T.jsx)(Z.Z,{...i,actor:(0,a.dp)(e.value),right:U?void 0:o,tooltip:s,tooltipPlacement:x.u.Left,disabled:B&&r}):(0,T.jsx)(I.Z,{placement:x.u.Left,alignment:x.v.Start,textWrap:!0,render:t=>(0,T.jsx)(S.Z,{...i,...t,icon:(0,d.h)({width:24,height:24}),right:o,title:e.value.email.trim(),disabled:B&&r}),disableTooltip:!s,renderTooltip:()=>s})},action:()=>{if(r)return;if(!z.isInviteTargetsEmpty&&(0,b.ow)(z))return;const t={...e,..."existingUser"===e.type&&{spaceRole:n}};g.hE(O,{subscription_tier:(0,M.zt)(),invite_token_query:K,selected_user_token:e,selected_user_token_rank:i,from:"permission_invite"}),E.setState({...z,inviteTargets:[...z.inviteTargets,t],isInviteTargetsEmpty:!1,tokenQuery:"",inputFocus:D})}}})),V=R(p,_).map((e=>{const{value:t}=e;return{key:t.id,render:e=>(0,T.jsx)(C.l,{group:t,menuListItemProps:e}),action:()=>{!z.isInviteTargetsEmpty&&(0,b.ow)(z)||E.setState({...z,inviteTargets:[...z.inviteTargets,e],isInviteTargetsEmpty:!1,tokenQuery:"",inputFocus:D})}}})),P=[],N=z.isInviteTargetsEmpty||!(0,b.ow)(z);if(F.length>0&&N&&P.push({key:"user results",render:e=>(0,T.jsx)(k.l,{...e,loading:!s}),items:F}),L&&V.length>0&&N&&P.push({key:"group results",render:e=>(0,T.jsx)(w.Z,{...e,title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchDropdown.selectGroupTitle",defaultMessage:"Select a group"}),loading:!s}),items:V}),0===P.length&&N){const e=(0,l.H3)(z.tokenQuery);if((0,l.oH)(e)){const n={type:"newUser",value:{email:e},source:"email"},o=(0,v.Nd)({target:n,permissionsInviteStore:E});if(!o)return;if(o)return(0,T.jsx)(k.l,{loading:!s,children:(0,T.jsx)(j.Z,{title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.userAlreadyInvitedMessage",defaultMessage:"Already inviting {user}.",values:{user:(0,T.jsx)("span",{style:{fontWeight:m.Z.fontWeight.bold},children:(0,v.DF)({intl:G,target:o})})}})})});const r=(i&&i.inviteUsers||[]).find((t=>"existingUser"===t.type&&t.value.email===e));if(r&&"existingUser"===r.type&&(0,v.Zp)({store:t,target:r}))return(0,T.jsx)(k.l,{loading:!s,children:(0,T.jsx)(j.Z,{title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.userAlreadyHasPermissionMessage",defaultMessage:"{user} already has permission.",values:{user:(0,T.jsx)("span",{style:{fontWeight:m.Z.fontWeight.bold},children:(0,c.Nz)(G,r.value)})}})})})}else{if(!z.tokenQuery)return(0,T.jsx)(k.l,{loading:!s,children:(0,T.jsx)(j.Z,{title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchPersonDropdown.noSearchResultsMessage",defaultMessage:"Type or paste in emails above, separated by commas."})})});P.push({key:"user results",render:e=>(0,T.jsx)(k.l,{...e,loading:!s,title:q?(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchDropdown.requestPeople",defaultMessage:"Keep typing to request inviting an email"}):(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchDropdown.addPeople",defaultMessage:"Keep typing to invite email"})}),items:[{key:z.tokenQuery,render:e=>(0,T.jsx)(S.Z,{icon:(0,d.h)({width:24,height:24}),title:z.tokenQuery,...e}),action:()=>{}}]})}}return(0,T.jsx)(y.Z,{type:y.i.Vertical,initialFocus:K.length>0?0:void 0,sections:P})}};return(0,T.jsx)(h.Z,{...$})}},329825:(e,t,i)=>{i.d(t,{Z:()=>Z});var s=i(667294),n=i(800480),o=i(886628),r=i(724405),a=i(709291),l=i(531701),d=i(137810),c=i(891219),u=i(195209),m=i(164964),g=i(379817),p=i(460709),h=i(75472),v=i(352878),f=i(301743),x=i(374194),b=i(478140),M=i(709019),S=i(953437),y=i(158297),j=i(164369),w=i(424145),I=i(943579),C=i(785893);const k=(0,a.defineMessages)({reason_placeholder:{id:"RequestMembersModal.reason.placeholder",defaultMessage:"Add a reason (optional)"}});const Z=function(e){const t=(0,n.O7)(),{store:i,origin:Z,analyticsFrom:T}=e,[A,R]=(0,s.useState)(!1),[L,_]=(0,s.useState)("none"),F=(0,o.qz)(void 0,v.Z),U=(0,a.useIntl)(),B=(0,r.yK)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:420},container:{padding:20},title:{fontWeight:d.Z.fontWeight.medium,marginBottom:10},reasonTitle:{color:l.ZP.mediumTextColor,marginTop:10,marginBottom:5},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:15},requestInvitesButton:{marginLeft:20}})),[]),q=e=>{e.currentTarget===e.target&&_("none")},V=async()=>{c.d(t,{...g.Oh(t,F.state.contextualInviteStore),from:T}),u.eH({permissionsInviteStore:F.state.permissionsInviteStore,contextualInviteStore:F.state.contextualInviteStore}),F.state.contextualInviteStore.startRequestMembership();const e=F.state.contextualInviteStore.state.invitedUsers;R(!1);const s=await g.fC({environment:t,spaceStore:i,originId:void 0,originType:T,reasonMessage:F.state.permissionsInviteStore.state.emailMessage,contextualInviteStore:F.state.contextualInviteStore,intl:U});z({success:s,intl:U,users:e}),F.reset()},z=e=>{const{success:t,intl:i,users:s}=e;0!==s.length&&(t?m.oV({label:i.formatMessage({id:"requestMembersModal.requestSuccess.toast",defaultMessage:"Successfully requested membership for {users} to your workspace admins."},{users:g.uJ(s,i)})}):m.oV({label:i.formatMessage({id:"requestMembersModal.requestFail.toast",defaultMessage:"Failed to invite {users} to the workspace."},{users:g.uJ(s,i)})}))};return(0,C.jsx)(M.Z,{modalStyle:B.modalStyle,open:A,onDismiss:async()=>{await(0,h.Aw)({environment:t,permissionsInviteStoreState:F.state.permissionsInviteStore.state,from:"space_settings_add_members"})||(R(!1),F.reset()),_("none")},renderContent:()=>(0,C.jsxs)("div",{style:B.container,onClick:q,children:[(0,C.jsx)("div",{style:B.title,onClick:q,children:(0,C.jsx)(a.FormattedMessage,{id:"requestMembersModal.title",defaultMessage:"Request to invite members"})}),(0,C.jsx)(S.ZP,{popupType:S.kQ.Popup,alignmentToOrigin:S.ZP.Alignment.Start,placementToOrigin:S.ZP.Placement.Bottom,open:"invites"===L,sameWidthAsOrigin:!0,originGap:10,disableMouseCapture:!0,origin:(0,C.jsx)(w.Z,{permissionsInviteStore:F.state.permissionsInviteStore,store:i,handleClickRemoveToken:e=>{u.PV({targetToRemove:e,permissionsInviteStore:F.state.permissionsInviteStore,defaultRoleForNonBot:"read_and_write"})},handleInputChange:async e=>{_("invites"),await u.jC({environment:t,event:e,permissionsInviteStore:F.state.permissionsInviteStore})},handleInputSubmit:async()=>{},origin:"add_members",defaultRoleForNonBot:"read_and_write",isTeamsEnabled:!1,right:(0,C.jsx)("div",{}),focus:"invites"===L,handleFocus:()=>_("invites")}),onDismiss:()=>_("none"),render:()=>{const e=(0,C.jsx)(I.Z,{permissionsInviteStore:F.state.permissionsInviteStore,store:i,defaultRoleForSpaceBot:"editor",shouldShowBots:!1,shouldShowGroups:!1,sectionRenderLimit:10,membersOnly:!1}),t={menuType:p.og.Popup,disableScroller:!1};return(0,C.jsx)("div",{children:(0,C.jsx)(b.Z,{...t,width:380,children:e})})},style:{width:"100%"}}),(0,C.jsx)("div",{style:B.reasonTitle,onClick:q,children:(0,C.jsx)(a.FormattedMessage,{id:"requestMembersModal.reasonForRequest.title",defaultMessage:"Reason for request"})}),(0,C.jsx)(f.Z,{debugName:"RequestMembersModal",capture:!0,allowEsc:!0,children:(0,C.jsx)(x.Z,{textarea:!0,style:{padding:8},value:F.state.permissionsInviteStore.state.emailMessage,focus:"reason"===L,onFocus:()=>_("reason"),onChange:e=>{F.state.permissionsInviteStore.setState({...F.state.permissionsInviteStore.state,emailMessage:e.target.value})},placeholder:U.formatMessage(k.reason_placeholder)})}),(0,C.jsxs)("div",{style:B.footer,onClick:q,children:[(0,C.jsx)(j.Z,{isSecondaryColor:!0,isSmall:!0,isMultiline:!0,children:(0,C.jsx)(a.FormattedMessage,{id:"RequestMembersModal.caption",defaultMessage:"Your admins will approve or decline your request."})}),(0,C.jsx)(y.Z,{isLarge:!0,style:B.requestInvitesButton,onClick:V,children:(0,C.jsx)(a.FormattedMessage,{id:"requestMembersModal.requestInvitesButton.label",defaultMessage:"Request invites"})})]})]}),origin:(0,C.jsx)("div",{onClick:()=>{R(!0)},children:Z})})}},977420:(e,t,i)=>{i.d(t,{Z:()=>v});i(667294);var s=i(800480),n=i(886628),o=i(724405),r=i(356666),a=i(137810),l=i(460709),d=i(61766),c=i(748019),u=i(164921),m=i(231945),g=i(478140),p=i(672495),h=i(785893);const v=function(e){let{emailAddress:t,disabled:i,accountActions:a}=e;const v=(0,o.Fg)(),S=(0,s.O7)(),y=(0,n.qz)(void 0,d.Z),{device:j}=S;let w;return w=j.isMobile?{menuType:l.og.ActionSheet}:{menuType:l.og.Popup},(0,h.jsxs)("div",{style:M(S,v),children:[(0,h.jsx)("div",{style:b(S),children:t}),(0,h.jsx)(m.ZP,{popupType:j.isMobile?m.Z4.SlideUp:m.Z4.Popup,buttonPopupStore:y,renderOrigin:e=>{if(!i)return(0,h.jsx)(u.Z,{...e,style:f(S),children:(0,r.o)(x(S))})},render:()=>(0,h.jsx)(g.Z,{...w,children:(0,h.jsx)(c.Z,{sections:[{key:"option section",render:e=>(0,h.jsx)(p.Z,{...e}),actions:a}],context:{environment:S,blocks:[],publicEditMode:void 0}})})})]})};function f(e){const{device:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:t.isMobile?24:20,height:t.isMobile?24:20,borderRadius:4}}function x(e){const{device:t}=e;return{width:t.isMobile?18:12,height:t.isMobile?18:12}}function b(e){return{fontSize:e.device.isMobile?14:11,lineHeight:a.Z.lineHeight.UISmall.desktop,fontWeight:a.Z.fontWeight.medium}}function M(e,t){return{marginTop:e.device.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:t.mediumTextColor}}},197680:(e,t,i)=>{i.d(t,{Z:()=>f});var s=i(667294),n=i(800480),o=i(886628),r=i(266897),a=i(709291),l=i(401898),d=i(98742),c=i(825464),u=i(552275),m=i(526388),g=i(670301),p=i(45653),h=i(785893);const v=s.forwardRef(((e,t)=>{const{actor:i,userTitle:s,useEmailAsTooltip:v,tooltip:f,tooltipPlacement:x}=e,b=(0,n.O7)(),M=(0,a.useIntl)(),S=(0,o.VK)((()=>i.asActor&&i.isUser()?i.email:void 0),[i]),y=v&&S?S:f,j=b.device.isMobile?24:20;let w;return(0,r.YU)(i)?w=(0,h.jsx)(g.Z,{botValue:null==i?void 0:i.asActor,size:j}):(0,r.$S)(i)?w=(0,h.jsx)(p.Z,{userValue:null==i?void 0:i.asActor,size:j}):(0,r.Iq)(i)?w=(0,h.jsx)(p.Z,{userValue:void 0,size:j}):(0,l.t1)(i),(0,h.jsx)(m.Z,{ref:t,placement:x??c.u.Bottom,alignment:c.v.Start,textWrap:!0,render:t=>(0,h.jsx)(u.Z,{...(0,d.Z)(t,e),icon:w,title:s??(0,r.$4)(M,i),className:"notranslate",right:e.right}),disableTooltip:!y,renderTooltip:()=>y})}));v.displayName="UserMenuItem";const f=v},263134:(e,t,i)=>{i.d(t,{Z:()=>b});var s=i(667294),n=i(800480),o=i(886628),r=i(709291),a=i(91536),l=i(792625),d=i(296994),c=i(304708),u=i(735691),m=i(88893),g=i(535057),p=i(288280),h=i(587244),v=i(158297),f=i(329825),x=i(785893);function b(e){let{spaceStore:t,origin:i,requestFrom:b,inviteFrom:M}=e;const{shouldShowRequestMemberButtion:S,canEditMembership:y}=(0,o.VK)((()=>({shouldShowRequestMemberButtion:!t.canEditMembership()&&!t.getDisableMembershipRequests()&&(0,c.p1)(),canEditMembership:t.canEditMembership()})),[t]),j=(0,o.VK)((()=>{const e=p.subscriptionDataStoreInstance.state;return Boolean(e&&m.YK(e))}),[]),{isMobile:w}=(0,n.Fy)(),I=(0,o.VK)((()=>(0,u.shouldEnableSlackImportsInvite)({canEditPermission:y,isMobile:w,subscriptionTier:(0,g.zt)()})),[y,w]),C=(0,s.useCallback)((()=>{const e=(0,r.defineMessages)({updatingPermissions:{id:"spacePermissionsSettings.updatePermissionsMessage",defaultMessage:"Updating…"}});l.j({message:e.updatingPermissions})}),[]),k=(0,s.useCallback)((()=>{l.x()}),[]),Z=(0,n.O7)(),T=(0,s.useCallback)((()=>{a.L7(Z,{type:"request"})}),[Z]);return S?(0,x.jsx)(f.Z,{store:t,analyticsFrom:b,origin:i?(0,x.jsx)("div",{onClick:T,children:i}):(0,x.jsx)(v.Z,{isLarge:!0,onClick:T,children:(0,x.jsx)(r.FormattedMessage,{id:"inviteUserButton.requestMemberLabel",defaultMessage:"Add members"})})}):(0,x.jsx)(h.N,{step:"collaborate_add_member",isFullWidth:!1,showContentOverlays:!1,children:(0,x.jsx)(d.r1,{disabled:!y,store:t,onInviteClick:C,onInviteComplete:k,isSubscribed:j,membersOnly:!1,upgradeButtonName:"space_permission_settings",shouldGrow:!1,enableInviteDropdown:I,origin:i,analyticsFrom:M})})}},853353:(e,t,i)=>{i.d(t,{Z:()=>d});var s=i(886628),n=i(798165),o=i(165598),r=i(548779),a=i(80444);function l(e,t){return(0,r.Q6)(e)?{isGuestRequestRequired:!0}:t?{isStoreInTeam:!0,teamAllowsGuests:!0,spaceAllowsGuests:!0,isGuestRequestRequired:!1}:{isStoreInTeam:!1,spaceAllowsGuests:!0,isGuestRequestRequired:!1}}const d=function(e){return(0,s.VK)((()=>{if((0,o.R$)(e))return{isStoreInTeam:!1,spaceAllowsGuests:!0,isGuestRequestRequired:!1};if(!(0,o.OY)(e))return(0,r.kt)(e)?l(e,void 0):{isStoreInTeam:!1,spaceAllowsGuests:!0,isGuestRequestRequired:!1};const t=(0,n.VP)(e),i=(0,n.Pj)(e),s=i||a.default.state.currentSpaceStore;if((0,r.kt)(s))return l(s,t);const d=!(null!=i&&i.getDisableGuests());return t?{isStoreInTeam:!0,teamAllowsGuests:!t.getDisableGuests(),spaceAllowsGuests:d,isGuestRequestRequired:!1}:{isStoreInTeam:!1,spaceAllowsGuests:d,isGuestRequestRequired:!1}}),[e])}},26781:(e,t,i)=>{i.d(t,{S:()=>r});i(667294);var s=i(709291),n=i(853353),o=i(785893);function r(e){const t=(0,n.Z)(e);return t.isGuestRequestRequired?(0,o.jsx)(s.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.guestRequestRequired",defaultMessage:"This guest must be approved by a workspace owner first"}):t.isStoreInTeam?t.teamAllowsGuests?void 0:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsx)(s.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.teamDisablesGuestsAlertLine1",defaultMessage:"This teamspace doesn't allow guests."})}),(0,o.jsx)("div",{children:(0,o.jsx)(s.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.teamDisablesGuestsAlertLine2",defaultMessage:"Remove any guests to continue."})})]}):t.spaceAllowsGuests?void 0:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsx)(s.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.spaceDisablesGuestsAlertLine1",defaultMessage:"This workspace doesn't allow guests."})}),(0,o.jsx)("div",{children:(0,o.jsx)(s.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.spaceDisablesGuestsAlertLine2",defaultMessage:"Remove any guests to continue."})})]})}},727177:(e,t,i)=>{i.d(t,{Z:()=>M});i(21703),i(667294);var s=i(800480),n=i(184747),o=i(886628),r=i(724405),a=i(709291),l=i(632441),d=i(901357),c=i(552275),u=i(231945),m=i(546457),g=i(843250),p=i(788632),h=i(596071),v=i(485974),f=i(591190),x=i(478861),b=i(785893);const M=function(e){let{createType:t,icon:i,disableLoginLink:r,redirectURL:m,loginStore:g}=e;const M=(0,s.O7)(),S=(0,a.useIntl)(),w=(0,o.qz)(void 0,h.Z),I=(0,o.qz)(g,v.Z);(0,n.Z)((()=>{"email"===I.state.loginType&&M.device.isMobile&&I.setState({...I.state,loginType:"google"})}));const C=(0,o.VK)((()=>p.Z.state.online),[]),{device:k}=M,Z=(0,o.VK)((()=>{var e;return null===(e=M.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[M]);return k.isMobile?(0,b.jsx)(u.ZP,{popupType:u.Z4.SlideUp,hidesMobileNativeBottomBar:Z,preventSlideUpTransition:Z,buttonPopupStore:"add-account"===t?f.C:f.E,alignmentToOrigin:u.vR.Start,placementToOrigin:u.pO.Top,originGap:0,isFullWidthOnMobile:!0,render:e=>(w.setState({open:!0}),(0,b.jsx)(j,{intl:S,disableLoginLink:r,redirectURL:m,loginStore:I,loginModalStore:w,createType:t,onDismiss:()=>{Z?d.d(M,e.close):e.close()}})),preventScaleTransition:!0,renderOrigin:e=>(0,b.jsx)(c.Z,{focused:!1,disabled:!C,title:(0,b.jsx)(y,{createType:t}),icon:i,...e})}):(0,b.jsxs)("div",{onClick:()=>{C&&(l.D6(M,{createType:t}),x.Z.setState({...x.Z.getState(),createType:t}),w.setState({open:!0}))},children:[(0,b.jsx)(c.Z,{focused:!1,disabled:!C,title:(0,b.jsx)(y,{createType:t}),icon:i}),(0,b.jsx)(j,{intl:S,disableLoginLink:r,redirectURL:m,loginStore:I,loginModalStore:w,createType:t})]})};function S(e,t){const{device:i}=e;return{display:"flex",color:t.mediumTextColor,whiteSpace:"nowrap",fontSize:i.isMobile?16:12}}function y(e){let{createType:t}=e;const i=(0,r.Fg)(),n=(0,s.O7)();switch(t){case"create-work":return(0,b.jsx)("div",{style:S(n,i),children:(0,b.jsx)(a.FormattedMessage,{defaultMessage:"Create work account",id:"sidebarSwitcherMultiAccount.menuItem.createWorkAccountButton.label"})});case"add-account":return(0,b.jsx)("div",{style:S(n,i),children:(0,b.jsx)(a.FormattedMessage,{defaultMessage:"Add another account",id:"sidebarSwitcherMultiAccount.addAccountButton.label"})})}return null}function j(e){let{createType:t,onDismiss:i,intl:s,disableLoginLink:n,redirectURL:r,loginStore:l,loginModalStore:d}=e;const c=(0,o.qz)(d,h.Z),u=(0,o.qz)(l,v.Z);let p,f;switch(t){case"add-account":p=(0,b.jsx)(a.FormattedMessage,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),f=(0,b.jsx)(a.FormattedMessage,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in."});break;case"create-work":p=(0,b.jsx)(a.FormattedMessage,{id:"sidebarSwitcherMultiAccount.createWork.title",defaultMessage:"Create a work account"}),f=(0,b.jsx)(a.FormattedMessage,{id:"sidebarSwitcherMultiAccount.createWork.description",defaultMessage:"We’ll check if your teammates are already on Notion. If not, we’ll create a new home for you and your team."});break;default:throw new Error(s.formatMessage({defaultMessage:"Unexpected createType in SidebarSwitcherMultiAccount",id:"sidebarSwitcherMultiAccount.errorMessage"}))}return(0,b.jsx)(m._,{loginModalStore:c,loginStore:u,title:p,description:f,disableLoginLink:n,className:g.zYS,redirectURL:r,onDismiss:i})}},220306:(e,t,i)=>{i.d(t,{Z:()=>T});i(667294);var s=i(800480),n=i(886628),o=i(724405),r=i(745238),a=i(785893);const l=(0,r.IU)("addPersonOutline",{viewBox:"0 0 13 13",svg:(0,a.jsx)("path",{d:"M5.0625 5.89355C3.7627 5.89355 2.70996 4.74951 2.70996 3.34229C2.70996 1.95654 3.7627 0.855469 5.0625 0.855469C6.35156 0.855469 7.41504 1.97266 7.40967 3.35303C7.40967 4.75488 6.35693 5.89355 5.0625 5.89355ZM5.0625 4.96436C5.80908 4.96436 6.4375 4.26074 6.4375 3.35303C6.44287 2.4668 5.81445 1.78467 5.0625 1.78467C4.30518 1.78467 3.6875 2.45605 3.6875 3.34229C3.6875 4.25 4.31055 4.96436 5.0625 4.96436ZM6.26562 10.8887H1.71631C0.787109 10.8887 0.341309 10.5933 0.341309 9.96484C0.341309 8.49854 2.18359 6.52197 5.0625 6.52197C6.00244 6.52197 6.82959 6.73145 7.51172 7.0752C7.25391 7.28467 7.02295 7.52637 6.83496 7.80029C6.34082 7.58545 5.74463 7.45117 5.0625 7.45117C2.69385 7.45117 1.36182 8.99805 1.36182 9.81982C1.36182 9.92188 1.41016 9.95947 1.53906 9.95947H6.11523C6.12061 10.2871 6.16357 10.5771 6.26562 10.8887ZM9.64404 12.645C8.12939 12.645 6.87793 11.3989 6.87793 9.87891C6.87793 8.36963 8.12939 7.11816 9.64404 7.11816C11.1587 7.11816 12.4048 8.36426 12.4048 9.87891C12.4048 11.3882 11.1426 12.645 9.64404 12.645ZM9.64404 11.6353C9.86426 11.6353 10.0093 11.4849 10.0093 11.27V10.2495H11.0244C11.2446 10.2495 11.3896 10.1045 11.3896 9.88428C11.3896 9.65869 11.2446 9.51367 11.0244 9.51367H10.0093V8.49854C10.0093 8.27832 9.86426 8.1333 9.64404 8.1333C9.41846 8.1333 9.27881 8.28369 9.27881 8.49854V9.51367H8.2583C8.03809 9.51367 7.89307 9.65869 7.89307 9.88428C7.89307 10.1045 8.03809 10.2495 8.2583 10.2495H9.27881V11.27C9.27881 11.4849 9.41846 11.6353 9.64404 11.6353Z"})});var d=i(747453),c=i(418442),u=i(698519),m=i(709291),g=i(91376),p=i(164921),h=i(205145),v=i(489728),f=i(731278),x=i(526388),b=i(164369),M=i(39849),S=i(263134),y=i(296994),j=i(304708),w=i(548779),I=i(825464),C=i(80444);const k=36,Z=32;const T=function(e){let{id:t,onClick:i,focused:r,isAddButton:l,title:d,caption:c,shortcut:m,tooltipMessage:g,disableTooltip:v,disabled:f,showDragHandle:M,isCheck:S,removeDefaultMargin:y,icon:w,spaceName:C,unreadMentions:k,right:Z,from:T}=e;const _=(0,o.Fg)(),F=(0,s.O7)(),{device:q}=F,V=F.device.isMobile,z=(0,n.VK)((()=>{if("fork_page_modal"===T)return!1;const e=(0,j.u9)();return S&&("move"===e||"move_with_copy"===e)}),[S,T]);return(0,a.jsx)(x.Z,{renderTooltip:()=>g,disableTooltip:v,placement:I.u.Bottom,render:e=>(0,a.jsx)(p.Z,{...e,mobileFeedback:F.device.isMobile,onClick:i,hovered:r,disabled:f,style:z?{display:"flex",flexDirection:"column",paddingTop:4,paddingBottom:4}:void 0,children:(0,a.jsxs)("div",{style:L(F,_,f,y,l,z),children:[M&&(0,a.jsx)(h.ZP,{iconSize:12,style:{marginLeft:-6,marginRight:4,visibility:l?"hidden":"visible"}}),l?(0,a.jsx)(B,{}):(0,a.jsx)(R,{id:t,icon:w,spaceName:C,unreadMentions:k}),(0,a.jsxs)("div",{style:{marginLeft:12,marginRight:m||S?12:0,minWidth:0},children:[(0,a.jsx)(b.Z,{className:"notranslate",isMobile:q.isMobile,children:d}),c&&(0,a.jsx)(b.Z,{isSmall:!0,isMobile:q.isMobile,children:c}),z&&(0,a.jsx)(A,{})]}),S&&(0,u.k)({width:14,height:14,marginLeft:"auto"}),Z,m&&!V&&!S&&(0,a.jsx)("div",{style:U(_),children:m})]})})},`sidebarswitchermenuitem-tooltip-${t}`)};function A(){const{currentSpaceStore:e,currentUserStore:t,renderPhase:i}=(0,n.VK)((()=>{const{currentSpaceStore:e,currentUserStore:t,renderPhase:i}=C.default.state;return{currentSpaceStore:e,currentUserStore:t,renderPhase:i}}),[]),s=(0,n.VK)((()=>{if(!e||(0,w.Cx)(e))return!1;const t=!e.canEditMembership()&&!e.getDisableMembershipRequests()&&(0,j.p1)();return e.canEditMembership()||t}),[e]),r=(0,o.yK)((e=>({container:{display:"inline-flex",alignSelf:"center",marginTop:4},button:{background:e.sidebarSwitcherSettingsBackground,border:"dark"===e.mode?`1px solid ${e.accentColors.translucentGray[200]}`:"none",color:e.sidebarSwitcherSettingsColor,fontSize:12,fontWeight:500,paddingLeft:10,paddingRight:10,marginRight:12},icon:{fill:e.sidebarSwitcherSettingsColor}})),[]);return e?(0,a.jsxs)("div",{style:r.container,children:[t&&"rendered"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{onClick:()=>{g.r$({openedFrom:"space_switcher"})},isGray:!0,icon:c.H,iconStyle:r.icon,style:r.button,children:(0,a.jsx)(m.FormattedMessage,{defaultMessage:"Settings",id:"sidebarSwitcherMultiAccount.menuItem.settingsButton.label"})}),(0,a.jsx)(y.f,{spaceStore:e,userStore:t},`${e.id}-${null==t?void 0:t.id}`)]}),s&&(0,a.jsx)(S.Z,{spaceStore:e,origin:(0,a.jsx)(v.Z,{isGray:!0,icon:l,style:r.button,children:(0,a.jsx)(m.FormattedMessage,{defaultMessage:"Add members",id:"sidebarSwitcherMultiAccount.menuItem.membersButton.label"})}),requestFrom:"space_switcher_add_members",inviteFrom:"space_switcher_share_modal"})]}):null}function R(e){let{id:t,icon:i,spaceName:n,unreadMentions:o}=e;const r=(0,s.O7)().device.isMobile;return(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsxs)("div",{style:{position:"relative"},children:[t&&(0,a.jsx)(f.Z,{disabled:!0,icon:i,isEmptyPage:!1,title:n,size:r?k:Z,isLarge:!0}),(0,a.jsx)(M.Z,{color:M.N.Red,count:o,style:{position:"absolute",top:-5,right:-5}})]})})}function L(e,t,i,s,n,o){const r=e.device.isMobile,{WindowSizeStore:a}=e,l=s?0:4;return{display:o?"inline-flex":"flex",alignItems:o?"start":"center",lineHeight:"120%",width:0===l?"100%":`$calc(100% - ${2*l}px)`,marginLeft:l,marginRight:l,borderRadius:4,paddingTop:r?8:4,paddingBottom:r?8:4,paddingLeft:r?a.getSafePaddingLeftCSS(16):14,paddingRight:r?a.getSafePaddingRightCSS(16):14,...r&&{boxShadow:`0 1px 0 ${t.regularDividerColor}`},marginBottom:s?0:1,fontSize:r?16:14,...r&&{background:t.popoverBackground},height:o?void 0:r?54:44,...n&&!r&&{boxShadow:"none",marginBottom:0},...i&&{opacity:.4}}}function _(e){return(0,d.R)({flexGrow:0,flexShrink:0,width:16,height:16,fill:e.popoverBackground})}function F(e){return{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",background:e.lightIconColor,borderRadius:4,flexShrink:0}}function U(e){return{color:e.lightTextColor,fontSize:12,whiteSpace:"nowrap",marginLeft:"auto",flexShrink:0}}function B(){const e=(0,o.Fg)(),t=(0,s.O7)().device.isMobile?k:Z;return(0,a.jsx)("div",{style:{...F(e),width:t,height:t},children:_(e)})}},687258:(e,t,i)=>{i.d(t,{LP:()=>Me,ZP:()=>xe,rR:()=>Le,bM:()=>Re});i(757658);var s=i(667294),n=i(800480),o=i(886628),r=i(724405),a=i(516691),l=i(747453),d=i(600606),c=i(89101),u=i(23867),m=i(577858),g=i(766079),p=i(709291),h=i(653965),v=i(387586),f=i(745238),x=i(785893);const b=(0,f.IU)("squarePlus",{viewBox:"0 0 30 30",svg:(0,x.jsx)("path",{d:"M7.059 27.052H22.94c2.75 0 4.11-1.361 4.11-4.059V7.007c0-2.697-1.36-4.059-4.11-4.059H7.059c-2.736 0-4.111 1.349-4.111 4.059v15.986c0 2.71 1.375 4.06 4.11 4.06zm.026-2.108c-1.31 0-2.03-.694-2.03-2.055V7.112c0-1.362.72-2.056 2.03-2.056h15.83c1.296 0 2.029.694 2.029 2.056v15.777c0 1.361-.733 2.055-2.03 2.055H7.085zm7.895-3.758c.707 0 1.113-.484 1.113-1.243V16.08h4.111c.733 0 1.231-.392 1.231-1.086 0-.707-.471-1.113-1.23-1.113h-4.112V9.769c0-.759-.406-1.243-1.113-1.243-.694 0-1.073.51-1.073 1.243v4.112H9.822c-.773 0-1.257.405-1.257 1.112 0 .694.523 1.087 1.257 1.087h4.085v3.863c0 .733.38 1.243 1.073 1.243z"})});var M=i(597213),S=i(838745),y=i(497977),j=i(970782),w=i(555081),I=i(997852),C=i(788632),k=i(62967);const Z=(0,p.defineMessages)({joinOrCreateWorkspace:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"},logOut:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.logOut.label",defaultMessage:"Log out"}});function T(e){return(0,k.cN)({key:"join or create a workspace",displayName:Z.joinOrCreateWorkspace,analyticsName:Z.joinOrCreateWorkspace.defaultMessage,svg:b,validators:[],closeParentMenu:!0,action:t=>{let{environment:i}=t;I.Z.reset(),i.currentUser.id!==e?j.x({environment:i,newCurrentUserId:e}).then((e=>{w.xN(e)})):w.xN(i)}})}function A(e){return(0,k.cN)({key:"log out of a single account",displayName:Z.logOut,analyticsName:Z.logOut.defaultMessage,svg:v.B,validators:[],closeParentMenu:!0,action:t=>{let{environment:i}=t;const{online:s}=C.Z.state;s&&(y.logoutSingleAccount({environment:i,userId:e,logoutOrigin:M.F.SpaceSwitcher}),S.HY(i))}})}var R=i(436610),L=i(244975),_=i(632441),F=i(547307),U=i(29974),B=i(310259),q=i(210228),V=i(164921),z=i(552275),P=i(279131),E=i(588198),O=i(316354),N=i(478140),G=i(632163),K=i(840721),W=i(672495),H=i(977420),D=i(314694),$=i(460322),Y=i(373039),Q=i(461149),J=i(312066),X=i(137810),ee=i(608055),te=i(685740);function ie(e){let{organizationId:t,organizationName:i}=e;const s=(0,n.O7)(),o=(0,r.yK)((e=>({container:{marginTop:8,marginLeft:12,marginRight:12,marginBottom:-4,display:"flex",alignItems:"center",justifyContent:"space-between",color:e.mediumTextColor},text:{fontSize:11,lineHeight:X.Z.lineHeight.UISmall.desktop,fontWeight:X.Z.fontWeight.medium,color:e.mediumTextColor,display:"flex",alignItems:"center",justifyContent:"center",gap:4},icon:{height:16,width:16,fill:"current"},iconArrow:{height:12,width:12,fill:"current",transform:"rotate(90deg)",marginTop:3}})),[]);return s.device.isMobile?null:(0,x.jsxs)("div",{style:o.container,children:[(0,x.jsxs)("div",{style:o.text,children:[(0,Y.K)(o.icon),i??(0,x.jsx)(p.FormattedMessage,{id:"sidebarSwitcherMultiAccount.menuItem.organization.name",defaultMessage:"Organization"})]}),(0,x.jsxs)(te.Z,{isSmall:!0,style:o.text,onClick:()=>{ee.c4({environment:s,openInNew:"tab",makeTabActive:!0,url:(0,Q.a5)({organizationId:t,tabRoute:J.Wq})})},children:[(0,x.jsx)(p.FormattedMessage,{id:"sidebarSwitcherMultiAccount.menuItem.settings",defaultMessage:"Settings"}),(0,$.y)(o.iconArrow)]})]})}var se=i(433929),ne=i(828125),oe=i(460709),re=i(548779),ae=i(905162),le=i(80444),de=i(424042),ce=i(281236),ue=i(206258),me=i(332856),ge=i(224646),pe=i(819034),he=i(478861),ve=i(727177),fe=i(220306);function xe(e){const{parent:t,redirectURL:i,disableLoginLink:s,onSpaceClick:o,loginStore:r,loginPermissionsStore:a,organizationsInfo:l}=e;let d;const c=(0,n.O7)(),u=(0,n.Fy)(),m=c.currentUser.id,g=c.currentUser.loggedInUserIds,h=(0,x.jsx)(ye,{redirectURL:i,disableLoginLink:s,loginStore:r,loginPermissionsStore:a});return d=u.isMobile?{menuType:oe.og.Modal,title:(0,x.jsx)(p.FormattedMessage,{defaultMessage:"Accounts & Workspaces",id:"sidebarSwitcherMultiAccount.mobileMenu.title"}),right:(0,x.jsx)(K.DoneMenuText,{}),onClickRight:t.close}:{menuType:oe.og.Popup,minWidth:270,maxWidth:360,footer:h},(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(me.D,{experimentId:"quick_workspace_creation",groups:{on:(0,x.jsx)(be,{})}}),(0,x.jsxs)(N.Z,{...d,children:[g.map(((e,t)=>(0,x.jsx)(Me,{userId:e,isLastUser:t===g.length-1,onSpaceClick:o,organizationsInfo:m===e?l:void 0},e))),u.isMobile&&h]})]})}function be(){const e=(0,n.O7)(),t=(0,r.yK)((e=>({button:{boxShadow:`0 -1px 0 ${e.regularDividerColor}`},sidebarItem:{color:e.mediumTextColor,height:45},plusIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},plusIcon:{fill:e.mediumIconColor,width:16,height:16}})),[]);return(0,x.jsx)(V.Z,{onClick:()=>function(e){I.Z.reset(),w.xN(e),R.iS(e)}(e),style:t.button,children:(0,x.jsx)(D.Z,{style:t.sidebarItem,left:(0,x.jsx)("div",{style:t.plusIconContainer,children:(0,l.R)(t.plusIcon)}),children:(0,x.jsx)(p.FormattedMessage,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"})})})}function Me(e){const{userId:t,isLastUser:i,onSpaceClick:l,disableAccountActions:d,hideShortcuts:c,organizationsInfo:m}=e,g=(0,n.O7)(),v=(0,n.Fy)(),f=(0,r.yK)((e=>({menuListMobile:{paddingTop:10},menuListNotLast:{borderBottom:`1px solid ${e.lightDividerColor}`}})),[]),b=(0,o.VK)((()=>[...he.Z.getSpaceViewStores(g,t).map((e=>e.pointer)).map((e=>({id:e.id,spaceId:(0,u.C)(e.spaceId)}))).map(a.vY),"create-workspace-row"]),[g,t]),{currentUserRootStore:M,currentSpaceStore:y}=(0,o.VK)((()=>{const{currentUserRootStore:e,currentSpaceStore:t}=le.default.state;return{currentUserRootStore:e,currentSpaceStore:t}}),[]),j=(0,o.VK)((()=>de.Z.state.isElectronUsingCommandNumber),[]),w=(0,o.VK)((()=>he.Z.getSpaceViewStores(g,t)),[g,t]),I=(0,o.VK)((()=>he.Z.getAllSpaceViewStores(g)),[g]),k=(0,p.useIntl)(),Z=(0,o.VK)((()=>{if(!M||!y)return[];const e=[];for(const[i,s]of w.entries()){const i=s.getSpaceStore();if(i){const n=t===M.id&&i.id===y.id,{results:o}=pe.Z.state,r=o.find((e=>e.spaceId===i.id)),a=h.cx(I,(e=>e.id===s.id))+1,d=(0,re.rn)(g,i),u=Re(g,k,i),m=Le(g,k,i);e.push({key:s.id,render:e=>{const{online:s}=C.Z.state,o=!we({userId:t,environment:g})&&!v.isMobile;return(0,x.jsx)(fe.Z,{...e,id:i.id,icon:(0,re.Wd)(g,i),spaceName:d,title:u,caption:m,isCheck:n,unreadMentions:t===g.currentUser.id&&r&&r.spaceId!==y.id&&r.unread.mentions>0?r.unread.mentions:void 0,showDragHandle:o,shortcut:c?void 0:_e({isElectronMac:v.isElectronMac,isElectronUsingCommandNumber:j,shortcutIndex:v.isElectron?a:void 0}),disabled:!s&&g.currentUser.id!==t,disableTooltip:!0,from:"sidebar_switcher"})},action:async e=>{let{event:t}=e;ke();he.Z.isGuestWithZeroSharedPages(s)?Ae({environment:g,spaceViewStore:s}):(n||await l({event:t,spaceViewStore:s}),S.so(g))}})}}return e}),[I,y,M,v.isElectron,v.isElectronMac,v.isMobile,g,c,k,j,l,w,t]),T=0===Z.length?[]:[{key:"spaces",render:e=>(0,x.jsx)(W.Z,{...e,disableMobilePadding:!0,topBorder:v.isMobile,children:v.isMobile?e.children:(0,x.jsx)(s.Fragment,{children:(0,x.jsx)(P.ZP,{direction:"vertical",keys:b,renderKey:t=>e.children[b.indexOf(t)],onDrop:Ze({userId:t,environment:g}),style:{marginBottom:1}})})}),items:Z}];return T.length>0?(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(je,{userId:t,disableAccountActions:d,organizationsInfo:m}),(0,x.jsx)("div",{style:v.isMobile?f.menuListMobile:i?{}:f.menuListNotLast,children:(0,x.jsx)(G.Z,{type:G.i.Vertical,sections:T,initialFocus:void 0})})]},t):null}function Se(e){const{isMobile:t,theme:i}=e;return t?{}:{backgroundColor:i.sidebarSwitcherFooterBackground}}function ye(e){const{redirectURL:t,disableLoginLink:i,loginStore:s}=e,a=(0,n.Fy)().isMobile,l=(0,r.yK)((e=>({footer:Se({isMobile:a,theme:e})})),[a]),d=(0,n.O7)(),c=(0,o.VK)((()=>he.Z.hasAtLeastOneTeamPlan(d)),[d]),u=(0,x.jsxs)(x.Fragment,{children:[!c&&(0,x.jsx)(ve.Z,{createType:"create-work",redirectURL:t,disableLoginLink:i,loginStore:s}),!(0,ae.Y)("supportsNativeHome")&&(0,x.jsx)(ve.Z,{createType:"add-account",redirectURL:t,disableLoginLink:i,loginStore:s})]});return(0,x.jsxs)("div",{style:l.footer,children:[(0,x.jsxs)(W.Z,{topBorder:!0,children:[ne.k(d)&&u,(0,x.jsx)(Ie,{})]}),!a&&(0,x.jsx)(W.Z,{topBorder:!0,children:(0,x.jsx)(Ce,{})})]})}function je(e){const{userId:t,disableAccountActions:i=!1,organizationsInfo:s}=e,r=(0,o.VK)((()=>C.Z.state.online),[]),a=(0,n.O7)(),l=(0,o.VK)((()=>he.Z.getUserEmailAddress(a,t)),[a,t]);if(!l)return null;const d=i?[]:[T(t),A(t)];return(0,x.jsxs)(x.Fragment,{children:[s?s.map((e=>{let{id:t,name:i}=e;return(0,x.jsx)(ie,{organizationId:t,organizationName:i},t)})):null,(0,x.jsx)(H.Z,{emailAddress:l,userId:t,disabled:!r||i,accountActions:d})]})}function we(e){const{userId:t,environment:i}=e;return 1===(t?he.Z.getSpaceViewStores(i,t):he.Z.getAllSpaceViewStores(i)).length}function Ie(){const e=(0,o.VK)((()=>C.Z.state.online),[]),t=(0,n.O7)(),i=t.device.isMobile,a=t.currentUser.loggedInUserIds.length>1,l=(0,r.yK)((e=>({accountAction:{display:"flex",color:e.mediumTextColor,whiteSpace:"nowrap",fontSize:i?16:12,paddingLeft:0}})),[i]),d=(0,s.useCallback)((()=>{const{online:e}=C.Z.state;e&&(I.Z.setState({...I.Z.state,open:!1}),S.HY(t),y.logout(t))}),[t]);return(0,x.jsx)(z.Z,{onClick:d,focused:!1,disabled:!e,title:(0,x.jsx)("div",{style:l.accountAction,children:(0,x.jsx)(p.FormattedMessage,{defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {Log out all accounts} other {Log out}}",id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.label",values:{isLoggedIntoMultipleAccounts:a}})})})}function Ce(){const e=(0,n.O7)(),t=(0,n.Fy)(),i=t.isElectron,o=(0,r.yK)((e=>({title:{color:e.mediumTextColor,fontSize:12}})),[]),a=(0,s.useCallback)((()=>{ke(),t.isWindows?L.dy(e,{from:"sidebar",app_platform:"windows"}):L.dy(e,{from:"sidebar",app_platform:"mac"})}),[t.isWindows,e]),l=(0,s.useCallback)((()=>{ke(),L.YY(e,{from:"sidebar"})}),[e]);return i?(0,x.jsx)(O.Z,{external:!0,href:c.AR.mobile,onClick:l,children:(0,x.jsx)(z.Z,{focused:!1,title:(0,x.jsx)("div",{style:o.title,children:(0,x.jsx)(p.FormattedMessage,{defaultMessage:"Get iOS & Android app",id:"sidebarMultiSwitcher.desktopAppGetMobileApp.prompt"})})})}):(0,x.jsx)(O.Z,{external:!0,href:c.AR.desktop,onClick:a,children:(0,x.jsx)(z.Z,{focused:!1,title:(0,x.jsx)("div",{style:o.title,children:t.isWindows?(0,x.jsx)(p.FormattedMessage,{defaultMessage:"Get Windows app",id:"sidebarMultiSwitcher.windowsAppButton.text"}):(0,x.jsx)(p.FormattedMessage,{defaultMessage:"Get Mac app",id:"sidebarMultiSwitcher.macAppButton.text"})})})})}function ke(){I.Z.setState({...I.Z.state,open:!1})}function Ze(e){const{userId:t,environment:i}=e;return function(e){const s=e.filter((e=>"create-workspace-row"!==e)).map(a.Vg).map((e=>d.dr.fromSpaceShardRecordId(e,m.zU))),n=new ue.r9(i,{table:g.dx,id:t},{userId:t});q.createAndCommit({userAction:"SidebarSwitcherMultiAccount.handleDraggableListDrop",environment:i,perform:e=>{U._Q({userRootStore:n,transaction:e,spaceViewIds:s.map((e=>e.id)),spaceViewPointers:s})},userId:t}),_.Q4(i,{workspace_count:e.length})}}const Te=(0,p.defineMessages)({noAccessAsGuest:{defaultMessage:"You no longer have access to this workspace.",id:"SidebarSwitcherMultiAccountPopup.noAccessAsGuest.label"}});function Ae(e){let{environment:t,spaceViewStore:i}=e;F.showMessage({message:se.default.formatMessage(Te.noAccessAsGuest),onAccept:()=>{B.ni({environment:t,spaceViewStore:i})}})}function Re(e,t,i){const s=(0,re.rn)(e,i),n=ce.Z.getData(e,{spaceId:i.id});return n&&"none"===n.role?(0,x.jsxs)("div",{style:{display:"flex"},children:[(0,x.jsx)("span",{style:{flexShrink:1,textOverflow:"ellipsis",overflow:"hidden"},children:s}),(0,x.jsx)("div",{style:{marginLeft:"8px",alignSelf:"center"},children:(0,x.jsx)(E.b,{})})]}):s}function Le(e,t,i){const s=ce.Z.getData(e,{spaceId:i.id});if(!s||"none"===s.role)return;const n=(0,ge.em)(s.subscriptionTier),o=t.formatNumber(s.memberCount),r=t.formatMessage(n);return t.formatMessage(ge.js.workspaceSubtitleWithMembers,{numberOfWorkspaceMembers:o,planType:r})}function _e(e){if(e.shortcutIndex&&!(e.shortcutIndex>9))return e.isElectronMac?e.isElectronUsingCommandNumber?`⌃⇧${e.shortcutIndex}`:`⌘${e.shortcutIndex}`:e.isElectronUsingCommandNumber?`alt+shift+${e.shortcutIndex}`:`ctrl+${e.shortcutIndex}`}},401903:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(749085),n=i(421202);class o extends s.default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:n.iU,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const r=o},352878:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(749085),n=i(785834),o=i(401903);class r extends s.default{getInitialState(){return{permissionsInviteStore:new o.Z,contextualInviteStore:new n.ZP}}get stage(){return this.state.contextualInviteStore.state.inviteStage}}const a=r},332856:(e,t,i)=>{i.d(t,{D:()=>o});var s=i(886628),n=i(319385);function o(e){const{experimentId:t,groups:i,disableExposureLogging:o}=e,r=function(e){const{experimentId:t,disableExposureLogging:i,defaultGroup:o}=e;return(0,s.VK)((()=>n.default.getEligibleGroup({experimentId:t,defaultGroup:o??"control",disableExposureLogging:i})),[t,i,o])}({experimentId:t,disableExposureLogging:o});return i[r]}},460322:(e,t,i)=>{i.d(t,{y:()=>o});i(667294);var s=i(745238),n=i(785893);const o=(0,s.IU)("arrowUpLeft",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M0.845703 8.58691L0.852539 1.72363C0.852539 1.48665 0.923177 1.29525 1.06445 1.14941C1.21029 0.999023 1.40625 0.923828 1.65234 0.923828H8.51562C8.74349 0.923828 8.93034 0.999023 9.07617 1.14941C9.22201 1.2998 9.29492 1.47526 9.29492 1.67578C9.29492 1.8763 9.21973 2.04948 9.06934 2.19531C8.91895 2.33659 8.74121 2.40723 8.53613 2.40723H6.10254L3.16309 2.30469L4.40723 3.39844L10.915 9.91992C11.0745 10.084 11.1543 10.264 11.1543 10.46C11.1543 10.5921 11.1178 10.7174 11.0449 10.8359C10.972 10.9544 10.8763 11.0479 10.7578 11.1162C10.6439 11.1891 10.5186 11.2256 10.3818 11.2256C10.1813 11.2256 10.0013 11.1481 9.8418 10.9932L3.32715 4.47852L2.21973 3.23438L2.33594 6.05078V8.60742C2.33594 8.8125 2.26302 8.99251 2.11719 9.14746C1.97591 9.29785 1.80273 9.37305 1.59766 9.37305C1.39714 9.37305 1.22168 9.29785 1.07129 9.14746C0.920898 8.99707 0.845703 8.81022 0.845703 8.58691Z"})})},387586:(e,t,i)=>{i.d(t,{B:()=>o});i(667294);var s=i(745238),n=i(785893);const o=(0,s.IU)("circleCross",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M15 28.354c7.305 0 13.354-6.049 13.354-13.354 0-7.292-6.062-13.354-13.367-13.354C7.695 1.646 1.646 7.708 1.646 15c0 7.305 6.062 13.354 13.354 13.354zm0-2.226A11.075 11.075 0 013.885 15c0-6.166 4.922-11.128 11.102-11.128 6.18 0 11.128 4.962 11.141 11.128A11.078 11.078 0 0115 26.128zm-4.477-5.577a.99.99 0 00.746-.327l3.718-3.731 3.731 3.73c.197.197.445.328.747.328.576 0 1.047-.484 1.047-1.06a.979.979 0 00-.314-.747l-3.718-3.718 3.73-3.744c.223-.223.315-.445.315-.733 0-.59-.471-1.048-1.047-1.048-.275 0-.498.092-.72.315l-3.771 3.744-3.744-3.731c-.184-.21-.432-.301-.72-.301-.577 0-1.048.445-1.048 1.034a.97.97 0 00.314.733l3.719 3.731-3.719 3.732a.951.951 0 00-.314.733c0 .576.471 1.06 1.048 1.06z"})})},808843:(e,t,i)=>{i.d(t,{h:()=>o});i(667294);var s=i(745238),n=i(785893);const o=(0,s.IU)("mailRound",{viewBox:"0 0 17 12",svg:(0,n.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},146392:(e,t,i)=>{i.d(t,{C:()=>o});i(667294);var s=i(745238),n=i(785893);const o=(0,s.IU)("membersFilled",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M20.31 14.731c2.22 0 4.097-1.967 4.097-4.513 0-2.485-1.887-4.391-4.098-4.391-2.2 0-4.097 1.937-4.087 4.411 0 2.526 1.866 4.493 4.087 4.493zm-11.725.233c1.937 0 3.57-1.724 3.57-3.935 0-2.17-1.653-3.823-3.57-3.823-1.917 0-3.57 1.683-3.56 3.844 0 2.19 1.633 3.914 3.56 3.914zm-5.588 9.21h7.606c-1.085-1.552.082-4.615 2.374-6.42-1.116-.72-2.566-1.248-4.392-1.248-4.533 0-7.464 3.337-7.464 6.085 0 1.004.507 1.582 1.876 1.582zm10.994-.01h12.637c1.673 0 2.251-.508 2.251-1.44 0-2.607-3.316-6.198-8.57-6.198-5.263 0-8.57 3.59-8.57 6.197 0 .933.578 1.44 2.252 1.44z"})})},373039:(e,t,i)=>{i.d(t,{K:()=>o});i(667294);var s=i(745238),n=i(785893);const o=(0,s.IU)("settingsWorkspace",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M2.3 15.359c0 .819.463 1.327 1.231 1.327H16.43c.768 0 1.231-.508 1.231-1.327V7.507c0-.825-.463-1.333-1.231-1.333h-3.656V4.327C12.774 3.5 12.31 3 11.536 3H3.53C2.763 3 2.3 3.501 2.3 4.327v11.032zm1.25-.248V4.574c0-.216.108-.324.33-.324h7.313c.216 0 .33.108.33.324v10.537c0 .216-.114.324-.33.324H9.81v-1.834c0-.54-.254-.807-.768-.807H6.032c-.514 0-.768.267-.768.807v1.834H3.881c-.223 0-.33-.108-.33-.324zm1.911-8.118h1.213c.146 0 .247-.102.247-.254V5.564c0-.152-.101-.253-.247-.253H5.46c-.152 0-.247.101-.247.253V6.74c0 .152.095.254.247.254zm2.94 0h1.205c.152 0 .254-.102.254-.254V5.564c0-.152-.101-.253-.254-.253H8.4c-.152 0-.247.101-.247.253V6.74c0 .152.095.254.247.254zm4.373 8.366V7.424h3.307c.222 0 .33.115.33.33v7.357c0 .216-.108.324-.33.324h-3.307v-.076zM5.46 9.417h1.213c.146 0 .247-.101.247-.253V7.989c0-.152-.101-.254-.247-.254H5.46c-.152 0-.247.102-.247.254v1.175c0 .152.095.253.247.253zm2.94 0h1.205c.152 0 .254-.101.254-.253V7.989c0-.152-.101-.254-.254-.254H8.4c-.152 0-.247.102-.247.254v1.175c0 .152.095.253.247.253zm5.687.4h1.003a.2.2 0 00.209-.21V8.63c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zM5.46 11.842h1.213c.146 0 .247-.101.247-.254v-1.174c0-.152-.101-.254-.247-.254H5.46c-.152 0-.247.102-.247.254v1.174c0 .153.095.254.247.254zm2.94 0h1.205c.152 0 .254-.101.254-.254v-1.174c0-.152-.101-.254-.254-.254H8.4c-.152 0-.247.102-.247.254v1.174c0 .153.095.254.247.254zm5.687.311h1.003a.2.2 0 00.209-.21v-.977c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zm0 2.336h1.003a.2.2 0 00.209-.21v-.977c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zm-7.846-.552c0-.133.063-.197.197-.197h2.196c.133 0 .197.064.197.197v1.498h-2.59v-1.498z"})})}}]);