"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[76197],{497372:(e,a,t)=>{t.d(a,{ZP:()=>L,j9:()=>Z,nJ:()=>N});var s=t(667294),n=t(800480),r=t(886628),g=t(724405),o=t(80721),i=t(964275),u=t(612392),d=t(709291),c=t(137810),l=t(805149),p=t(164921),m=t(573063),f=t(436488),h=t(203386),_=t(478140),M=t(840721),y=t(566890),k=t(212534),b=t(460709),v=t(613273),C=t(925130),x=t(334017),w=t(658421),S=t(785893);const D=(0,d.defineMessages)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),N=290,Z=400;function F(e){let{children:a,title:t,settingsStackLength:s,handleClose:n,handleBackArrowClick:u,hideDesktopHeader:l}=e;const f=(0,r.VK)((()=>x.Z.state.isOpen),[]),h=(0,d.useIntl)(),_=(0,g.yK)((e=>({hiddenDesktopHeaderDiv:{height:6},nonHiddenDesktopHeaderDiv:f?{position:"relative"}:{display:"flex",alignItems:"center",padding:"14px 16px 6px 16px",height:42},arrowButon:f?{position:"absolute",right:14,top:-34}:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:c.Z.fontWeight.semibold,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.mediumTextColor}})),[f]);return(0,S.jsxs)(S.Fragment,{children:[l&&(0,S.jsx)("div",{style:_.hiddenDesktopHeaderDiv}),!l&&(0,S.jsxs)("div",{style:_.nonHiddenDesktopHeaderDiv,children:[s>1&&(0,S.jsx)(m.Z,{icon:o.W,style:_.arrowButon,iconStyle:_.arrowIcon,onClick:u,ariaLabel:h.formatMessage(D.back)}),f?null:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{style:_.title,children:t}),(0,S.jsx)(p.Z,{onClick:n,style:_.closeButton,hoveredStyle:_.closeButtonHover,children:(0,i.D)(_.closeIcon)})]})]}),a]})}function q(e,a){let{children:t,footer:g,header:o,unconstrainedWidth:i,desktopWidth:d,title:c,collectionSettingsStore:p,fullHeight:D,hideDesktopHeader:Z,menuScrollerStyle:q,handleBackArrowClick:L,handleClose:P}=e;const j=(0,n.Fy)(),{currentTab:B,settingsStackLength:H,hideHeader:T}=(0,r.VK)((()=>{const e=p.state;return{currentTab:(0,w.n)(p),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[p]),I=(0,y.DK)(),R=(0,s.useCallback)((()=>{L?L():l.z$({collectionSettingsStore:p})}),[L,p]),U=(0,s.useCallback)((e=>{P?P(e):(0,k.ZP)({event:e,context:k.Af.CollectionSettingsClick,callback:()=>{l.E3({collectionSettingsStore:p})}})}),[P,p]),E=(0,s.useCallback)((e=>{(0,v.jM)(e.target)||(0,v.al)(e.target)||x.Z.state.isOpen||"form_editor"===(null==I?void 0:I.getViewType())||U(e)}),[I,U]),{MenuArrowKeysProvider:W,context:A}=(0,C.ZP)();if(!B)return null;let K;if(j.isMobile)K={menuType:b.og.Modal,title:c,left:H>1&&(0,S.jsx)(m.Z,{icon:u.S,onClick:R}),right:(0,S.jsx)(M.DoneMenuText,{}),onClickRight:U,scrollerStyle:{...q},innerRef:a};else{const e=i||d?void 0:N;K={menuType:b.og.Popup,minWidth:N,width:d,maxHeight:D?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:E,scrollerStyle:{flexGrow:0,...q},header:!T&&(0,S.jsx)(F,{settingsStackLength:H,handleClose:U,handleBackArrowClick:R,hideDesktopHeader:Z,title:c,children:o}),paddingTop:T?6:0,paddingBottom:12,footer:g,innerRef:a}}const G=(0,S.jsxs)(S.Fragment,{children:[j.isMobile&&o,t,j.isMobile&&g]});return D?(0,S.jsx)(W,{value:A,children:(0,S.jsx)(h.Z,{debugName:"CollectionSettingsMenu",capture:!0,onUp:A.onKeyDown,onDown:A.onKeyDown,children:(0,S.jsx)(_.Z,{...K,children:G})})}):(0,S.jsx)(f.Z,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,allowMenuList:!0,render:e=>(0,S.jsx)(W,{value:A,children:(0,S.jsx)(h.Z,{debugName:"CollectionSettingsMenu",capture:!0,onUp:A.onKeyDown,onDown:A.onKeyDown,children:(0,S.jsx)(_.Z,{...K,...e,children:G})})})})}const L=(0,s.forwardRef)(q)},816187:(e,a,t)=>{t.d(a,{BG:()=>M,Ol:()=>v,SD:()=>b,Sn:()=>k,VN:()=>m,Zy:()=>x,hX:()=>C,nL:()=>y,v6:()=>h});var s=t(841892),n=t(202032),r=t(640506),g=t(407057),o=t(423512),i=t(709291),u=t(653965),d=t(401898),c=t(319385),l=t(433929);const p=(0,i.defineMessages)({show_unique:{defaultMessage:"Show unique values",id:"database.aggregationFullName.unique_values"},count:{defaultMessage:"Count all",id:"database.aggregationFullName.count"},count_values:{defaultMessage:"Count values",id:"database.aggregationFullName.count_values"},unique:{defaultMessage:"Count unique values",id:"database.aggregationFullName.unique"},empty:{defaultMessage:"Count empty",id:"database.aggregationFullName.empty"},not_empty:{defaultMessage:"Count not empty",id:"database.aggregationFullName.not_empty"},percent_empty:{defaultMessage:"Percent empty",id:"database.aggregationFullName.percent_empty"},percent_not_empty:{defaultMessage:"Percent not empty",id:"database.aggregationFullName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationFullName.sum"},average:{defaultMessage:"Average",id:"database.aggregationFullName.average"},median:{defaultMessage:"Median",id:"database.aggregationFullName.median"},min:{defaultMessage:"Min",id:"database.aggregationFullName.min"},max:{defaultMessage:"Max",id:"database.aggregationFullName.max"},range:{defaultMessage:"Range",id:"database.aggregationFullName.range"},earliest_date:{defaultMessage:"Earliest date",id:"database.aggregationFullName.earliest_date"},latest_date:{defaultMessage:"Latest date",id:"database.aggregationFullName.latest_date"},date_range:{defaultMessage:"Date range",id:"database.aggregationFullName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationFullName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationFullName.unchecked"},percent_checked:{defaultMessage:"Percent checked",id:"database.aggregationFullName.percent_checked"},percent_unchecked:{defaultMessage:"Percent unchecked",id:"database.aggregationFullName.percent_unchecked"},count_per_group:{defaultMessage:"Count per group",id:"database.aggregationFullName.count_per_group"},percent_per_group:{defaultMessage:"Percent per group",id:"database.aggregationFullName.percent_per_group"},count_aggregations:{defaultMessage:"Count",id:"database.aggregationBucket.count"},percent_aggregations:{defaultMessage:"Percent",id:"database.aggregationBucket.percent"},statistics_aggregations:{defaultMessage:"More options",id:"database.aggregationBucket.more_options"},date_aggregations:{defaultMessage:"Date",id:"database.aggregationBucket.date"},rollup_aggregations:{defaultMessage:"Rollup",id:"database.aggregationBucket.rollup"}}),m={count:l.default.formatMessage(p.count),count_values:l.default.formatMessage(p.count_values),unique:l.default.formatMessage(p.unique),show_unique:l.default.formatMessage(p.show_unique),empty:l.default.formatMessage(p.empty),not_empty:l.default.formatMessage(p.not_empty),percent_empty:l.default.formatMessage(p.percent_empty),percent_not_empty:l.default.formatMessage(p.percent_not_empty),sum:l.default.formatMessage(p.sum),average:l.default.formatMessage(p.average),median:l.default.formatMessage(p.median),min:l.default.formatMessage(p.min),max:l.default.formatMessage(p.max),range:l.default.formatMessage(p.range),earliest_date:l.default.formatMessage(p.earliest_date),latest_date:l.default.formatMessage(p.latest_date),date_range:l.default.formatMessage(p.date_range),checked:l.default.formatMessage(p.checked),unchecked:l.default.formatMessage(p.unchecked),percent_checked:l.default.formatMessage(p.percent_checked),percent_unchecked:l.default.formatMessage(p.percent_unchecked),count_per_group:l.default.formatMessage(p.count_per_group),percent_per_group:l.default.formatMessage(p.percent_per_group)},f=(0,i.defineMessages)({count:{defaultMessage:"Count",id:"database.aggregationShortName.count"},count_values:{defaultMessage:"Values",id:"database.aggregationShortName.count_values"},unique:{defaultMessage:"Unique",id:"database.aggregationShortName.unique"},show_unique:{defaultMessage:"Show unique",id:"database.aggregationShortName.showUnique"},empty:{defaultMessage:"Empty",id:"database.aggregationShortName.empty"},not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.not_empty"},percent_empty:{defaultMessage:"Empty",id:"database.aggregationShortName.percent_empty"},percent_not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationShortName.sum"},average:{defaultMessage:"Average",id:"database.aggregationShortName.average"},median:{defaultMessage:"Median",id:"database.aggregationShortName.median"},min:{defaultMessage:"Min",id:"database.aggregationShortName.min"},max:{defaultMessage:"Max",id:"database.aggregationShortName.max"},range:{defaultMessage:"Range",id:"database.aggregationShortName.range"},earliest_date:{defaultMessage:"Earliest",id:"database.aggregationShortName.earliest_date"},latest_date:{defaultMessage:"Latest",id:"database.aggregationShortName.latest_date"},date_range:{defaultMessage:"Range",id:"database.aggregationShortName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationShortName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.unchecked"},percent_checked:{defaultMessage:"Checked",id:"database.aggregationShortName.percent_checked"},percent_unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.percent_unchecked"},count_per_group:{defaultMessage:"Count",id:"database.aggregationShortName.count_per_group"},percent_per_group:{defaultMessage:"Percent",id:"database.aggregationShortName.percent_per_group"}}),h={count:l.default.formatMessage(f.count),count_values:l.default.formatMessage(f.count_values),unique:l.default.formatMessage(f.unique),show_unique:l.default.formatMessage(f.show_unique),empty:l.default.formatMessage(f.empty),not_empty:l.default.formatMessage(f.not_empty),percent_empty:l.default.formatMessage(f.percent_empty),percent_not_empty:l.default.formatMessage(f.percent_not_empty),sum:l.default.formatMessage(f.sum),average:l.default.formatMessage(f.average),median:l.default.formatMessage(f.median),min:l.default.formatMessage(f.min),max:l.default.formatMessage(f.max),range:l.default.formatMessage(f.range),earliest_date:l.default.formatMessage(f.earliest_date),latest_date:l.default.formatMessage(f.latest_date),date_range:l.default.formatMessage(f.date_range),checked:l.default.formatMessage(f.checked),unchecked:l.default.formatMessage(f.unchecked),percent_checked:l.default.formatMessage(f.percent_checked),percent_unchecked:l.default.formatMessage(f.percent_unchecked),count_per_group:l.default.formatMessage(f.count_per_group),percent_per_group:l.default.formatMessage(f.percent_per_group)},_=(0,i.defineMessages)({count:{defaultMessage:"Counts the total number of pages, including blank pages.",id:"database.aggregationDescription.count"},count_values:{defaultMessage:"Counts the number of non-empty values for this property. For a type that can contain multiple values like multi-select or person, this will count the number of selected values for each page.",id:"database.aggregationDescription.count_values"},unique:{defaultMessage:"Counts the number of unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.unique"},show_unique:{defaultMessage:"Shows the unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.show_unique"},empty:{defaultMessage:"Counts the number of pages with an empty value for this property.",id:"database.aggregationDescription.empty"},not_empty:{defaultMessage:"Counts the number of pages with a non-empty value for this property.",id:"database.aggregationDescription.not_empty"},percent_empty:{defaultMessage:"Displays the percentage of pages that have an empty value for this property.",id:"database.aggregationDescription.percent_empty"},percent_not_empty:{defaultMessage:"Displays the percentage of pages that have a non-empty value for this property.",id:"database.aggregationDescription.percent_not_empty"},sum:{defaultMessage:"Computes the sum of a numeric property.",id:"database.aggregationDescription.sum"},average:{defaultMessage:"Computes the average of a numeric property.",id:"database.aggregationDescription.average"},median:{defaultMessage:"Finds the median of a numeric property.",id:"database.aggregationDescription.median"},min:{defaultMessage:"Finds the minimum of a numeric property.",id:"database.aggregationDescription.min"},max:{defaultMessage:"Finds the maximum of a numeric property.",id:"database.aggregationDescription.max"},range:{defaultMessage:"Computes the range (maximum - minimum) of a numeric property.",id:"database.aggregationDescription.range"},earliest_date:{defaultMessage:"Finds the earliest date in time of a date property.",id:"database.aggregationDescription.earliest_date"},latest_date:{defaultMessage:"Finds the latest date in time of a date property.",id:"database.aggregationDescription.latest_date"},date_range:{defaultMessage:"Computes the date range (latest date - earliest date) of a date property.",id:"database.aggregationDescription.date_range"},checked:{defaultMessage:"Counts the number of pages with a checked checkbox for this property.",id:"database.aggregationDescription.checked"},unchecked:{defaultMessage:"Counts the number of pages with an unchecked checkbox for this property.",id:"database.aggregationDescription.unchecked"},percent_checked:{defaultMessage:"Displays the percentage of pages that have a checked checkbox for this property.",id:"database.aggregationDescription.percent_checked"},percent_unchecked:{defaultMessage:"Displays the percentage of pages that have an unchecked checkbox for this property.",id:"database.aggregationDescription.percent_unchecked"},count_per_group:{defaultMessage:"Counts the total number of pages that have this Status Group.",id:"database.aggregationDescription.count_per_group"},percent_per_group:{defaultMessage:"Displays the percentage of pages that have this Status Group",id:"database.aggregationDescription.percent_per_group"}}),M={count:l.default.formatMessage(_.count),count_values:l.default.formatMessage(_.count_values),unique:l.default.formatMessage(_.unique),show_unique:l.default.formatMessage(_.show_unique),empty:l.default.formatMessage(_.empty),not_empty:l.default.formatMessage(_.not_empty),percent_empty:l.default.formatMessage(_.percent_empty),percent_not_empty:l.default.formatMessage(_.percent_not_empty),sum:l.default.formatMessage(_.sum),average:l.default.formatMessage(_.average),median:l.default.formatMessage(_.median),min:l.default.formatMessage(_.min),max:l.default.formatMessage(_.max),range:l.default.formatMessage(_.range),earliest_date:l.default.formatMessage(_.earliest_date),latest_date:l.default.formatMessage(_.latest_date),date_range:l.default.formatMessage(_.date_range),checked:l.default.formatMessage(_.checked),unchecked:l.default.formatMessage(_.unchecked),percent_checked:l.default.formatMessage(_.percent_checked),percent_unchecked:l.default.formatMessage(_.percent_unchecked),count_per_group:l.default.formatMessage(_.count_per_group),percent_per_group:l.default.formatMessage(_.percent_per_group)},y={count_aggregations:l.default.formatMessage(p.count_aggregations),percent_aggregations:l.default.formatMessage(p.percent_aggregations),statistics_aggregations:l.default.formatMessage(p.statistics_aggregations),date_aggregations:l.default.formatMessage(p.date_aggregations)},k={count:s.Z.images.aggregations.countPng,count_values:s.Z.images.aggregations.countValuesPng,unique:s.Z.images.aggregations.uniquePng,show_unique:void 0,empty:s.Z.images.aggregations.emptyPng,not_empty:s.Z.images.aggregations.notEmptyPng,percent_empty:s.Z.images.aggregations.percentEmptyPng,percent_not_empty:s.Z.images.aggregations.percentNotEmptyPng,sum:s.Z.images.aggregations.sumPng,average:s.Z.images.aggregations.averagePng,median:s.Z.images.aggregations.medianPng,min:s.Z.images.aggregations.minPng,max:s.Z.images.aggregations.maxPng,range:s.Z.images.aggregations.rangePng,earliest_date:s.Z.images.aggregations.earliestDatePng,latest_date:s.Z.images.aggregations.latestDatePng,date_range:s.Z.images.aggregations.dateRangePng,checked:s.Z.images.aggregations.checkedPng,unchecked:s.Z.images.aggregations.uncheckedPng,percent_checked:s.Z.images.aggregations.percentCheckedPng,percent_unchecked:s.Z.images.aggregations.percentUncheckedPng,count_per_group:s.Z.images.aggregations.countPng,percent_per_group:s.Z.images.aggregations.percentCheckedPng};function b(e,a){switch(e){case"earliest_date":case"show_unique":case"latest_date":case"earliest_date":case"date_range":return;case"percent_empty":case"percent_not_empty":case"percent_checked":case"percent_unchecked":return"percent";case"count":case"empty":case"not_empty":case"unique":case"count_values":case"checked":case"unchecked":return"number";case"sum":case"average":case"median":case"min":case"max":case"range":return a??"number";default:switch(e.operator){case"count_per_group":return;case"percent_per_group":return"percent";default:(0,d.t1)(e.operator)}}}function v(e){const{aggregationType:a,value:t,userTimeZone:s,dateFormat:i,roundDecimal:d}=e;if("date"===t.type){if(!(0,n.Fw)(a))return;if(!t.value)return;return"date_range"===a?(0,g.LU)(t.value,s,l.default.getIntl()):(0,g.ZV)({value:r.QD(t.value),date_format:i??r.sF,userTimeZone:s,allowRelativeDates:!0,intl:l.default.getIntl()})}if((0,n.Fw)(a))return;if("show_unique"===a)return;if("object"==typeof t.value)return;if("string"==typeof t.value)return t.value;const c=void 0===t.value?void 0:u.NM(t.value,d),p=b(a,e.numberFormat);return(0,o.uf)(c,p,l.default.getIntl())}function C(){return c.default.checkGate({gateName:"aggregation_improvements"})}function x(e){const{aggregation:a,value:t,numberFormat:s,dateFormat:r,roundDecimal:g}=e,o=v({numberFormat:s,dateFormat:r,aggregationType:a?a.aggregator:"count",userTimeZone:e.userTimeZone,value:t,roundDecimal:g});if(null!=a&&a.enforceMaxAggregationLimit){const e=Number(o);if(e&&e>=n.GW)return n.GW-1+"+"}return o}},80721:(e,a,t)=>{t.d(a,{W:()=>r});t(667294);var s=t(745238),n=t(785893);const r=(0,s.IU)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},964275:(e,a,t)=>{t.d(a,{D:()=>r});t(667294);var s=t(745238),n=t(785893);const r=(0,s.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},89767:(e,a,t)=>{t.d(a,{R:()=>r});t(667294);var s=t(745238),n=t(785893);const r=(0,s.IU)("collectionInbox",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})})},612392:(e,a,t)=>{t.d(a,{S:()=>r});t(667294);var s=t(745238),n=t(785893);const r=(0,s.IU)("historyBack",{viewBox:"0 0 14 14",svg:(0,n.jsx)("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})})}}]);