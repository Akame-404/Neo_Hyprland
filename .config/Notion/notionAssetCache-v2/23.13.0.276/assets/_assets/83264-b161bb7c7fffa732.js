"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[83264],{366653:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),a=n(800480),r=n(886628),o=n(724405),s=n(640506),d=n(253877),l=n(484795),u=n(709291),c=n(401898),p=n(717335),g=n(897638),v=n(825464),f=n(967950),h=n(374194),y=n(268894),m=n(526388),b=n(785893);const x=function(e){const t=(0,u.useIntl)(),n=(0,r.qz)(void 0,f.Z),{value:a}=e;(0,i.useEffect)((()=>{n.reset()}),[a,n]);const o=(0,i.useCallback)((()=>(0,b.jsx)(O,{dateInputMenuItemProps:e,store:n})),[e,n]),s=(0,r.VK)((()=>k(t,n)),[t,n]);return s?(0,b.jsx)(m.Z,{renderTooltip:()=>s,forceVisibleState:!0,placement:v.u.Left,render:o,originGap:-8}):(0,b.jsx)(O,{dateInputMenuItemProps:e,store:n})};function S(e,t){const{device:n}=e;return n.isMobile?"YYYY-MM-DD":t??s.sF}function D(e,t){const{device:n}=e;return!!n.isMobile||!t}function M(e){return{inputDefault:{background:e.inputBackground,boxShadow:e.inputBoxShadow},inputFocused:{background:e.inputBackground,boxShadow:e.outlineBlueInputBoxShadow},inputError:{background:e.inputBackground,boxShadow:e.outlineRedInputBoxShadow},placeholder:{color:e.lightTextColor}}}function j(e,t){return{menuItem:{marginBottom:e.device.isMobile?1:8},inputWrapper:{borderRadius:4,height:28,paddingRight:D(e,t)?8:0,position:"relative"},inputEditRegion:{width:D(e,t)?"calc(100% - 14px)":"87%"},inputEditRegionMobile:{padding:"2px 6px",position:"relative"},placeholder:{position:"absolute",left:e.device.isIpad?26:12,top:e.device.isIpad?void 0:"50%",transform:"translateY(-50%)"}}}function T(e){let{inputType:t,placeholder:n,value:i,hideClearButton:r}=e;const s=(0,o.Fg)(),d=j((0,a.O7)(),r),l=M(s);return"date"!==t||i?null:(0,b.jsx)("div",{style:{...d.placeholder,...l.placeholder},children:n})}function k(e,t){if(t.state.error)switch(t.state.error){case f.B.INVALID_DATE:return e.formatMessage({id:"dateInputError.invalidDateError.tooltip",defaultMessage:"Invalid date"});case f.B.INVALID_RANGE:return e.formatMessage({id:"dateInputError.invalidDateRangeError.tooltip",defaultMessage:"Invalid range"});default:(0,c.t1)(t.state.error)}}function R(e,t,n,i,a){const r=function(e,t,n,i){if(!n.state.edited)return;if(!n.state.temporary)return{value:void 0};const a=(0,l.f_)(n.state.temporary,e.device.isMobile?d.Iq:S(e,i),t);return a?{value:{type:"date",start_date:a}}:{error:f.B.INVALID_DATE}}(e,t,n,a);if(r)return i?i(r):r}function I(e,t,n,i,a){const r=M(e),o=k(i,a);if(!t)return o?r.inputError:n?r.inputFocused:r.inputDefault}function w(e,t,n,i,a,r,o,s){const d=R(e,n,i,r,o);d?(t(d),d.error?i.setState({...i.state,edited:!1,error:d.error}):i.reset()):i.setState({...i.state,edited:!1}),s&&a&&a(s)}function O(e){let{dateInputMenuItemProps:t,store:n}=e;const{store:s,hideClearButton:l,focused:c,value:v,...f}=t,{onBlur:m,onClearButtonClick:x,onFocus:M,onSubmit:k,onUpdate:O,placeholder:F,validate:Z,desktopDateFormat:C,inputStyle:B,inputOuterStyle:L,style:P,disabled:E}=t,Q=(0,u.useIntl)(),U=(0,o.Fg)(),W=(0,a.O7)(),A=(0,i.useCallback)((e=>w(W,O,Q,n,m,Z,C)),[W,O,Q,n,m,Z,C]),V=(0,i.useCallback)((e=>function(e,t,n,i,a,r,o,s){const d=R(t,i,a,o,s);d&&(n(d),d.error?a.setState({...a.state,edited:!1,error:d.error}):a.reset()),r&&r(e,d)}(e,W,O,Q,n,k,Z,C)),[W,O,Q,n,k,Z,C]),_=(0,i.useCallback)((e=>function(e,t,n,i,a,r,o,s){const{device:d}=t;a.setState({...a.state,edited:!0,temporary:e.target.value||""}),d.isAndroid&&w(t,n,i,a,r,o,s)}(e,W,O,Q,n,m,Z,C)),[W,O,Q,n,m,Z,C]),Y=(0,i.useCallback)((()=>function(e,t,n,i,a,r,o){a.setState({...a.state,edited:!0,temporary:"",error:void 0});const s=R(e,i,a,r,o);s&&n(s),a.setState({...a.state,edited:!1}),t&&t()}(W,x,O,Q,n,Z,C)),[W,x,O,Q,n,Z,C]),J=(0,i.useCallback)((e=>function(e,t,n){n.setState({...n.state,edited:!1}),t&&t(e)}(e,M,n)),[M,n]),{device:K}=W,N=K.isMobile&&"relative"!==(null==v?void 0:v.type)?"date":"text",q="date"===N?h.B.Transparent:h.B.Large,G=K.isMobile?void 0:c,H=(0,r.VK)((()=>function(e,t,n,i,a){const{device:r}=e;if(t&&"relative"===t.type)return(0,p.x)(t);const o=t&&"date"!==t.type?d.Id(t):t;return r.isMobile?o?g.p6(o,n,S(e,a)):"":i.state.temporary||i.state.edited?i.state.temporary:o?g.p6(o,n,S(e,a)):""}(W,v,Q,n,C)),[W,v,Q,n,C]),z=(0,r.VK)((()=>function(e,t,n,i,a,r,o,s,d,l){const{device:u}=e,c=j(e,l);return{style:{...c.menuItem,...a,marginRight:0},inputOuterStyle:{...I(t,r,o,s,d),...c.inputWrapper,...i},inputStyle:{...c.inputEditRegion,...u.isMobile&&c.inputEditRegionMobile,...n}}}(W,U,B,L,P,E,c,Q,n,l)),[W,U,B,L,P,E,c,Q,n,l]);return(0,b.jsx)(y.ZP,{...f,type:N,format:q,left:(0,b.jsx)(T,{placeholder:F,value:v,hideClearButton:l,inputType:N}),showClearButton:D(W,l),focus:G,onFocus:J,onClearButtonClick:Y,onChange:_,onSubmit:V,onBlur:A,value:H,disableInput:"relative"===(null==v?void 0:v.type),...z})}},341209:(e,t,n)=>{n.d(t,{Z:()=>f});n(667294);var i=n(800480),a=n(576205),r=n(717335),o=n(433929),s=n(460709),d=n(552275),l=n(231945),u=n(478140),c=n(632163),p=n(953437),g=n(672495),v=n(785893);function f(e){const{filterValue:t,renderOrigin:n,buttonPopupStore:f}=e,h=(0,i.O7)(),y=e=>"relative"===e.filter.type&&"custom"===e.filter.value?o.default.formatMessage(r.HL[e.filter.value]):"date"===e.type?(0,r.x)(e.filter):(0,r.ip)(e.filter);return(0,v.jsx)(l.ZP,{popupType:h.device.isMobile?p.kQ.SlideUp:p.kQ.Popup,buttonPopupStore:f,render:()=>{let n;n=h.device.isMobile?{menuType:s.og.ActionSheet}:{menuType:s.og.Popup};const i="date"===e.type?(()=>{const e=a.tO;return[...e.filter((e=>"relative"===e.type)),...e.filter((e=>"exact"===e.type))]})().map((n=>({key:"relative"===n.type?n.value:n.type,render:e=>(0,v.jsx)(d.Z,{...e,title:y({type:"date",filter:n}),checkState:n.type===t.type&&(void 0===n.value||n.value===t.value)}),action:()=>{e.onUpdate(n),f.setState({open:!1})}}))):(()=>{const e=(0,a.v8)();return[...e.filter((e=>"relative"===e.type)),...e.filter((e=>"exact"===e.type))]})().map((n=>({key:(0,a.eX)(n),render:e=>(0,v.jsx)(d.Z,{...e,title:y({type:"daterange",filter:n}),checkState:n.type===t.type&&(void 0===n.value||n.value===t.value)}),action:()=>{e.onUpdate(n),f.setState({open:!1})}})));return(0,v.jsx)(u.Z,{...n,children:(0,v.jsx)(c.Z,{type:c.i.Vertical,sections:[{key:"filterOperators",render:e=>(0,v.jsx)(g.Z,{disableMobilePadding:!0,...e}),items:i}],initialFocus:void 0})})},renderOrigin:n,style:{width:240},originGap:2,placementToOrigin:l.pO.Bottom,alignmentToOrigin:l.vR.Center,disabled:e.disabled})}},83264:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(800480),r=n(886628),o=n(724405),s=n(576205),d=n(253877),l=n(842875),u=n(709291),c=n(401898),p=n(628020),g=n(433929),v=n(460709),f=n(897638),h=n(967950),y=n(41558),m=n(478140),b=n(840721),x=n(672495),S=n(164369),D=n(366653),M=n(341209),j=n(646945),T=n(314390),k=n(785893);const R={calendarWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},pickerSection:{paddingLeft:16,paddingRight:16},pickerSectionMobile:{paddingTop:16,paddingBottom:8},firstDateInput:{marginTop:2}},I=(0,u.defineMessages)({startingMessage:{defaultMessage:"Starting",id:"search.dateRangeMenu.startingMessage"},endingMessage:{defaultMessage:"Ending",id:"search.dateRangeMenu.endingMessage"}});const w=function(e){let{disableMenuWrap:t,hideDateInputMenuItems:n,value:i,relativeRangePopupStore:o,onUpdateRelativeFilter:s,disabled:d,allowRelativeRangeFilter:l,onUpdate:c,onDismiss:p,title:g,store:v}=e;const f=(0,a.O7)(),h=(0,u.useIntl)(),b=(0,r.qz)(v,y.Z),{device:x}=f;return t?(0,k.jsxs)(k.Fragment,{children:[!n&&(0,k.jsx)(E,{value:i,relativeRangePopupStore:o,onUpdateRelativeFilter:s,disabled:d,allowRelativeRangeFilter:l,intl:h,onUpdate:c,onDismiss:p,store:b}),(0,k.jsx)(B,{value:i,onUpdate:c,store:b})]}):(0,k.jsxs)(m.Z,{...Q(f,g,i,h,c,b,p,o,s,d,l),children:[!x.isMobile&&!n&&(0,k.jsx)(E,{value:i,relativeRangePopupStore:o,onUpdateRelativeFilter:s,disabled:d,allowRelativeRangeFilter:l,intl:h,onUpdate:c,onDismiss:p,store:b}),(0,k.jsx)(B,{value:i,onUpdate:c,store:b})]})};function O(e){return{type:"date",start_date:d.gQ(Date.now(),d.aN(),e).toFormat(d.Iq)}}function F(e){return"custom"===e.value?function(e,t,n){const i=(0,s.Fo)(e,t,n,(0,l.r)());switch(e){case"past":return{starting:d.ME(i),ending:d.Lg((0,l.r)())};case"future":return{starting:d.Lg((0,l.r)()),ending:d.ME(i)};default:(0,c.t1)(e)}}(e.direction,e.count,e.unit):"surrounding"===e.value?function(e){const{start:t,end:n}=(0,s.je)(e,(0,l.r)(),p.AK.state);return{starting:d.ME(t),ending:d.ME(n)}}(e.unit):function(e){switch(e.value){case"this_week":return{starting:(t=(0,l.r)(),{type:"date",start_date:d.em(Date.now(),d.aN(),t).toFormat(d.Iq)}),ending:O((0,l.r)())};case"the_past_month":return{starting:d.dj((0,l.r)()),ending:d.Lg((0,l.r)())};case"the_past_week":return{starting:d.Oo((0,l.r)()),ending:d.Lg((0,l.r)())};case"the_past_year":return{starting:d.b8((0,l.r)()),ending:d.Lg((0,l.r)())};case"the_next_month":return{starting:d.Lg((0,l.r)()),ending:d.nD((0,l.r)())};case"the_next_week":return{starting:d.Lg((0,l.r)()),ending:d.Kq((0,l.r)())};case"the_next_year":return{starting:d.Lg((0,l.r)()),ending:d.NJ((0,l.r)())};default:(0,c.t1)(e)}var t}(e)}function Z(e){let{events:t,onUpdateFilter:n,filter:i}=e;const r=(0,a.O7)();return(0,k.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:r.device.isMobile?"wrap":void 0,marginBottom:12},children:(0,k.jsx)("div",{style:{width:"92%",marginLeft:10,marginRight:10},children:(0,k.jsx)(T.b,{onUpdate:n,filter:i})})})}function C(e,t,n){if("type"in n)return{value:{starting:void 0,ending:void 0}};if(t.error)return t;const i=t.value&&"date"!==t.value.type?d.Id(t.value):t.value;return function(e){if(e.starting&&e.ending){const t=d.OQ.notionDateToLuxon(e.starting);return d.OQ.notionDateToLuxon(e.ending)>=t?{value:e}:{error:h.B.INVALID_RANGE}}return{value:e}}({...n,[e]:i})}function B(e){let{value:t,onUpdate:n,store:i}=e;const s=(0,o.Fg)(),d=(0,a.O7)(),l=(0,r.qz)(i,y.Z),{device:c}=d,p=function(e){return{pickerSectionMobile:{background:e.popoverBackground,boxShadow:`0 1px 0 ${e.regularDividerColor}`,marginBottom:1}}}(s),g={...R.pickerSection,...c.isMobile&&R.pickerSectionMobile,...c.isMobile&&p.pickerSectionMobile},v=(0,r.VK)((()=>"type"in t?F(t):t),[t]);return(0,k.jsx)(x.Z,{style:R.calendarWrapper,children:(0,k.jsxs)("div",{style:g,children:[(0,k.jsx)(j.Z,{value:v,store:l,onUpdate:n,validate:(e,n)=>C(e,n,t),readonly:"type"in t}),"type"in t&&(0,k.jsx)(S.Z,{isSmall:!0,style:{marginLeft:4,marginTop:4},children:(0,k.jsx)(u.FormattedMessage,{id:"collectionFilterMenu.dateRangeFilter.relativeDateRangeFilter.description",defaultMessage:"Filter will update with the current date"})})]})})}function L(e,t){t.setState({...t.state,focus:e})}function P(e){let{events:t,value:n,disabled:o,allowRelativeRangeFilter:s,onUpdate:d,onDismiss:l,store:c}=e;const p=(0,a.O7)(),v=(0,u.useIntl)(),h=(0,i.useCallback)(((e,t)=>function(e,t,n){t&&t.error||n.setState({...n.state,focus:"ending"})}(0,t,c)),[c]),y=(0,r.VK)((()=>c.getFocus()),[c]),m=function(e,t){if("type"in e)return;return{earliestValidEnding:e.starting&&f.p6(e.starting,t,"YYYY-MM-DD"),latestValidStarting:e.ending&&f.p6(e.ending,t,"YYYY-MM-DD")}}(n,v),b="type"in n?{starting:void 0,ending:void 0}:n;return(0,k.jsxs)("div",{...t,style:{display:"flex",flexDirection:s&&!p.device.isMobile?"row":"column",alignItems:"center",width:p.device.isMobile?void 0:280},children:[(0,k.jsx)(D.Z,{disabled:o,placeholder:p.device.isMobile?void 0:g.default.formatMessage(I.startingMessage),focused:"starting"===y,value:b.starting,validate:e=>function(e,t){const n=C("starting",e,t);return n.error?n:{value:n.value.starting}}(e,n),onUpdate:e=>function(e,t){e.error||t({value:{starting:e.value}})}(e,d),onFocus:()=>L("starting",c),onSubmit:h,inputElementAttributes:m?{max:m.latestValidStarting}:void 0,inputOuterStyle:R.firstDateInput,textWrapperStyle:s&&!p.device.isMobile?{marginRight:2}:{},desktopDateFormat:s?"YYYY/MM/DD":void 0}),(0,k.jsx)(D.Z,{disabled:o,placeholder:p.device.isMobile?void 0:g.default.formatMessage(I.endingMessage),focused:"ending"===y,value:b.ending,validate:e=>function(e,t){const n=C("ending",e,t);return n.error?n:{value:n.value.ending}}(e,n),onUpdate:e=>function(e,t){e.error||t({value:{ending:e.value}})}(e,d),onFocus:()=>L("ending",c),onSubmit:(e,t)=>function(e,t,n){t&&t.error||n&&n(e)}(e,t,l),inputElementAttributes:m?{min:m.earliestValidEnding}:void 0,textWrapperStyle:s&&!p.device.isMobile?{marginLeft:2}:{},desktopDateFormat:s?"YYYY/MM/DD":void 0})]})}function E(e){let{value:t,relativeRangePopupStore:n,onUpdateRelativeFilter:i,disabled:a,allowRelativeRangeFilter:r,intl:o,onUpdate:s,onDismiss:d,store:l}=e;if(n&&i){const e="type"in t?t:{type:"exact",value:void 0};return(0,k.jsx)(M.Z,{type:"daterange",filterValue:e,onUpdate:i,renderOrigin:n=>"exact"===e.type?(0,k.jsx)(P,{value:t,disabled:a,allowRelativeRangeFilter:r,onUpdate:s,onDismiss:d,store:l,events:n}):"relative"!==e.type||"surrounding"!==e.value&&"custom"!==e.value?void 0:(0,k.jsx)(Z,{events:n,onUpdateFilter:i,filter:e}),disabled:"exact"===e.type,buttonPopupStore:n})}return(0,k.jsx)(P,{value:t,disabled:a,allowRelativeRangeFilter:r,onUpdate:s,onDismiss:d,store:l})}function Q(e,t,n,i,a,r,o,s,d,l,u){const{device:c}=e;if(c.isMobile){return{menuType:v.og.Modal,title:t,right:(0,k.jsx)(b.DoneMenuText,{}),onClickRight:o,header:(0,k.jsx)(E,{value:n,relativeRangePopupStore:s,onUpdateRelativeFilter:d,disabled:l,allowRelativeRangeFilter:u,intl:i,onUpdate:a,onDismiss:o,store:r})}}return{menuType:v.og.Popup,onClickOutside:o}}},646945:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(313991),r=n(886628),o=n(724405),s=n(253877),d=n(842875),l=n(531701),u=n(137810),c=n(296994),p=n(628020),g=n(213854),v=n(785893);const f={monthControl:{position:"absolute",top:0,right:0,display:"flex"},selectedRange:{backgroundColor:l.ZP.blueWithAlpha(.15)},active:{backgroundColor:l.ZP.blue,color:l.ZP.white},inactive:{backgroundColor:l.ZP.blueWithAlpha(.43)},disabled:{pointerEvents:"none"},today:{fontWeight:u.Z.fontWeight.regular}};const h=function(e){let{readonly:t,store:n,value:u,validate:h,onUpdate:y,disabled:m,dateTimeStore:b}=e;const x=(0,o.Fg)(),S=(0,i.useRef)(),D=(0,r.VK)((()=>{if(n.state.displayMonth)return n.state.displayMonth.toJSDate();if("starting"===n.getFocus()){if(u.starting)return s.OQ.notionDateToJsDate(u.starting);if(u.ending)return s.OQ.notionDateToJsDate(u.ending)}if("ending"===n.getFocus()){if(u.ending)return s.OQ.notionDateToJsDate(u.ending);if(u.starting)return s.OQ.notionDateToJsDate(u.starting)}if(!S.current){const e=s.Lg((0,d.r)());S.current=s.OQ.notionDateToJsDate(e)}return S.current}),[S,n,u]),M=(0,r.VK)((()=>p.AK.state),[]),j=(0,r.VK)((()=>function(e,t,n){const i=function(e,t,n){if(n)return e=>!0;const i=e=>"ending"===t.getFocus()&&{before:e},a=e=>"starting"===t.getFocus()&&{after:e};if(e.starting&&e.ending){const t=s.OQ.notionDateToJsDate(e.starting),n=s.OQ.notionDateToJsDate(e.ending);return i(t)||a(n)}if(e.starting){return i(s.OQ.notionDateToJsDate(e.starting))}if(e.ending){return a(s.OQ.notionDateToJsDate(e.ending))}return!1}(t,e,n),{hovered:a}=e.state;if(n)return{disabled:i};if(t.starting&&t.ending){const e=s.OQ.notionDateToJsDate(t.starting),n=s.OQ.notionDateToJsDate(t.ending);return{range:{from:e,to:n},start:e,end:n,disabled:i}}if(t.starting){const e=s.OQ.notionDateToJsDate(t.starting);return{range:a&&{from:e,to:a},start:e,end:a,disabled:i,selected:[e,a]}}if(t.ending){const e=s.OQ.notionDateToJsDate(t.ending);return{range:a&&{from:a,to:e},start:a,end:e,disabled:i,selected:[e,a]}}}(n,u,m)),[n,u,m]),T=(0,r.VK)((()=>function(e,t){const n=f,i=function(e){return{disabled:{color:e.lightTextColor},today:{color:l.ZP.white}}}(t),a=e.getFocus(),r=n.selectedRange,o={...n.disabled,...i.disabled},s={...n.today,...i.today};return{range:r,start:"starting"===a?n.active:n.inactive,end:"ending"===a?n.active:n.inactive,disabled:o,today:s}}(n,x)),[n,x]);return(0,v.jsx)(c.yG,{className:"notion-calendar-picker",defaultMonth:D,month:D,numberOfMonths:1,weekStartsOn:M,locale:a.SP,showOutsideDays:!0,fixedWeeks:!0,onDayClick:e=>function(e,t,n,i,a,r,o,d){if(r||d)return;const l=t.getFocus(),u=s.OQ.toPersistedDate(e.valueOf()),c=i(l,{value:u}),p=c.error?c:{value:{[l]:c.value[l]}};a(p),t.setState({...t.state,hovered:void 0}),o&&o.setState({...o.state,hovered:void 0});if(c.error)return;"starting"!==l||n.ending||(t.setState({...t.state,focus:"ending"}),o&&o.setState({...o.state,focus:g.yO.ending}));const v="starting"===l?"ending":"starting";t.setState({...t.state,focus:v}),o&&o.setState({...o.state,focus:g.yO[v]})}(e,n,u,h,y,m,b,t),onDayMouseEnter:e=>function(e,t,n,i,a,r){const o=t.getFocus(),d=s.OQ.jsDateToLuxon(e);if(i||r)return;if("starting"===o&&n.ending&&!n.starting){s.OQ.notionDateToLuxon(n.ending)>=d&&(t.setState({...t.state,hovered:e}),a&&a.setState({...a.state,hovered:e}))}else if("ending"===o&&n.starting&&!n.ending){s.OQ.notionDateToLuxon(n.starting)<=d&&(t.setState({...t.state,hovered:e}),a&&a.setState({...a.state,hovered:e}))}}(e,n,u,m,b,t),onMonthSelected:e=>function(e,t,n){t.setState({...t.state,displayMonth:s.OQ.jsDateToLuxon(e)}),n&&n.setState({...n.state,displayMonth:s.OQ.jsDateToLuxon(e)})}(e,n,b),modifiers:j,modifiersStyles:T,disabled:!!t||void 0})}},162045:(e,t,n)=>{n.d(t,{Z:()=>c});n(667294);var i=n(800480),a=n(724405),r=n(542853),o=n(531701),s=n(552275),d=n(708982),l=n(863296),u=n(785893);const c=function(e){let{title:t,disabled:n,innerStyle:c,placeholder:p,onClick:g,disableMargins:v,desktopStyle:f}=e;const h=(0,a.Fg)(),y=(0,i.O7)(),{device:m}=y,b=Boolean(t);if(m.isMobile)return(0,u.jsx)(s.Z,{showExtensionArrow:!n,focused:!1,title:b?(0,u.jsx)("div",{style:{display:"flex",alignItems:"center",...c},children:t}):(0,u.jsx)("div",{style:{display:"flex",alignItems:"center",color:o.ZP.uiGray,...c},children:p}),onClick:g});{const e="dark"===h.mode?h.lightTextColor:h.mediumTextColor;return(0,u.jsx)(d.i,{action:()=>function(e){e&&e()}(g),disabled:n,render:i=>(0,u.jsxs)(l.Z,{...i,hovered:i.focused,isLarge:!0,backgroundColor:h.buttonBackground,style:{marginRight:8,maxWidth:180,padding:"0 8px",...i.disabled&&{opacity:.5},...v&&{marginRight:0,maxWidth:"100%",justifyContent:"space-between"},...f},children:[(0,u.jsx)("div",{style:{display:"flex",minWidth:0,color:b?h.regularTextColor:e,...c},children:b?t:p}),!n&&(0,r.i)({width:10,marginLeft:6,fill:h.lightIconColor})]})})}}},314390:(e,t,n)=>{n.d(t,{b:()=>k});n(667294);var i=n(800480),a=n(886628),r=n(724405),o=n(542853),s=n(709291),d=n(619584),l=n(717335),u=n(433929),c=n(460709),p=n(61766),g=n(552275),v=n(231945),f=n(573063),h=n(268894),y=n(478140),m=n(632163),b=n(863296),x=n(953437),S=n(672495),D=n(164369),M=n(162045),j=n(785893);function T(e){const{humanReadableLabel:t,placeholder:n,outlineButtonStyle:i,buttonWrapperStyle:a,renderAsQueryDropdown:s,events:d,isMobile:l}=e,u=(0,r.yK)((e=>({iconStyle:{...!l&&{height:12,width:12},color:e.mediumIconColor},textStyle:{marginLeft:6,color:e.regularTextColor}})),[l]);return s?(0,j.jsx)(M.Z,{...d,placeholder:n,title:(0,j.jsx)(D.Z,{isMobile:l,children:t}),disableMargins:!0}):(0,j.jsx)("div",{style:a,...d,children:(0,j.jsxs)(b.Z,{isLarge:l,style:i,children:[(0,j.jsx)("div",{style:u.textStyle,children:t}),(0,j.jsx)(f.Z,{disableBackground:!0,icon:o.i,iconStyle:u.iconStyle})]})})}function k(e){const{onUpdate:t,filter:n,renderAsQueryDropdown:o}=e,f=(0,i.Fy)(),b=(0,s.useIntl)(),D=(0,a.qz)(void 0,p.Z),M=(0,a.qz)(void 0,p.Z),k="count"in n,R=(0,r.yK)((e=>({directionButtonStyle:{paddingLeft:4,paddingRight:4,minWidth:70,justifyContent:"space-between",...f.isMobile&&{marginTop:12,width:"100%",paddingLeft:12,marginBottom:6},...!k&&{marginRight:4}},unitButtonStyle:{paddingLeft:4,paddingRight:4,minWidth:90,justifyContent:"space-between",width:"100%",...f.isMobile&&{paddingLeft:12,marginTop:6}},directionButtonWrapperStyle:{...f.isMobile&&{width:"100%"},flexGrow:0},unitButtonWrapperStyle:{...f.isMobile&&{width:"100%"},flexGrow:2},inputStyle:{minWidth:35,height:16},inputOuterStyle:{minWidth:60,height:32},container:{display:"flex",justifyContent:"start",alignItems:"center",flexDirection:f.isMobile?"column":"row",width:"100%"},textWrapper:{marginRight:6,marginLeft:o?16:6}})),[f.isMobile,o,k]);function I(e){return"this"===e?u.default.formatMessage(l.Fc[e]):u.default.formatMessage(l.Sj[e])}function w(e,t){return t&&t>1?u.default.formatMessage(l.D0[e]):u.default.formatMessage(l.Sb[e])}const O=["day","week","month","year"].map((e=>({key:e,render:t=>(0,j.jsx)(g.Z,{...t,title:w(e,k?n.count:void 0),checkState:e===n.unit}),action:i=>{t({...n,unit:e}),D.setState({open:!1})}}))),F=["past","future","this"].map((e=>({key:e,render:t=>(0,j.jsx)(g.Z,{...t,checkState:"surrounding"===n.value?"this"===e:e===n.direction,title:I(e)}),action:i=>{"this"===e&&"custom"===n.value?t({type:"relative",value:"surrounding",unit:n.unit}):"this"!==e&&"surrounding"===n.value?t({type:"relative",value:"custom",count:1,direction:e,unit:n.unit}):"this"!==e&&"custom"===n.value&&t({...n,direction:e}),M.setState({open:!1})}})));return(0,j.jsxs)("div",{style:R.container,children:[(0,j.jsx)(v.ZP,{buttonPopupStore:M,popupType:f.isMobile?x.kQ.SlideUp:x.kQ.Popup,renderOrigin:e=>(0,j.jsx)(T,{events:e,placeholder:b.formatMessage(l.$7.direction),renderAsQueryDropdown:o,isMobile:f.isMobile,outlineButtonStyle:R.directionButtonStyle,buttonWrapperStyle:R.directionButtonWrapperStyle,humanReadableLabel:I("direction"in n?n.direction:"this")}),render:()=>(0,j.jsx)(y.Z,{menuType:f.isMobile?c.og.ActionSheet:c.og.Popup,children:(0,j.jsx)(m.Z,{initialFocus:void 0,type:m.i.Vertical,sections:[{key:"directionOptions",render:e=>(0,j.jsx)(S.Z,{disableMobilePadding:!0,...e}),items:F}]})})}),k&&(0,j.jsx)(h.ZP,{type:"number",style:R.inputStyle,textWrapperStyle:R.textWrapper,inputOuterStyle:R.inputOuterStyle,min:"1",value:n.count.toString(),onChange:e=>{const i=parseInt(e.target.value);!(0,d.hj)(i)||i<1||t({...n,count:i})}}),(0,j.jsx)(v.ZP,{buttonPopupStore:D,popupType:f.isMobile?x.kQ.SlideUp:x.kQ.Popup,renderOrigin:e=>(0,j.jsx)(T,{events:e,placeholder:b.formatMessage(l.$7.unit),renderAsQueryDropdown:o,isMobile:f.isMobile,outlineButtonStyle:R.unitButtonStyle,buttonWrapperStyle:R.unitButtonWrapperStyle,humanReadableLabel:w(n.unit,"count"in n?n.count:void 0)}),render:()=>(0,j.jsx)(y.Z,{menuType:f.isMobile?c.og.ActionSheet:c.og.Popup,children:(0,j.jsx)(m.Z,{initialFocus:void 0,type:m.i.Vertical,sections:[{key:"unitOptions",render:e=>(0,j.jsx)(S.Z,{disableMobilePadding:!0,...e}),items:O}]})})})]})}},967950:(e,t,n)=>{n.d(t,{B:()=>a,Z:()=>o});var i=n(749085);const a={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range"};class r extends i.default{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const o=r},876150:(e,t,n)=>{n.d(t,{Hv:()=>a,ZP:()=>s,pd:()=>r});var i=n(749085);let a=function(e){return e.StartDate="startDate",e.StartTime="startTime",e.EndDate="endDate",e.EndTime="endTime",e}({}),r=function(e){return e.InvalidDate="Invalid date",e.InvalidTime="Invalid time",e.InvalidRange="Invalid range",e}({});class o extends i.default{getInitialState(){return{focus:a.StartDate,inputIsFocused:!1,inputTemporaryValue:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0},error:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0}}}}const s=o},213854:(e,t,n)=>{n.d(t,{QJ:()=>r,ZP:()=>d,yO:()=>o});var i=n(749085),a=n(876150);const r={[a.Hv.StartDate]:"starting",[a.Hv.StartTime]:"starting",[a.Hv.EndDate]:"ending",[a.Hv.EndTime]:"ending"},o={starting:a.Hv.StartDate,ending:a.Hv.EndDate};class s extends i.default{getInitialState(){return{isOpen:!1,focus:a.Hv.StartDate,temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,showTime:!1}}getFocus(){return this.state.focus}toggleShowTime(){this.setState({...this.state,showTime:!this.state.showTime})}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const d=s},41558:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(749085);class a extends i.default{getInitialState(){return{isOpen:!1,focus:"starting",temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,dateFilterType:"lastEditedTime"}}getFocus(){return this.state.focus}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const r=a}}]);