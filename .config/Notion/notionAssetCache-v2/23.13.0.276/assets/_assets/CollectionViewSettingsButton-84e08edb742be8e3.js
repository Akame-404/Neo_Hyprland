"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[7345],{46084:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var n=o(667294),i=o(800480),l=o(886628),a=o(724405),s=o(356666),r=o(709291),c=o(108406),d=o(805149),u=o(691851),g=o(940663),f=o(843250),S=o(849117),p=o(212534),m=o(433929),b=o(80444),v=o(658421),h=o(573063),C=o(526388),k=o(785893);const w=(0,r.defineMessages)({tooltipLabel:{defaultMessage:"Edit view layout, grouping and more...",id:"database.collectionViewSettingsButton.openViewSettingsButton.tooltip"},formTooltipLabel:{defaultMessage:"Edit form, add questions and more...",id:"database.collectionViewSettingsButton.openFormSettingsButton.tooltip"}});function x(e){const{collectionContextStore:t,hideTooltip:o}=e,r=(0,i.O7)(),x=(0,l.VK)((()=>t.collectionViewStore()),[t]),y=(0,l.VK)((()=>null==x?void 0:x.getType()),[x]),V=(0,l.VK)((()=>t.settingsStore),[t]),_=(0,l.VK)((()=>V.state.open),[V]),T=(0,l.VK)((()=>(0,v.n)(V)),[V]),L=!(0,S.Cf)({tab:T}),M=(0,n.useCallback)((()=>{const e=b.default.state.currentUserSettingsStore,t=b.default.state.currentSpaceStore;if(e&&t){"click_view_settings"===(0,g.jH)(e,t)&&(0,u.uR)({environment:r,requiredCurrPhase:void 0,nextPhase:"complete",currentUserSettingsStore:e,currentSpaceStore:t})}}),[r]),K=(0,n.useCallback)((e=>{(0,p.ZP)({event:e,context:p.Af.CollectionSettingsClick,callback:()=>{const e=t.settingsStore,o=e.state.open,n=(0,v.n)(e);o&&"main"===(null==n?void 0:n.type)?d.E3({collectionSettingsStore:e}):d.r$({collectionContextStore:t,collectionSettingsStore:e})}}),c.wd({environment:r,collectionContextStore:t,action:"click_topbar_view_settings"}),M()}),[t,r,M]),j=(0,a.yK)((e=>({iconStyle:{width:void 0,height:3,fill:e.mediumIconColor}})),[]);if("page"===y)return null;const B=(0,k.jsx)(h.Z,{ariaLabel:"form_editor"===y?m.default.formatMessage(w.formTooltipLabel):m.default.formatMessage(w.tooltipLabel),className:f.xvU,icon:s.o,style:e.style,iconStyle:j.iconStyle,hovered:_&&L,onClick:K});return o?B:(0,k.jsx)(C.Z,{renderTooltip:()=>"form_editor"===y?m.default.formatMessage(w.formTooltipLabel):m.default.formatMessage(w.tooltipLabel),render:e=>(0,k.jsx)("div",{...e,children:B})})}}}]);