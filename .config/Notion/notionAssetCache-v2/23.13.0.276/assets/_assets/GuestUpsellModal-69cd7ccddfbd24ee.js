"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[27844],{718250:(e,s,t)=>{t.d(s,{K:()=>o,O:()=>r});var a=t(745483);function r(e){a.Z.state.openModals.has(e)||(a.Z.state.openModals.add(e),a.Z.emit())}function o(e){a.Z.state.openModals.has(e)&&(a.Z.state.openModals.delete(e),a.Z.emit())}},81717:(e,s,t)=>{t.d(s,{Z:()=>f,u:()=>b});var a=t(667294),r=t(800480),o=t(886628),i=t(724405),n=t(709291),l=t(137810),d=t(891219),c=t(91536),u=t(454642),p=t(164964),g=t(80444),m=t(785834),h=t(301743),x=t(374194),j=t(709019),M=t(863296),_=t(158297),y=t(785893);function b(e){const s=(0,r.O7)(),{onDismiss:t}=e,[c,j]=(0,a.useState)(""),b=(0,n.useIntl)(),f=(0,i.yK)((()=>({container:{padding:20},title:{fontWeight:l.Z.fontWeight.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},button:{width:"100%",marginTop:10}})),[]),{currentSpaceStore:v}=(0,o.VK)((()=>({currentSpaceStore:g.default.state.currentSpaceStore})),[]);return(0,y.jsxs)("div",{style:f.container,children:[(0,y.jsx)("div",{style:f.title,children:(0,y.jsx)(n.FormattedMessage,{id:"GuestMembershipRequestModal.title",defaultMessage:"Request membership to workspace"})}),(0,y.jsxs)(h.Z,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:[(0,y.jsx)(x.Z,{style:f.input,textarea:!0,value:c,placeholder:b.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{j(e.target.value)}}),(0,y.jsx)(_.Z,{isLarge:!0,style:f.button,onClick:()=>{const{currentUser:e}=s;e&&e.id&&v&&(d.d(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:c.length,invite_space_role_selection:m.uq.request_workspace_member,from:"sidebar_guest_request"}),u.requestAccess(s,{type:"actor-to-space",forActorId:e.id,spaceId:v.id,message:c,attributes:{origin_id:v.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}).catch((()=>{p.oV({label:(0,y.jsx)(n.FormattedMessage,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",defaultMessage:"Failed to send membership request."})})})).finally((()=>{p.oV({label:(0,y.jsx)(n.FormattedMessage,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),j(""),t())},children:(0,y.jsx)(n.FormattedMessage,{id:"GuestMembershipRequestModal.sendRequest.button",defaultMessage:"Send request"})}),(0,y.jsx)(M.Z,{isLarge:!0,style:f.button,onClick:()=>{j(""),t()},children:(0,y.jsx)(n.FormattedMessage,{id:"GuestMembershipRequestModal.cancel.button",defaultMessage:"Cancel"})})]})]})}const f=function(e){const s=(0,r.O7)(),[t,o]=(0,a.useState)(!1),{origin:n}=e,l=(0,i.yK)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350}})),[]);return(0,y.jsx)(j.Z,{modalStyle:l.modalStyle,open:t,origin:(0,y.jsx)("div",{onClick:()=>{c.g9(s),o(!0)},children:n}),onDismiss:()=>o(!1),renderContent:()=>(0,y.jsx)(b,{onDismiss:()=>o(!1)})})}},612970:(e,s,t)=>{t.r(s),t.d(s,{GuestUpsellModal:()=>f});var a=t(667294),r=t(886628),o=t(724405),i=t(841892),n=t(665422),l=t(875553),d=t(248780),c=t(709291),u=t(401898),p=t(976940),g=t(997156),m=t(689024),h=t(897122),x=t(436488),j=t(707124),M=t(489728),_=t(699884),y=t(81717),b=t(785893);function f(e){const{open:s,stage:t}=(0,r.VK)((()=>g.Z.state),[]),o=(0,a.useCallback)((()=>{switch(t){case"landing":return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(m.jX,{padding:24,children:[(0,b.jsx)(v,{}),(0,b.jsx)(w,{})]}),(0,b.jsx)(k,{})]});case"membership_request":return(0,b.jsx)("div",{style:{padding:"15px 10px"},children:(0,b.jsx)(y.u,{onDismiss:()=>{g.Z.close()}})});default:(0,u.t1)(t)}}),[t]);return(0,b.jsx)(_.c,{isOpen:s,onClosed:()=>{g.Z.close()},render:()=>(0,b.jsx)(x.Z,{capture:!0,allowEsc:!0,render:()=>(0,b.jsxs)(p.gv.Provider,{value:()=>g.Z.close(),children:[(0,b.jsx)(p.U4,{}),o()]})})})}function v(){const e=(0,o.yK)((e=>({title:{display:"flex",marginTop:24,marginBottom:24}})),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:i.Z.images.thinkItMakeItCloudDarkPng,style:{width:334,height:205,margin:"auto"}}),(0,b.jsx)(j.q,{styleName:"UITitle-26px/Bold",customStyles:e.title,children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Experience Notion as a workspace member",id:"GuestUpsellModal.header.title"})})]})}function w(){const e=(0,o.yK)((e=>({icon:{width:20,height:20,fill:e.text.uiBluePrimary,marginRight:16},secondaryText:{color:e.text.secondary}})),[]);return(0,b.jsxs)(m.jX,{direction:"column",gap:20,children:[(0,b.jsxs)(m.jX,{direction:"row",children:[(0,d.l)(e.icon),(0,b.jsx)(j.q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Create and organize <secondary>projects, notes, and to-dos</secondary>",id:"GuestUpsellModal.body.point1",values:{secondary:s=>(0,b.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,b.jsxs)(m.jX,{direction:"row",children:[(0,l.U)(e.icon),(0,b.jsx)(j.q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Stay in the loop <secondary>with access to all pages across this workspace</secondary>",id:"GuestUpsellModal.body.point2",values:{secondary:s=>(0,b.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,b.jsxs)(m.jX,{direction:"row",children:[(0,n.K)(e.icon),(0,b.jsx)(j.q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Supercharge work <secondary>with the latest Notion features</secondary>",id:"GuestUpsellModal.body.point3",values:{secondary:s=>(0,b.jsx)("span",{style:e.secondaryText,children:s})}})})]})]})}function k(){const e=(0,o.yK)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14}})),[]);return(0,b.jsxs)(m.jX,{direction:"row",style:e.footerWrapper,children:[(0,b.jsx)(m.jX,{align:"center-left",style:e.continueCopy,children:(0,b.jsx)(M.Z,{isGray:!0,onClick:()=>{g.Z.close()},children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,b.jsx)(m.jX,{align:"center-right",children:(0,b.jsx)(h.h,{onClick:()=>g.Z.setState({open:!0,stage:"membership_request"}),children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})}},785834:(e,s,t)=>{t.d(s,{TG:()=>i,ZP:()=>l,uq:()=>o});var a=t(749085),r=t(471924);let o=function(e){return e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),i=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class n extends a.default{getInitialState(){return{inviteStage:i.closed,selection:o.workspace_member,order:[o.workspace_member,o.page_guest],invitedUsers:[],invitedEmailToUserIdMap:{},flowId:r.Il()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:i.share_workspace,order:[o.workspace_member,o.page_guest],selection:o.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:i.request_workspace,order:[o.request_workspace_member,o.page_guest],selection:o.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const l=n},745483:(e,s,t)=>{t.d(s,{Z:()=>n});var a=t(749085),r=t(292595);class o extends a.default{getInitialState(){return{openModals:new Set}}}const i=new o,n=i;(0,r.exposeDebugValue)("GlobalModalStore",i)},361254:(e,s,t)=>{t.d(s,{Z:()=>o});var a=t(749085);class r extends a.default{getInitialState(){return{open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0}}}const o=r},665422:(e,s,t)=>{t.d(s,{K:()=>o});t(667294);var a=t(745238),r=t(785893);const o=(0,a.IU)("boltFilled",{svg:(0,r.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},964275:(e,s,t)=>{t.d(s,{D:()=>o});t(667294);var a=t(745238),r=t(785893);const o=(0,a.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},248780:(e,s,t)=>{t.d(s,{l:()=>o});t(667294);var a=t(745238),r=t(785893);const o=(0,a.IU)("createPage",{viewBox:"0 0 24 24",svg:(0,r.jsx)("g",{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9.944 14.721c.104.094.216.12.336.079l1.703-.688 6.844-6.844-1.406-1.398-6.836 6.836-.711 1.68c-.052.13-.029.242.07.335zm8.102-9.484l1.414 1.406.515-.523a.917.917 0 00.282-.633.76.76 0 00-.258-.61l-.25-.25a.702.702 0 00-.578-.187.975.975 0 00-.617.297l-.508.5zm-9.453.127a3.85 3.85 0 00-3.85 3.85v6.5a3.85 3.85 0 003.85 3.85h6.5a3.85 3.85 0 003.85-3.85V12.95a.85.85 0 10-1.7 0v2.764a2.15 2.15 0 01-2.15 2.15h-6.5a2.15 2.15 0 01-2.15-2.15v-6.5a2.15 2.15 0 012.15-2.15h3.395a.85.85 0 000-1.7H8.593z",clipRule:"evenodd"})})})}}]);