"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[39938],{531192:(e,t,o)=>{o.d(t,{Pc:()=>He,TE:()=>De,Te:()=>et,VN:()=>Fe,Wc:()=>$e,ZP:()=>Ne,ZY:()=>Ve,d$:()=>Ie,di:()=>Je,jo:()=>je,n5:()=>Ze,nZ:()=>Qe,pE:()=>Oe,rk:()=>Le,sL:()=>Be,tb:()=>Ae,uU:()=>Ye,ww:()=>Re,yp:()=>Ue});o(757658);var i=o(667294),s=o(701302),n=o(313991),r=o(749085),a=o(371663),l=o(670475),d=o(541432),c=o(399036),h=o(164788),p=o(287132),u=o(443119),g=o(606287),m=o(590965),S=o(76233),v=o(709291),C=o(653965),f=o(401898),y=o(137810),b=o(135253),M=o(551365),P=o(850799),k=o(532603),x=o(472711),E=o(524677),T=o(898104),w=o(210228),_=o(489626),L=o(110906),B=o(492650),Z=o(566890),F=o(296994),H=o(595645),D=o(128651),I=o(604569),V=o(922705),O=o(772770),A=o(304708),j=o(368585),R=o(319124),K=o(270177),N=o(450627),W=o(798165),G=o(645010),z=o(282356),U=o(60217),q=o(762229),X=o(610157),Q=o(494043),Y=o(170656),J=o(318245),$=o(849427),ee=o(600051),te=o(80444),oe=o(61766),ie=o(925489),se=o(316772),ne=o(480796),re=o(400807),ae=o(319385),le=o(421051),de=o(429755),ce=o(222294),he=o(229798),pe=o(619671),ue=o(594896),ge=o(282136),me=o(691551),Se=o(813023),ve=o(188923),Ce=o(569784),fe=o(27724),ye=o(417963),be=o(753973),Me=o(278030),Pe=o(215201),ke=o(668709),xe=o(623063),Ee=o(489728),Te=o(599515),we=o(65496),_e=o(785893);const Le=y.Z.getCompositeFontFamily(n.SP).sans,Be={serif:y.Z.getCompositeFontFamily(n.SP).serif,mono:y.Z.getCompositeFontFamily(n.SP).mono,comic:y.Z.getCompositeFontFamily(n.SP).comic},Ze={serif:1.6,mono:1.6},Fe={serif:0,mono:.055},He={serif:15,mono:14},De={serif:17,mono:15},Ie={width:"100%",display:"flex",flexDirection:"column",position:"relative",alignItems:"center",flexGrow:1},Ve=14,Oe=17,Ae=16,je=16;function Re(e){return!!e.isIOS}class Ke extends H.Z{constructor(){super(...arguments),this.contentEl=null,this.clickedAddIconState=!1,this.openResolvedDiscussionPopup=()=>{this.stores.resolvedDiscussionButtonPopupStore.setState({open:!0}),this.stores.pageViewBlockStore.setState({...this.stores.pageViewBlockStore.state,forceDiscussionOpen:!0})},this.getContentWrapEl=()=>this.contentEl,this.collectionContextStore=new ie.Z(this.environment),this.documentViewHorizontalOffsetStore=this.createComputedStore((()=>{const{store:e}=this.props;return this.marginCommentsVisibleStore.state&&!this.props.store.isFullWidth()?(0,B.gC)(this.environment,(0,L.en)(e),(0,L.Ks)(e)):0})),this.storeTypes={headerFocusStore:r.default.createClass(!1,{name:"headerFocusStore"}),headerMouseStore:D.Z,detailsFocusStore:r.default.createClass(!1,{name:"detailsFocusStore"}),detailsMouseStore:D.Z,pageViewBlockStore:ge.Z,resolvedDiscussionButtonPopupStore:oe.Z,backlinksButtonPopupStore:oe.Z,templatePickerMenuListStore:he.Z,loadingPageCoverStore:r.default.createClass(!1,{name:"loadingPageCoverStore"})},this.getHorizontalTransformStyles=()=>{const e=this.documentViewHorizontalOffsetStore.state;return{layout:{translateX:-1*e},layoutFull:{translateX:e}}},this.hasCoverStore=this.createComputedStore((()=>this.props.store.hasCover())),this.hasIconStore=this.createComputedStore((()=>this.props.store.hasIcon())),this.isSuggestModeStore=this.createComputedStore((()=>"suggest"===re.Z.getMode(this.props.store))),this.titleStore=this.createComputedStore((()=>this.props.store.getTitleStore())),this.handleAddRandomCoverClick=async()=>{const{store:e}=this.props,{environment:t}=this,o=e.getCoverStore();if(!o)return;if(o.getValue())return;this.stores.loadingPageCoverStore.setState(!0);const i=(await F.FF.pageCovers.load()).default;w.createAndCommit({userAction:"PageViewBlock.handleAddRandomCoverClick",environment:t,perform:t=>{x.tk({transaction:t,store:e,coverStore:o,pageCovers:i})}}),this.stores.loadingPageCoverStore.setState(!1)},this.handleCustomizeLayout=()=>{const e=Ge(this.props.store);e&&(0,z.IR)({environment:this.environment,collectionStore:e,from:"customize_page_button_above_title"})},this.handleHeaderMouseEnter=()=>{ne.Z.state.isDragging||Ce.default.state.isActive||this.stores.headerMouseStore.setState({...this.stores.headerMouseStore.state,mouseEntered:!0})},this.handleHeaderMouseLeave=()=>{ne.Z.state.isDragging||Ce.default.state.isActive||this.stores.headerMouseStore.setState({...this.stores.headerMouseStore.state,mouseEntered:!1})},this.handleDetailsMouseEnter=()=>{ne.Z.state.isDragging||Ce.default.state.isActive||this.stores.detailsMouseStore.setState({...this.stores.detailsMouseStore.state,mouseEntered:!0})},this.handleDetailsMouseLeave=()=>{ne.Z.state.isDragging||Ce.default.state.isActive||this.stores.detailsMouseStore.setState({...this.stores.detailsMouseStore.state,mouseEntered:!1})},this.handleHeaderMouseEnterThrottled=C.P2(this.handleHeaderMouseEnter,100),this.handleHeaderMouseLeaveDebounced=C.Ds(this.handleHeaderMouseLeave,100),this.handleDetailsMouseEnterThrottled=C.P2(this.handleDetailsMouseEnter,100),this.handleDetailsMouseLeaveDebounced=C.Ds(this.handleDetailsMouseLeave,100),this.handleTitleEditText=e=>{const t=this.titleStore.state;t&&(E.eP({environment:this.environment,store:this.props.store}),e.isAtStartOfLine?T.N_({store:t}):T.NX({store:t}))},this.handleTitleEsc=e=>{const{onTitleEsc:t}=this.props;T.ZH({debug:{userAction:"PageViewBlock.handleTitleEsc"},environment:this.environment}),E.ZH({debug:{userAction:"PageViewBlock.handleTitleEsc"},environment:this.environment}),t&&t(e)},this.handleTitleTab=e=>{const{store:t}=this.props;if(t.isCollectionView())return!0;if(e.preventDefault(),function(e){return Boolean(Ge(e))}(this.props.store)){const e=(0,N.y6)(this.props.store);if(e&&e.collection_page_properties){const o=e.collection_page_properties.find(((e,t)=>function(e,t){const o=Ge(t);if(!o)return!1;const i=function(e){return e.getSchema()}(t),s=i[e];return Boolean(s&&!c.uk.includes(s.type))}(e.property,this.props.store)));o&&s.default.afterNextFlush((()=>{var e;M.bA({environment:this.environment,blockPropertyValueOverlayStore:(e=this.props.context,(0,N.OZ)(e)?Se.Z:pe.Z),collectionContextStore:this.collectionContextStore,store:t,property:o.property,format:Me.C.Page})}))}}},this.handleTitleUntab=e=>{const{store:t}=this.props;if(t.isCollectionView())return!0;this.handleTitleEsc(e)},this.handleTitleChange=()=>{this.stores.templatePickerMenuListStore.reset()},this.showTemplatePickerStore=this.createComputedStore((()=>{const{store:e,context:t}=this.props,o=this.environment.currentUser.isLoggedIn(),i=this.pageContext&&this.pageContext.publicEditModeStore.state;let s;return t===ge.S.Frame?s=te.default.state.currentLoadingContainerStore:t===ge.S.PeekView&&ve.default.state.open&&(s=ve.default.state.loadingContainerStore),Boolean(e&&s&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&o&&(!(null!=i&&i.hasPublicPermission)||"edit"===(null==i?void 0:i.permission))&&!(Boolean(ye.Z.state.pageMap[e.id])||ue.Z.state.pages.has(e.id))&&s.state.ready&&!(0,N.a_)(this.props.store)&&!(0,N.Wt)(this.props.store)&&(!(0,R.GD)(i)||"completionPopup"!==se.default.state.type))})),this.pageIconPropsStore=this.createComputedStore((()=>({store:this.props.store,isEditable:this.isEditable(),hasCover:this.hasCoverStore.state,isInSidePeek:Ue(this.props.store),openMenuOnMountCallback:()=>{this.clickedAddIconState=!1}}))),this.pageTitlePropsStore=this.createComputedStore((()=>{var e;const t=(null===(e=this.props.styleOverrides)||void 0===e?void 0:e.paddingX)??(0,N.RH)(this.props.context,this.environment);return{store:this.props.store,disabled:!this.canEdit(),isInSidePeek:Ue(this.props.store),paddingLeft:t,paddingRight:t,extraStyles:this.props.titleStyle,titlePlaceholder:this.props.titlePlaceholder,collectionContextStore:this.collectionContextStore,shouldShowTemplatePicker:this.showTemplatePickerStore.state,onTitleChange:this.handleTitleChange,onTitleEditText:this.handleTitleEditText,onTitleEsc:this.handleTitleEsc,onTitleUntab:this.handleTitleUntab,onTitleTab:this.handleTitleTab}})),this.extraLayoutStylesStore=this.createComputedStore((()=>{if(U.MQ.state===this.props.store.id)return{maxHeight:"calc(100vh - 200px)",overflow:"hidden"}})),this.onCollectionViewBlockMount=e=>{"page"===e&&k.markInitialPageRenderComplete({environment:this.environment,isEditable:this.isEditable(),isHomePage:!1,isWikiHome:!0})}}get registries(){return super.registries.concat($.Z)}getContentInnerWidth(){const e=this.getContentWrapEl();if(e){const t=e.getBoundingClientRect().width,o=this.getContentPadding()??{paddingLeft:0,paddingRight:0};return t-o.paddingLeft-o.paddingRight}}getContentPadding(){const e=this.getContentWrapEl();if(e){if(Re(this.environment.device))return{paddingLeft:0,paddingRight:0};const t=getComputedStyle(e),o=parseFloat(t.getPropertyValue("padding-left")),i=parseFloat(t.getPropertyValue("padding-left"));return{paddingLeft:C.i2(o)?0:o,paddingRight:C.i2(i)?0:i}}}UNSAFE_willMountOrUpdate(e){super.UNSAFE_willMountOrUpdate(e);const{store:t,context:o}=e;var i;"page"===this.environment.RouterStore.state.route.name&&(null===(i=this.environment.mobileNative)||void 0===i||i.markTransitionReady({type:"page",id:this.props.store.id}));const s=Ge(this.props.store);if(this.collectionContextStore.collectionStore()!==s&&s){const e=s.getParentBlockStore();this.collectionContextStore.setContext({type:"collectionPage",collectionViewBlockStore:e,collectionStore:s})}if(o===ge.S.Frame){const e=qe(o),i=this.pageContext&&this.pageContext.publicEditModeStore.state;null!=i&&i.hasPublicPermission&&"edit"===i.permission&&!t.isTemplate()?b.Bw({bannerStore:e,id:"EditingPageBanner",contentKey:"editing_page",styleKey:O.v.White}):b.qL({bannerStore:e,id:"EditingPageBanner"});de.Z.state.pageMap[t.id]?b.Bw({bannerStore:e,id:"ImportingEvernotePage",contentKey:"importing_evernote",styleKey:O.v.Blue,blockStore:t}):b.qL({bannerStore:e,id:"ImportingEvernotePage"})}if(Xe(o)){var n;const e=qe(o),i=W.oZ(t),s=W.wf(t)||Boolean(null===(n=ee.Z.state.publicPageData)||void 0===n?void 0:n.isDeleted),r=W.D0(t);if((0,m.nV)(i))b.Bw({bannerStore:e,id:"SpaceContentDuplicationPage",contentKey:"space_content_duplication",styleKey:O.v.Red,blockStore:t});else if(s)b.Bw({bannerStore:e,id:"DeletedPage",contentKey:"deleted_or_moved_page",blockStore:t,styleKey:O.v.Red});else if(r)b.Bw({bannerStore:e,id:"ArchivedTeamPage",contentKey:"page_in_archived_team",styleKey:O.v.Red});else for(const t of["SpaceContentDuplicationPage","DeletedPage","ArchivedTeamPage"])b.qL({bannerStore:e,id:t});V.TI.state&&"disconnected"===I.Z.state?b.Bw({bannerStore:e,id:"DictationConnectionBanner",styleKey:O.v.Yellow,contentKey:"dictation_connection",blockStore:t}):b.qL({bannerStore:e,id:"DictationConnectionBanner"}),t.isTemplate()?b.Bw({bannerStore:e,id:"CollectionTemplatePage",contentKey:"template_in_page",styleKey:O.v.Beige,blockStore:t,context:o,disabled:this.props.disabled}):t.isInsideFactoryOrDuplicateBlocksAction()?b.Bw({bannerStore:e,id:"CollectionTemplatePage",contentKey:"template_in_button",styleKey:O.v.Beige,blockStore:t,context:o,disabled:this.props.disabled}):b.qL({bannerStore:e,id:"CollectionTemplatePage"}),t.useCrdt()&&!ae.default.checkGate({gateName:"suppress_crdt_banner"})&&this.environment.currentUser.isLoggedIn()?b.Bw({bannerStore:e,id:"CrdtPage",contentKey:"crdt_page",styleKey:O.v.Beige}):b.qL({bannerStore:e,id:"CrdtPage"});const a=t.getFormat();ae.default.checkGate({gateName:"improved_asana_importer_screens"})&&null!=a&&a.is_asana_imported_project&&b.Bw({bannerStore:e,id:"AsanaImporterBanner",contentKey:"asana_importer_banner",blockStore:t,styleKey:O.v.ImportNotification})}}didMount(){const{device:e}=this.environment,{store:t,context:o}=this.props,i=this.titleStore.state;if((0,K.L)(),this.enableSuggestEditModeOnMountForCommentOnlyUser(),e.isPhone){const{PageScroller:e}=G.Z;if(e){if(e.scrollerEl()&&this.canEdit()&&!this.hasCoverStore.state){const t=$e(this.props.context,this.environment);e.scrollTo(t)}}}var s;i&&this.shouldSelectTitleOnMount()&&(E.eP({environment:this.environment,store:t}),T.NX({store:i}),e.isAndroid&&(null===(s=this.environment.mobileNative)||void 0===s||s.forceShowSoftKeyboard()));if(k.updateMetricDataWithIsPushTag(this.environment),o!==ge.S.Frame||this.props.store.isCollectionView()||(k.markInitialPageRenderComplete({environment:this.environment,isEditable:this.isEditable(),isHomePage:!1,isWikiHome:!1}),function(e,t){const{device:o,RouterStore:i}=t,{route:s}=i.state,n=e;var r;o.isMobileNative&&"page"===s.name&&s.showMoveTo&&n.isEmptyTitle()&&n.isEmptyPage()&&(null===(r=t.mobileNative)||void 0===r||r.markTransitionReady({type:"new_page",id:n.id}))}(this.props.store,this.environment)),this.collectionContextStore){const e=(0,j.vS)(this.collectionContextStore);J.default.measure("collections.open_item_page_lag",{environment:this.environment,data:{...e,peek_mode:ve.default.getPeekMode()}})}!function(e,t){if("space_for_ai"!==(0,_.sy)())return;const o=e.getContentStores()[0],i=_.__.state;if(!o||o.id!==i)return;E.eP({environment:t,store:o}),T.NX({store:o.getBlockTitleStore()})}(this.props.store,this.environment)}willUnmount(){super.willUnmount(),Xe(this.props.context)&&(b.qL({bannerStore:qe(this.props.context),id:"DeletedPage"}),b.qL({bannerStore:qe(this.props.context),id:"CollectionTemplatePage"}),b.qL({bannerStore:qe(this.props.context),id:"Site"}),b.qL({bannerStore:qe(this.props.context),id:"CrdtPage"}),ae.default.checkGate({gateName:"improved_asana_importer_screens"})&&b.qL({bannerStore:qe(this.props.context),id:"AsanaImporterBanner"}))}renderPageLayoutModules(e){const t=this.getHorizontalTransformStyles();var o,i;const s=function(e,t,o,i){if(i.device.isPhone)return"phone";if(i.device.isTablet)return(0,N.mO)(t,o,i)?"wide":"tablet";if((0,N.OZ)(o))return Ue(t)?"side-peek":"center-peek";if(function(e){return e===ge.S.InAppTemplatePreview}(o)||function(e){return e===ge.S.InPageSnapShot}(o))return"template-preview";return(0,N.mO)(t,o,i)?e?"wide-right-margin-expanded":"wide":"default"}((o=this.props.store,i=this.environment,{visible:(0,B.fg)(i,o)}).visible,this.props.store,this.props.context,this.environment);return(0,_e.jsx)(xe.Z,{isVisible:!0,animationStyle:t.layout,render:()=>{var t;return(0,_e.jsx)(Q.Xg,{type:s,withBottomPadding:!0,style:this.extraLayoutStylesStore.state,children:(0,_e.jsx)(X.Z,{context:this.props.context,onMouseEnter:this.handleHeaderMouseEnterThrottled,onMouseLeave:this.handleHeaderMouseLeaveDebounced,onMouseMove:this.handleHeaderMouseEnterThrottled,onDetailMouseEnter:this.handleDetailsMouseEnterThrottled,onDetailMouseLeave:this.handleDetailsMouseLeaveDebounced,pageCoverHeight:(null===(t=this.props.styleOverrides)||void 0===t?void 0:t.pageCoverHeight)??Ke.defaultPageCoverHeight(this.environment),modules:e,styleOverrides:this.props.styleOverrides,templatePickerMenuListStore:this.stores.templatePickerMenuListStore,topControls:this.getTopControls(),getControlHoverStyle:e=>this.getControlHoverStyle({isBottomControl:e}),pageViewBlockStores:{...this.stores},...this.pageIconPropsStore.state,openMenuOnMount:this.clickedAddIconState,...this.pageTitlePropsStore.state,disabled:this.props.disabled,pageViewBlockAccessor:this.getContentWrapEl,ref:e=>{e&&(this.contentEl=e)}})})}})}renderPersisted(){var e,t,o;const{store:i,context:s}=this.props;if(i.getType()===d.Ti.copyIndicator&&(i.getParentTable()!==g.vF||i.getParentTable()===g.vF&&0===Object.keys(i.getProperties()).length))return(0,_e.jsx)(q.X,{});if(i.isCollectionView())return(0,_e.jsx)(Z.L1,{value:this.collectionContextStore,children:(0,_e.jsx)(be.Z,{canEdit:this.canEdit(),context:s,controlHoverStyle:this.getControlHoverStyle({}),handleHeaderMouseEnterThrottled:this.handleHeaderMouseEnterThrottled,handleHeaderMouseLeaveDebounced:this.handleHeaderMouseLeaveDebounced,headerFocusStore:this.stores.headerFocusStore,pageCover:this.renderPageCover(),topControls:this.getTopControls(),...this.pageIconPropsStore.state,openMenuOnMount:this.clickedAddIconState,...this.pageTitlePropsStore.state,store:i,onCollectionViewBlockMount:this.onCollectionViewBlockMount})});if(i.isFormBlock())return(0,_e.jsx)(F.DH,{});const n=Boolean(ae.default.checkGate({gateName:"enable_transcript_tab"})&&(null===(e=this.collectionContextStore.collectionStore())||void 0===e?void 0:e.getDatabaseType())===a.Fi&&(null===(t=this.props.store.getFormatStore().getValue())||void 0===t||null===(t=t.content_tabs)||void 0===t?void 0:t[l.Z])),r=this.props.store.getAssociatedCollectionStore(),c=ae.default.checkGate({gateName:"page_layouts"})&&(null==r||null===(o=r.getLayoutStore())||void 0===o?void 0:o.getModules());let h;return h=n?this.renderPageLayoutModules(u.qC.page_main):c?this.renderPageLayoutModules(c.page_main):this.renderPageLayoutModules(u.st.page_main),this.collectionContextStore&&this.collectionContextStore.contextType&&(h=(0,_e.jsx)(Z.L1,{value:this.collectionContextStore,children:h})),(0,_e.jsx)(Pe.O,{displayName:"PageContent",style:{...Ie,...this.props.style},disabled:!this.canEdit()||this.props.store.isNonEditableState(),shouldSelectOnEnter:We,children:h})}getTopControls(){const e=[],t=this.renderAddIcon();t&&e.push((0,_e.jsx)(i.Fragment,{children:t},"add-icon"));const o=this.renderAddCover();o&&e.push((0,_e.jsx)(i.Fragment,{children:o},"add-cover"));const s=this.renderCustomizeLayout();s&&e.push((0,_e.jsx)(i.Fragment,{children:s},"customize-layout"));const n=this.renderGeneratePreviewImage();return n&&e.push((0,_e.jsx)(i.Fragment,{children:n},"generate-preview-image")),e}renderPageCover(){const{WindowSizeStore:e}=this.environment,{store:t,styleOverrides:o,context:i}=this.props,s=t.isCollectionView()?"20vh":(null==o?void 0:o.pageCoverHeight)??Ke.defaultPageCoverHeight(this.environment),n=(null==o?void 0:o.paddingX)??(0,N.RH)(i,this.environment);return(0,_e.jsx)(ke.p,{allowSelectionWithin:!1,style:(0,Y.p)(this.props.store,this.environment),onMouseEnter:this.handleHeaderMouseEnterThrottled,onMouseMove:this.handleHeaderMouseEnterThrottled,onMouseLeave:this.handleHeaderMouseLeaveDebounced,children:(0,_e.jsx)(we.Z,{height:s,store:t,disabled:!this.isEditable(),paddingLeft:e.getSafePaddingLeftCSS(n),paddingRight:e.getSafePaddingRightCSS(n),proxyWidth:e.state.width})})}renderAddIcon(){if(this.isEditable()&&!this.isSuggestModeStore.state&&!this.hasIconStore.state)return(0,_e.jsx)(Te.Z,{store:this.props.store,afterOnClick:()=>{this.clickedAddIconState=!0},style:this.getControlHoverStyle({})})}renderAddCover(){const{device:e}=this.environment;if(this.isEditable()&&!this.isSuggestModeStore.state&&!this.hasCoverStore.state)return!0===this.stores.loadingPageCoverStore.state?(0,_e.jsx)(Ee.Z,{style:this.getControlHoverStyle({}),isLightGray:!0,disabled:!0,icon:h.P,children:e.isSmallPhone?(0,_e.jsx)(v.FormattedMessage,{id:"pageViewBlock.add.pageCoverMobileLoading",defaultMessage:"Loading"}):(0,_e.jsx)(v.FormattedMessage,{id:"pageViewBlock.add.pageCoverLoading",defaultMessage:"Loading cover"})},"add-cover-loading"):(0,_e.jsx)(Ee.Z,{style:this.getControlHoverStyle({}),isLightGray:!0,onClick:this.handleAddRandomCoverClick,icon:h.P,children:e.isSmallPhone?(0,_e.jsx)(v.FormattedMessage,{id:"pageViewBlock.add.pageCoverMobile",defaultMessage:"Cover"}):(0,_e.jsx)(v.FormattedMessage,{id:"pageViewBlock.add.pageCover",defaultMessage:"Add cover"})},"add-cover")}renderCustomizeLayout(){const{device:e}=this.environment;if(!this.isEditable())return;if(this.isSuggestModeStore.state)return;if(!ae.default.checkGate({gateName:"page_layouts"})||e.isMobile)return;const t=Ge(this.props.store);return t&&t.canEditCollection()?(0,_e.jsx)(Ee.Z,{style:this.getControlHoverStyle({}),iconStyle:{width:18,height:18},isLightGray:!0,onClick:this.handleCustomizeLayout,icon:p.J,children:(0,_e.jsx)(v.FormattedMessage,{id:"pageViewBlock.customizeLayout",defaultMessage:"Customize layout"})},"customize-layout"):void 0}renderGeneratePreviewImage(){const{store:e}=this.props,{device:t}=this.environment;if(this.isEditable()&&!t.isMobile)return(0,_e.jsx)(F.GZ,{store:e})}isEditable(){return this.canEditCollection()&&!this.props.store.isNonEditableState()&&!(0,N.a_)(this.props.store)&&!(0,N.Wt)(this.props.store)}shouldSelectTitleOnMount(){const{device:e}=this.environment,{store:t}=this.props,o=this.titleStore.state,{forceSelectTitleOnMount:i}=this.props;return!!o&&(!!i||!t.isCollectionView()&&(!S.QaF(o.getValue())||(0,N.CX)(this.props.store)&&!e.isMobile))}enableSuggestEditModeOnMountForCommentOnlyUser(){const{store:e}=this.props;ae.default.checkGate({gateName:"human_suggested_edits_advanced_enabled"})&&!this.environment.device.isMobile&&!e.canEdit()&&e.canComment()&&P.t({environment:this.environment,blockStore:e,mode:"suggest",location:"default_on_for_comment_only_user"})}static defaultPageCoverHeight(e){return e.device.isMobile?200:"30vh"}static paddingBottom(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{device:o}=e;return o.isTablet?380:o.isIOS?Math.max(350,t):o.isMobile?400:"30vh"}getControlHoverIsVisible(e){const{device:t}=this.environment,o=this.stores.headerMouseStore.state.mouseEntered,i=this.stores.detailsMouseStore.state.mouseEntered,s=this.stores.headerFocusStore.state,n=this.stores.detailsFocusStore.state;return!!t.isMobile||(e?i&&!ce.Z.state.isKeyboardMode||n:o&&!ce.Z.state.isKeyboardMode||s)}getControlHoverStyle(e){let{isBottomControl:t}=e;return et(this.getControlHoverIsVisible(t))}}const Ne=Ke;function We(){return 0===fe.default.state.stores.length}function Ge(e){return e.getAssociatedCollectionStore()}function ze(e){return e===ge.S.Frame}function Ue(e){return L.en(e)&&(ve.default.isSidePeekOpen()||ve.default.isSidePeekClosingStore.state)}function qe(e){return(0,N.OZ)(e)?me.Z:ze(e)?le.Z:(0,f.t1)(e)}function Xe(e){return ze(e)||(0,N.OZ)(e)}function Qe(e,t){if(function(e){return e===te.default.state.mainEditorCurrentBlockStore}(e)){const{RouterStore:e}=t;return e.state.route.collectionViewId}}function Ye(e,t){return t.device.isMobile?16:(0,N.OZ)(e)?32:80}function Je(e){if(!e.device.isMobile)return 4;return(0,A.kS)(e)?12:32}function $e(e,t){return 28+Ye(e,t)}function et(e){return{opacity:e?1:0,pointerEvents:e?"auto":"none",transition:"opacity 100ms ease"}}}}]);