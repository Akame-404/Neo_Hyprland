"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[25713],{199726:(e,t,i)=>{i.d(t,{GS:()=>d,M5:()=>u,oj:()=>r});var o=i(79571),n=i(210228),s=i(237181),a=i(80444),l=i(279827);function r(e){const{environment:t,userSettingsStore:i}=e;n.createAndCommit({environment:t,userAction:"debuggingHelpers.markDummyModal",perform:e=>{s.d2({userSettingsStore:i,transaction:e,data:{seen_dummy_modal:!0}})}})}function d(e,t){if(l.default.getCalloutVisibility(t).isEligible){const e=(0,o.QN)(t);l.default.state.forcedCalloutsStore.delete(t),l.default.state.placementStores[e].delete(t)}}function u(e){const t=(0,o.QN)(e);"Modal"===t&&l.default.state.placementStores[t].clear(),l.default.state.placementStores[t].add(e),l.default.state.forcedCalloutsStore.add(e);a.default.state.inAppCalloutStore.updateCalloutStatus({calloutId:e,visible:!0})}},65037:(e,t,i)=>{i.d(t,{Z:()=>H});var o=i(667294),n=i(800480),s=i(886628),a=i(724405),l=i(427328),r=i(399747),d=i(524677),u=i(898104),c=i(436488),S=i(828451),p=i(550506),g=i(953437),h=i(953336),m=i(132662),f=i(95477),y=i(918514),x=i(434859),C=i(223196),b=i(80444),k=i(279827),w=i(319385),M=i(869454),v=i(992083),j=i(807339),V=i(706210),L=i(559054),_=i(521273),K=i(288280),B=i(954690),Z=i(79571);function I(e){const t=e,i=(0,s.VK)((()=>b.default.state.inAppCalloutStore.getCalloutVisibility(t)),[t]),o=(0,s.VK)((()=>k.default.getCalloutVisibility(e)),[e]);return(0,s.VK)((()=>function(e){const{calloutKey:t,oldSystemCalloutVisibility:i,newSystemCanShow:o}=e,{canShow:n,conflictingKey:s}=i,a=n||Z.rx.includes(s)&&s!==t;return o&&a}({calloutKey:e,oldSystemCalloutVisibility:i,newSystemCanShow:o.isEligible})),[i,o,e])}function F(e){const t=(0,s.VK)((()=>w.default.isStatsigReady()),[]),i=(0,s.VK)((()=>w.default.checkGate({gateName:"use_new_callout_modal_placement"})),[]),o=function(e){const t=(0,n.O7)(),{currentUserSettingsStore:i,experimentStore:o,currentUserSettingsStoreState:a,mainEditorCurrentBlockStore:l,currentSpaceStore:r,assistantFeatureGateStore:d,currentSpaceViewStore:u,currentSpaceViewStoreState:c,subscriptionDataStore:S,statsigServiceStateIsReady:p}=(0,s.VK)((()=>{var e,t;return{currentUserSettingsStore:b.default.state.currentUserSettingsStore,experimentStore:w.default,assistantFeatureGateStore:_.Z,mainEditorCurrentBlockStore:b.default.state.mainEditorCurrentBlockStore,currentSpaceStore:b.default.state.currentSpaceStore,currentUserSettingsStoreState:null===(e=b.default.state.currentUserSettingsStore)||void 0===e?void 0:e.getSettingsStore().getValue(),currentSpaceViewStore:b.default.state.currentSpaceViewStore,currentSpaceViewStoreState:null===(t=b.default.state.currentSpaceViewStore)||void 0===t?void 0:t.getSettings(),subscriptionDataStore:K.subscriptionDataStoreInstance,statsigServiceStateIsReady:j.C.state.ready}}),[]),[{value:g}]=(0,L.r5)((async()=>{if(!(i&&o&&a&&l&&r&&u&&c&&S&&p))return!1;const n=B.$[e],s=await n(t,{currentUserSettingsStore:i,experimentStore:o,mainEditorCurrentBlockStore:l,currentSpaceStore:r,assistantFeatureGateStore:d,currentSpaceViewStore:u,subscriptionDataStore:S});return k.default.isForced(e)||s}),[i,o,a,l,r,u,c,S,e,t,d,p]);return Boolean(g)}(e),a=I(e);return!!t&&(i?a:o)}var R=i(785893);function z(e){const{calloutKey:t,children:i,onShow:a,shouldShow:l}=e,r=t,d=(0,n.O7)(),u=(0,s.VK)((()=>w.default.checkGate({gateName:"use_new_callout_modal_placement"})),[]),c=(0,s.VK)((()=>b.default.state.inAppCalloutStore),[]),p=(0,s.VK)((()=>k.default.getCalloutVisibility(t)),[t]),g=(0,o.useMemo)((()=>()=>{null==a||a(),V.gF(d,{callout_key:t,placement_key:"Modal",is_forced:!!u&&p.isForced})}),[d,t,a,p.isForced,u]);return(0,o.useEffect)((()=>{if(u)if(p.isEligible){c.updateCalloutStatus({calloutId:r,visible:!0,validateCanShow:!0})&&g()}else c.updateCalloutStatus({calloutId:r,visible:!1})}),[l,g,r,p.isEligible,c,u]),u?l?(0,R.jsx)(R.Fragment,{children:i}):null:(0,R.jsx)(S.g,{calloutId:t,shouldShow:l,onShow:g,children:i})}function H(e){const{calloutKey:t,onModalShow:i,desktopRenderInner:S,desktopInnerStyle:k,desktopOnDismiss:L,phoneRenderInner:_,phoneInnerStyle:K}=e,B=(0,n.O7)(),Z=(0,n.Fy)(),I=(0,s.VK)((()=>(0,y.__)(B)),[B]),H=(0,s.VK)((()=>{const e=B.TabbedRouterStore;return(0,l.w_)(e.state)}),[B.TabbedRouterStore]),T=(0,s.VK)((()=>{var e;return"web"===H.type&&((null===(e=H.redirectedTo)||void 0===e?void 0:e.route)||H.route)}),[H]),W=(0,s.VK)((()=>{const e="notTransitioning"===b.default.state.spaceTransitionStatus&&b.default.state.initialized,t=w.default.state.isLoaded,i=j.C.isReadyWithUserAndSpaceId();if(!e||!t||!i)return!1;if(v.Z.state.open)return!1;const o=f.default.isAdminMode;return Z.isPhone&&I?!o&&T&&"page"===T.name:!o}),[Z.isPhone,I,T]),D=(0,s.VK)((()=>B.WindowSizeStore.isLandscape()),[B.WindowSizeStore]),P=(0,s.VK)((()=>B.WindowSizeStore.getSafePaddingTopCSS(r.g)),[B.WindowSizeStore]),A=(0,s.VK)((()=>{const e=M.Z.state.phase===M.i.hidden||M.Z.state.phase===M.i.willHide;let t=M.Z.estimatedNativeWebBottomOverlap();return Z.isMobileBrowser&&(t+=32),e?B.WindowSizeStore.getSafePaddingBottomPx(t):t}),[Z.isMobileBrowser,B.WindowSizeStore]),E=F(t),U=(0,o.useCallback)((()=>{null==i||i(),Z.isPhone&&(d.ZH({debug:{userAction:"AnnouncementModal2.resolvedOnModalShow"},environment:B}),u.sD())}),[B,Z.isPhone,i]),O=(0,a.yK)((e=>({popupStyle:{background:e.sidebarBackground,borderRadius:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},scrollerStyle:{background:e.sidebarBackground,width:D?"80%":"100%",height:D?void 0:"100%",display:"flex",flexDirection:"column",alignItems:"center",...K},modalStyle:{background:e.sidebarBackground,borderRadius:12,...k}})),[D,k,K]);return Z.isPhone?W?(0,R.jsx)(z,{calloutKey:t,shouldShow:E,onShow:U,children:(0,R.jsx)(g.ZP,{open:E,forceFullScreenSlideUp:!0,hidesMobileNativeBottomBar:!0,preventBlockRenderQueueOnEnter:!0,popupType:C.k.SlideUp,onDismiss:()=>{V.bl(B,{callout_key:t,placement_key:"Modal",dismiss_type:"modal_background_clicked"})},onClosed:()=>{V.bl(B,{callout_key:t,placement_key:"Modal",dismiss_type:"modal_dismiss_clicked"})},style:O.popupStyle,render:()=>(0,R.jsxs)(h.Z,{type:D?x.Z.Y:x.Z.None,style:O.scrollerStyle,children:[(0,R.jsx)(m.Z,{size:D?200:P}),_(),(0,R.jsx)(m.Z,{size:A})]})})}):null:W?(0,R.jsx)(z,{calloutKey:t,shouldShow:E,onShow:U,children:(0,R.jsx)(p.Z,{open:E,preventHideChildrenWhileOpening:!0,onDismiss:L,innerStyle:O.modalStyle,render:()=>(0,R.jsx)(c.Z,{capture:!0,allowEsc:!0,render:S})})}):null}},671316:(e,t,i)=>{i.r(t),i.d(t,{SitesLaunchModal:()=>b});var o=i(667294),n=i(800480),s=i(724405),a=i(841892),l=i(964275),r=i(726139),d=i(709291),u=i(137810),c=i(199726),S=i(65037),p=i(897122),g=i(411066),h=i(584076),m=i(164369),f=i(785893);function y(){const e=(0,s.Fg)(),t=(0,s.yK)((e=>({container:{userSelect:"none"},img:{height:294,width:480,marginLeft:-24,marginTop:-24},publish:{position:"absolute",top:193,left:134,width:212,height:28,display:"flex",justifyContent:"center",alignItems:"center",color:e.white,fontSize:14},title:{position:"absolute",top:90,left:134,width:212,height:30,fontSize:20,fontWeight:u.Z.fontWeight.bold},topBar:{position:"absolute",top:35,left:88,width:320,height:40,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:12,color:e.text.secondary},topRight:{display:"flex"},about:{paddingRight:8}})),[]);return(0,f.jsxs)("div",{style:t.container,children:[(0,f.jsx)("img",{src:"dark"===e.mode?a.Z.images.sites.sitesLaunchModalDarkPng:a.Z.images.sites.sitesLaunchModalPng,style:t.img}),(0,f.jsxs)("div",{style:t.topBar,children:[(0,f.jsx)("div",{children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"Blog",id:"sitesLaunchModal.image.topBar.blog"})}),(0,f.jsxs)("div",{style:t.topRight,children:[(0,f.jsx)("div",{style:t.about,children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"About me",id:"sitesLaunchModal.image.topBar.about"})}),(0,f.jsx)("div",{children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"Say hi",id:"sitesLaunchModal.image.topBar.sayHi"})})]})]}),(0,f.jsx)("div",{style:t.title,children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"About Me",id:"sitesLaunchModal.image.title"})}),(0,f.jsx)("div",{style:t.publish,children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"Publish",id:"sitesLaunchModal.image.cta"})})]})}function x(e){const{onDismiss:t}=e,i=(0,s.yK)((e=>({footerContainer:{margin:"20px 0px 0px 0px",display:"inline-block",width:"100%"},learnMoreLink:{color:e.lightTextColor,fontSize:14,display:"inline-block",margin:"0 auto",position:"relative",top:5},learnMoreLinkHoveredPressed:{padding:"2px 7px 3px 9px",borderRadius:4,margin:"0 0 0 -9px"},externalLinkIcon:{width:16,position:"relative",top:3,display:"inline-block",marginLeft:2},footerRight:{float:"right"},skipLink:{display:"inline-block",fontSize:14,color:e.lightTextColor,padding:"3px 9px",borderRadius:4,marginRight:10},trySitesButton:{display:"inline-block",fontSize:14,margin:"0 auto",gap:4,padding:"8px 12px"}})),[]),n=(0,o.useCallback)((()=>{}),[]),a=(0,o.useCallback)((()=>{}),[]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{style:i.footerContainer,children:[(0,f.jsxs)(h.Z,{onClick:n,style:i.learnMoreLink,hoveredStyle:i.learnMoreLinkHoveredPressed,external:!0,children:[(0,f.jsx)(d.FormattedMessage,{defaultMessage:"Learn more",id:"sitesLaunchModal.learnMore"}),(0,r.K)(i.externalLinkIcon)]}),(0,f.jsxs)("div",{style:i.footerRight,children:[(0,f.jsx)(h.Z,{onClick:t,style:i.skipLink,external:!0,children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"Skip",id:"sitesLaunchModal.skip"})}),(0,f.jsx)(p.h,{styles:i.trySitesButton,onClick:a,children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"Try Sites",id:"sitesLaunchModal.trySites"})})]})]})})}function C(){const e=(0,s.yK)((()=>({title:{display:"inline-block",fontWeight:u.Z.fontWeight.semibold,fontSize:28,lineHeight:"30px",maxWidth:480,width:480,textAlign:"left"},captionContainer:{width:"100%"},caption:{maxWidth:380,paddingTop:8}})),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m.Z,{isMultiline:!0,style:e.title,children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"Introducing Notion Sites",id:"sitesLaunchModal.title"})}),(0,f.jsx)("div",{style:e.captionContainer,children:(0,f.jsx)(m.Z,{isSecondaryColor:!0,isMultiline:!0,style:e.caption,children:(0,f.jsx)(d.FormattedMessage,{defaultMessage:"The easiest way to get a website up and running, now with custom domains, visual customization, and more.",id:"sitesLaunchModal.caption"})})})]})}function b(){const e=(0,n.O7)(),t=(0,s.yK)((e=>({container:{maxWidth:480,padding:24},closeButton:{position:"absolute",top:12,right:12,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:22,height:22},closeButtonHovered:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.lightTextColor}})),[]),i=(0,o.useCallback)((()=>{c.GS(e,"sites_launch_modal")}),[e]),a=(0,o.useCallback)((()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g.Z,{onClick:i,style:t.closeButton,hoveredStyle:t.closeButtonHovered,children:(0,l.D)(t.closeIcon)}),(0,f.jsx)(y,{}),(0,f.jsx)(C,{}),(0,f.jsx)(x,{onDismiss:i})]})),[t,i]);return(0,f.jsx)(S.Z,{calloutKey:"sites_launch_modal",desktopRenderInner:a,desktopInnerStyle:t.container,desktopOnDismiss:i,phoneRenderInner:()=>(0,f.jsx)(f.Fragment,{})})}},726139:(e,t,i)=>{i.d(t,{K:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("externalLink",{viewBox:"0 0 17 16",svg:(0,n.jsx)("path",{d:"M4.94922 13.498C4.31641 13.498 3.83789 13.3359 3.51367 13.0117C3.18945 12.6914 3.02734 12.2188 3.02734 11.5938V4.46289C3.02734 3.83398 3.18945 3.35938 3.51367 3.03906C3.83789 2.71875 4.31641 2.55859 4.94922 2.55859H12.0449C12.6777 2.55859 13.1562 2.71875 13.4805 3.03906C13.8047 3.35938 13.9668 3.83398 13.9668 4.46289V11.5938C13.9668 12.2188 13.8047 12.6914 13.4805 13.0117C13.1562 13.3359 12.6777 13.498 12.0449 13.498H4.94922ZM5.01953 12.3438H11.9746C12.2441 12.3438 12.4512 12.2734 12.5957 12.1328C12.7402 11.9922 12.8125 11.7793 12.8125 11.4941V4.55664C12.8125 4.27539 12.7402 4.06445 12.5957 3.92383C12.4512 3.7832 12.2441 3.71289 11.9746 3.71289H5.01953C4.74609 3.71289 4.53711 3.7832 4.39258 3.92383C4.25195 4.06445 4.18164 4.27539 4.18164 4.55664V11.4941C4.18164 11.7793 4.25195 11.9922 4.39258 12.1328C4.53711 12.2734 4.74609 12.3438 5.01953 12.3438ZM10.334 9.54297C10.1855 9.54297 10.0664 9.49609 9.97656 9.40234C9.89062 9.30859 9.84766 9.17969 9.84766 9.01562V8.08398L9.93555 7.24609L9.15039 8.10156L7.09961 10.1465C6.99023 10.2559 6.85742 10.3105 6.70117 10.3105C6.55273 10.3105 6.42969 10.2637 6.33203 10.1699C6.23828 10.0762 6.19141 9.95117 6.19141 9.79492C6.19141 9.6582 6.24609 9.53516 6.35547 9.42578L8.41211 7.36914L9.2793 6.57227L8.47656 6.66602H7.48633C7.32617 6.66602 7.19727 6.62305 7.09961 6.53711C7.00586 6.45117 6.95898 6.33203 6.95898 6.17969C6.95898 6.03516 7.00586 5.91992 7.09961 5.83398C7.19727 5.74414 7.32422 5.69922 7.48047 5.69922H10.2227C10.4062 5.69922 10.5508 5.74609 10.6562 5.83984C10.7617 5.93359 10.8145 6.08398 10.8145 6.29102V9.00977C10.8145 9.16602 10.7695 9.29492 10.6797 9.39648C10.5938 9.49414 10.4785 9.54297 10.334 9.54297Z"})})}}]);