"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[60895],{671049:(e,o,t)=>{t.r(o),t.d(o,{UpdateSidebarTabInfo:()=>b});var r=t(667294),l=t(800480),n=t(886628),i=t(724405),d=t(137810),s=t(566890),a=t(925489),c=t(572530),p=(t(21703),t(912398)),u=t(709291),h=t(953336),g=t(434859),x=t(494043),m=t(343617),y=t(756951),f=t(785893);function S(e){const{modules:o,store:t,context:l,disabled:n,shownAs:s}=e,a=(0,i.yK)((e=>({propertyName:{color:e.mediumTextColor,fontSize:d.Z.fontSize.UIRegular.desktop,fontWeight:d.Z.fontWeight.medium,padding:6},scroller:{overflow:"auto",padding:"16px 16px 16px 24px",..."popup"===s?{height:"70vh",maxHeight:"70vh",background:e.popoverBackground,borderRadius:4,boxShadow:e.mediumBoxShadow}:{}}})),[s]),c={properties:e=>(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)("div",{style:a.propertyName,children:(0,f.jsx)(u.FormattedMessage,{id:"SidebarLayoutModules.properties.title",defaultMessage:"Properties"})}),(0,f.jsx)(m.V,{context:l,disabled:n,store:t,wrapper:e=>(0,f.jsx)(x.Pb,{children:e}),expandedByDefault:!0})]},e),property:(e,o,r)=>(0,f.jsx)(y._,{context:l,disabled:n,propertyId:o,store:t,pageModule:r,wrapper:e=>(0,f.jsx)(x.Pb,{children:e})},e)};return(0,f.jsx)(h.Z,{type:g.Z.Y,style:a.scroller,children:o.map(((e,o)=>{if("properties"!==e.type&&!(0,p.f)(e))throw new Error("Invalid module type in sidebar");if((0,p.f)(e))return c.property(o,e.propertyId,e);const t=c[e.type];return t?t(o):null}))})}function b(e){const{modules:o,store:t,context:p,disabled:u,shownAs:h}=e,g=(0,l.O7)(),{modules:x}=(0,c.V)(t),m=o??x,y=(0,r.useMemo)((()=>new a.Z(g)),[g]),b=(0,i.yK)((e=>({label:{fontSize:14,color:e.regularTextColor,fontWeight:d.Z.fontWeight.medium,display:"flex",alignItems:"center"},container:{position:"relative",minHeight:0,display:"flex",flexDirection:"column",background:e.contentBackground,pointerEvents:"auto",height:"100%"}})),[]),v=(0,n.VK)((()=>t.getAssociatedCollectionStore()),[t]),k=(0,n.VK)((()=>null==v?void 0:v.getParentStore()),[v]);return(0,r.useEffect)((()=>{v&&k&&"block"===k.table&&k.isCollectionView()&&y.setContext({type:"collectionPage",collectionViewBlockStore:k,collectionStore:v})}),[y,v,k,m]),m&&y.collectionStore?(0,f.jsx)("div",{style:b.container,children:m&&(0,f.jsx)(s.L1,{value:y,children:(0,f.jsx)(S,{modules:m,context:p,disabled:u,store:t,shownAs:h})})}):null}},756951:(e,o,t)=>{t.d(o,{_:()=>v});var r=t(667294),l=t(886628),n=t(724405),i=t(912398),d=t(137810),s=t(110906),a=t(4827),c=t(278030),p=t(668709),u=t(13654),h=t(99340),g=t(619671),x=t(985526),m=t(282136),y=t(813023),f=t(334017),S=t(494043),b=t(785893);function v(e){const{store:o,context:t,propertyId:v,disabled:k,wrapper:w,pageModule:V}=e,j=(0,h.PE)(o,k),C=(0,l.VK)((()=>f.Z.state.isOpen??!1),[]),K=(0,l.VK)((()=>o.getAssociatedCollectionStore()),[o]),P=(0,l.VK)((()=>null==K?void 0:K.getParentStore()),[K]),Z=(0,l.VK)((()=>{if(o.isCollectionViewPageWithContent())return{type:"hidden"};const e=o.getAssociatedCollectionStore();return e?{type:"visible",store:o,collectionStore:e,propertyId:v}:{type:"hidden"}}),[v,o]),I=(0,l.VK)((()=>null==K?void 0:K.getSchema()),[K]),M=(0,l.VK)((()=>null==K?void 0:K.getFormat()),[K]),W=(0,l.VK)((()=>{var e;return null===(e=Z.collectionStore)||void 0===e?void 0:e.getSchema()[v]}),[Z.collectionStore,v]),A=(0,l.VK)((()=>o.isNonEditableState()),[o]),B=(0,n.yK)((e=>({propertyName:{color:e.mediumTextColor,fontSize:d.Z.fontSize.UISmall.desktop,fontWeight:d.Z.fontWeight.medium,padding:"6px 6px 6px 0"}})),[]),N=(0,r.useMemo)((()=>new x.p),[]),T=(0,l.VK)((()=>o.isLocked()),[o]),E=(0,l.VK)((()=>!(!K||!P||"block"!==P.table)&&(0,s.eD)({collectionStore:K,collectionViewBlockStore:P,checkNavigableAncestorLocked:!1})),[K,P]);if(!W)return null;if("hidden"===Z.type)return null;const _=t===m.S.PeekView,z=(0,i.f)(V)?V:void 0;return K&&I&&M?(w||(e=>(0,b.jsx)(S.Pb,{className:"layout-content-with-divider",children:e})))((0,b.jsx)(p.p,{allowSelectionWithin:!0,children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:C?0:6,marginTop:C?0:12},children:["relation"!==W.type?(0,b.jsx)("div",{style:{flexShrink:1},children:(0,b.jsx)(u.Z,{schema:I,format:M,hideIcon:!0,hideDragHandle:!0,property:v,blockStore:o,collectionStore:K,pagePropertiesStore:N,disabled:k,locked:T,canConfigureCollection:E,isInPeekRenderer:_,style:B.propertyName,module:z})}):null,(0,b.jsx)(a.Z,{store:o,property:v,disabled:!j,locked:A,format:c.C.PropertyModule,tableWrap:!0,blockPropertyValueOverlayStore:_?y.Z:g.Z,collectionStore:Z.collectionStore,isInPeekRenderer:_,propertyModule:z},v)]})})):null}},572530:(e,o,t)=>{t.d(o,{V:()=>n});var r=t(886628),l=t(305971);function n(e){const o=(0,l.E)("page_layouts"),t=(0,r.VK)((()=>{if(!e)return;const o=e.getAssociatedCollectionStore(),t=null==o?void 0:o.getLayoutStore();return null==t?void 0:t.getModules().page_details}),[e]);return o?{modules:t}:{}}}}]);