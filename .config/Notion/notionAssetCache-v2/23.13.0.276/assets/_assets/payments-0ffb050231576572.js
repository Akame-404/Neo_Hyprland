"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[87983],{718250:(e,t,n)=>{n.d(t,{K:()=>o,O:()=>a});var s=n(745483);function a(e){s.Z.state.openModals.has(e)||(s.Z.state.openModals.add(e),s.Z.emit())}function o(e){s.Z.state.openModals.has(e)&&(s.Z.state.openModals.delete(e),s.Z.emit())}},314694:(e,t,n)=>{n.d(t,{Z:()=>c});n(667294);var s=n(800480),a=n(886628),o=n(724405),r=n(439567),i=n(950659),l=n(224646),d=n(785893);function u(){const e=(0,o.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,r.Y)(e.icon)})}function c(e){var t;const n=(0,s.O7)(),r=n.device.isMobile,c=(0,a.VK)((()=>{var t,s;if(r)return n.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(s=e.style)||void 0===s?void 0:s.paddingLeft:10)}),[n.WindowSizeStore,r,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),p=(0,a.VK)((()=>(0,l.BH)(n)),[n]),m=(0,a.VK)((()=>(0,i.MF)(n)),[n]),g=(0,o.yK)((t=>({wrapper:{...r?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:c,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,paddingTop:2,paddingBottom:2,...p&&{height:l.H3,paddingTop:4,paddingBottom:4},...!p&&{marginTop:1,marginBottom:1},...m},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:r?28:22,height:r?24:18,marginLeft:p?void 0:-3,marginRight:p?8:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:r?24:p?l.MY:22,height:r?24:p?l.MY:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!r?"clip":"ellipsis",...e.childrenStyle}})),[r,c,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle,p,m]);return(0,d.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:g.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:g.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:g.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(u,{})]}),(0,d.jsx)("div",{style:g.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:g.right,children:e.right})]})}},274244:(e,t,n)=>{n.d(t,{U:()=>r});var s=n(800480),a=n(886628),o=n(893586);function r(e){const t=(0,s.O7)();return(0,a.VK)((()=>{const n=null==e?void 0:e.id;if(n)return o.Z.getData(t,{spaceId:n})}),[t,e])}},100859:(e,t,n)=>{n.d(t,{r:()=>o});var s=n(886628),a=n(80444);function o(){return(0,s.VK)((()=>a.default.state.currentSpaceStore),[])}},745483:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(749085),a=n(292595);class o extends s.default{getInitialState(){return{openModals:new Set}}}const r=new o,i=r;(0,a.exposeDebugValue)("GlobalModalStore",r)},893586:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(292595);const a=new(n(551444).q)((e=>{let{spaceId:t}=e;return t}),(async function(e,t){let{spaceId:s}=t;const a=await Promise.resolve().then(n.bind(n,454642)),o=await a.getInternalDomains(e,{spaceId:s});return"success"===o.type?o.data.internalDomains:void 0}));s.exposeDebugValue("InternalDomainsStore",a);const o=a},361254:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(749085);class a extends s.default{getInitialState(){return{open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0}}}const o=a},69531:(e,t,n)=>{n.r(t),n.d(t,{CTX_CHECKOUT_MODAL_HEIGHT:()=>Me,ContextualCheckoutModal:()=>je});var s=n(667294),a=n(800480),o=n(886628),r=n(699884),i=n(976940),l=n(843250),d=n(735993),u=n(868187),c=(n(757658),n(886664)),p=n(184747),m=n(724405),g=n(559054),h=n(80721),f=n(803791),y=n(709291),x=n(401898),v=n(286572),b=n(91376),C=n(689024),M=n(573063),j=n(636596),w=n(707124),S=n(536420),I=n(681477),k=n(548779),_=n(922242),T=n(80444),F=n(975160),D=n(140469),N=n(756142),P=n(151133),B=n(195014),O=n(88893),A=n(333493);function R(e){return e.map((e=>e.result)).filter(x.$K)}var Z=n(693943),V=n(288280),G=n(292111),L=n(400505),z=n(543408),U=n(420798),K=n(653965),E=n(622616),H=n(652222),W=n(983622),q=n(785893);function $(e){var t,n;let{stepHeader:s,showAddOnSelect:r,formData:i,updateFormData:l,pricesByInterval:d,primaryProduct:u,analyticsArgs:c}=e;const p=(0,a.O7)(),m=(0,y.useIntl)(),g=(0,W.L)(),{availableCurrencyCodes:h,selectedCurrencyCode:f}=(0,o.VK)((()=>({availableCurrencyCodes:A.Z.availableCurrencyCodes,selectedCurrencyCode:A.Z.selectedCurrencyCode})),[]),x=(0,G.nO)(d[i.billingInterval],"ai"),b=(0,G.nO)(d.month,u),C=(0,G.nO)(d.year,u);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(L.FC,{title:s,children:[(0,q.jsx)(L.yQ,{value:null===(t=i.name)||void 0===t?void 0:t.value,errorMessage:null===(n=i.name)||void 0===n?void 0:n.error,onChange:e=>{X({environment:p,addressType:"name",addressUpdate:e.target.value,...c}),l({name:{value:e.target.value}})},placeholder:m.formatMessage({defaultMessage:"Name",id:"billingDetails.name"})}),(0,q.jsx)(L.yQ,{value:i.businessName,onChange:e=>{X({environment:p,addressType:"businessName",addressUpdate:e.target.value,...c}),l({businessName:e.target.value})},placeholder:m.formatMessage({defaultMessage:"Business name (optional)",id:"billingDetails.businessName"})}),g?(0,q.jsx)(L.yQ,{value:i.vatId,onChange:e=>l({vatId:e.target.value}),placeholder:m.formatMessage({defaultMessage:"VAT/GST number (optional)",id:"billingDetails.vatNumber"})}):null]}),(0,q.jsx)(L.wJ,{selectedBillingInterval:i.billingInterval,monthlyUnitPrice:b,yearlyUnitPrice:C,onChange:e=>{v.FR(p,{billingInterval:e,...c}),l({billingInterval:e})},sectionTitle:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(y.FormattedMessage,{id:"checkout.orderOptions.billingOptions",defaultMessage:"Billing options"}),(0,q.jsx)("div",{style:{position:"absolute",right:0,top:-8},children:(0,q.jsx)(H.V,{availableCurrencyCodes:h,selectedCurrencyCode:f,onSelectCurrency:E.yD,from:"upgrade_modal"})})]})}),r?(0,q.jsx)(L.hj,{selectedAddOn:i.addOn,unitPrice:x,onChange:e=>{v.qz(p,{addOnFeatures:e?[e]:void 0,...c}),l({addOn:e})}}):null]})}const X=(0,K.Ds)((e=>{let{environment:t,addressType:n,addressUpdate:s,modalId:a,modalType:o}=e;v.rY(t,{addressType:n,addressUpdate:s,modal_id:a,modal_type:o})}),1e3);var Y=n(942402),Q=n(841892);function J(){const e=(0,m.yK)((e=>({imgStyles:{position:"absolute",top:91,right:41,zIndex:1,width:232,height:68,src:"dark"===e.mode?Q.Z.images.pricing.dark.upgradeAirplanePng:Q.Z.images.pricing.light.upgradeAirplanePng}})),[]);return(0,q.jsx)("img",{role:"presentation",src:e.imgStyles.src,style:e.imgStyles})}var ee=n(745238);const te=(0,ee.CZ)("people",{default:{loader:()=>n.e(99975).then(n.bind(n,99975)),size:20},small:{loader:()=>n.e(9880).then(n.bind(n,509880)),size:16},mini:{loader:()=>n.e(71269).then(n.bind(n,971269)),size:14},large:{loader:()=>n.e(9616).then(n.bind(n,109616)),size:24}});var ne=n(84267),se=n(732566),ae=n(629300);const oe=(0,ee.IU)("docBadgeClock",{viewBox:"0 0 18 20",svg:(0,q.jsx)("path",{d:"M3.49219 10.1562V3.46875C3.49219 1.78906 4.35938 0.90625 6.03125 0.90625H9.79688C10.7734 0.90625 11.3125 1.0625 11.9688 1.72656L16.0703 5.89844C16.75 6.58594 16.8906 7.08594 16.8906 8.17188V15.2578C16.8906 16.9375 16.0234 17.8203 14.3516 17.8203H8.66406C8.94531 17.3594 9.14844 16.8359 9.24219 16.2891H14.2188C14.9766 16.2891 15.3594 15.8906 15.3594 15.1641V8.375H11.1484C10.0391 8.375 9.48438 7.83594 9.48438 6.71875V2.4375H6.15625C5.39844 2.4375 5.02344 2.84375 5.02344 3.5625V10.1562C4.75781 10.1172 4.50781 10.0938 4.25 10.0938C3.99219 10.0938 3.74219 10.1172 3.49219 10.1562ZM10.8359 6.57031C10.8359 6.89062 10.9688 7.03125 11.2891 7.03125H15.1484L10.8359 2.64844V6.57031ZM4.25781 19.2422C2.05469 19.2422 0.234375 17.4297 0.234375 15.2188C0.234375 13.0234 2.05469 11.2031 4.25781 11.2031C6.46094 11.2031 8.28125 13.0156 8.28125 15.2188C8.28125 17.4219 6.44531 19.2422 4.25781 19.2422ZM2.39844 15.8828H4.30469C4.60938 15.8828 4.85156 15.6484 4.85156 15.3438V12.9609C4.85156 12.6641 4.60938 12.4297 4.30469 12.4297C4 12.4297 3.76562 12.6641 3.76562 12.9609V14.8047H2.39844C2.10156 14.8047 1.85156 15.0469 1.85156 15.3438C1.85156 15.6406 2.09375 15.8828 2.39844 15.8828Z"})});var re=n(350066),ie=n(11751),le=n(690403),de=n(81254);function ue(e){let{hasAi:t,onHoverFeature:n}=e;const s=me();let a=(o=s.highlightIcon,{blocks:{icon:(0,ae.A)(o),message:(0,q.jsx)(y.FormattedMessage,{id:"plansPage.highlightCards.plus.blocks",defaultMessage:"Unlimited blocks"})},pageHistory:{icon:oe(o),message:(0,q.jsx)(pe,{left:"7",right:(0,q.jsx)(y.FormattedMessage,{id:"planFeatures.pageHistory",defaultMessage:"{number} day page history",values:{number:"30"}})})},fileUploads:{icon:(0,re.R)(o),message:(0,q.jsx)(y.FormattedMessage,{id:"plansPage.highlightCards.plus.fileUploads",defaultMessage:"Unlimited file uploads"})},guestInvites:{icon:(0,q.jsx)(de.x,{iconGroup:te,variantName:"default",colorName:"secondary"}),message:(0,q.jsx)(pe,{left:"10",right:(0,q.jsx)(y.FormattedMessage,{id:"planFeatures.guestInvites",defaultMessage:"{number} guest invites",values:{number:"100"}})})},prioritySupport:{icon:(0,q.jsx)(de.x,{iconGroup:ne.M,variantName:"default",colorName:"secondary"}),message:(0,q.jsx)(y.FormattedMessage,{id:"planFeatures.prioritySupport",defaultMessage:"Priority support"})}});var o;return t&&(a={...a,unlimitedAi:{icon:(0,ie.t)({...s.highlightIcon,...s.aiPurple}),message:(0,q.jsx)(y.FormattedMessage,{id:"planFeatures.unlimitedAi",defaultMessage:"Unlimited Notion AI"}),backgroundColor:s.aiPurple.background}}),(0,q.jsxs)("div",{style:s.featuresContainer,children:[(0,q.jsxs)(C.jX,{direction:"row",gap:8,children:[(0,q.jsx)(w.q,{styleName:"UITitle-Medium-20px/Semibold",children:(0,q.jsx)(y.FormattedMessage,{id:"planFeatures.title",defaultMessage:"Included in Plus"})}),(0,q.jsx)(le.Z,{style:s.badge,content:(0,q.jsx)(w.q,{styleName:"Micro-10px/Semibold",children:(0,q.jsx)(y.FormattedMessage,{id:"plansPage.highlightCards.badge.popular",defaultMessage:"Popular"})})})]}),(0,q.jsx)("div",{style:s.featureGrid,children:Object.entries(a).map((e=>{let[t,s]=e;return(0,q.jsx)(ce,{onHover:()=>n(t),...s},t)}))})]})}function ce(e){let{icon:t,message:n,onHover:s,backgroundColor:a}=e;const o=me();return(0,q.jsxs)("div",{style:o.highlightedFeatureContainer,onMouseEnter:s,children:[(0,q.jsx)("div",{style:{...o.iconBackground,...a?{background:a}:{}},children:t}),(0,q.jsx)(w.q,{styleName:"UISmall-12px/Medium",children:n})]})}function pe(e){let{left:t,right:n}=e;const s=me();return(0,q.jsxs)(C.jX,{direction:"row",gap:4,align:"center-left",children:[(0,q.jsx)(w.q,{styleName:"UISmall-12px/Medium",colorName:"tertiary",children:t}),(0,se.k)(s.arrowIcon),(0,q.jsx)(w.q,{styleName:"UISmall-12px/Medium",colorName:"primary",children:n})]})}function me(){return(0,m.yK)((e=>({featuresContainer:{width:512,height:354,flexShrink:0,position:"relative",alignSelf:"end",top:140,padding:"80px 48px 80px 58px",display:"flex",flexDirection:"column",gap:24,borderRadius:"16px 0px 0px 16px",border:`1px solid ${e.stroke.deemphasized}`,background:e.surface.elevated,boxShadow:"0px 4px 15px -3px rgba(29, 27, 22, 0.04)"},featureGrid:{display:"flex",width:"101%",gap:16,flexDirection:"row",flexWrap:"wrap"},highlightedFeatureContainer:{display:"flex",gap:12,width:196,alignItems:"center"},badge:{color:e.v2.text.ui.blue.primary,background:e.tint.uiBlue,marginLeft:0},highlightIcon:{width:16,color:"dark"===e.mode?e.icon.tertiary:e.icon.secondary},iconBackground:{display:"flex",width:38,height:38,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:8,background:"dark"===e.mode?e.tint.regular:e.surface.wash},arrowIcon:{width:10,height:10,color:e.icon.tertiary},aiPurple:{color:e.icon.purple,background:"dark"===e.mode?e.accentColors.purple[300]:e.accentColors.purple[30]}})),[])}function ge(e){let{hasAi:t,analyticsArgs:n,closeModal:s}=e;const o=(0,m.yK)((e=>({featuresContainer:{display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto",flex:"1 0 0",width:556,height:Me,borderLeft:`1px solid ${e.stroke.deemphasized}`,background:e.surface.wash},seeOtherPlans:{position:"absolute",bottom:32}})),[]),r=(0,a.O7)();return(0,q.jsxs)("div",{style:o.featuresContainer,children:[(0,q.jsx)(J,{}),(0,q.jsx)(ue,{hasAi:t,onHoverFeature:e=>v.AT(r,{...n,hover_feature:e})}),(0,q.jsx)("div",{style:o.seeOtherPlans,children:(0,q.jsx)(w.q,{styleName:"Body-12px/Medium",colorName:"secondary",children:(0,q.jsx)(y.FormattedMessage,{id:"contextualCheckout.seeOtherPlans",defaultMessage:"Used by teams like yours to collaborate. Not sure? <link>See other plans</link>",values:{link:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,q.jsx)(Y.Z,{onClick:()=>{v.Xo(r,n),s(),b.r$({currentTab:"plans"})},children:t})}}})})})]})}const he=24,fe=["info","payment"];function ye(e){var t,n;let{availableProducts:r,primaryProduct:l,subscriptionData:u,pricesByInterval:p,coupon:m,modalId:h,onClose:f}=e;const x=s.useMemo((()=>({modal_id:h,modal_type:"contextual"})),[h]),[M,k]=s.useState(!1),[B,R]=s.useState(!1),[V,K]=s.useState(0),[E,H]=s.useState(0),W=Me-V;s.useEffect((()=>{V&&E&&R((e=>W<E-(e?he:0)))}),[V,E,W]);const X=(0,a.O7)(),Y=(0,o.VK)((()=>(0,I.Z)(X)),[X]),Q=Ce(B,Y),J=(0,y.useIntl)(),ee=(0,c.useStripe)(),te=(0,c.useElements)(),ne=(0,Z.Cj)(),se=(0,_.Z)(),ae=(0,o.VK)((()=>{var e;return null===(e=T.default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),oe=(0,o.VK)((()=>u?(0,O.Et)(u):void 0),[u]),[re,ie]=s.useState(!1),[le,de]=s.useState(),[ue,ce]=s.useState("info"),[pe,me]=s.useState({name:{value:se},billingInterval:"month"}),ye=s.useMemo((()=>[l,...pe.addOn?[pe.addOn]:[]]),[pe,l]),{stripeData:xe,stripePromo:ve}=(0,o.VK)((()=>{const e=(0,O.aS)(u);return{stripeData:e,stripePromo:null==e?void 0:e.promo}}),[u]),je=P.Zr(ve),we=(0,o.VK)((()=>A.Z.state.selectedCurrencyCode??"USD"),[]),Se=s.useMemo((()=>({month:p.month.filter((e=>ye.includes(e.product))),year:p.year.filter((e=>ye.includes(e.product)))})),[p,ye]),Ie=s.useMemo((()=>(0,G.zX)({pricesByInterval:Se,billingInterval:pe.billingInterval,promo:je,accountBalance:oe,memberCount:ne,coupon:m})),[oe,m,pe.billingInterval,ne,Se,je]),[ke,_e]=s.useState(!1),[{value:Te}]=(0,g.r5)((async()=>{if(!xe||null==Ie||!Ie.subtotal)return;_e(!0);const e=await(0,D.km)({environment:X,stripeData:xe,taxableAmount:Ie.subtotal});return _e(!1),e}),[X,null==Ie?void 0:Ie.subtotal,xe]),Fe=P.VT({calculatingTax:ke,taxAmount:Te??0,currencyValue:Ie.subtotal.currencyValue});s.useEffect((()=>{if(!te)return;const e=(0,G.c)(Ie,Fe);te.update({amount:e.amount})}),[te,Ie,Fe]);const De=s.useCallback((()=>ce((e=>fe[fe.indexOf(e)+1]))),[]),Ne=s.useCallback((()=>ce((e=>fe[fe.indexOf(e)-1]))),[]),Pe=s.useCallback((e=>{le&&de(void 0),me((t=>({...t,...e})))}),[le]),Be=s.useCallback((()=>{var e;v.EN(X,x),null!==(e=pe.name)&&void 0!==e&&e.value?(k(!1),De()):Pe({name:{error:(0,q.jsx)(y.FormattedMessage,{id:"contextualCheckout.fieldError",defaultMessage:"This field is required"})}})}),[De,x,X,null===(t=pe.name)||void 0===t?void 0:t.value,Pe]),Oe=s.useCallback((async()=>{if(v.PN(X,x),ie(!0),!te||!ee)return de(J.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})),void ie(!1);const e=await async function(e){const{billingEmail:t,coupon:n,currencyCode:s,environment:a,elements:o,formData:r,intl:i,modalId:l,modalType:d,promo:u,quantity:c,selectedProducts:p,stripe:m}=e,{billingInterval:g,name:h,businessName:f,vatId:y}=r,x=await(0,F.GJ)({modalId:l,modalType:d,environment:a,intl:i,elements:o,stripe:m});if("error"in x)return{error:x.error};return void(await(0,F.dP)({address:{name:(null==h?void 0:h.value)??"",businessName:f??"",addressLine1:"",addressLine2:"",zipCode:x.address.zipCode??"",city:"",state:"",country:x.address.country??""},billingEmail:t,billingInterval:g,coupon:n,currencyCode:s,environment:a,modalId:l,modalType:d,paymentData:x.paymentData,promo:u,quantity:c,selectedProducts:p,stripe:m,vatId:y}))}({billingEmail:ae,coupon:m,currencyCode:we,environment:X,elements:te,intl:J,formData:pe,modalId:h,modalType:"contextual",promo:je,quantity:ne,selectedProducts:ye,stripe:ee,subscriptionData:u});if(null!=e&&e.error)return de(e.error),void ie(!1);(0,d.X)(X,h),b.r$({currentTab:"billing"})}),[x,m,we,te,X,pe,J,ne,h,je,ye,ee,u,ae]),Ae={info:{primaryButtons:[{label:(0,q.jsx)(y.FormattedMessage,{id:"contextualCheckout.continueToPayment",defaultMessage:"Continue to Payment"}),onClick:Be,baseStyleOverride:Q.buttonStyle}]},payment:{primaryButtons:[{label:(0,q.jsx)(y.FormattedMessage,{id:"contextualCheckout.upgradeToPlus",defaultMessage:"Upgrade to Plus"}),onClick:async()=>await Oe(),isDisabled:re,baseStyleOverride:Q.buttonStyle}],termsOfService:(0,q.jsx)(N.E,{showTrialEndDisclaimer:!1,products:ye})}};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.U4,{style:Q.dismissButton,onDismiss:f}),(0,q.jsxs)(C.jX,{direction:Y?"column":"row",height:"fill",children:[(0,q.jsx)("div",{style:{...Q.stepScrollContainer,height:W},children:(0,q.jsx)(S.n,{onSizeChange:e=>{let{height:t}=e;return H(t)},children:(0,q.jsxs)("div",{style:Q.stepContainer,children:[(0,q.jsx)(w.q,{styleName:"Title-24px/Bold",children:(0,q.jsx)(y.FormattedMessage,{id:"contextualCheckout.title",defaultMessage:"Upgrade to the Plus plan"})}),"info"===ue?(0,q.jsx)($,{stepHeader:(0,q.jsx)(be,{currentStep:ue}),showAddOnSelect:r.includes("ai"),formData:pe,updateFormData:Pe,pricesByInterval:p,primaryProduct:l,analyticsArgs:{modalId:h,modalType:"contextual"}}):null,(0,q.jsx)("div",{style:{display:"payment"===ue?"block":"none"},children:(0,q.jsx)(L.FC,{title:(0,q.jsx)(be,{currentStep:ue,onClickBack:Ne}),children:(0,q.jsx)(c.PaymentElement,{options:{defaultValues:{billingDetails:{name:null===(n=pe.name)||void 0===n?void 0:n.value,email:ae}}},onChange:e=>{"payment"===ue&&v.Dc(X,{event:e,...x})}})})})]})})}),(0,q.jsx)(S.n,{onSizeChange:e=>{let{height:t}=e;return K(t)},children:(0,q.jsxs)("div",{style:Q.footerContainer,children:[Ie?(0,q.jsx)(U.H,{billingInterval:pe.billingInterval,pricesByInterval:Se,quantity:ne,tax:Fe,isTaxLoading:ke,promo:je,coupon:m,isExpanded:M,onClickDetails:()=>{v.DI(X,x),k((e=>!e))},...Ie}):(0,q.jsx)(j.Z,{style:Q.footerLoaderStyle}),(0,q.jsx)(z.R,{...Ae[ue],error:le})]})}),Y?null:(0,q.jsx)(ge,{hasAi:ye.includes("ai"),analyticsArgs:x,closeModal:f})]})]})}function xe(e){let{primaryProduct:t,modalId:n,coupon:s,onClose:r,openedFrom:i}=e;const l=(0,a.O7)(),d=(0,o.VK)((()=>(0,I.Z)(l)),[l]),u=(0,o.VK)((()=>A.Z.state.selectedCurrencyCode??"USD"),[]),m=(0,B.getStripe)(),g=(0,B.useElementsOptions)({type:"subscription",amount:0,currency:u}),h=(0,o.VK)((()=>V.subscriptionDataStoreInstance.state),[]),y=(0,o.VK)((()=>{const e=[t],n=(null==h?void 0:h.addOns)??[];return(0,k.CV)(T.default.state.currentSpaceStore)||(0,f.de)(n)||e.push("ai"),e}),[t,null==h?void 0:h.addOns]);(0,p.Z)((()=>v.Lc(l,{subscriptionTier:"plus",from:i,currency_code:u,modal_id:n,modal_type:"contextual"})));const b=function(e){const t=(0,a.O7)();return(0,o.VK)((()=>{const n=e.map((e=>A.Z.getPrice(t,(t=>t.product===e&&"month"===t.billingInterval)))),s=e.map((e=>A.Z.getPrice(t,(t=>t.product===e&&"year"===t.billingInterval))));return{month:R(n),year:R(s)}}),[t,e])}(y);return(0,x.Of)(b.month)&&(0,x.Of)(b.year)&&h?(0,q.jsx)(c.Elements,{stripe:m,options:g,children:(0,q.jsx)(ye,{availableProducts:y,primaryProduct:t,subscriptionData:h,pricesByInterval:b,coupon:s,modalId:n,onClose:r})}):(0,q.jsx)(ve,{onClose:r,isSmallWindow:d,modalId:n})}function ve(e){let{onClose:t,isSmallWindow:n,modalId:s}=e;const a=Ce();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.U4,{style:a.dismissButton,onDismiss:t}),(0,q.jsxs)(C.jX,{direction:"row",height:"fill",children:[(0,q.jsx)("div",{style:a.stepScrollContainer,children:(0,q.jsxs)("div",{style:a.stepContainer,children:[(0,q.jsx)(w.q,{styleName:"Title-24px/Bold",children:(0,q.jsx)(y.FormattedMessage,{id:"contextualCheckout.title",defaultMessage:"Upgrade to the Plus plan"})}),(0,q.jsx)(j.Z,{style:a.fieldLoaderStyle}),(0,q.jsx)(j.Z,{style:a.fieldLoaderStyle})]})}),n?null:(0,q.jsx)(ge,{hasAi:!1,analyticsArgs:{modal_id:s,modal_type:"contextual"},closeModal:t})]})]})}function be(e){let{currentStep:t,onClickBack:n}=e;const s=Ce(),a=fe.indexOf(t)+1,o=a>1;return(0,q.jsxs)(C.jX,{direction:"row",gap:6,align:"center-left",children:[o?(0,q.jsx)(M.Z,{icon:h.W,ariaLabel:"Back",onClick:n,style:s.backButton}):null,(0,q.jsx)(w.q,{styleName:"Caption-12px/Semibold",colorName:"primary",children:(0,q.jsx)(y.FormattedMessage,{id:"contextualCheckout.stepHeader",defaultMessage:"Step {currentStepNumber} of {totalSteps}",values:{currentStepNumber:a,totalSteps:fe.length}})})]})}function Ce(e,t){return(0,m.yK)((n=>({dismissButton:{top:12,right:12},stepScrollContainer:{overflowY:"auto",width:t?"100%":384},stepContainer:{display:"flex",padding:`32px 24px ${e?he:0}px 24px`,flexDirection:"column",gap:24},footerContainer:{display:"flex",width:t?"100%":384,padding:"20px 24px 24px 24px",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-start",gap:24,position:"absolute",bottom:0,background:n.surface.elevated,transition:"all 200ms ease-in-out",...e?{borderTop:`1px solid ${n.stroke.regular}`,boxShadow:"0px 0px 16px 0px rgba(0, 0, 0, 0.08)"}:{}},buttonStyle:{borderRadius:6},footerLoaderStyle:{width:"50%",height:22,borderRadius:12},fieldLoaderStyle:{width:"100%",height:36,borderRadius:12},backButton:{width:16,height:16}})),[e,t])}const Me=626;function je(e){let{}=e;const t=(0,a.O7)(),n=(0,o.VK)((()=>u.Z.state),[]);if(!n.open)return null;return(0,q.jsx)(r.c,{ariaLabelledBy:l.BaY,isOpen:n.open,onDismiss:()=>{(0,d.X)(t,n.modalId)},animateSizeTransition:!1,areaConstraint:{width:{type:"min",length:400},height:{scroll:"allow",type:"fixed",length:Me}},render:()=>(0,q.jsx)(i.gv.Consumer,{children:e=>(0,q.jsx)("div",{style:{position:"relative",height:Me},children:(0,q.jsx)(xe,{primaryProduct:"plus",openedFrom:n.openedFrom,modalId:n.modalId,onClose:()=>null==e?void 0:e()})})})})}},137027:(e,t,n)=>{n.r(t),n.d(t,{DowngradeModal:()=>se});var s=n(667294),a=n(313991),o=n(800480),r=n(886628),i=n(407057),l=n(471924),d=n(909182),u=n(500896),c=n(647425),p=n(709291),m=n(653965),g=n(286572),h=n(164964),f=n(707124),y=n(724405),x=n(415095),v=n(493535),b=n(689024),C=n(382914),M=n(863296),j=n(489728),w=n(733941),S=n(785893);function I(e){const{downgradeProduct:t,excessGuests:n,formattedPeriodEndDate:s,internalDomains:a,spaceStore:o,onClickContinue:i,onClickManageGuests:l}=e,d=(0,p.useIntl)(),u=(0,r.VK)((()=>o.getName()),[o]),c=d.formatMessage(N[t]);return u&&n.length?(0,S.jsx)(C.sR,{header:(0,S.jsx)(C.vI,{iconAndTitle:(0,S.jsx)(C.kC,{iconGroup:v.x,iconColorName:"red",title:d.formatMessage(D.title,{planName:c,spaceName:u})}),description:d.formatMessage(D.description,{domain:a[0].url,number:n.length,date:s})}),footer:(0,S.jsx)(F,{onClickContinue:i,onClickManageGuests:l}),children:(0,S.jsx)(k,{excessGuests:n,spaceName:u})}):null}function k(e){const{excessGuests:t,spaceName:n}=e,s=(0,p.useIntl)(),a=(0,y.yK)((()=>({wrapper:{background:"#FDF5F3",textAlign:"center"}})),[]),o=(0,r.VK)((()=>t.map((e=>e.getKeyStore("given_name").getValue()??e.getDisplayName(s)))),[t,s]);return(0,S.jsx)(b.jX,{align:"top-center",borderRadius:6,direction:"column",gap:10,padding:"14px 12px",style:a.wrapper,width:"fill",children:(0,S.jsxs)(b.jX,{direction:"column",gap:8,align:"top-center",children:[(0,S.jsx)(b.jX,{direction:"row",align:"center",style:{paddingLeft:4},children:o.slice(0,3).map(((e,t)=>(0,S.jsx)(T,{givenName:e},t)))}),(0,S.jsxs)(b.jX,{direction:"column",gap:4,align:"center",children:[(0,S.jsx)(f.q,{colorName:"uiRedPrimary",styleName:"Body-14px/Medium",children:(0,S.jsx)(_,{givenNames:o,spaceName:n})}),(0,S.jsx)(f.q,{colorName:"red",styleName:"Caption-12px/Regular",children:s.formatMessage(D.recommendation)})]})]})})}function _(e){const{givenNames:t,spaceName:n}=e,s=(0,p.useIntl)();return 1===t.length?(0,S.jsx)(S.Fragment,{children:s.formatMessage(D.oneRemovedGuest,{name1:t[0],spaceName:n})}):2===t.length?(0,S.jsx)(S.Fragment,{children:s.formatMessage(D.twoRemovedGuests,{name1:t[0],name2:t[1],spaceName:n})}):(0,S.jsx)(S.Fragment,{children:s.formatMessage(D.manyRemovedGuests,{name1:t[0],name2:t[1],count:t.length-2,spaceName:n})})}function T(e){const{givenName:t}=e,n=(0,y.yK)((e=>({circle:{borderRadius:14,border:`1px dashed ${e.stroke.uiRedDeemphasized}`,background:e.surface.elevated,marginLeft:-4}})),[]);return(0,S.jsx)(b.jX,{style:n.circle,width:28,height:28,align:"center",children:(0,S.jsx)(f.q,{styleName:"Body-14px/Semibold",colorName:"uiRedPrimary",children:(0,x.p4)(t)[0].toUpperCase()})})}function F(e){const{onClickContinue:t,onClickManageGuests:n}=e,s=(0,p.useIntl)();return(0,S.jsx)(b.jX,{gap:16,children:(0,S.jsxs)(b.jX,{gap:8,align:"center",children:[(0,S.jsx)(M.Z,{"aria-label":s.formatMessage(D.manageGuests),onClick:n,style:{width:"100%"},children:s.formatMessage(D.manageGuests)}),(0,S.jsx)(j.Z,{"aria-label":s.formatMessage(D.continueWithDowngrade),onClick:t,style:{justifyContent:"center"},children:(0,S.jsx)(f.q,{colorName:"secondary",children:s.formatMessage(D.continueWithDowngrade)})})]})})}const D=(0,p.defineMessages)({title:{id:"DowngradeWillRemoveGuestsModal.title",defaultMessage:"Downgrading to {planName} will remove guests from {spaceName}"},description:{id:"DowngradeWillRemoveGuestsModal.description",defaultMessage:"{number} of your guests with the email domain ‘@{domain}’ will be removed on {date} to align with your new plan's guest limit"},continueWithDowngrade:{id:"DowngradeWillRemoveGuestsModal.continueWithDowngrade",defaultMessage:"Continue with downgrade"},manageGuests:{id:"DowngradeWillRemoveGuestsModal.manageGuests",defaultMessage:"Manage guests"},manyRemovedGuests:{id:"DowngradeWillRemoveGuestsModal.manyRemovedGuests",defaultMessage:"{name1}, {name2}, and {count, plural, one {1 more guest} other {{count} more guests}} will be removed from {spaceName}"},twoRemovedGuests:{id:"DowngradeWillRemoveGuestsModal.twoRemovedGuests",defaultMessage:"{name1} and {name2} will be removed from {spaceName}"},oneRemovedGuest:{id:"DowngradeWillRemoveGuestsModal.oneRemovedGuest",defaultMessage:"{name1} will be removed from {spaceName}"},recommendation:{id:"DowngradeWillRemoveGuestsModal.recommendation",defaultMessage:"If you want them to retain access, we recommend upgrading them to members."}}),N={business:w.a.business,enterprise:w.a.enterprise,free:w.a.free,personal:w.a.personal,plus:w.a.plus,student:w.a.educationPlus};var P=n(274244),B=n(100859),O=n(883165),A=n(71487),R=n(88893),Z=n(519889),V=n(125829);var G=n(893586),L=n(292595),z=n(959753),U=n(584683);const K=new(n(551444).q)((e=>{let{spaceId:t,inviteeIds:n}=e;return`${t}:${n.sort().join(",")}`}),(async function(e,t){const s=await Promise.resolve().then(n.bind(n,454642)),a=await s.getInvitesForInvitees(e,t);return"success"===a.type?a.data.invites.map((e=>z.kk.fromValue(U.Tu,e))):void 0}));L.exposeDebugValue("InvitesForInviteesStore",K);const E=K;var H=n(820454),W=n(673254),q=n(288280);function $(e){let{space:t,spaceUser:n,desiredState:s}=e;const a=(0,o.O7)(),i=(l=q.subscriptionDataStoreInstance,(0,r.VK)((()=>{const e=l.state;if(e)return(0,R.ND)(e)}),[l]));var l;const d=(0,W.eB)({name:"internal_guests",spaceId:t.id,spaceUserId:n.id,amount:0,state:s});return(0,r.VK)((()=>{const e=t.getModel();if(!e||!d)return[];const n=(i??[]).map((e=>function(e,t){return new H.U(e,{table:Z.KJ,id:t})}(a,e.userId))).map((e=>e.getModel())),s=(0,m.oA)(n),o=e.id,r=s.map((e=>e.id)),l=E.getData(a,{spaceId:o,inviteeIds:r}),u=G.Z.getData(a,{spaceId:o});return function(e){let{featureAvailability:t,guests:n,invites:s,domains:a}=e;const o=(0,m.vM)(s,(e=>e.invitee_id)),r=n.filter((e=>(0,V.is)(e.email,a))),i=(0,m.MR)(r,(e=>{const t=o[e.id]??[],n=(0,m.UT)(t,(e=>e.created_time));return null==n?void 0:n.created_time})),l=n.length,d=t.limit.total,u="unlimited"===d?0:Math.max(l-d,0);return i.slice(0,u)}({featureAvailability:d,guests:s,invites:l??[],domains:u??[]}).map((e=>new H.U(a,{table:Z.KJ,id:e.id})))}),[a,t,d,i])}var X=n(353578),Y=n(693943),Q=n(333493),J=n(957187),ee=n(168028),te=n(756684),ne=n(602982);function se(e){let{currentProduct:t,billingInterval:n,currentPeriodEnd:m,isOpen:y,onClose:x,onRequestDowngrade:v,onRequestUpgrade:b,onClickManageGuests:C}=e;const M=(0,Y.Oi)({billingInterval:n,priceStore:Q.Z,products:X.cM}),j=(0,o.O7)(),w=(0,p.useIntl)(),k=(0,Y.K_)(q.subscriptionDataStoreInstance),_=null==k?void 0:k.customerId,[T,F]=s.useState("plan_select"),[D,N]=s.useState({newProduct:t,reasons:[],reasonOther:void 0,reasonOtherTools:void 0}),[Z]=s.useState(l.Il()),[V,G]=s.useState(void 0);(0,s.useEffect)((()=>g.j(j,{name:"churn_survey",args:{newProduct:D.newProduct,churnType:t,reasons:D.reasons,reasonOther:D.reasonOther,reasonOtherTools:D.reasonOtherTools,stage:T,churnSurveyId:Z}})),[j,T,D,Z,t]);const L=(0,B.r)(),z=(0,O.r_)(),U=(0,P.U)(L),K=$({space:L,spaceUser:z,desiredState:(0,d.oh)(D.newProduct)}),E=(0,r.VK)((()=>{const e=D.newProduct&&(0,ne.n)(D.newProduct);return null==e?void 0:e.map((e=>({icon:e.icon,beforeMessage:w.formatMessage(e.duration),message:(0,S.jsxs)(S.Fragment,{children:[e.highlightedMessage&&w.formatMessage(e.highlightedMessage),e.message&&(0,S.jsx)(f.q,{styleName:"Body-14px/Regular",colorName:"primary",customStyles:{display:"inline"},children:` ${w.formatMessage(e.message)}`})]})})))}),[D.newProduct,w]),H=s.useCallback((()=>{g.j(j,{name:"churn_survey_close",args:{churnSurveyId:Z}}),x()}),[Z,j,x]),W=s.useCallback((e=>{if("upgrade"===(0,c.NY)({oldTier:t,newTier:e})){H();const t=q.subscriptionDataStoreInstance.state;if(!n||!t)return;b({environment:j,data:t,billingInterval:n,product:e,buttonText:"Upgrade",pageSection:"downgrade_modal"})}else N((t=>({...t,newProduct:e}))),F("survey")}),[n,t,j,H,b]),J=m?(0,i.Yx)(m,"long",a.SP):void 0;return(0,S.jsx)(te.r,{step:T,isOpen:y,onClose:H,children:(()=>{switch(T){case"plan_select":return(0,S.jsx)(ee.ud,{initialPlan:D.newProduct,asyncPriceByProduct:M,onSubmit:W});case"survey":return(0,S.jsx)(ee.tt,{options:ae(),onSubmit:async e=>{if(g.j(j,{name:"churn_survey_submitted",args:{newProduct:D.newProduct,churnType:t,reasons:e.reasons,reasonOther:e.customTextByReason.other??void 0,reasonOtherTools:e.customTextByReason.switching??void 0,stage:T,churnSurveyId:Z}}),N((t=>({...t,reasons:e.reasons,reasonOther:e.customTextByReason.other??void 0,reasonOtherTools:e.customTextByReason.switching??void 0}))),_){const e=await A.yY(j,{customerId:_,newPlan:D.newProduct,offerType:"downgrade_flow"});if(e)return G(e),void F("offer")}F("remove_guests")}});case"offer":return V?(0,S.jsx)(ee.oR,{currentProduct:t,coupon:V,newProduct:D.newProduct,onSubmit:async e=>{e?(g.j(j,{name:"offer_accepted",args:{coupon:V}}),_&&(0,u.$v)(V)&&(await A.AG(j,{customerId:_,newPlan:t,coupon:V,offerType:"downgrade_flow"}),h.oV({label:(0,S.jsx)(p.FormattedMessage,{id:"applyCoupon.success",defaultMessage:"Coupon successfully applied"})})),H()):F("remove_guests")}}):void F("remove_guests");case"remove_guests":const e=K&&K.length>0,n=U&&U.length>0;return e&&n&&J&&L?(0,S.jsx)(I,{downgradeProduct:D.newProduct,excessGuests:K,formattedPeriodEndDate:J,internalDomains:U,spaceStore:L,onClickContinue:()=>F("downgrade"),onClickManageGuests:C}):void F("downgrade");case"downgrade":return(0,S.jsx)(ee.hy,{newProduct:D.newProduct,title:(0,S.jsx)(p.FormattedMessage,{id:"downgradeModal.header.downgrade.title",defaultMessage:"Continue downgrading to {planMessage}?",values:{planMessage:(0,R.v$)(D.newProduct,w)}}),description:J?(0,S.jsx)(p.FormattedMessage,{id:"downgradeFlow.restrictionStep.description",defaultMessage:"You can still utilize all the features of your current plan until {date}. You can resubscribe or switch to another plan anytime.",values:{date:(0,S.jsx)("span",{style:{fontWeight:590},children:J})}}):null,restrictionList:E,onSubmit:async e=>{g.j(j,{name:"continue_downgrade_button_clicked"});const t=q.subscriptionDataStoreInstance.state;L&&t&&await v({environment:j,product:D.newProduct,data:t,spaceStore:L,from:"billing_page",churnState:null!=e&&e.churnImmediately?"churn_immediately":"churn_by_end_of_billing_period"}),F("confirmation")}});case"confirmation":return(0,S.jsx)(ee.AF,{title:(0,S.jsx)(p.FormattedMessage,{id:"downgradeFlow.confirmationStep.title",defaultMessage:"Thank you for switching to {plan}",values:{plan:(0,R.v$)(D.newProduct,w)}}),formattedPeriodEndDate:J})}})()})}function ae(){return[...(0,m.TV)([J.f.notUsingEnough,J.f.switching,J.f.tooExpensive,J.f.tooDifficult,J.f.missingFeatures,J.f.upgradedByMistake,J.f.consolidatingWorkspaces]),J.f.other]}},756684:(e,t,n)=>{n.d(t,{r:()=>i});n(667294);var s=n(699884),a=n(785893);const o=406,r=300;function i(e){let{step:t,isOpen:n,onClose:i,children:l}=e;return(0,a.jsx)(s.c,{areaConstraint:{width:{type:"min",length:"confirmation"===t?r:o},height:{type:"unlimited",scroll:"allow"}},isOpen:n,onDismiss:i,animateSizeTransition:"confirmation"!==t,render:()=>l})}},375198:(e,t,n)=>{n.r(t),n.d(t,{RemoveAddOnModal:()=>I});var s=n(667294),a=n(313991),o=n(800480),r=n(886628),i=n(407057),l=n(471924),d=n(909182),u=n(306995),c=n(709291),p=n(653965),m=n(286572),g=n(164964),h=n(100859),f=n(71487),y=n(897630),x=n(170060),v=n(88893),b=n(725823),C=n(288280),M=n(957187),j=n(168028),w=n(756684),S=n(785893);function I(e){let{currentPeriodEnd:t,isOpen:n,onClose:p}=e;const M=(0,o.O7)(),[I,_]=s.useState("survey"),[T,F]=s.useState({reasons:[],reasonOther:void 0,reasonOtherTools:void 0}),[D,N]=s.useState(void 0),[P]=s.useState(l.Il());(0,s.useEffect)((()=>m.j(M,{name:"churn_survey",args:{churnType:"ai",reasons:T.reasons,reasonOther:T.reasonOther,reasonOtherTools:T.reasonOtherTools,stage:I,churnSurveyId:P}})),[M,I,T,P]);const B=(0,h.r)(),O=(0,b.pQ)({spaceId:null==B?void 0:B.id}),A=(0,r.VK)((()=>{var e;return null===(e=(0,v.aS)(C.subscriptionDataStoreInstance.state))||void 0===e?void 0:e.customerId}),[]),R=(0,r.VK)((()=>(0,x.jK)()),[]),Z=t?(0,i.Yx)(t,"long",a.SP):void 0,V=s.useCallback((()=>{m.j(M,{name:"churn_survey_close",args:{churnSurveyId:P}}),p()}),[P,M,p]);return(0,S.jsx)(w.r,{step:I,isOpen:n,onClose:V,children:(()=>{switch(I){case"survey":return(0,S.jsx)(j.tt,{options:k(),onSubmit:async e=>{if(m.j(M,{name:"churn_survey_submitted",args:{churnType:"ai",reasons:e.reasons,reasonOther:e.customTextByReason.other??void 0,reasonOtherTools:e.customTextByReason.using_another_ai_service??void 0,stage:I,churnSurveyId:P}}),F((t=>({...t,reasons:e.reasons,reasonOther:e.customTextByReason.other??void 0,reasonOtherTools:e.customTextByReason.using_another_ai_service??void 0}))),A&&R){const e=await f.yY(M,{customerId:A,offerType:"add_on_downgrade_flow"});if(e)return N(e),void _("offer")}return _("downgrade")}});case"offer":return D?(0,S.jsx)(j.oR,{currentProduct:"ai",secondaryButtonMessage:(0,S.jsx)(c.FormattedMessage,{id:"removeAddOnModal.cancelAnyway",defaultMessage:"Cancel anyway"}),newProduct:"free",coupon:D,onSubmit:async e=>{if(e&&(m.j(M,{name:"offer_accepted",args:{coupon:D}}),A&&"ai_fifty_percent"===D))return await f.AG(M,{customerId:A,coupon:D,offerType:"add_on_downgrade_flow"}),V(),void g.oV({label:(0,S.jsx)(c.FormattedMessage,{id:"applyCoupon.success",defaultMessage:"Coupon successfully applied"})});_("downgrade")}}):void _("downgrade");case"downgrade":return(0,S.jsx)(j.hy,{title:(0,S.jsx)(c.FormattedMessage,{id:"addOnCancellationStep.cancellation.title",defaultMessage:"Remove AI at the end of your billing period?"}),description:Z?(0,S.jsx)(c.FormattedMessage,{id:"addOnCancellationStep.cancellation.description",defaultMessage:"If you continue with the downgrade, you will continue to enjoy Notion AI until the end of your billing period on <bold>{periodEnd}</bold>. You can resubscribe anytime.",values:{periodEnd:Z,bold:e=>(0,S.jsx)("b",{children:e})}}):null,onSubmit:async()=>{if(m.j(M,{name:"continue_downgrade_button_clicked"}),O&&B){const e=(0,d.Lg)(O),t=(0,u.t4)(e,"ai");await(0,y.Mg)({environment:M,spaceStore:B,from:"billing_page",desiredState:t})}_("confirmation")}});case"confirmation":return(0,S.jsx)(j.AF,{title:(0,S.jsx)(c.FormattedMessage,{id:"downgradeFlow.confirmationStep.ai.title",defaultMessage:"Notion AI has been removed"}),formattedPeriodEndDate:Z})}})()})}function k(){return[...(0,p.TV)([M.f.tooExpensive,M.f.missingFeatures,M.f.upgradedByMistake,M.f.tooDifficult,M.f.notUsingEnough,M.f.qualityOfResults,M.f.usingAnotherAiService,M.f.dataSecurity]),M.f.other]}},168028:(e,t,n)=>{n.d(t,{AF:()=>l,oR:()=>B,ud:()=>Q,hy:()=>ae,tt:()=>ue});var s=n(667294),a=n(679956),o=n(709291),r=n(382914),i=n(785893);function l(e){let{title:t,formattedPeriodEndDate:n}=e;return(0,i.jsx)(r.sR,{header:(0,i.jsx)(r.vI,{iconAndTitle:(0,i.jsx)(r.kC,{iconGroup:a.F,title:t}),description:(0,i.jsx)("div",{style:{maxWidth:260},children:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.confirmationStep.description",defaultMessage:"You can still utilize all the features of your current plan until {hasEndDate, select, true {{date}} other {the end of your billing period}}. You can resubscribe or switch to another plan anytime.",values:{hasEndDate:!!n,date:(0,i.jsx)("span",{style:{fontWeight:590},children:n})}})})}),footer:null})}var d=n(724405),u=n(965991),c=n(605336),p=n(742696),m=n(963222),g=n(350066),h=n(747409),f=n(920669),y=n(788507),x=n(226939),v=n(725651),b=n(128495),C=n(636312),M=n(376994),j=n(647425),w=n(707124),S=n(843163),I=n(88893),k=n(732566),_=n(689024);function T(e){let{title:t,tint:n,features:s}=e;const a=D(n),o="red"===n?"uiRedPrimary":"uiBluePrimary";return(0,i.jsxs)(_.jX,{gap:10,padding:"14px 12px",style:a.container,children:[(0,i.jsx)(w.q,{styleName:"Body-13px/Semibold",colorName:o,children:t}),(0,i.jsx)(_.jX,{gap:10,children:s.map(((e,t)=>(0,i.jsx)(F,{feature:e,tint:n},`feature-${t}`)))})]})}function F(e){let{feature:t,key:n,tint:s}=e;const a=D(s),o="red"===s?"uiRedPrimary":"uiBluePrimary",r=t.beforeMessage&&t.message;return(0,i.jsxs)(_.jX,{direction:"row",gap:4,align:"center-left",children:[t.icon({...a.icon,...t.iconStyle??{}}),t.beforeMessage?(0,i.jsx)(w.q,{styleName:"Body-14px/Regular",colorName:"secondary",customStyles:{textDecoration:"line-through"},children:t.beforeMessage}):null,r?(0,k.k)(a.arrowIcon):null,t.message?(0,i.jsx)(w.q,{styleName:"Body-14px/Regular",colorName:o,children:t.message}):null]},n)}function D(e){return(0,d.yK)((t=>({container:{background:"red"===e?t.tint.uiRed:t.tint.uiBlue,borderRadius:6},icon:{display:"flex",height:void 0,width:16,color:t.icon.secondary},arrowIcon:{width:12,height:12,color:t.icon.secondary}})),[e])}const N={plus:["unlimited_synced_databases","unlimited_file_uploads","version_history_30"],business:["saml","version_history_90","private_teamspaces"],enterprise:["scim","audit_log","security"],ai:["ai_writer","qa","autofill"]},P={unlimited_synced_databases:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.unlimited_synced_databases",defaultMessage:"Unlimited synced databases"}),icon:p.t},unlimited_file_uploads:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.unlimited_file_uploads",defaultMessage:"Unlimited file uploads"}),icon:g.R},version_history_30:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.versionHistory",defaultMessage:"30 day version history"}),icon:c.r},saml:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.saml",defaultMessage:"SAML SSO"}),icon:b.v},private_teamspaces:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.privateTeamspaces",defaultMessage:"Private teamspaces"}),icon:y.I},version_history_90:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.versionHistory.90",defaultMessage:"90 day version history"}),icon:M.w},scim:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.scim",defaultMessage:"SCIM"}),icon:C.o},audit_log:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.auditLog",defaultMessage:"Audit log"}),icon:h.N},security:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.securityAndControls",defaultMessage:"Advanced security and controls"}),icon:x.c},autofill:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.autofill",defaultMessage:"Autofill for easy database updates"}),icon:f.y},ai_writer:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.aiWriter",defaultMessage:"Writer to brainstorm new ideas"}),icon:v.R},qa:{message:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.features.q&a",defaultMessage:"Q&A to quickly find info and answers"}),icon:m.a}};function B(e){let{currentProduct:t,newProduct:n,coupon:s,onSubmit:a,secondaryButtonMessage:l}=e;const u=(0,S.o)(s),c=(0,S.W)(s),p=(0,d.yK)((e=>({icon:{color:e.icon.uiBlueSecondary}})),[]);if("ai"!==t&&!(0,j.mq)(t))return null;const m=N[t].map((e=>({icon:P[e].icon,iconStyle:p.icon,message:P[e].message})));return(0,i.jsx)(r.sR,{header:(0,i.jsx)(O,{currentProduct:t,percentage:u,duration:c}),footer:(0,i.jsx)(A,{onSubmit:a,percentage:u,nextProduct:n,secondaryButtonMessage:l}),children:(0,i.jsx)(T,{title:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.offerSection.description.v2",defaultMessage:"You'll get to keep:"}),tint:"blue",features:m})})}function O(e){let{currentProduct:t,percentage:n,duration:s}=e;const a=(0,o.useIntl)(),l=(0,I.v$)(t,a);return(0,i.jsx)(r.vI,{iconAndTitle:(0,i.jsx)(r.kC,{iconGroup:u.$,title:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.offerStep.header.title",defaultMessage:"{percentage} off your {currentProductMessage} plan",values:{percentage:n,currentProductMessage:l}})}),description:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.offerStep.header.description",defaultMessage:"Get {percentage} off for {duration} if you keep your plan",values:{percentage:n,duration:s}})})}function A(e){let{onSubmit:t,percentage:n,nextProduct:s,secondaryButtonMessage:a}=e;const l=(0,o.useIntl)(),d=(0,I.v$)(s,l);return(0,i.jsx)(r.a6,{layout:"vertical",primaryButtons:[{buttonType:"primary",label:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.offerStep.getDiscountMessage",defaultMessage:"Get {percentage} off",values:{percentage:n}}),onClick:()=>t(!0)}],secondaryButtons:[{buttonType:"secondary",label:(0,i.jsx)(w.q,{children:a??(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.continueWithDowngrade",defaultMessage:"Continue downgrade to {nextProductMessage}",values:{nextProductMessage:d}})}),onClick:()=>t(!1)}]})}var R=n(800480),Z=n(886628),V=n(745238);const G=(0,V.CZ)("arrowLeftAndRight",{default:{loader:()=>n.e(66931).then(n.bind(n,566931)),size:20},small:{loader:()=>n.e(62548).then(n.bind(n,962548)),size:16},mini:{loader:()=>n.e(19486).then(n.bind(n,519486)),size:14},large:{loader:()=>n.e(87500).then(n.bind(n,87500)),size:24}});var L=n(84267),z=n(286572),U=n(91376),K=n(164921),E=n(449806),H=n(81254),W=n(526388),q=n(825464),$=n(353578),X=n(333493),Y=n(727533);function Q(e){let{initialPlan:t,asyncPriceByProduct:n,onSubmit:a}=e;const l=(0,o.useIntl)(),d=(0,R.O7)(),[u,c]=s.useState(t),p=u===t,m=(0,Z.VK)((()=>X.Z.selectedCurrencyCode),[]),g=s.useMemo((()=>$.cM.map((e=>{const t=l.formatMessage($.mY[e]);if("free"===e)return{label:t,value:e,description:l.formatMessage($.aq.price,{money:(0,i.jsx)(Y.W,{cost:{amount:0,currencyCode:m},trailingZeroDisplay:"stripIfInteger"})})};const s=(0,I.lo)(n[e]);return{label:t,value:e,description:l.formatMessage($.aq.price,{money:s?(0,i.jsx)(Y.W,{cost:s,trailingZeroDisplay:"stripIfInteger"}):"-"})}}))),[n,l,m]);return(0,i.jsx)(r.sR,{header:(0,i.jsx)(J,{}),footer:(0,i.jsx)(ee,{disableSubmit:p,handleSubmit:()=>a(u)}),children:(0,i.jsx)(_.jX,{gap:8,children:g.map((e=>(0,i.jsx)(E.n,{name:"plan-options",selectType:"radio",selectAlign:"right",isSelected:u===e.value,onChange:e=>{return t=e.target.value,void(["free","plus","business","enterprise"].includes(t)&&(c(t),z.j(d,{name:"change_plan_button_clicked",args:{plan_selected:t}})));var t},...e},e.value)))})})}function J(){return(0,i.jsx)(r.vI,{iconAndTitle:(0,i.jsx)(r.kC,{iconGroup:G,title:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.planSelectStep.title",defaultMessage:"Which plan do you want to change to?"})}),description:(0,i.jsxs)(_.jX,{gap:4,direction:"row",align:"center",children:[(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.planSelectStep.description",defaultMessage:"Pick one of the following Notion plans"}),(0,i.jsx)(W.Z,{placement:q.u.Bottom,renderTooltip:()=>(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.planSelectionStep.planTooltip",defaultMessage:"See all Notion plans"}),render:e=>(0,i.jsx)(K.Z,{style:{borderRadius:2},onClick:()=>U.r$({currentTab:"plans"}),...e,children:(0,i.jsx)(H.x,{iconGroup:L.M,colorName:"tertiary",variantName:"small"})})})]})})}function ee(e){let{disableSubmit:t,handleSubmit:n}=e;return(0,i.jsx)(r.a6,{layout:"vertical",primaryButtons:[{buttonType:"primary",label:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.continue",defaultMessage:"Continue"}),onClick:n,isDisabled:t}],secondaryButtons:[{buttonType:"dismiss"}]})}n(757658);const te=(0,V.CZ)("arrowDownCircled",{default:{loader:()=>n.e(65570).then(n.bind(n,665570)),size:20},small:{loader:()=>n.e(80891).then(n.bind(n,580891)),size:16},mini:{loader:()=>n.e(78023).then(n.bind(n,878023)),size:14},large:{loader:()=>n.e(60710).then(n.bind(n,860710)),size:24}});var ne=n(401898),se=n(602982);function ae(e){let{title:t,description:n,onSubmit:s,restrictionList:a,newProduct:l}=e;const d=(0,se.E)(l);return(0,i.jsx)(r.sR,{header:(0,i.jsx)(r.vI,{iconAndTitle:(0,i.jsx)(r.kC,{iconGroup:te,iconColorName:"uiRedPrimary",title:t}),description:n}),footer:(0,i.jsx)(oe,{onSubmit:s,canChurnImmediately:d}),children:a&&(0,ne.Of)(a)?(0,i.jsx)(T,{title:(0,i.jsx)(o.FormattedMessage,{id:"churnSurvey.restrictionStep.description",defaultMessage:"Your workspace will be restricted to:"}),tint:"red",features:a}):null})}function oe(e){let{onSubmit:t,canChurnImmediately:n}=e;const s=[{buttonType:"destructive",label:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.restrictionStep.downgrade",defaultMessage:"Downgrade"}),onClick:t}];return n&&s.push({buttonType:"destructive",label:(0,i.jsx)(i.Fragment,{children:"🚧 Downgrade immediately (dev only) 🚧"}),onClick:()=>t({churnImmediately:!0})}),(0,i.jsx)(r.a6,{layout:"vertical",primaryButtons:s,secondaryButtons:[{buttonType:"dismiss"}]})}var re=n(184747);const ie=(0,V.CZ)("bubbleLeftTextBubbleRight",{default:{loader:()=>n.e(49179).then(n.bind(n,149179)),size:20},small:{loader:()=>n.e(74686).then(n.bind(n,174686)),size:16},mini:{loader:()=>n.e(75285).then(n.bind(n,275285)),size:14},large:{loader:()=>n.e(19383).then(n.bind(n,719383)),size:24}});var le=n(842605),de=n(488101);function ue(e){let{onSubmit:t,options:n,description:s}=e;return(0,re.Z)((()=>de.z.setOptions(n))),(0,i.jsx)(r.sR,{header:(0,i.jsx)(ce,{}),footer:(0,i.jsx)(pe,{handleSubmit:()=>t(de.z.toSurveyResult())}),children:(0,i.jsx)(le.m,{store:de.z})})}function ce(e){let{description:t}=e;return(0,i.jsx)(r.vI,{iconAndTitle:(0,i.jsx)(r.kC,{iconGroup:ie,title:(0,i.jsx)("div",{style:{padding:"0 24px"},children:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.surveyStep.title",defaultMessage:"We’d love your input to help us make Notion better for everyone"})})}),description:t??(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.surveyStep.description",defaultMessage:"Let us know why you’re downgrading"})})}function pe(e){let{handleSubmit:t}=e;return(0,i.jsx)(r.a6,{layout:"vertical",primaryButtons:[{buttonType:"primary",label:(0,i.jsx)(o.FormattedMessage,{id:"downgradeFlow.continue",defaultMessage:"Continue"}),onClick:t}],secondaryButtons:[{buttonType:"dismiss"}]})}},602982:(e,t,n)=>{n.d(t,{E:()=>r,n:()=>i});var s=n(65965),a=n(647425),o=(n(95477),n(535057));function r(e){return"free"===e&&["local","staging","development"].includes("production")}function i(e){const t=(0,o.zt)();return(0,a.QM)(e)?(0,a.wP)(t)?s.BE:(0,a.NG)(t)?s.by:s.qQ:"personal"===e?s.rs:(0,a.NG)(e)?s.l2:(0,a.eR)(e)?(0,a.NG)(t)?s._F:s.C5:void 0}},843163:(e,t,n)=>{n.d(t,{W:()=>i,o:()=>r});n(667294);var s=n(709291),a=n(401898),o=n(785893);function r(e){switch(e){case"team_three_months":case"ai_fifty_percent":return(0,o.jsx)(s.FormattedMessage,{id:"coupon.percentage.fiftyPercent",defaultMessage:"50%"});case"team_annual":case"business_three_months":case"business_annual":case"enterprise_three_months":case"enterprise_annual":return(0,o.jsx)(s.FormattedMessage,{id:"coupon.percentage.tenPercent",defaultMessage:"10%"});default:(0,a.t1)(e)}}function i(e){switch(e){case"team_annual":case"business_annual":case"enterprise_annual":return(0,o.jsx)(s.FormattedMessage,{id:"coupon.duration.twelveMonths",defaultMessage:"12 months"});case"team_three_months":case"business_three_months":case"enterprise_three_months":case"ai_fifty_percent":return(0,o.jsx)(s.FormattedMessage,{id:"coupons.duration.threeMonths",defaultMessage:"3 months"})}}},673254:(e,t,n)=>{n.d(t,{V5:()=>s.V5,VX:()=>h,oo:()=>f,eB:()=>y});var s=n(883817),a=n(288280),o=n(170060),r=n(800480),i=n(886628),l=n(815047),d=n(947969),u=n(635150),c=n(206258);function p(e,t){const{name:n,spaceId:s,spaceUserId:a}=t,o=(0,r.O7)();return(0,i.VK)((()=>{if(!s||!a)return;const r=u.Z.getData(o,{spaceId:s});if(!r)return;const i=new c.H2(o,{table:l.bx,id:s}),p=new c.y3(o,{table:d.WU,spaceId:s,id:a}),m=e[n]({environment:o,spaceId:s});return{...t,scope:{type:"space",billingData:r,premiumFeatureOverrides:i.getSettings().premium_feature_overrides??{}},actor:{isSpaceAdmin:(null==p?void 0:p.isWorkspaceOwner())??!1},data:m}}),[o,n,t,e,s,a])}var m=n(88893);const g={guests:e=>{const t=a.subscriptionDataStoreInstance.state;return{current:t?(0,m.lk)(t):0}},internal_guests:e=>{const t=a.subscriptionDataStoreInstance.state;return{current:t?(0,m.lk)(t):0,hasLowGuestLimit:(0,o.fc)()}},non_admin_members:e=>{}};function h(e){const t=p(g,e);return!!t&&(0,s.KQ)(t)}function f(e){const t=p(g,e);if(t)return(0,s.$W)(t)}function y(e){const t=p(g,e);if(!t)return;const n=e.state;return(0,s.lJ)({...t,state:n})}},842605:(e,t,n)=>{n.d(t,{m:()=>g});n(667294);var s=n(886628),a=n(724405),o=n(709291),r=n(401898),i=n(689024),l=n(668828),d=n(707124),u=n(785893);function c(e){const{isChecked:t,label:n,onClickToggle:s}=e,o=(0,a.yK)((()=>({row:{alignItems:"center",cursor:"pointer",display:"flex",gap:8}})),[]);return(0,u.jsxs)("label",{style:o.row,children:[(0,u.jsx)(l._,{checked:t,onChange:s}),(0,u.jsx)(d.q,{styleName:"Body-14px/Regular",children:n})]})}var p=n(374194);function m(e){const{inputText:t,isChecked:n,label:s,onClickToggle:a,placeholderText:o,setInputText:r}=e;return(0,u.jsxs)(i.jX,{gap:8,children:[(0,u.jsx)(c,{label:s,isChecked:n,onClickToggle:a}),n?(0,u.jsx)(p.Z,{autoFocus:!0,value:t,placeholder:o,onChange:e=>r(e.target.value)}):null]})}function g(e){const{store:t}=e,n=(0,a.yK)((e=>({container:{border:`1px solid ${e.stroke.deemphasized}`,borderRadius:6}})),[]),l=(0,s.VK)((()=>t.state.options),[t]),{selectedIndexes:d,customTextByIndex:p}=(0,s.VK)((()=>{const{selectedIndexes:e,customTextByIndex:n}=t.state;return{selectedIndexes:e,customTextByIndex:n}}),[t]),g=(0,o.useIntl)();return(0,u.jsx)(i.jX,{padding:"16px 16px",style:n.container,gap:12,children:l.map(((e,n)=>{const{type:s}=e,a=d.has(n);switch(s){case"checkbox":return(0,u.jsx)(c,{isChecked:a,label:e.label,onClickToggle:()=>t.toggleIndex(n)},n);case"checkboxAndInput":const o="placeholderText"in e&&e.placeholderText?g.formatMessage(e.placeholderText):void 0;return(0,u.jsx)(m,{inputText:p[n]??"",isChecked:a,label:e.label,onClickToggle:()=>t.toggleIndex(n),placeholderText:o,setInputText:e=>t.setCustomTextByIndex(n,e)},n);default:(0,r.t1)(s)}}))})}},957187:(e,t,n)=>{n.d(t,{f:()=>r});n(667294);var s=n(709291),a=n(785893);const o=(0,s.defineMessages)({switchingToNewTool:{id:"survey.options.switching.placeholder",defaultMessage:"Share the name of the other tools"},switchingToNewAiTool:{id:"survey.options.usingAnotherAIService.placeholder",defaultMessage:"Share the name of the other AI tools"}}),r={consolidatingWorkspaces:{optionName:"consolidating_workspaces",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.consolidatingWorkspaces",defaultMessage:"Consolidating Notion workspaces"})},dataSecurity:{optionName:"data_security",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"churnSurvey.reasons.dataSecurity",defaultMessage:"Data security"})},missingFeatures:{optionName:"missing_features",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.missingFeatures",defaultMessage:"Missing features"})},noLongerNeedAccess:{optionName:"no_longer_need_access",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.noLongerNeedAccess",defaultMessage:"No longer need access to Notion"})},noLongerWorkTogether:{optionName:"no_longer_work_together",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.noLongerWorksHere",defaultMessage:"No longer works here"})},notUsingEnough:{optionName:"not_using_enough",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.notUsingEnough",defaultMessage:"Not using it enough"})},other:{optionName:"other",type:"checkboxAndInput",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.other",defaultMessage:"Other"})},switching:{optionName:"switching",type:"checkboxAndInput",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.switching",defaultMessage:"Switching to another tool"}),placeholderText:o.switchingToNewTool},switchingToAnotherWorkspace:{optionName:"switching_to_another_workspace",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.switchingToAnotherWorkspace",defaultMessage:"Switching to another Notion workspace"})},tooDifficult:{optionName:"too_difficult",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.tooDifficult",defaultMessage:"Too difficult to use"})},tooExpensive:{optionName:"too_expensive",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.tooExpensive",defaultMessage:"Too expensive"})},upgradedByMistake:{optionName:"upgraded_by_mistake",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"survey.options.upgradedByMistake",defaultMessage:"Upgraded by mistake"})},usingAnotherAiService:{optionName:"using_another_ai_service",type:"checkboxAndInput",label:(0,a.jsx)(s.FormattedMessage,{id:"churnSurvey.reasons.usingAnotherAIService",defaultMessage:"Using another AI service"}),placeholderText:o.switchingToNewAiTool},qualityOfResults:{optionName:"quality_of_results",type:"checkbox",label:(0,a.jsx)(s.FormattedMessage,{id:"churnSurvey.reasons.qualityOfResults",defaultMessage:"Quality of results"})}}},488101:(e,t,n)=>{n.d(t,{b:()=>a,z:()=>o});n(757658);var s=n(749085);class a extends s.default{getInitialState(){return{options:[],customTextByIndex:{},selectedIndexes:new Set}}setOptions(e){this.setState({customTextByIndex:{},options:e,selectedIndexes:new Set})}setCustomTextByIndex(e,t){this.update((n=>({...n,customTextByIndex:{...n.customTextByIndex,[e]:t}})))}toggleIndex(e){this.update((t=>{const n=new Set(t.selectedIndexes);return n.has(e)?n.delete(e):n.add(e),{...t,selectedIndexes:n}}))}toSurveyResult(){const{customTextByIndex:e,options:t,selectedIndexes:n}=this.state,s=[],a=[],o={};return n.forEach((n=>{const r=t[n];s.push(r.optionName),a.push(n),"checkboxAndInput"===r.type&&e[n]&&(o[r.optionName]=e[n])})),{reasons:s,reasonIndexes:a,customTextByReason:o}}}const o=new a},493535:(e,t,n)=>{n.d(t,{x:()=>s});const s=(0,n(745238).CZ)("exclamationMarkCircle",{default:{loader:()=>n.e(37597).then(n.bind(n,837597)),size:20},small:{loader:()=>n.e(49067).then(n.bind(n,949067)),size:16},mini:{loader:()=>n.e(58812).then(n.bind(n,58812)),size:14},micro:{loader:()=>n.e(27347).then(n.bind(n,327347)),size:14},large:{loader:()=>n.e(7360).then(n.bind(n,807360)),size:24},max:{loader:()=>n.e(7360).then(n.bind(n,807360)),size:28}})},965991:(e,t,n)=>{n.d(t,{$:()=>s});const s=(0,n(745238).CZ)("gift",{default:{loader:()=>n.e(22765).then(n.bind(n,22765)),size:20},small:{loader:()=>n.e(83153).then(n.bind(n,483153)),size:16},mini:{loader:()=>n.e(33467).then(n.bind(n,933467)),size:14},large:{loader:()=>n.e(69743).then(n.bind(n,569743)),size:24}})},605336:(e,t,n)=>{n.d(t,{r:()=>o});n(667294);var s=n(745238),a=n(785893);const o=(0,s.IU)("basicClock",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M4.541 7.919a.53.53 0 01-.39-.157.53.53 0 01-.157-.39c0-.155.053-.282.157-.383a.53.53 0 01.39-.157h2.905V2.895c0-.15.053-.278.158-.383a.521.521 0 01.382-.158.53.53 0 01.39.158.521.521 0 01.157.383v4.477a.53.53 0 01-.157.39.53.53 0 01-.39.157H4.541zm3.452 6.207a6.789 6.789 0 01-2.727-.554 7.124 7.124 0 01-2.256-1.524 7.277 7.277 0 01-1.525-2.256 6.788 6.788 0 01-.553-2.728c0-.966.184-1.875.553-2.727A7.241 7.241 0 015.258.557 6.788 6.788 0 017.987.003c.971 0 1.882.184 2.735.554.852.369 1.604.88 2.256 1.53a7.136 7.136 0 011.53 2.25c.37.852.555 1.761.555 2.727 0 .967-.185 1.876-.554 2.728a7.218 7.218 0 01-3.787 3.78 6.789 6.789 0 01-2.728.554zm0-1.395c.789 0 1.525-.145 2.208-.437a5.678 5.678 0 001.805-1.217 5.68 5.68 0 001.217-1.805c.291-.683.437-1.42.437-2.208a5.55 5.55 0 00-.437-2.2 5.66 5.66 0 00-3.029-3.029 5.567 5.567 0 00-2.208-.438c-.784 0-1.52.146-2.208.438A5.6 5.6 0 003.98 3.052a5.715 5.715 0 00-1.21 1.811 5.55 5.55 0 00-.437 2.201c0 .789.146 1.525.438 2.208a5.735 5.735 0 001.21 1.805 5.598 5.598 0 004.013 1.654z"})})},91315:(e,t,n)=>{n.d(t,{r:()=>o});n(667294);var s=n(745238),a=n(785893);const o=(0,s.IU)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},629300:(e,t,n)=>{n.d(t,{A:()=>o});n(667294);var s=n(745238),a=n(785893);const o=(0,s.IU)("cubeOutline",{viewBox:"0 0 14 16",svg:(0,a.jsx)("path",{d:"M1.01855 11.96C0.694987 11.7777 0.448893 11.568 0.280273 11.3311C0.116211 11.0895 0.0341797 10.7272 0.0341797 10.2441V4.7207C0.0341797 4.35612 0.104818 4.05306 0.246094 3.81152C0.38737 3.56543 0.610677 3.35579 0.916016 3.18262L5.72168 0.489258C6.14551 0.252279 6.57161 0.133789 7 0.133789C7.42839 0.133789 7.85221 0.252279 8.27148 0.489258L13.0771 3.18262C13.3825 3.35579 13.6058 3.56543 13.7471 3.81152C13.8883 4.05306 13.959 4.35612 13.959 4.7207V10.2441C13.959 10.7272 13.877 11.0895 13.7129 11.3311C13.5488 11.568 13.3027 11.7777 12.9746 11.96L7.68359 14.9268C7.22786 15.1774 6.76986 15.1774 6.30957 14.9268L1.01855 11.96ZM1.75684 10.9072L6.36426 13.5117V8.0293L1.25098 5.14453V10.1211C1.25098 10.2988 1.28743 10.4492 1.36035 10.5723C1.43783 10.6953 1.56999 10.807 1.75684 10.9072ZM12.2363 10.9072C12.4232 10.807 12.5531 10.6953 12.626 10.5723C12.7035 10.4492 12.7422 10.2988 12.7422 10.1211V5.14453L7.62891 8.0293V13.5117L12.2363 10.9072ZM7 6.9082L12.0518 4.07812L7.73145 1.64453C7.24837 1.36654 6.75846 1.36654 6.26172 1.64453L1.94824 4.07812L7 6.9082Z"})})},963222:(e,t,n)=>{n.d(t,{a:()=>o});n(667294);var s=n(745238),a=n(785893);const o=(0,s.IU)("docMagnifyingGlass",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M4.87695 14.1426C4.25195 14.1426 3.77734 13.9805 3.45312 13.6562C3.13281 13.332 2.97266 12.8535 2.97266 12.2207V3.38477C2.97266 2.75586 3.13281 2.2793 3.45312 1.95508C3.77734 1.62695 4.25195 1.46289 4.87695 1.46289H11.123C11.748 1.46289 12.2207 1.625 12.541 1.94922C12.8613 2.27344 13.0215 2.75195 13.0215 3.38477V9.30273C12.8652 9.13086 12.6895 8.97656 12.4941 8.83984C12.2988 8.70312 12.0918 8.59375 11.873 8.51172V3.45508C11.873 3.18555 11.7988 2.97852 11.6504 2.83398C11.5059 2.68555 11.2969 2.61133 11.0234 2.61133H4.97656C4.69531 2.61133 4.48242 2.68555 4.33789 2.83398C4.19727 2.97852 4.12695 3.18555 4.12695 3.45508V12.1621C4.12695 12.4355 4.19727 12.6426 4.33789 12.7832C4.48242 12.9238 4.69531 12.9941 4.97656 12.9941H7.40234C7.48438 13.2129 7.5918 13.4199 7.72461 13.6152C7.86133 13.8105 8.01562 13.9863 8.1875 14.1426H4.87695ZM5.86133 4.99609C5.74805 4.99609 5.65625 4.95898 5.58594 4.88477C5.51562 4.81055 5.48047 4.72266 5.48047 4.62109C5.48047 4.51953 5.51562 4.43359 5.58594 4.36328C5.65625 4.29297 5.74805 4.25781 5.86133 4.25781H10.1445C10.25 4.25781 10.3379 4.29297 10.4082 4.36328C10.4824 4.43359 10.5195 4.51953 10.5195 4.62109C10.5195 4.72266 10.4824 4.81055 10.4082 4.88477C10.3379 4.95898 10.25 4.99609 10.1445 4.99609H5.86133ZM5.86133 6.99414C5.74805 6.99414 5.65625 6.95898 5.58594 6.88867C5.51562 6.81445 5.48047 6.72461 5.48047 6.61914C5.48047 6.51758 5.51562 6.43164 5.58594 6.36133C5.65625 6.29102 5.74805 6.25586 5.86133 6.25586H10.1445C10.25 6.25586 10.3379 6.29102 10.4082 6.36133C10.4824 6.43164 10.5195 6.51758 10.5195 6.61914C10.5195 6.72461 10.4824 6.81445 10.4082 6.88867C10.3379 6.95898 10.25 6.99414 10.1445 6.99414H5.86133ZM10.4434 14.1426C9.9707 14.1426 9.53906 14.0254 9.14844 13.791C8.75781 13.5605 8.44336 13.25 8.20508 12.8594C7.9707 12.4688 7.85352 12.0371 7.85352 11.5645C7.85352 11.0879 7.9707 10.6543 8.20508 10.2637C8.44336 9.86914 8.75781 9.55664 9.14844 9.32617C9.53906 9.0918 9.9707 8.97461 10.4434 8.97461C10.9199 8.97461 11.3535 9.0918 11.7441 9.32617C12.1348 9.55664 12.4453 9.86719 12.6758 10.2578C12.9102 10.6484 13.0273 11.084 13.0273 11.5645C13.0273 12.0371 12.9102 12.4688 12.6758 12.8594C12.4453 13.25 12.1348 13.5605 11.7441 13.791C11.3535 14.0254 10.9199 14.1426 10.4434 14.1426ZM10.4434 13.252C10.752 13.252 11.0332 13.1758 11.2871 13.0234C11.5449 12.8711 11.75 12.666 11.9023 12.4082C12.0547 12.1543 12.1309 11.873 12.1309 11.5645C12.1309 11.252 12.0547 10.9688 11.9023 10.7148C11.75 10.4609 11.5449 10.2578 11.2871 10.1055C11.0332 9.94922 10.752 9.87109 10.4434 9.87109C10.1309 9.87109 9.8457 9.94922 9.58789 10.1055C9.33398 10.2578 9.12891 10.4609 8.97266 10.7148C8.82031 10.9688 8.74414 11.252 8.74414 11.5645C8.74414 11.873 8.82031 12.1543 8.97266 12.4082C9.12891 12.666 9.33398 12.8711 9.58789 13.0234C9.8457 13.1758 10.1309 13.252 10.4434 13.252ZM13.5078 15.209C13.3398 15.209 13.1895 15.1426 13.0566 15.0098L11.4629 13.416L12.2715 12.6719L13.8594 14.2598C13.9141 14.3105 13.957 14.3711 13.9883 14.4414C14.0195 14.5117 14.0352 14.582 14.0352 14.6523C14.0352 14.8125 13.9844 14.9453 13.8828 15.0508C13.7812 15.1562 13.6562 15.209 13.5078 15.209Z"})})},40462:(e,t,n)=>{n.d(t,{o:()=>o});n(667294);var s=n(745238),a=n(785893);const o=(0,s.IU)("globe2",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},125829:(e,t,n)=>{n.d(t,{TC:()=>r,dr:()=>a,is:()=>o});var s=n(133728);function a(e,t){return!!e&&o(e.getEmail(),t)}function o(e,t){return void 0!==r(e,t)}function r(e,t){if(!e)return;const n=(0,s.Gd)(e);return t.find((e=>e.url===n))}},490814:(e,t,n)=>{n.d(t,{$W:()=>l,Ay:()=>p,KQ:()=>r,Kz:()=>c,V5:()=>u,_e:()=>d,lJ:()=>i,t:()=>a});var s=n(401898),a=n(212847),o=n(909182);function r(e,t,n){return d(l(e,t,n))}function i(e,t,n){const s=n.state,a=n.scope.billingData,o={trialEnd:s.trialEnd,items:s.items};return l(e,t,{...n,scope:{...n.scope,billingData:{...a,subscription:o}}})}function l(e,t,n){const{name:a,scope:r,actor:i}=n,l={...n,billingData:r.billingData},d=r.premiumFeatureOverrides,u=a in d?function(e,t,n){const a={type:"contact_account_manager"},o=e[t.name].type;if("check"===o){const e={type:"none"};return!0===n?{type:"available",limit:e}:{type:"upsell",upsell:a,limit:e}}if("per_use"===o){const e=t.amount,s={type:"per_use",amount:n};return"unlimited"===n||n>e?{type:"available",limit:s}:{type:"upsell",upsell:a,limit:s}}if("cumulative"===o){const e=t.amount,s=t.data.current,o={type:"cumulative",current:s,total:n};return"unlimited"===n||n>=s+e?{type:"available",limit:o}:{type:"upsell",upsell:a,limit:o}}(0,s.t1)(o)}(e,n,d[a]):t[a](l);if("upsell"!==u.type)return u;const c=(0,o.Rd)(r.billingData.subscription),p=i.isSpaceAdmin,m=c?{type:"contact_account_manager"}:u.upsell,g=p?"upsell":"blocked";return{...u,type:g,upsell:m}}function d(e){return"available"===e.type}function u(e,t){const{available:n}=t;let a,o;return"unavailable"in t?(a=t.unavailable,o=t.unavailable):(a=t.blocked,o=t.upsell),"available"===e.type?n():"upsell"===e.type?o(e):"blocked"===e.type?a(e):(0,s.t1)(e)}function c(e,t){if(void 0!==e)return u(e,{available:()=>{},blocked:t,upsell:()=>{}})}function p(e){return a.object({required:e,optional:{}})}},883817:(e,t,n)=>{n.d(t,{$W:()=>d,II:()=>p,KQ:()=>l,V5:()=>a.V5,lJ:()=>u});var s=n(909182),a=n(490814),o=n(647425);const r={guests:{type:"cumulative",data:(0,a.Ay)({current:a.t.number()})},internal_guests:{type:"cumulative",data:(0,a.Ay)({current:a.t.number(),hasLowGuestLimit:a.t.boolean()})},non_admin_members:{type:"check",data:a.t.isUndefined()}},i={guests:e=>{let{amount:t,billingData:n,data:{current:s}}=e;return c({billingData:n,amount:t,current:s,limits:{free:10,personal:"unlimited",student:"unlimited",plus:"unlimited",business:"unlimited",enterprise:"unlimited"},upsellMap:{free:"plus"}})},internal_guests:e=>{let{amount:t,billingData:n,data:{current:s,hasLowGuestLimit:a}}=e;return c({billingData:n,amount:t,current:s,limits:(0,o.gp)({hasLowGuestLimit:a}),upsellMap:{free:"plus",student:"business",personal:"business",plus:"business"}})},non_admin_members:e=>{let{billingData:t}=e;return function(e){let{billingData:t,minimumTier:n}=e;const a=s.zt(t.subscription),r={type:"none"};return(0,o.$V)(a,n)?{type:"available",limit:r}:{type:"upsell",limit:r,upsell:{type:"product",product:n,limit:r}}}({billingData:t,minimumTier:"plus"})}};function l(e){return(0,a.KQ)(r,i,e)}function d(e){return(0,a.$W)(r,i,e)}function u(e){return(0,a.lJ)(r,i,e)}function c(e){let{billingData:t,amount:n,current:a,limits:o,upsellMap:r}=e;const i=s.zt(t.subscription),l=o[i],d={current:a,total:l,type:"cumulative"},u=r[i],c=u?o[u]:void 0;if(l&&("unlimited"===l||n+a<=l))return{type:"available",limit:d};if(u&&c){return{type:"upsell",limit:d,upsell:{type:"product",product:u,limit:{type:"cumulative",current:a,total:c}}}}return{type:"upsell",limit:d,upsell:{type:"contact_sales"}}}function p(e){return((null==e?void 0:e.items)??[]).filter((e=>"sites_custom_hostnames"===s.tw(e))).reduce(((e,t)=>e+t.quantity),0)}}}]);