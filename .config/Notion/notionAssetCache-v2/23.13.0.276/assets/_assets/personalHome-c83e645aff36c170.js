"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[77078],{358188:(e,t,n)=>{n.d(t,{Lg:()=>m,N:()=>p,aG:()=>u});var o=n(213493),a=n(429369),i=n(210228),r=n(710274),s=(n(296994),n(396691)),l=n(830806),d=n(344496),c=n(80444);n(472711);function u(e){const{environment:t,currentSpaceViewStore:n,...o}=e;if(!n.getModel())return;const a=!(0,d.q)(n)[e.feature];i.createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,perform:t=>{i.applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:a}},transaction:t})}}),(0,l.cY)({environment:t,show:a,...o})}function p(e){let{environment:t,option:n,from:o,userAction:a}=e;const r=c.default.state.currentSpaceViewStore;if(!r)return!1;const d=r.getOnAppStartStore().getValue();return i.createAndCommit({userAction:a,environment:t,perform:e=>{i.applyOperation({store:r,operation:{pointer:r.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,s.pJ)({spaceView:r.getModel(),preference:n}),(0,l.BX)({environment:t,oldValue:d,newValue:n,from:o}),!0}function m(e){const{environment:t,selectedStore:n,currentSpaceViewStore:s,collectionContextStore:d}=e,c=d.collectionViewStore(),u=d.collectionStore(),p=d.collectionViewBlockStore();if(!(u&&c&&p&&s))return;const m=s.getTeamsStores(),g=n.table===a.e0?m.indexOf(n)+1:0,h=n.table===a.e0?n.id:void 0;i.createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",perform:e=>{i.applyOperation({store:c,operation:{pointer:{id:c.id,table:o.np},path:["format","collection_view_source","teamId"],command:"set",args:h},transaction:e}),r.mc({environment:t,collectionViewBlockStore:p,collectionViewStore:c,collectionStore:u,collectionContextStore:d,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,collectionViewModuleContextType:void 0})}}),(0,l.Ay)({environment:t,teamId:h,index:g})}},336597:(e,t,n)=>{n.d(t,{h:()=>d});n(667294);var o=n(886628),a=n(653965),i=n(595550),r=n(566890),s=n(134232),l=n(785893);function d(e){const{isFullScreen:t,hasGroups:n,hasPartialResults:d,hasSearchQuery:c,overrideNumShimmerRows:u}=e,p=(0,r.DK)(),m=(0,o.VK)((()=>null==p?void 0:p.isInHomeWidgetStore.state),[p]);if(!(0,s.Z)(!0,0,100))return null;let g=1;void 0!==u?g=u:n||d||c||(g=t?10:3);const h=g>1?["50%","30%","40%","40%","30%","30%","40%","40%","30%","30%"]:["35%"],f=a.DZ(g).map((e=>(0,l.jsx)(i.G,{widthPercentage:e<h.length?h[e]:void 0},e)));return(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch",marginLeft:m?8:3},children:f})}},595550:(e,t,n)=>{n.d(t,{G:()=>l});n(667294);var o=n(886628),a=n(724405),i=n(566890),r=n(636596),s=n(785893);function l(e){const{widthPercentage:t}=e,n=(0,i.DK)(),l=(0,o.VK)((()=>null==n?void 0:n.isInHomeWidgetStore.state),[n]),d=(0,a.yK)((e=>({rowContainer:{display:"flex",height:30,alignItems:"center",gap:1,alignSelf:"stretch"},circleShimmer:{width:l?12:16,height:l?12:16,flexShrink:0,borderRadius:12,backgroundColor:e.lightDividerColor},rowShimmer:{width:t||"35%",height:10,flexShrink:0,borderRadius:12,marginLeft:2,backgroundColor:e.lightDividerColor},column:{display:"flex",height:34,padding:"7px 0px",alignItems:"center",gap:6,flex:"1 0 0"}})),[t,l]);return(0,s.jsx)("div",{style:d.rowContainer,children:(0,s.jsxs)("div",{style:d.column,children:[(0,s.jsx)(r.Z,{style:d.circleShimmer}),(0,s.jsx)(r.Z,{style:d.rowShimmer})]})})}},437712:(e,t,n)=>{n.d(t,{A:()=>r});n(667294);var o=n(886628),a=n(724405),i=n(785893);function r(e){let{scrollerStore:t}=e;const n=(0,o.VK)((()=>0===t.state.scrollTop),[t]),r=(0,a.yK)((e=>({border:{flexShrink:0,width:"100%",boxShadow:n?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[n]);return(0,i.jsx)("div",{style:r.border})}},566890:(e,t,n)=>{n.d(t,{DK:()=>u,L1:()=>d,Y$:()=>c,cu:()=>s,xm:()=>l});n(21703);var o=n(667294),a=n(67381);const i="collectionContextStore",r=(0,a.Q)({displayName:i,legacyContextKey:i,modernContextDefaultValue:void 0}),s=r.context,l=r.legacyPropTypes,d=r.Provider;function c(){const e=o.useContext(s);if(void 0===e)throw new Error(`No context provided: ${i}`);return e}function u(){return o.useContext(s)}},849616:(e,t,n)=>{n.d(t,{AF:()=>b,Hw:()=>w,Sy:()=>x,TP:()=>T,VM:()=>y,X7:()=>k,X9:()=>M,aJ:()=>V,g0:()=>j,z0:()=>S});var o=n(815145),a=n(598953),i=n(180951),r=n(949019),s=n(917683),l=n(332240),d=n(423512),c=n(76233),u=n(709291),p=n(653965),m=n(401898),g=n(218265),h=n(619584),f=n(278030),v=n(484210),C=n(433929);function y(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function x(e){switch(e){case f.C.Table:return"table";case f.C.Board:return"board";case f.C.ListView:return"list";case f.C.GalleryView:return"gallery";case f.C.Relation:case f.C.RelationSection:return"relation_section";case f.C.Timeline:return"timeline";case f.C.Calendar:return"calendar";case f.C.Page:return"page_properties";case f.C.CompactPage:return"compact_page";case f.C.Mini:return"mini_peek";case f.C.Form:case f.C.PropertyModule:return"property_module";default:(0,m.t1)(e)}}function S(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function w(e){const{store:t,property:n,propertySchema:a}=e,r=null==a?void 0:a.type;if("title"===r)return(0,v.ZP)({store:t,fullyQualified:!1,pageVisitSource:o.tY.LinkInPage});{const e=t.getPropertyValue(n);return i.Hw(r,e)}}function b(e){let t=(0,c.Jcv)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let n=g.Qc(t),o=n.host;if(n.protocol&&o||(n=g.Qc(`http://${t}`),o=n.host),!o)return{domain:void 0,restOfUrl:void 0};o&&(o=o.replace(/^www./i,""));const a=t.toLowerCase().indexOf(o.toLowerCase());if(-1===a)return{domain:void 0,restOfUrl:void 0};o=t.slice(a,a+o.length);return{domain:o,restOfUrl:t.slice(a+o.length)}}function k(e){const{numberValue:t,numberFormat:n,numberShowAs:o}=e;if(!(p.i2(t)||h.z4(t)||"bar"!==(null==o?void 0:o.type)&&"ring"!==(null==o?void 0:o.type))){const e=C.default.getIntl();return"percent"===n?d.uf(t,"percent",e):`${t} / ${o.maxValue}`}}function j(e){const{property:t,collectionStore:n}=e,o=n.isSyncedCollection();return Boolean(o)&&(0,a.w)(t)}function M(e,t){switch(e){case"side_peek":return{icon:l.y,tooltip:C.default.formatMessage(I.openInSidePeekTooltip),caption:t?"":C.default.formatMessage(I.openAsPageTitle)};case"center_peek":return{icon:s.Q,tooltip:C.default.formatMessage(I.openInCenterPeekTooltip),caption:t?"":C.default.formatMessage(I.openAsPageTitle)};case"full_page":return{icon:r.Z,tooltip:C.default.formatMessage(I.openAsPageTooltip),caption:t?"":C.default.formatMessage(I.openAsPageTitle)};default:(0,m.t1)(e)}}const I=(0,u.defineMessages)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function T(e){const t=e.getSchema();if(t)for(const[o,a]of Object.entries(t)){var n;if(a&&"text"===a.type&&"summarize"===(null===(n=a.ai_inference)||void 0===n?void 0:n.type)){const t=e.getPropertyValue(o);if(t)return t}}}function V(e){const{store:t,additionalStores:n,collectionContextStore:o}=e,a=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==o?void 0:o.contextType)||!a)&&n.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==a.id}))}},840863:(e,t,n)=>{n.d(t,{$G:()=>i,AN:()=>s,du:()=>a});n(757658);var o=n(730120);function a(e){const t=o.ou.fromMillis(e.startUnixTimestampMS),n=e.endUnixTimestampMS?o.ou.fromMillis(e.endUnixTimestampMS):void 0,a=o.ou.fromMillis(e.startOfWeekUnixTimestampMS),i=o.ou.fromMillis(e.endOfWeekUnixTimestampMS),r=t.startOf("day"),s=o.ou.max(a,r),l=Math.ceil(s.diff(a,"days").get("days"));let d=1;if(n){const e=n.endOf("day"),t=o.ou.min(i,e);d=Math.ceil(t.diff(s,"days").get("days"))}return{start:t,end:n,startOfWeek:a,endOfWeek:i,startColumn:l,columnCount:d}}function i(e){const t=(null==e?void 0:e.attendees)||[];return e.hasParticipants&&t.filter((e=>!e.self&&!e.resource)).every((e=>"declined"===e.responseStatus))}const r={upcomingMinsThreshold:10,startingMinsThreshold:5,startedMinsThreshold:15};function s(e){const t=e.filter((e=>{var t;if(!e.conferencing)return!1;return!function(e){if("declined"===e)return!0;return!1}((null===(t=e.attendees)||void 0===t?void 0:t.find((e=>e.self)))?e.responseStatus??"accepted":"accepted")&&!e.isAllDay}));if(0===t.length)return;const{upcomingMinsThreshold:n,startingMinsThreshold:a,startedMinsThreshold:i}=r,s=[],d=[],c=[],u=[],p=[];for(const r of t){if(r.isAllDay)continue;const e=l(r),t=o.ou.now(),m=e.start.diff(t,"minutes").minutes;m>=0&&m<=n?s.push(r):-m>=a?c.push(r):-m>=i?u.push(r):e.contains(t)?d.push(r):p.push(r)}return[...s,...c,...u,...d,...p][0]}function l(e){const t=o.ou.fromISO(e.start.dateTime,{zone:e.start.timeZone}),n=o.ou.fromISO(e.end.dateTime,{zone:e.end.timeZone});return o.Xp.fromDateTimes(t,n)}},235599:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(667294),a=n(724405),i=n(586432),r=n(619584),s=n(296994),l=n(277907);function d(e){const t=(0,l.XJ)(s.FF.calendarDateIcons),n=function(){const[e,t]=(0,o.useState)(new Date),n=(0,o.useRef)();return(0,o.useEffect)((()=>{const o=()=>{const n=new Date;n.getDate()!==e.getDate()&&t(n)},a=new Date,i=new Date(a);i.setHours(a.getHours()+1),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0);const s=i.getTime()-a.getTime(),l=setTimeout((()=>{o(),n.current=window.setInterval(o,r.U6)}),s);return()=>{clearTimeout(l),clearInterval(n.current)}}),[e]),e}(),d=e.dateNumber??n.getDate(),c=(0,a.yK)((t=>({icon:{width:16,height:16,color:t.mediumIconColor,...e.style}})),[e.style]),u=(0,o.useCallback)((e=>{if(e<1||e>31)return(0,i.s)(c.icon);if("resolved"!==t.status)return(0,i.s)(c.icon);const n=`calendarDate${e<10?`0${e}`:`${e}`}Icon`;return(0,t.value[n])(c.icon)}),[c,t]);return u(d)}},494043:(e,t,n)=>{n.d(t,{Nx:()=>P,Pb:()=>Z,Vc:()=>j,Vw:()=>A,Xg:()=>k,a3:()=>R,bj:()=>H,dp:()=>D,uI:()=>E,us:()=>_,w3:()=>M});var o=n(294184),a=n.n(o),i=n(667294),r=n(724405),s=n(831103),l=n(973420),d=n(60217),c=n(785893);const u="layout-wide",p="layout-wide-right-margin-expanded",m="layout-side-peek",g="layout-center-peek",h="layout-home",f="layout-form",v="layout-home-phone",C="layout-phone",y="layout-tablet",x="layout-template-preview",S="layout-chat",w="layout-layout-editor",b="layout-layout-editor-wide";function k(e){let{children:t,type:n,gap:o,withBottomPadding:i,style:r}=e;const s=(0,d.n1)(n);return(0,c.jsx)("div",{className:a()("layout",{[u]:"wide"===n,[p]:"wide-right-margin-expanded"===n,[m]:"side-peek"===n,[g]:"center-peek"===n,[h]:"home"===n,[v]:"home-phone"===n,[f]:"form"===n,[C]:"phone"===n,[y]:"tablet"===n,[x]:"template-preview"===n,[S]:"chat"===n,[w]:"layout-editor"===n,[b]:"layout-editor-wide"===n}),style:{paddingBottom:i?s:void 0,gap:o,...r},children:t})}const j="layout-content",M="layout-full",I="layout-margin-left",T="layout-margin-right",V="layout-nested-grid",_="hide-scrollbar",L="layout-column";function Z(e){return(0,c.jsx)("div",{className:a()(j,e.className),style:e.style,children:e.children})}function P(e){return(0,c.jsx)("div",{className:M,style:e.style,children:e.children})}function H(e){return(0,c.jsx)("div",{className:I,style:e.style,children:e.children})}function A(e){return(0,c.jsx)("div",{className:T,style:e.style,children:e.children})}const F=(0,i.forwardRef)((function(e,t){return(0,c.jsx)("div",{className:a()(V,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function D(e){let{items:t,style:n}=e;const[o,a]=i.useState(0),d=(0,i.useRef)([]),u=(0,r.yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},tab:"centered"===n?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:"centered"===n?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[n]),p=(0,i.useId)(),m=(0,i.useCallback)((e=>`${p}-tab-${e}`),[p]),g=(0,i.useCallback)((e=>`${p}-tabpanel-${e}`),[p]),h=(0,i.useCallback)((e=>{let n;var i;("ArrowLeft"===e.key?(e.preventDefault(),n=(o+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),n=(o+1)%t.length),void 0!==n)&&(a(n),null===(i=d.current[n])||void 0===i||i.focus())}),[o,t.length]);return(0,c.jsx)(s.Z,{name:"PageLayoutTabs",children:(0,c.jsxs)(F,{children:[(0,c.jsx)(Z,{children:(0,c.jsx)("div",{role:"tablist",children:(0,c.jsx)(l.X2,{justifyContent:"centered"===n?"center":"flex-start",children:t.map(((e,t)=>{var n;return(0,c.jsx)("button",{ref:e=>{e&&(d.current[t]=e)},id:m(t),role:"tab","aria-controls":g(t),"aria-selected":t===o,tabIndex:t===o?void 0:-1,onKeyDown:h,style:{...u.tab,...t===o&&u.tabSelected},onClick:e=>{e.stopPropagation(),a(t)},children:(0,c.jsxs)(l.X2,{gap:4,alignItems:"center",children:[null===(n=e.icon)||void 0===n?void 0:n.call(e,u.icon),e.label&&(0,c.jsx)("div",{style:u.label,children:e.label})]})},e.key)}))})})}),(0,c.jsx)(F,{id:g(o),role:"tabpanel","aria-labelledby":m(o),children:t[o]?t[o].children:null})]})})}function R(e){return(0,c.jsx)("div",{className:a()(L,e.className),style:{"--min-column-width":`${e.minWidth}px`,...e.style},children:e.children})}function E(e){return(0,c.jsxs)(R,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},60217:(e,t,n)=>{n.d(t,{C_:()=>_,D9:()=>H,L2:()=>P,MQ:()=>L,Nr:()=>T,Qg:()=>Z,WJ:()=>F,h9:()=>I,m4:()=>M,mj:()=>V,n1:()=>A});var o=n(800480),a=n(797511),i=n(886628),r=n(749085),s=n(541432),l=n(606287),d=n(761045),c=n(457819),u=n(110906),p=n(492650),m=n(922705),g=n(319124),h=n(212534),f=n(273203),v=n(292283),C=n(861931),y=n(80444),x=n(316772),S=n(319111),w=n(594896),b=n(282136),k=n(188923),j=n(417963);function M(e){(0,h.ZP)({event:e,context:h.Af.EditorMouseDown,callback:()=>{}})}function I(e){(0,h.ZP)({event:e,context:h.Af.EditorClick,callback:()=>{}})}function T(e){return(0,i.VK)((()=>Boolean(j.Z.state.pageMap[e.id])||w.Z.state.pages.has(e.id)),[e.id])}function V(e,t){const n=(0,o.O7)(),r=(0,a.l)(),s=T(e),l=(0,i.VK)((()=>t===b.S.Frame?y.default.state.currentLoadingContainerStore:t===b.S.PeekView&&k.default.state.open?k.default.state.loadingContainerStore:void 0),[t]),d=Z(e);return(0,i.VK)((()=>{const t=n.currentUser.isLoggedIn(),o=r&&r.publicEditModeStore.state;return Boolean(e&&l&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=o&&o.hasPublicPermission)||"edit"===(null==o?void 0:o.permission))&&!s&&l.state.ready&&!d&&(!(0,g.GD)(o)||"completionPopup"!==x.default.state.type))}),[n.currentUser,d,l,r,s,e])}function _(e,t){const n=(0,o.O7)(),r=(0,a.l)();return(0,i.VK)((()=>{if(L.state===e.id)return!0;if(t===b.S.SitePreview)return!1;if(!(0,f.r)(n))return!1;if(!n.currentUser.isLoggedIn())return!1;const o=r&&r.publicEditModeStore.state;if(null!=o&&o.hasPublicPermission&&"edit"!==(null==o?void 0:o.permission))return!1;if(e.getContentLength()>1)return!1;const a=e.getContentStores()[0];if(a&&!a.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const i=m.TI.state,s=m.mn.state;return!i||e.id!==s}),[n,r,e,t])}const L=r.default.createValue(void 0,{name:"ExperimentalTemplatePickerPreviewingStore"});function Z(e){return(0,i.VK)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(s.Ti.externalObjectInstancePage)}),[e])}function P(e){return(0,i.VK)((()=>{if(!(0,v.K6)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===l.vF){const e=t.getFormat();return!(null==e||!e.external_collection_type)}return!1}),[e])}function H(e){return(0,i.VK)((()=>{if(!(0,v.K6)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t||null===(t=t.getFormat())||void 0===t?void 0:t.external_collection_type)??!1)}),[e])}function A(e){const{device:t,WindowSizeStore:n}=(0,o.O7)(),a=(0,i.VK)((()=>{const e=n.state.height,o=t.isMobile&&S.Z.state.open?e:0;return d._4()+o}),[n,t.isMobile]);return(0,i.VK)((()=>Boolean((0,c.RR)(x.default.state))?600:"home-phone"===e?C.jq:t.isTablet?380:t.isIOS?Math.max(350,a):t.isMobile?400:"side-peek"===e||"center-peek"===e?80:"home"===e?C.XX:"30vh"),[t,a,e])}function F(e){const t=(0,o.O7)(),n=(0,i.VK)((()=>(0,p.fg)(t,e)),[t,e]);return(0,i.VK)((()=>n&&!e.isFullWidth()?(0,p.gC)(t,(0,u.en)(e),(0,u.Ks)(e)):0),[t,n,e])}},27068:(e,t,n)=>{n.d(t,{K_:()=>C,N8:()=>y,YD:()=>v,hR:()=>f,nJ:()=>h,nt:()=>x});var o=n(730120),a=n(915157),i=n(554153),r=n(401898),s=n(709953),l=n(210228),d=n(237181),c=n(80444),u=n(925489),p=n(2679),m=n(394841),g=n(161988);function h(e){const{currentUserSettingsStore:t}=c.default.state;t&&l.createAndCommit({userAction:"SidebarPersonalHomeButton.markAsSeen",environment:e,perform:e=>{d.d2({userSettingsStore:t,transaction:e,data:{seen_personal_home:!0}})}})}function f(e){const{currentUserSettingsStore:t}=c.default.state;t&&(p.default.setState({type:"inactive"}),l.createAndCommit({userAction:"SidebarPersonalHomeButton.markHomeTooltipAsSeen",environment:e,perform:e=>{d.d2({userSettingsStore:t,transaction:e,data:{personal_home_delayed_tooltip_dismissed_at:o.ou.now().toMillis()}})}}))}function v(e){const{environment:t,newSeenWelcomeHomeValue:n}=e,o=c.default.state.currentSpaceViewStore;o&&l.createAndCommit({userAction:"SidebarPersonalHomeSettings.markWelcomeAnimationAsSeen",environment:t,perform:e=>{const t=o.getSettingsStore().getKeyStore("personal_home").getKeyStore("seen_welcome_animation");s.sO({store:t,transaction:e,value:n})}})}function C(e){const{environment:t,tipType:n,completed:o}=e,{currentUserSettingsStore:a}=c.default.state;if(!a)return;const i=a.getPersonalHomeTipsSettings(),r={...i,progress_data:{...i.progress_data,[n]:{completed:o}}};l.createAndCommit({userAction:"LearnHomePanel.updateProgress",environment:t,perform:e=>{d.d2({userSettingsStore:a,transaction:e,data:{personal_home_tips_settings:r}})}})}function y(e){const{environment:t,hide:n}=e,{currentUserSettingsStore:o}=c.default.state;if(!o)return;const a={...o.getPersonalHomeTipsSettings(),hide_completed:n};l.createAndCommit({userAction:"LearnHomePanel.hideCompleted",environment:t,perform:e=>{d.d2({userSettingsStore:o,transaction:e,data:{personal_home_tips_settings:a}})}})}function x(e){const{blockId:t,enabledFeatures:n,userId:o}=e,s=(0,r.qP)(n).flatMap((e=>{let[t,n]=e;if(!n)return[];switch(t){case"tasks":return[(0,m.Ep)("myTasksAssignedToMeCollectionView")];case"customDb":const e=(0,m.Ep)("customDb");return[e&&a.Z.get({userId:o,key:u.Z.getLocalViewPreferenceKey(e)})].filter(r.$K);case"similarUsersAndTrending":return[(0,m.Ep)("similarUsersCollectionView"),(0,m.Ep)("trendingCollectionView")];case"recents":case"templates":case"tips":case"calendar":case"checklist":return[];default:(0,r.t1)(t)}})),{isHomeKey:l,homeCollectionViewIdsKey:d}=(0,g.C)(t);i.Z.set(l,!0),i.Z.set(d,s)}},255535:(e,t,n)=>{n.d(t,{W:()=>r,Z:()=>l});var o=n(667294),a=n(751077),i=n(785893);const r=16;function s(e){let{icon:t,style:n,size:o=r}=e;return(0,i.jsx)(a.Z,{type:"notion_icon",size:o,icon:`/icons/${t}_lightgray.svg`,largeIcon:!0,style:n})}const l=o.memo(s)},713484:(e,t,n)=>{n.d(t,{Z:()=>S});var o=n(667294),a=n(800480),i=n(886628),r=n(724405),s=n(137810),l=n(526388),d=n(536420),c=n(475024),u=n(825464),p=n(450334),m=n(861931),g=n(749085);class h extends g.default{getInitialState(){}}class f extends g.default{getInitialState(){return!1}}var v=n(622863),C=n(255535),y=n(785893);function x(e){let{icon:t,title:n,tooltip:o,hasRightElement:i,iconContainerStyle:d}=e;const p=(0,a.O7)(),m=(0,r.yK)((e=>({panelTitleAndIcon:{display:"flex",alignItems:"center",fontSize:(0,c.yv)(p,"UISmall"),fontWeight:s.Z.fontWeight.medium,color:e.text.secondary,fill:e.mediumIconColor,flexShrink:0,maxWidth:i?200:"100%"},title:{...s.Z.textOverflowStyle},panelIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:C.W,height:C.W,marginRight:8,marginTop:1,...d}})),[p,d,i]);return n?(0,y.jsx)(l.Z,{renderTooltip:()=>o,disableTooltip:!o,placement:u.u.Top,alignment:u.v.Start,render:e=>(0,y.jsxs)("div",{style:m.panelTitleAndIcon,...e,children:[(0,y.jsx)("div",{style:m.panelIconContainer,children:t}),(0,y.jsx)("span",{style:m.title,children:n})]})}):null}const S=function(e){let{children:t,title:n,icon:s,tooltip:l,iconContainerStyle:c,panelStyle:u,headerStyle:g,rightStyle:C,actions:S,right:w,disableRightFadeIn:b,disableActionsFadeIn:k,hideWrapStyle:j,actionsGap:M}=e;const I=(0,a.MO)(),T=Boolean(n),V=Boolean(w),_=(0,i.qz)(void 0,f),L=(0,i.qz)(void 0,h),Z=(0,o.useMemo)((()=>({isHoveredOnPanelStore:_,sizeStore:L})),[_,L]),P=(0,o.useCallback)((()=>_.setState(!0)),[_]),H=(0,o.useCallback)((()=>_.setState(!1)),[_]),A=(0,o.useCallback)((e=>{e.width<m.d_?L.setState("narrow"):L.setState("wide")}),[L]),F=(0,r.yK)((e=>({tile:{userSelect:"none",WebkitUserSelect:"none"},panel:j?{}:{paddingLeft:12,paddingRight:12,...(0,m.KI)({isPhone:I,theme:e}),...u},headerContainer:{flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center",height:m.jX,marginLeft:m.pW,...g},rightActions:{display:"flex",flexDirection:"row",alignItems:"center"},actions:{display:"flex",alignItems:"center",gap:M??6,paddingLeft:6}})),[I,j,u,g,M]),D=(T||V)&&(0,y.jsxs)("div",{style:F.headerContainer,children:[(0,y.jsx)(x,{title:n,icon:s,tooltip:l,hasRightElement:V,iconContainerStyle:c}),(V||S)&&(0,y.jsxs)("div",{style:F.rightActions,children:[V&&(0,y.jsx)(v.Z,{force:b?"forceShow":void 0,additionalStyles:C,children:w}),S&&(0,y.jsx)(v.Z,{force:k?"forceShow":void 0,additionalStyles:F.actions,children:S})]})]});return(0,y.jsx)(p.L8,{value:Z,children:(0,y.jsxs)("div",{style:F.tile,onMouseEnter:P,onMouseLeave:H,children:[D,(0,y.jsx)(d.n,{onSizeChange:A,children:(0,y.jsx)("div",{style:F.panel,children:t})})]})})}},183154:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(667294),a=n(724405),i=n(356666),r=n(709291),s=n(164921),l=n(785893);function d(e){let{...t}=e;const n=(0,r.useIntl)(),o=(0,a.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},threeDotIcon:{width:12,height:12,fill:e.mediumIconColor}})),[]),d=n.formatMessage({defaultMessage:"View options",id:"PersonalHomePanel.moreDropdownButton.tooltip"});return(0,l.jsx)(s.Z,{ariaLabel:d,style:o.buttonStyle,mobileFeedback:!1,...t,children:(0,i.o)(o.threeDotIcon)})}const c=o.memo(d)},33311:(e,t,n)=>{n.d(t,{Iu:()=>v,P2:()=>C,ZP:()=>x});var o=n(667294),a=n(724405),i=n(44643),r=n(709291),s=n(401898),l=n(552275),d=n(231945),c=n(478140),u=n(632163),p=n(672495),m=n(460709),g=n(861931),h=n(183154),f=n(785893);const v=(0,r.defineMessages)({hide:{id:"PersonalHomePanel.moreDropdown.hide.title",defaultMessage:"Hide from Home"}}),C=20;function y(e){let{actions:t}=e;const n=(0,a.yK)((e=>({hideButtonIcon:{height:C,width:C,fill:e.regularIconColor}})),[]),y=(0,r.useIntl)(),x=(0,o.useMemo)((()=>{const e={};return t.forEach((t=>{"custom"===t.type&&(e[t.item.key]=t.closeOnAccept)})),e}),[t]),S=[{key:"all",render:e=>(0,f.jsx)(p.Z,{...e}),items:t.map((e=>{switch(e.type){case"hide":return{key:"hide",render:e=>(0,f.jsx)(l.Z,{...e,icon:(0,i.L)(n.hideButtonIcon),title:y.formatMessage(v.hide),style:{borderRadius:g.bS}}),action:e.hide};case"custom":return e.item;default:(0,s.t1)(e)}}))}];return(0,f.jsx)(d.ZP,{popupType:d.Z4.Popup,alignmentToOrigin:d.vR.Center,originGap:2,renderOrigin:e=>(0,f.jsx)(h.Z,{...e}),render:e=>(0,f.jsx)(c.Z,{menuType:m.og.Popup,children:(0,f.jsx)(u.Z,{onAccept:t=>((e,t)=>{x[e.key]&&t.close()})(t,e),type:u.i.Vertical,sections:S,initialFocus:void 0})})})}const x=o.memo(y)},978749:(e,t,n)=>{n.d(t,{W:()=>i});var o=n(401898),a=(n(95477),n(548779));function i(e){let{isPhone:t,spaceStore:n}=e;return!t&&(0,o.$K)(n)&&!(0,a.XY)({env:"production",spaceStore:n})}},344496:(e,t,n)=>{n.d(t,{q:()=>a});const o={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1,checklist:!1};function a(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...o,...t}}},509339:(e,t,n)=>{n.d(t,{O:()=>s});var o=n(379362),a=n(522808),i=n(401898),r=n(924990);function s(e){let{icon:t,theme:n}=e;if(t)return(0,a.Z)(t)?r.Z.state.emojiByColorProcessed[t]:(0,o.V2)(t)?function(e){var t;let{uri:n,theme:a}=e;const i=null===(t=n.match(/\/icons\/[\w\-]*_(.+)\.svg/))||void 0===t?void 0:t[1];if(!function(e){if(!e)return!1;return l.has(e)}(i))return;return o.Lr[a.mode][i]}({uri:t,theme:n}):void 0}const l=new Set((0,i.Yd)(o.Lr.light))},551560:(e,t,n)=>{n.d(t,{GK:()=>l,Ju:()=>y,NZ:()=>d,az:()=>r,ml:()=>s});n(757658);var o=n(401898),a=n(80444);const i=10,r=["creative","internal_communication","eng","product_design","project_or_program_management","product","marketing","sales_or_success","support","finance","hr","it_admin","knowledge_management","operations","educator","student"],s=["life","work","school"],l=["singleplayer","multiplayer"];function d(e){let{userPersonaValue:t,userUseCases:n,spaceSurveyData:a}=e;const i=[g(t),...h({userUseCases:n}),...f({spaceSurveyData:a}),v({workspaceType:p()})].filter(o.$K);let r;for(const o of i)r=r?u(r,o):o;return void 0===r?{type:"space_type",persona:"singleplayer"}:r}const c={space_type:0,space_intent:1,function:2};function u(e,t){return c[e.type]>=c[t.type]?e:t}function p(){const{currentSpaceStore:e}=a.default.state,t=null==e?void 0:e.getModel(),n=null==e?void 0:e.getMemberCountFromPublicSpaceData();return t&&n?n<=1?"singleplayer":n<i?"multiplayer_small":"multiplayer":"singleplayer"}const m={student:{type:"function",persona:"student"},educator:{type:"function",persona:"educator"},creative:{type:"function",persona:"creative"},finance:{type:"function",persona:"finance"},internalCommunication:{type:"function",persona:"internal_communication"},projectProgramMgmt:{type:"function",persona:"project_or_program_management"},itAdmin:{type:"function",persona:"it_admin"},knowledgeManagement:{type:"function",persona:"knowledge_management"},marketing:{type:"function",persona:"marketing"},eng:{type:"function",persona:"eng"},programmer:{type:"function",persona:"eng"},hr:{type:"function",persona:"hr"},hr_recruiting:{type:"function",persona:"hr"},product:{type:"function",persona:"product"},product_manager:{type:"function",persona:"product"},productDesign:{type:"function",persona:"product_design"},designer:{type:"function",persona:"product_design"},marketing_sales:{type:"function",persona:"sales_or_success"},sales:{type:"function",persona:"sales_or_success"},support:{type:"function",persona:"support"},customer_support:{type:"function",persona:"support"},operations_hr:{type:"function",persona:"operations"},operations:{type:"function",persona:"operations"},personal:{type:"space_intent",persona:"life"},media:void 0,entrepreneur:void 0,freelancer:void 0,founderCeo:void 0,other:void 0,unfilled:void 0};function g(e){return e?m[e]:void 0}function h(e){let{userUseCases:t}=e;const n=[];for(const a of t??[])switch(a){case"personal_notes_to_dos":n.push({type:"space_intent",persona:"life"});continue;case"team_docs_knowledge_base":case"team_project_management":n.push({type:"space_intent",persona:"work"});continue;case"ai":case"docs":case"wikis":case"notes":case"project":case"goals":case"ai":case"other":continue;default:(0,o.t1)(a)}return n}function f(e){let{spaceSurveyData:t}=e;const n=[],a=function(e){var t;let{spaceSurveyData:n}=e;const a=null==n||null===(t=n.intent)||void 0===t?void 0:t.value;if(a)switch(a){case"personal":case"life":return"life";case"team":case"work":return"work";case"school":return"school";default:(0,o.t1)(a)}}({spaceSurveyData:t});if(a&&n.push({type:"space_intent",persona:a}),null!=t&&t.use_cases)for(const i of t.use_cases.value)switch(i){case"personal_notes_to_dos":n.push({type:"space_intent",persona:"life"});continue;case"team_docs_knowledge_base":case"team_project_management":n.push({type:"space_intent",persona:"work"});continue;case"ai":case"docs":case"wikis":case"notes":case"project":case"goals":case"ai":case"other":continue;default:(0,o.t1)(i)}return n}function v(e){let{workspaceType:t}=e;if(!t)return;return C({workspaceType:t})?{type:"space_type",persona:"multiplayer"}:{type:"space_type",persona:"singleplayer"}}function C(e){let{workspaceType:t}=e;switch(t){case"multiplayer":case"multiplayer_small":return!0;case"singleplayer":return!1;default:(0,o.t1)(t)}}function y(){return C({workspaceType:p()})}},861931:(e,t,n)=>{n.d(t,{$1:()=>b,$K:()=>S,A0:()=>f,A5:()=>g,Cm:()=>u,EP:()=>l,Er:()=>k,KI:()=>M,Ng:()=>m,QF:()=>p,Uf:()=>c,Vk:()=>h,XX:()=>i,_U:()=>T,bS:()=>x,cc:()=>I,d_:()=>d,iO:()=>s,jO:()=>w,jX:()=>C,jq:()=>r,pW:()=>v});var o=n(653965),a=n(401898);const i=160,r=40,s=24,l=20,d=600,c=270,u=405,p=480,m=500,g=16,h=24,f=10,v=8,C=44,y={backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"},x=4;function S(e){return{icon:e.mediumIconColor,text:e.mediumTextColor}}function w(e){return{width:48,height:48,fill:e.lightIconColor}}function b(e){let{theme:t,isPhone:n}=e;return n?t.personalHomeBackgroundPhone:t.personalHomeBackgroundDesktop}function k(e){let{theme:t,isPhone:n,buttonState:o}=e,a=t.whiteButtonBackground;switch(o){case"hovered":a=t.whiteButtonHoveredBackground;break;case"pressed":a=t.whiteButtonPressedBackground}return n&&(a=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:a,...y,boxShadow:T({isPhone:n,theme:t,borderOnly:!0}),width:28,height:28,borderRadius:4}}const j=1;function M(e){let{isPhone:t,theme:n}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:n.home.tile.background,boxShadow:T({isPhone:t,theme:n}),...y}}function I(e){let{mode:t,isPhone:n}=e;switch(t){case"dark":return 0;case"light":return j;default:return(0,a.P)(t),0}}function T(e){let{isPhone:t,theme:n,borderOnly:a}=e;if("dark"===n.mode)return"unset";n.mode;const i=I({mode:n.mode,isPhone:t});return(0,o.oA)([a||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${i}px rgba(0, 0, 0, 0.05)`]).join(", ")}},744890:(e,t,n)=>{n.d(t,{Nj:()=>d,RE:()=>c,mt:()=>s});var o=n(430548),a=n(421202),i=n(80444),r=n(206258);const s=10;const l=new class{constructor(){this.localStorageStore=new o.ZP("recentsCache",!1,"preference")}get(e){return this.localStorageStore.get(e)}set(e,t){this.localStorageStore.set(e,t)}remove(e){this.localStorageStore.remove(e)}};function d(e){var t;const n=null===(t=i.default.state.currentSpaceViewStore)||void 0===t?void 0:t.id;if(!n)return!1;const o=e.filter((e=>e.canRead())).slice(0,s);return l.set(n,o.map((e=>e.id))),!0}function c(){const{currentSpaceViewStore:e}=i.default.state;if(!e)return;const t=l.get(e.id);return t?t.map((t=>r.G.createChildStore(e,{id:t,table:a.iU,spaceId:e.id}))):void 0}},628344:(e,t,n)=>{n.r(t),n.d(t,{PersonalHomeContainer:()=>el,SetupPendingHomeTile:()=>Jn});var o=n(667294),a=n(800480),i=n(886628),r=n(724405),s=n(249902),l=n(953336),d=n(914542),c=n(896809),u=n(634406),p=n(568785),m=n(532854),g=n(81865),h=n(785893);function f(e){const t=(0,a.O7)(),n=(0,a.Fy)().isMobile,[s,l]=(0,o.useState)(),f=(0,i.VK)((()=>e.store.getCover()),[e.store]),v=(0,i.VK)((()=>c.Z),[]),C=(0,i.VK)((()=>v.state.loadingMode!==d.LU&&v.state.loadingMode!==d.SS),[v]),y=(0,i.VK)((()=>"uploading"===v.state.loadingMode&&v.state.uploadProgress||0),[v]),x=(0,i.VK)((()=>t.WindowSizeStore.state.paddingTop),[t.WindowSizeStore]),S=(0,r.yK)((e=>({background:{position:"absolute",width:"100%",height:"100%",marginTop:n?x:void 0,top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundImage:`url(${s}`,backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},loadingContainer:{...u.I,top:8,right:8,height:28},loadingSpinner:{width:16,height:16,marginRight:4},percentageIndicator:{minWidth:30,textAlign:"right"}})),[s,n,x]);return f?(0,h.jsx)(g.Z,{url:f.cover,isAuthenticated:!0,permissionRecord:f.pointer,render:(e,t)=>(l(t),(0,h.jsx)("div",{role:"img",style:S.background,onLoad:()=>{v.setState({loadingMode:"loaded"})},children:C&&(0,h.jsxs)("div",{style:S.loadingContainer,children:[(0,h.jsx)(p.Z,{style:S.loadingSpinner}),(0,h.jsx)("div",{style:S.percentageIndicator,children:(0,h.jsx)(m.Z,{percentage:y})})]})}))}):null}var v=n(494043),C=n(434859),y=n(80444),x=n(319385),S=n(745589),w=n(27068),b=n(344496),k=n(394841),j=n(38011),M=n(736595),I=n(730120),T=n(76233),V=n(709291),_=n(531701),L=n(401898),Z=n(137810),P=n(869150),H=n(489728),A=n(526388),F=n(360682),D=n(214976),R=n(825464),E=n(137231),K=n(898104),B=n(210228),O=n(749085);class W extends O.default{getInitialState(){return{open:!1}}}const N=new W;function U(e){let{environment:t}=e;N.reset(),K.ZH({debug:{userAction:"nicknameMenuActions.close"},environment:t})}var z=n(478140),G=n(953437),$=n(164369),q=n(965187),Y=n(249394),J=n(460709),Q=n(475024),X=n(223196);function ee(e){let{origin:t}=e;const n=(0,a.O7)(),o=(0,i.VK)((()=>N.state.open),[]),r=(0,i.VK)((()=>y.default.state.currentUserSettingsStore),[]),s=(0,a.MO)();return r?(0,h.jsx)(G.ZP,{popupType:s?X.k.SlideUp:X.k.Popup,open:o,origin:t,placementToOrigin:G.ZP.Placement.Bottom,alignmentToOrigin:G.ZP.Alignment.Center,originGap:4,onDismiss:()=>U({environment:n}),render:()=>(0,h.jsx)(te,{userSettingsStore:r})}):null}function te(e){let{userSettingsStore:t}=e;const[n,s]=(0,o.useState)(!1),l=(0,a.O7)(),d=(0,V.useIntl)(),c=(0,i.VK)((()=>{var e;return null===(e=y.default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(d)}),[d]),u=(0,a.MO)(),p=(0,o.useCallback)((()=>s(!0)),[]),m=(0,o.useCallback)((()=>s(!1)),[]),g=(0,o.useCallback)((()=>U({environment:l})),[l]),f=(0,o.useCallback)((()=>function(e){let{environment:t}=e;const n=N.state;if(!n.open)return;const o=n.originalNickname;U({environment:t});const{currentUserSettingsStore:a}=y.default.state;if(!a)return;const i=a.getNicknameStore();B.createAndCommit({environment:t,userAction:"nicknameMenuActions.revertToOldNickname",perform:e=>{E.sO({environment:t,store:i,value:o,transaction:e})}})}({environment:l})),[l]),v=(0,r.yK)((e=>({menu:{width:300},menuContainer:{paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14},inputContainer:{display:"flex",alignItems:"center",color:e.regularTextColor,fontSize:(0,Q.yv)(l,"UIRegular")},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",width:"100%",borderRadius:4,boxShadow:n?e.outlineBlueInputBoxShadow:e.inputBoxShadow,background:e.inputBackground,cursor:"text",position:"relative",marginTop:8,paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}})),[l,n]),C=(0,i.VK)((()=>t.getSettingsStore().getKeyStore("nickname")),[t]);let x;return x=u?{menuType:J.og.ActionSheet}:{menuType:J.og.Popup,width:300},(0,h.jsx)(z.Z,{...x,children:(0,h.jsxs)("div",{style:v.menuContainer,children:[(0,h.jsx)($.Z,{isSecondaryColor:!0,children:(0,h.jsx)(V.FormattedMessage,{id:"personalHomeRenamePopup.title",defaultMessage:"Edit nickname"})}),(0,h.jsx)("div",{style:v.inputContainer,children:(0,h.jsx)(q.Z,{style:v.input,store:C,disabled:!1,onEsc:f,onFocus:p,onBlur:m,onEnter:g,placeholder:c,pasteBehavior:"inline",disableEmojiCommands:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableSlashCommands:!0,disableComment:!0,disableMentions:!0,disableDrag:!0,disableEmbedMenu:!0,disableEquationInteraction:!0,disableMobileActionBar:!0,disableShiftEnter:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,inPageFind:Y.B3.none})})]})})}const ne=o.memo(ee);function oe(e){var t;let{nickname:n}=e;const s=(0,a.O7)(),l=(0,r.Fg)(),d=o.useRef(null),c=o.useRef();c.current=null===(t=d.current)||void 0===t?void 0:t.getBoundingClientRect();const u=(0,i.VK)((()=>N.state.open),[]),p=(0,i.VK)((()=>{var e;return null===(e=y.default.state.currentUserSettingsStore)||void 0===e?void 0:e.getNicknameStore()}),[]),m=(0,i.VK)((()=>{var e;const t=y.default.state.currentUserSettingsStore,o=null===(e=y.default.state.currentSpaceStore)||void 0===e?void 0:e.id;if(t&&o)return(0,D.IY)({environment:s,textValue:n&&o?{value:n,spaceId:o}:void 0,parentStore:t,disableLinks:!0,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disabled:!0,theme:l,emojiType:(0,F.e_)(s),katex:void 0,formulaValueTypes:[],stopLinkPropagation:!0})}),[s,n,l]),g=(0,o.useMemo)((()=>({height:"100%",flexShrink:1,fontSize:"inherit",fontWeight:"inherit",display:"flow",paddingTop:2,paddingBottom:2,marginLeft:-6,marginRight:-6,marginTop:-2,marginBottom:2,paddingLeft:6,paddingRight:6,...Z.Z.textOverflowStyle,color:void 0,lineHeight:void 0})),[]),f=(0,r.yK)((()=>({hiddenButton:{...g,width:0,overflow:void 0,pointerEvents:"none",color:"transparent",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},visibleButton:{...g,textShadow:"none"}})),[g]);return p?(0,h.jsx)(ne,{origin:(0,h.jsx)(A.Z,{originRect:c.current,placement:R.u.Bottom,render:e=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(H.Z,{hovered:!1,style:f.hiddenButton,children:m}),(0,h.jsx)(H.Z,{...e,ref:d,hovered:u,style:f.visibleButton,onClick:()=>function(e){let{originalNicknameStore:t}=e;K.Z5({store:t,selection:{startIndex:0,endIndex:(0,T.eeV)(t.getValue()).length}}),N.setState({open:!0,originalNickname:t.getValue()})}({originalNicknameStore:p}),onMouseEnter:t=>{var n;null===(n=e.onMouseEnter)||void 0===n||n.call(e,t),P.Z.setState({isHovered:!1})},children:m})]}),renderTooltip:()=>(0,h.jsx)(V.FormattedMessage,{id:"personalHomeHeader.changeNameTooltip",defaultMessage:"Edit nickname"})})}):null}const ae=o.memo(oe);function ie(e){let{marginTop:t,marginHorizontal:n,allPanelsLoaded:s,showWelcomeAnimation:l}=e;const[d,c]=o.useState(!1),u=(0,V.useIntl)(),p=(0,a.MO)(),{name:m,loaded:g}=(0,i.VK)((()=>re({currentUserStore:y.default.state.currentUserStore,currentUserSettingsStore:y.default.state.currentUserSettingsStore,intl:u})),[u]),f=(0,i.VK)((()=>{var e;return(null===(e=y.default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())??!1}),[]),v=(0,i.VK)((()=>{const e=y.default.state.currentSpaceViewStore;return e&&(0,k.Al)(e)}),[]),C=(0,i.VK)((()=>Boolean(null==v?void 0:v.hasCover())),[v]);(0,o.useEffect)((()=>{const e=setTimeout((()=>{l&&!d&&c(!0)}),500);return()=>{clearTimeout(e)}}),[d,l]);const x=g&&f,S=function(e){let{timeOfDay:t,name:n}=e;if("morning"===t)return n?(0,h.jsx)(V.FormattedMessage,{id:"personalHomeHeader.goodMorningUserName",defaultMessage:"<NoShrink>Good morning,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(V.FormattedMessage,{id:"personalHomeHeader.goodMorningNoUserName",defaultMessage:"Good morning"});if("afternoon"===t)return n?(0,h.jsx)(V.FormattedMessage,{id:"personalHomeHeader.goodAfternoonUserName",defaultMessage:"<NoShrink>Good afternoon,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(V.FormattedMessage,{id:"personalHomeHeader.goodAfternoonNoUserName",defaultMessage:"Good afternoon"});if("evening"===t)return n?(0,h.jsx)(V.FormattedMessage,{id:"personalHomeHeader.goodEveningUserName",defaultMessage:"<NoShrink>Good evening,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(V.FormattedMessage,{id:"personalHomeHeader.goodEveningNoUserName",defaultMessage:"Good evening"});(0,L.t1)(t)}({timeOfDay:function(){const e=I.ou.now().hour;return e>=19||e<2?"evening":e<12?"morning":"afternoon"}(),name:se(m)?(0,h.jsx)(ae,{nickname:m}):void 0}),w=(0,h.jsx)(V.FormattedMessage,{id:"personalHomeHeader.initialWelcomeText",defaultMessage:"Welcome home"}),b=(0,r.yK)((e=>{const o={width:"100%",height:"100%",marginTop:t,zIndex:1,paddingLeft:2*n,paddingRight:2*n,pointerEvents:"none",transition:"all 0.5s ease-in-out 2.75s"},a=l&&!s;return{container:{width:"100%",height:"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:d||!l?1:0,transition:"opacity 0.5s ease-in-out"},greetingTextContainer:{...o,opacity:a?0:1,transform:a?"translateY(12px)":"translateY(0px)"},welcomeTextContainer:{...o,opacity:a?1:0,transform:a?"translateY(0px)":"translateY(-12px)",position:"absolute"},headerText:{width:"100%",height:"100%",fontSize:p?24:30,lineHeight:1.2,fontWeight:Z.Z.fontWeight.semibold,color:C?_.ZP.white:e.regularTextColor,textShadow:C?"0px 1px 24px rgba(0, 0, 0, 0.33)":"",display:"flex",alignItems:"center",justifyContent:"center"},greetingTextSpan:{display:"flex",pointerEvents:"all",maxWidth:"100%"},mobileGreetingContainer:{display:"flex",flexDirection:"column",textShadow:C?"0px 1px 24px rgba(0, 0, 0, 0.33)":""},mobileIconContainer:{fontSize:30}}}),[t,n,s,l,d,p,C]),j=(0,h.jsx)("div",{style:b.headerText,children:(0,h.jsx)("span",{style:b.greetingTextSpan,children:S})}),M=(0,h.jsx)("div",{style:b.mobileGreetingContainer,children:(0,h.jsx)("div",{style:b.headerText,children:(0,h.jsx)("span",{style:b.greetingTextSpan,children:S})})}),T=(0,h.jsx)("div",{style:b.greetingTextContainer,children:p?M:j}),H=(0,h.jsx)("div",{style:b.welcomeTextContainer,children:(0,h.jsx)("div",{style:b.headerText,children:w})});return x?(0,h.jsxs)("div",{style:b.container,onMouseEnter:()=>{P.Z.setState({isHovered:!0})},onMouseLeave:()=>{P.Z.setState({isHovered:!1})},children:[T,H]}):null}function re(e){let{currentUserStore:t,currentUserSettingsStore:n,intl:o}=e;if(null==n||!n.isReady())return{name:void 0,loaded:!1};const a=n.getNickname();if(a&&se(a))return{name:a,loaded:!0};const i=null==t?void 0:t.getDisplayName(o);return{name:i?[[i]]:void 0,loaded:Boolean(null==t?void 0:t.isReady())}}function se(e){return!!(0,L.$K)(e)&&0!==(0,T.eeV)(e).length}const le=o.memo(ie);var de=n(532603),ce=n(843250),ue=n(615447),pe=n(117431),me=n(830806),ge=n(361673);const he=(0,n(67381).Q)({displayName:"CalendarAnalyticsContext",legacyContextKey:"calendarAnalyticsContext",modernContextDefaultValue:{panelState:void 0}}),fe=he.context,ve=he.Provider;he.legacyPropTypes;var Ce=n(978749),ye=n(981829),xe=n(551560),Se=n(861931),we=n(559054),be=n(460322),ke=n(375071),je=n(654497),Me=n(471924),Ie=n(653965),Te=n(336597),Ve=n(158297),_e=n(641741),Le=n(541056),Ze=n(584437),Pe=n(235599);n(21703),n(757658);class He{get length(){return this.orderedKeys.length}constructor(e,t){if(this.orderedKeys=void 0,this.keysToValues=void 0,!e&&!t)return this.orderedKeys=[],void(this.keysToValues={});if(!e||!t)throw new Error("Missing values or keyGetter in OrderedMap constructor");this.orderedKeys=e.map(t),this.keysToValues={};for(const n of e)this.keysToValues[t(n)]=n}append(e,t){let{keepOrdering:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keepOrdering:!1};if(e in this.keysToValues){if(this.keysToValues[e]=t,n)return;this.orderedKeys=[...this.orderedKeys.filter((t=>t!==e)),e]}else this.orderedKeys.push(e),this.keysToValues[e]=t}delete(e){this.orderedKeys=this.orderedKeys.filter((t=>t!==e)),delete this.keysToValues[e]}get(e){return this.keysToValues[e]}getOrderedValues(){return this.orderedKeys.map((e=>this.keysToValues[e]))}hasKey(e){return e in this.keysToValues}toJSON(){return this.orderedKeys.map((e=>[e,this.keysToValues[e]]))}static fromJSON(e){const t=new He;return t.orderedKeys=e.map((e=>{let[t]=e;return t})),t.keysToValues=Object.fromEntries(e),t}}var Ae=n(454642),Fe=n(709953),De=n(671574),Re=n(318245);const Ee={all_day_events:!0,events_without_participants:!0,events_without_location:!0};function Ke(e){const{currentSpaceViewStore:t}=y.default.state;return(null==t?void 0:t.getHomeCalendarFilter(e))??Ee[e]}function Be(e){let{event:t,eventFilters:n}=e;return(!1!==n.all_day_events||!t.isAllDay)&&(!(!1===n.events_without_participants&&!t.hasParticipants)&&!(!1===n.events_without_location&&!t.hasConferencingOrLocation))}const Oe={1:e=>e.calendarHomeWidget.base.orange,2:e=>e.calendarHomeWidget.base.red,3:e=>e.calendarHomeWidget.base.red,4:e=>e.calendarHomeWidget.base.orange,5:e=>e.calendarHomeWidget.base.orange,6:e=>e.calendarHomeWidget.base.orange,7:e=>e.calendarHomeWidget.base.green,8:e=>e.calendarHomeWidget.base.green,9:e=>e.calendarHomeWidget.base.green,10:e=>e.calendarHomeWidget.base.green,11:e=>e.calendarHomeWidget.base.yellow,12:e=>e.calendarHomeWidget.base.yellow,13:e=>e.calendarHomeWidget.base.green,14:e=>e.calendarHomeWidget.base.blue,15:e=>e.calendarHomeWidget.base.blue,16:e=>e.calendarHomeWidget.base.blue,17:e=>e.calendarHomeWidget.base.purple,18:e=>e.calendarHomeWidget.base.purple,19:e=>e.calendarHomeWidget.base.gray,20:e=>e.calendarHomeWidget.base.gray,21:e=>e.calendarHomeWidget.base.pink,22:e=>e.calendarHomeWidget.base.pink,23:e=>e.calendarHomeWidget.base.purple,24:e=>e.calendarHomeWidget.base.purple},We={1:e=>e.calendarHomeWidget.base.purple,2:e=>e.calendarHomeWidget.base.green,3:e=>e.calendarHomeWidget.base.pink,4:e=>e.calendarHomeWidget.base.red,5:e=>e.calendarHomeWidget.base.yellow,6:e=>e.calendarHomeWidget.base.orange,7:e=>e.calendarHomeWidget.base.blue,8:e=>e.calendarHomeWidget.base.gray,9:e=>e.calendarHomeWidget.base.blue,10:e=>e.calendarHomeWidget.base.green,11:e=>e.calendarHomeWidget.base.red};function Ne(e){let{theme:t,color:n}=e;if("preset"===n.type){var o,a;if("calendar"===n.colorType)return null===(o=Oe[n.colorId])||void 0===o?void 0:o.call(Oe,t);if("event"===n.colorType)return null===(a=We[n.colorId])||void 0===a?void 0:a.call(We,t);(0,L.P)(n)}var i;if("custom"===n.type)return null===(i=n.colorHexes)||void 0===i?void 0:i[t.mode].backgroundPrimary;(0,L.P)(n)}function Ue(e){let{theme:t,calendarColor:n}=e;const o=n&&Ne({theme:t,color:n});return o||t.calendarHomeWidget.base.blue}function ze(e){let{theme:t,eventColor:n,calendarColor:o}=e;const a=n&&Ne({theme:t,color:n});return a||Ue({theme:t,calendarColor:o})}function Ge(e){const{colorType:t,color:n,colorId:o}=e;return o?{type:"preset",colorId:o,colorType:t}:n?{type:"custom",colorHexes:n}:void 0}function $e(e){return"string"==typeof e?e:"calendarId"in e?`${e.accountId}:${e.calendarId}`:`${e.accountId}:${e.id}`}function qe(e){let{id:t,accountId:n,calendarId:o}=e;return`${n}:${o}:${t}`}var Ye=n(619013),Je=n(13882);function Qe(e){let{eventStartDate:t,eventEndDateInclusive:n,minDate:o,maxDateInclusive:a,timeZone:i}=e;const r=function(e){let{startAndEndDaysRange:t,minAndMaxDaysRange:n}=e;if(t.end<n.min)return;if(t.start>n.max)return;const{start:o,end:a}=t,{min:i,max:r}=n,s=o<i?i:o,l=a>r?r:a;return{start:s,end:l}}({startAndEndDaysRange:{start:tt(t,i),end:tt(n,i)},minAndMaxDaysRange:{min:tt(o,i),max:tt(a,i)}});if(!r)return[];const{start:s,end:l}=r;return Xe(s,l,i)}function Xe(e,t,n){const o=tt(t,n);let a=tt(e,n);const i=[];for(;a<=o;)i.push(a),a=et(a,n).plus({days:1}).toISODate();return i}function et(e,t){const[n,o,a]=tt(e,t).split("-").map(Number);return I.ou.fromObject({year:n,month:o,day:a},{zone:t})}function tt(e,t){return e.includes("T")?I.ou.fromISO(e,{zone:t}).toISODate():e}function nt(e,t){const n="en-US";return I.ou.fromISO(e,{zone:"UTC"}).setLocale(n).toLocaleString(I.ou.DATE_SHORT)===t.setLocale(n).toLocaleString(I.ou.DATE_SHORT)}function ot(e,t,n){const o=et(e,n);return et(t,n).diff(o,"days").days}function at(e){let{aCalendar:t,aEvent:n,aStartTimeOverride:o,bCalendar:a,bEvent:i,bStartTimeOverride:r}=e,s=o,l=r;if(!s&&n.start&&(s=it(n)),!l&&i.start&&(l=it(i)),!s)return 1;if(!l)return-1;let d=function(e,t){(0,Je.Z)(2,arguments);var n=(0,Ye.Z)(e),o=(0,Ye.Z)(t),a=n.getTime()-o.getTime();return a<0?-1:a>0?1:a}(s.toMillis(),l.toMillis());if(0===d){var c,u;const e=Boolean(null==t?void 0:t.primary),o=Boolean(null==a?void 0:a.primary),r=Boolean(null===(c=n.conferencing)||void 0===c?void 0:c.providerName),s=Boolean(n.hasParticipants),l=r&&s,p=Boolean(null===(u=i.conferencing)||void 0===u?void 0:u.providerName),m=Boolean(i.hasParticipants),g=p&&m,h="accepted"===n.responseStatus,f="accepted"===i.responseStatus,v="needsAction"===n.responseStatus,C="needsAction"===i.responseStatus,y="tentative"===n.responseStatus,x="tentative"===i.responseStatus;e&&!o?d=-1:o&&!e?d=1:l&&!g?d=-1:g&&!l?d=1:r&&!p?d=-1:p&&!r?d=1:s&&!m?d=-1:m&&!s?d=1:h&&!f?d=-1:f&&!h?d=1:!v||f||C?!C||h||v?y&&!(f||C||x)?d=-1:x&&!(h||v||y)&&(d=1):d=1:d=-1}return d}function it(e){if(e.isAllDay){const{date:t}=e.start;return et(t,"UTC")}{const{dateTime:t}=e.start;return I.ou.fromISO(t,{zone:"UTC"})}}function rt(e){let{botId:t,accounts:n,calendars:o,events:a,timeMin:i,timeMax:r}=e;const s=new He(o.map(st),$e);return{botId:t,accounts:new He(n,(e=>e.id)),calendars:s,events:new He(lt(a).sort(ct(s)),qe),timeMin:i,timeMax:r}}function st(e){return{...e,color:Ge({color:e.color,colorId:e.colorId,colorType:"calendar"}),colorId:void 0,primary:e.primary}}function lt(e){return e.map((e=>function(e){var t,n,o,a,i,r;let s;const l=pt(null===(t=e.start)||void 0===t?void 0:t.timeZone),d=pt(null===(n=e.end)||void 0===n?void 0:n.timeZone),c=(null===(o=e.start)||void 0===o?void 0:o.date)??(null===(a=e.start)||void 0===a?void 0:a.dateTime)??void 0,u=(null===(i=e.end)||void 0===i?void 0:i.date)??(null===(r=e.end)||void 0===r?void 0:r.dateTime)??void 0;if(!c||!u)return;s=e.isAllDay?{isAllDay:!0,start:{date:tt(c,l||"UTC")},end:{date:tt(u,l||"UTC")}}:{isAllDay:!1,start:{dateTime:c,timeZone:l},end:{dateTime:u,timeZone:d}};return{...e,...s,color:Ge({colorId:e.colorId,colorType:"event"})}}(e))).filter(L.$K)}function dt(e){let{events:t,updatedCalendarAndAccountIds:n,newEvents:o,calendars:a}=e;const i=new Set(n.map($e)),r=function(e,t,n){const o=[];let a=0,i=0;for(;a<e.length&&i<t.length;){n(e[a],t[i])<=0?(o.push(e[a]),a++):(o.push(t[i]),i++)}a<e.length?o.push(...e.slice(a)):i<t.length&&o.push(...t.slice(i));return o}(t.getOrderedValues().filter((e=>!i.has($e(e)))),[...o].sort(ct(a)),ct(a));return new He(r,qe)}function ct(e){const t=t=>e.get($e(t));return(e,n)=>at({aEvent:e,bEvent:n,aCalendar:t(e),bCalendar:t(n)})}function ut(e,t){return et(e,t).minus({days:1}).toISODate()}function pt(e){return e??void 0}function mt(e){let{event:t,minDate:n,maxDateInclusive:o,eventFilters:a,timeZone:i}=e;if(function(e){switch(e.responseStatus){case"declined":return!0;case"needsAction":case"tentative":case"accepted":case void 0:return!1;default:(0,L.t1)(e.responseStatus)}}(t))return!1;if(!Be({event:t,eventFilters:a}))return!1;const{start:r,end:s}=function(e,t){return e.isAllDay?{start:e.start.date,end:ut(e.end.date,t)}:{start:tt(e.start.dateTime,t),end:tt(e.end.dateTime,t)}}(t,i);return!(r>o||s<n)&&Be({event:t,eventFilters:a})}function gt(e){return[...e.allDayEvents,...e.timedEvents]}function ht(e,t,n){return function(e,t){const n=e.isAllDay?e.end.date:e.end.dateTime;return I.ou.fromISO(n,{zone:t})}(e,n)<t}var ft=n(292595);class vt extends O.default{getInitialState(){return{}}getCalendarMap(){var e;return null===(e=this.getStateForCurrentSpaceView())||void 0===e?void 0:e.calendars}getEvents(){var e;const t=null===(e=this.getStateForCurrentSpaceView())||void 0===e?void 0:e.events;return t?t.getOrderedValues():[]}getCalendarAndAccountIds(){const e=this.getCalendarMap();return e?e.getOrderedValues().map((e=>{let{id:t,accountId:n}=e;return{calendarId:t,accountId:n}})):[]}getStateForCurrentSpaceView(){const{currentSpaceViewStore:e}=y.default.state;if(e)return this.state[e.id]}update(e){super.update(e)}updateStateForCurrentSpaceView(e){const{currentSpaceViewStore:t}=y.default.state;t&&this.update((n=>({...n,[t.id]:e(n[t.id])})))}getCurrentCalendars(){var e;return null===(e=this.getStateForCurrentSpaceView())||void 0===e||null===(e=e.calendars)||void 0===e?void 0:e.getOrderedValues()}getAccount(e){var t;return null===(t=this.getStateForCurrentSpaceView())||void 0===t||null===(t=t.accounts)||void 0===t?void 0:t.get(e)}getCalendar(e){var t;return null===(t=this.getStateForCurrentSpaceView())||void 0===t||null===(t=t.calendars)||void 0===t?void 0:t.get("string"==typeof e?e:`${e.accountId}:${e.calendarId}`)}getCalendarsForAccount(e){var t;return(null===(t=this.getStateForCurrentSpaceView())||void 0===t||null===(t=t.calendars)||void 0===t?void 0:t.getOrderedValues().filter((t=>t.accountId===e)))??[]}getCurrentAccountIds(){var e;return(null===(e=this.getStateForCurrentSpaceView())||void 0===e||null===(e=e.accounts)||void 0===e?void 0:e.getOrderedValues().map((e=>e.id)))??[]}getCalendarFetchedTime(e){var t;const n="string"==typeof e?e:`${e.accountId}:${e.calendarId}`;return null===(t=this.getStateForCurrentSpaceView())||void 0===t?void 0:t.calendarsToLastFetchedTime[n]}}const Ct=new vt;(0,ft.exposeDebugValue)("HomeCalendarStore",Ct);const yt=Ct;function xt(e){return e.every((e=>{let{calendarId:t,accountId:n}=e;return yt.getCalendarFetchedTime({calendarId:t,accountId:n})}))}function St(e){let{oldMap:t,newMap:n,keyGetter:o}=e;const a=new He(t.getOrderedValues(),o);for(const i of(null==n?void 0:n.getOrderedValues())??[]){const e=o(i);a.append(e,i,{keepOrdering:!0})}return a}var wt=n(777349),bt=n(616218),kt=n(983946);function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}const Mt="three_days";function It(){const e=Lt();return{key:e,...Vt(e)}}function Tt(){const e="one_week";return{key:e,...Vt(e)}}function Vt(e){const t=Date.now(),n=(0,wt.Z)(function(e,t){if((0,Je.Z)(2,arguments),"object"!==jt(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,Ye.Z)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,bt.Z)(n,t.month)),null!=t.date&&n.setDate((0,kt.Z)(t.date)),null!=t.hours&&n.setHours((0,kt.Z)(t.hours)),null!=t.minutes&&n.setMinutes((0,kt.Z)(t.minutes)),null!=t.seconds&&n.setSeconds((0,kt.Z)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,kt.Z)(t.milliseconds)),n)}(t,{hours:23,minutes:59,seconds:59,milliseconds:999}),_t(e)-1);return{timeMin:t,timeMax:n.getTime()}}function _t(e){switch(e){case"one_day":return 1;case"two_days":return 2;case"three_days":return 3;case"one_week":return 7;default:(0,L.t1)(e)}}function Lt(){var e;const t=null===(e=y.default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getHomeCalendarConfigStore())||void 0===e||null===(e=e.getKeyStore("time_range"))||void 0===e?void 0:e.getValue();switch(t){case"one_day":case"two_days":case"three_days":case"one_week":return t;case void 0:return Mt;default:return(0,L.P)(t),Mt}}var Zt=n(430548),Pt=n(212847);const Ht=Pt.object({required:{botId:Pt.uuid(),timeMin:Pt.number(),timeMax:Pt.number(),accounts:Pt.array(Pt.tuple([Pt.string(),Pt.object({required:{},optional:{}})])),calendars:Pt.array(Pt.tuple([Pt.string(),Pt.object({required:{},optional:{}})])),events:Pt.array(Pt.tuple([Pt.string(),Pt.object({required:{},optional:{}})])),calendarsToLastFetchedTime:Pt.record(Pt.string(),Pt.number())},optional:{}});const At=new class{constructor(){this.localStorageStore=new Zt.ZP("homeCalendarCache",!1,"preference")}get(e){let t;try{t=this.localStorageStore.get(e)}catch{}if(t&&null===Ht.validator(t))return function(e){return{...e,accounts:He.fromJSON(e.accounts),calendars:He.fromJSON(e.calendars),events:He.fromJSON(e.events),calendarsToLastFetchedTime:Object.fromEntries(Object.entries(e.calendarsToLastFetchedTime).map((e=>{let[t,n]=e;return[t,I.ou.fromMillis(n)]})))}}(t);this.localStorageStore.remove(e)}set(e,t){try{this.localStorageStore.set(e,(n=t,{...n,accounts:n.accounts.toJSON(),calendars:n.calendars.toJSON(),events:n.events.toJSON(),calendarsToLastFetchedTime:Object.fromEntries(Object.entries(n.calendarsToLastFetchedTime).map((e=>{let[t,n]=e;return[t,n.toMillis()]})))}))}catch{}var n}remove(e){this.localStorageStore.remove(e)}};var Ft=n(730459);function Dt(e,t){Ae.calendarTrack(e,t)}function Rt(e){const t=function(e){let{botId:t,currentSpaceViewStore:n}=e;const o=yt.getCurrentCalendars()??[],a={};for(const i of o)a[$e(i)]={calendarId:i.id,accountId:i.accountId,visible:Et({spaceViewStore:n,botId:t,calendar:i})};return a}(e);return Object.values(t).flatMap((e=>{let{calendarId:t,accountId:n,visible:o}=e;return o?[{calendarId:t,accountId:n}]:[]}))}function Et(e){let{spaceViewStore:t,botId:n,calendar:o}=e;return function(e){var t;let{spaceViewStore:n,botId:o,calendarId:a,accountId:i}=e;const r=null==n?void 0:n.getHomeCalendarVisibilityConfig(o);if(!r||Bt({spaceViewStore:n,botId:o}))return;return null===(t=r.calendarVisibility)||void 0===t||null===(t=t[i])||void 0===t?void 0:t[a]}({spaceViewStore:t,botId:n,calendarId:o.id,accountId:o.accountId})??o.selected}const Kt=!0;function Bt(e){let{spaceViewStore:t,botId:n}=e;if(!t||!n)return Kt;const o=t.getHomeCalendarVisibilityConfig(n);return(null==o?void 0:o.mirrorWithNotionCalendar)??Kt}function Ot(e){let{state:t,calendars:n,event_filters:o,mirror_calendars:a,time_range:i,bot_id:r}=e;return{state:t,calendars:n,event_filters:o&&{all_day_events:o.all_day_events,events_without_participants:o.events_without_participants,events_without_location:o.events_without_location},mirror_calendars:a,time_range:i,bot_id:r}}function Wt(e){let{event_id:t,calendar_id:n,account_id:o,is_all_day:a,has_participants:i,conferencing_type:r,index:s,num_days_in_future:l}=e;return{event_id:t,calendar_id:n,account_id:o,is_all_day:a,has_participants:i,conferencing_type:r,index:s,num_days_in_future:l}}function Nt(e){var t,n,o;const a=y.default.state.currentSpaceViewStore,i=null===(t=yt.getStateForCurrentSpaceView())||void 0===t?void 0:t.botId;return{state:e,calendars:a&&i&&(null===(n=yt.getCurrentCalendars())||void 0===n?void 0:n.map((e=>({type:e.provider,calendarId:e.id,accountId:e.accountId,isShown:Et({spaceViewStore:a,botId:i,calendar:e})})))),mirror_calendars:Bt({botId:i,spaceViewStore:a}),event_filters:{all_day_events:Ke("all_day_events"),events_without_participants:Ke("events_without_participants"),events_without_location:Ke("events_without_location")},time_range:(null==a||null===(o=a.getHomeCalendarConfigStore())||void 0===o?void 0:o.getKeyStore("time_range").getValue())??Mt,bot_id:i}}function Ut(e){var t;let{event:n,eventIndex:o,numDaysInFuture:a}=e;return{event_id:n.id,calendar_id:n.calendarId,account_id:n.accountId,is_all_day:n.isAllDay,has_participants:n.hasParticipants,conferencing_type:null===(t=n.conferencing)||void 0===t?void 0:t.providerName,index:o,num_days_in_future:a}}function zt(e){let{environment:t,target:n,eventContext:o,calendarPanelContext:a}=e;(0,Ft.K4)(t,"cal_event_click",{target:n,...Ot(a),...Wt(o)}),"conferencing"===n&&a.bot_id&&Dt(t,{botId:a.bot_id,payload:{type:"track",payload:{event:"joinMeeting",eventId:o.event_id,calendarId:o.calendar_id,conferencingProvider:o.conferencing_type,method:"notionHomeTile"}}})}function Gt(e){const{environment:t,calendarPanelContext:n,notionAnalyticsSessionId:o}=e;(0,Ft.K4)(t,"cal_create_event",{...Ot(n)}),n.bot_id&&Dt(t,{botId:n.bot_id,payload:{type:"track",payload:{event:"createEventButtonClicked",notionAnalyticsSessionId:o,method:"notionHomeTile"}}})}function $t(e){(0,Ft.K4)(e.environment,"cal_settings_menu",{action:e.action,...Ot(e.calendarPanelContext)})}function qt(e){(0,Ft.K4)(e.environment,"cal_configure_view",{...Ot(e.calendarPanelContext),action:e.action,value:e.value,..."calendarId"in e?{calendar_id:e.calendarId}:{},..."accountId"in e?{account_id:e.accountId}:{}})}class Yt{constructor(e,t,n,o){this.pendingInvocations=new Map,this.fn=e,this.coalesce=t,this.waitMs=n,this.options=o}enqueue(e){for(const[n,o]of this.pendingInvocations){const t=this.coalesce(n,e);if(t)return this.pendingInvocations.delete(n),this.pendingInvocations.set(t,o),void o.dequeueDebounced(t)}const t=(0,Ie.Ds)(this.dequeue.bind(this),this.waitMs,this.options);this.pendingInvocations.set(e,{dequeueDebounced:t}),t(e)}dequeue(e){this.pendingInvocations.delete(e),this.fn.apply(null,e)}}function Jt(e){let{environment:t,timeRange:n,panelState:o}=e;const{currentSpaceViewStore:a}=y.default.state;if(!a)return;const i=a.getHomeCalendarConfigStore().getKeyStore("time_range");var r;B.createAndCommit({userAction:"homeCalendarActions.changeUpcomingEventsTimeRange",environment:t,perform:e=>{Fe.sO({transaction:e,store:i,value:n})}}),qt({environment:(r={environment:t,calendarPanelContext:Nt(o),newValue:n}).environment,calendarPanelContext:r.calendarPanelContext,action:"change_time_range",value:r.newValue})}function Qt(e){var t;let{environment:n,filter:o,panelState:a}=e;const{currentSpaceViewStore:i}=y.default.state;if(!i)return;const r=null===(t=i.getHomeCalendarConfigStore())||void 0===t||null===(t=t.getKeyStore("event_filters"))||void 0===t?void 0:t.getKeyStore(o),s=!Ke(o);B.createAndCommit({userAction:"homeCalendarActions.toggleCalendarEventFilter",environment:n,perform:e=>{Fe.sO({transaction:e,store:r,value:s})}});const l=Nt(a);var d;qt({environment:(d={environment:n,calendarPanelContext:l,filter:o,newValue:s}).environment,calendarPanelContext:d.calendarPanelContext,action:`toggle_${d.filter}`,value:d.newValue})}function Xt(e){let{environment:t,botId:n,shouldLog:o,panelState:a}=e;const{currentSpaceViewStore:i}=y.default.state;if(!i)return;const r=i.getHomeCalendarConfigStore().getKeyStore("selected_calendar_bot_id");var s;if(r.getValue()!==n&&((0,De.RI)().find((e=>e.id===n))&&(B.createAndCommit({userAction:"homeCalendarActions.changeSelectedCalendarBot",environment:t,perform:e=>{Fe.sO({transaction:e,store:r,value:n})}}),o))){const e=Nt(a);qt({environment:(s={environment:t,botId:n,calendarPanelContext:e}).environment,calendarPanelContext:s.calendarPanelContext,action:"change_calendar_bot",value:s.botId})}}async function en(e){let{environment:t,currentSpaceViewStore:n,botId:o,timeRange:a,calendarAndAccountIds:i,forceRefetch:r,updateMethod:s,reason:l}=e;if(!n||!n.isReady()||!n.canRead())return"failure";const d=x.default.checkGate({gateName:"calendar_home_tile_caching"});if(!r){var c;let e=yt.getStateForCurrentSpaceView();if(!e&&d&&(e=function(e){let{timeMin:t}=e;const{currentSpaceViewStore:n}=y.default.state;if(!n)return;let o=At.get(n.id);o&&(t>=o.timeMin&&I.ou.fromMillis(t).plus({days:sn}).toMillis()<=o.timeMax?(o=rn({state:o}).newState,yt.updateStateForCurrentSpaceView((()=>o))):(At.remove(n.id),o=void 0));return o}({timeMin:a.timeMin})),i&&xt(i))return"skipped";if(!i&&(null===(c=e)||void 0===c?void 0:c.botId)===o&&xt(Rt({botId:o,currentSpaceViewStore:n})))return"skipped"}const u=function(e){let{spaceViewStore:t,botId:n,specificCalendars:o}=e;const a=t.getHomeCalendarVisibilityConfig(n);if(!a||!(0,L.$K)(null==a?void 0:a.calendarVisibility)||Bt({spaceViewStore:t,botId:n}))return{type:"mirrorWithCron"};const i=[];for(const[r,s]of(0,L.qP)(a.calendarVisibility??{}))for(const[e,t]of(0,L.qP)(s??{}))!(0,L.$K)(t)||o&&!o.some((t=>t.accountId===r&&t.calendarId===e))||i.push({accountId:r,calendarId:e,visible:t});return{type:"calendarOverrides",calendarOverrides:i}}({spaceViewStore:n,botId:o,specificCalendars:i}),p=Re.default.mark("home.calendar.get_calendar_events_all"),m=await Ae.getCalendarEvents(t,{botId:o,timeMin:a.timeMin,timeMax:a.timeMax,orderBy:"startTime",calendars:i,calendarVisibilityOverrides:"mirrorWithCron"===u.type?void 0:u.calendarOverrides,userTimeZone:(0,_e.NX)().timeZone,reason:Array.isArray(l)?(0,Ie.jj)(l).sort().join(","):l});if("success"!==m.type)return"failure";i||Re.default.measure(p,{environment:t});const{accounts:g,calendars:h,events:f}=m.data,v=function(e){let{specificCalendarsFetched:t,calendarVisibilityOverrides:n,calendarApiResponse:o}=e;const a=new Set((t??[]).map($e)),i="calendarOverrides"===n.type?n.calendarOverrides:[],r=(0,Ie.KX)(i,$e);return o.filter((e=>{const n=$e(e);if(void 0!==t)return a.has(n);const o=r[n];return(0,L.$K)(o)?o.visible:e.selected})).map((e=>{let{id:t,accountId:n}=e;return{calendarId:t,accountId:n}}))}({calendarApiResponse:h,specificCalendarsFetched:i,calendarVisibilityOverrides:u});return yt.updateStateForCurrentSpaceView((e=>{let t;switch(s){case void 0:case"merge":t=e;break;case"replace":t=void 0;break;default:(0,L.P)(s)}const i=function(e){let{oldState:t,newState:n,updatedCalendars:o,fetchTime:a}=e;const i=!t||n.botId!==t.botId,r=function(e){let{calendarsThatWereUpdated:t,oldCalendarFetchedTimes:n,fetchTime:o}=e;const a={...n};for(const i of t)(!a[i]||a[i]<o)&&(a[i]=o);return a}({calendarsThatWereUpdated:o.map($e),oldCalendarFetchedTimes:i||null==t?void 0:t.calendarsToLastFetchedTime,fetchTime:a});if(!t||i)return{...n,calendarsToLastFetchedTime:r};const s={...t,calendarsToLastFetchedTime:r};for(const l of(0,L.qP)(n))switch(l[0]){case"accounts":s.accounts=St({oldMap:t.accounts,newMap:n.accounts,keyGetter:e=>{let{id:t}=e;return t}});break;case"events":s.events=dt({events:t.events,calendars:t.calendars,updatedCalendarAndAccountIds:o,newEvents:n.events.getOrderedValues()});break;case"botId":s.botId=n.botId;break;case"timeMin":s.timeMin=Math.max(t.timeMin,n.timeMin);break;case"timeMax":s.timeMax=Math.min(t.timeMax,n.timeMax);break;case"calendars":s.calendars=St({oldMap:t.calendars,newMap:n.calendars,keyGetter:$e});break;default:(0,L.P)(l[0])}return s}({oldState:t,newState:rt({botId:o,accounts:g,calendars:h,events:f,timeMin:a.timeMin,timeMax:a.timeMax}),updatedCalendars:v,fetchTime:I.ou.now()});return d&&At.set(n.id,i),i})),function(e){let{environment:t,spaceViewStore:n,botId:o,calendarResponse:a}=e;const i=n.getHomeCalendarVisibilityConfig(o);if(Bt({spaceViewStore:n,botId:o}))return;const r=function(e){let{currentConfig:t,calendars:n}=e;const o=(0,Ie.Xh)(t)??{};let a=!1;for(const{id:r,accountId:s,selected:l}of n){var i;void 0===(null===(i=o[s])||void 0===i?void 0:i[r])&&(o[s]={...o[s],[r]:l},a=!0)}return a?{result:"updated",newConfig:o}:{result:"noChanges"}}({currentConfig:null==i?void 0:i.calendarVisibility,calendars:a});if("noChanges"===r.result)return;B.createAndCommit({userAction:"homeCalendarActions.populateCalendarConfigWithCalendarResponse",environment:t,perform:e=>{Fe.sO({transaction:e,store:n.getHomeCalendarConfigStore().getKeyStore("shownCalendars").getKeyStore(o).getKeyStore("calendarVisibility"),value:r.newConfig})}})}({environment:t,spaceViewStore:n,botId:o,calendarResponse:h}),"success"}const tn=(0,Ie.Ds)(en,1e3,{leading:!1,trailing:!0});const nn=function(e,t,n,o){const a=new Yt(e,t,n,o);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.enqueue(t)}}(en,(function(e,t){let n,[o]=e,[a]=t;if(!x.default.checkGate({gateName:"calendar_home_tile_reactivity_coalescing"}))return!1;if(o.environment!==a.environment||o.currentSpaceViewStore!==a.currentSpaceViewStore||o.botId!==a.botId||o.timeRange.key!==a.timeRange.key)return!1;const i={environment:o.environment,currentSpaceViewStore:o.currentSpaceViewStore,botId:o.botId,timeRange:{key:o.timeRange.key,timeMin:Math.max(o.timeRange.timeMin,a.timeRange.timeMin),timeMax:Math.max(o.timeRange.timeMax,a.timeRange.timeMax)},reason:(0,Ie.xH)([o.reason,a.reason]),forceRefetch:o.forceRefetch||a.forceRefetch};return n=o.calendarAndAccountIds&&a.calendarAndAccountIds?{...i,calendarAndAccountIds:(0,Ie.mN)([...o.calendarAndAccountIds,...a.calendarAndAccountIds],$e)}:{...i,updateMethod:"replace"===o.updateMethod||"replace"===a.updateMethod?"replace":"merge"},[n]}),2e3+2e3*Math.random(),{maxWait:5e3});function on(e){let{environment:t,botId:n,mirrorWithNotionCalendar:o,panelState:a}=e;const{currentSpaceViewStore:i}=y.default.state;if(!i)return;const r=i.getHomeCalendarConfigStore().getKeyStore("shownCalendars").getKeyStore(n);B.createAndCommit({userAction:"homeCalendarActions.toggleCalendarMirroring",environment:t,perform:e=>{const t=o?void 0:function(e){const t={};for(const{id:n,accountId:o,selected:a}of e)t[o]={...t[o],[n]:a};return t}(yt.getCurrentCalendars()??[]);Fe.sO({transaction:e,store:r,value:{mirrorWithNotionCalendar:o,calendarVisibility:t}})}});const s=Nt(a);var l;qt({environment:(l={environment:t,calendarPanelContext:s,newValue:o}).environment,calendarPanelContext:l.calendarPanelContext,action:"toggle_mirroring",value:l.newValue}),tn({environment:t,currentSpaceViewStore:i,botId:n,timeRange:Tt(),forceRefetch:!1,reason:"toggle_mirroring"})}function an(e){let{environment:t,botId:n,calendarId:o,accountId:a,newIsVisible:i,panelState:r}=e;const{currentSpaceViewStore:s}=y.default.state;if(!s)return;const l=s.getCalendarVisibilityStore({botId:n,calendarId:o,accountId:a});var d;B.createAndCommit({userAction:"homeCalendarActions.toggleCalendarVisibility",environment:t,perform:e=>{Fe.sO({transaction:e,store:l,value:i})}}),qt({environment:(d={environment:t,calendarPanelContext:Nt(r),calendarId:o,accountId:a,newValue:i}).environment,calendarPanelContext:d.calendarPanelContext,action:"toggle_calendar_visibility",calendarId:d.calendarId,accountId:d.accountId,value:d.newValue}),tn({environment:t,currentSpaceViewStore:s,botId:n,timeRange:Tt(),calendarAndAccountIds:[{calendarId:o,accountId:a}],forceRefetch:!1,reason:"toggle_calendar_visibility"})}function rn(e){let{now:t=I.ou.now(),state:n}=e;const{events:o}=n,{timeZone:a}=(0,_e.NX)(),i=new He(o.getOrderedValues().filter((e=>!ht(e,t,a))),qe);return i.length===o.length?{didChange:!1,newState:n}:{didChange:!0,newState:{...n,timeMin:t.toMillis(),events:i}}}const sn=1;function ln(e){if(0===e.length)return!0;const t=e[0];return e.every((e=>void 0!==e&&e===t))}const dn=new Set;const cn=new Set;function un(e){let{firstMountToReadyMetricName:t,appStartToReadyMetricName:n,isReady:r}=e;const s=(0,a.O7)(),l=function(e,t){const n=(0,o.useMemo)((()=>Re.default.mark(e)),[e]),a=(0,o.useRef)(t);return(0,o.useEffect)((()=>{a.current=t}),[t]),(0,o.useCallback)((()=>{dn.has(e)||(dn.add(e),Re.default.measure(n,a.current))}),[n,e])}(t,{environment:s}),d=function(e,t){const n=(0,o.useRef)(t);return(0,o.useEffect)((()=>{n.current=t}),[t]),(0,o.useCallback)((()=>{cn.has(e)||(cn.add(e),Re.default.measureFromAppStart(e,n.current))}),[e])}(n,{environment:s}),c=(0,i.VK)((()=>function(e){const{route:t,initialRoute:n,historyState:o}=e.RouterStore.state;if("page"!==t.name)return!1;switch(n.name){case"root":return 1===(null==o?void 0:o.index);case"page":return n.blockId===t.blockId&&0===(null==o?void 0:o.index);default:return!1}}(s)),[s]);(0,o.useEffect)((()=>{c&&r&&(l(),d())}),[r,l,d,c])}var pn=n(977657),mn=n(530874);function gn(){const e=(0,a.O7)(),t=(0,o.useRef)(void 0);return(0,i.VK)((()=>{if(void 0===t.current){if(!x.default.isStatsigReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};t.current=x.default.checkGate({gateName:"calendar_home_tile_caching"})}if(t.current){var n;const{currentSpaceViewStore:t}=y.default.state;if(!t||!t.isReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};const o=t.getSelectedCalendarBotId(),a=!mn.Z.state.loaded;if(o&&a)return{loading:!1,botId:o,botSpaceId:t.getSpaceId(),botUserId:t.getUserId()};const{spaceId:i,userId:r}=mn.Z.state.loaded?mn.Z.state:{spaceId:void 0,userId:void 0},s=mn.Z.bots.state.filter((e=>e.integration_id===pn.Dv)),l=null===(n=s[0])||void 0===n?void 0:n.id,d=o&&s.some((e=>e.id===o))?o:l;return d&&d!==o&&Xt({environment:e,botId:d,shouldLog:!1}),{loading:a,botId:d,botSpaceId:i,botUserId:r}}{var o,a,i;const e=mn.Z.bots.state.filter((e=>e.integration_id===pn.Dv)),t=null===(o=y.default.state.currentSpaceViewStore)||void 0===o?void 0:o.getSelectedCalendarBotId(),n=!mn.Z.state.loaded||!(null!==(a=y.default.state.currentSpaceViewStore)&&void 0!==a&&a.isReady()),{spaceId:r,userId:s}=mn.Z.state.loaded?mn.Z.state:{spaceId:void 0,userId:void 0},l=null===(i=e[0])||void 0===i?void 0:i.id;if(!t)return{loading:n,botId:l,botSpaceId:r,botUserId:s};const d=e.find((e=>e.id===t));return{loading:n,botId:(null==d?void 0:d.id)??l,botSpaceId:r,botUserId:s}}}),[e])}var hn=n(713484),fn=n(769952),vn=n(310214),Cn=n(745238);const yn=(0,Cn.IU)("zoomLogo",{viewBox:"0 0 13 9",svg:(0,h.jsx)("path",{d:"M1.94727 8.49316C1.42318 8.49316 1.01628 8.35645 0.726562 8.08301C0.440104 7.81283 0.296875 7.41895 0.296875 6.90137V2.07227C0.296875 1.55794 0.444987 1.16081 0.741211 0.880859C1.04069 0.597656 1.44271 0.456055 1.94727 0.456055H7.13281C7.6569 0.456055 8.05566 0.597656 8.3291 0.880859C8.60579 1.16081 8.74414 1.55794 8.74414 2.07227V6.87695C8.74414 7.39128 8.59928 7.78841 8.30957 8.06836C8.02311 8.35156 7.61784 8.49316 7.09375 8.49316H1.94727ZM9.45703 6.03223V2.93164L11.1367 1.49121C11.2376 1.40332 11.3385 1.33496 11.4395 1.28613C11.5436 1.23405 11.6462 1.20801 11.7471 1.20801C11.9456 1.20801 12.1068 1.27311 12.2305 1.40332C12.3542 1.53027 12.416 1.70117 12.416 1.91602V7.05273C12.416 7.26758 12.3542 7.4401 12.2305 7.57031C12.1068 7.70052 11.9456 7.76562 11.7471 7.76562C11.6462 7.76562 11.5436 7.73958 11.4395 7.6875C11.3353 7.63542 11.2344 7.56706 11.1367 7.48242L9.45703 6.03223Z"})});var xn=n(433929);const Sn="–",wn=" ";function bn(e){let{time:t,showAmPm:n,locale:o,timeZone:a}=e;const i=function(e){return I.ou.fromObject({hour:13}).setLocale(e).toLocaleParts(I.ou.TIME_SIMPLE).some((e=>"dayPeriod"===e.type))}(o),r=0!==t.minute||!i,s={...I.ou.TIME_SIMPLE,hour:"numeric",minute:r?"2-digit":void 0,timeZone:a};return i&&!n?t.setLocale(o).toLocaleParts(s).filter((e=>"dayPeriod"!==e.type)).map((e=>e.value.trim())).join(""):t.toLocaleString({...s,hour12:i},{locale:o}).replace(" ",wn)}const kn=(0,V.defineMessages)({lunch:{id:"CalendarFeaturePreview.eventTitle.lunch",defaultMessage:"Lunch"},firstMeeting:{id:"CalendarFeaturePreview.eventTitle.firstMeeting",defaultMessage:"My first meeting"},groceryShop:{id:"CalendarFeaturePreview.eventTitle.groceryShop",defaultMessage:"Grocery shopping"},birthday:{id:"CalendarFeaturePreview.eventTitle.birthday",defaultMessage:"Birthday celebration"},home:{id:"CalendarFeaturePreview.eventLocation.home",defaultMessage:"Home"},office:{id:"CalendarFeaturePreview.eventLocation.office",defaultMessage:"Office"},store:{id:"CalendarFeaturePreview.eventLocation.store",defaultMessage:"Store"},park:{id:"CalendarFeaturePreview.eventLocation.park",defaultMessage:"Park"},restaurant:{id:"CalendarFeaturePreview.eventLocation.restaurant",defaultMessage:"Restaurant"}}),jn=[{title:kn.firstMeeting,time:I.ou.fromObject({hour:9}),location:kn.office,includeJoinButton:!0},{title:kn.lunch,time:I.ou.fromObject({hour:13}),location:kn.restaurant,includeJoinButton:!1}],Mn=[{title:kn.groceryShop,time:I.ou.fromObject({hour:11}),location:kn.store,includeJoinButton:!1},{title:kn.birthday,time:I.ou.fromObject({hour:14}),location:kn.park,includeJoinButton:!1}];function In(e){let{date:t,events:n}=e;const i=(0,a.O7)(),s=(0,r.yK)((e=>({container:{display:"flex",flexDirection:"row",paddingBottom:10},date:{width:"25%",paddingRight:10,display:"flex",flexDirection:"column",fontSize:(0,Q.yv)(i,"UISmall"),fontWeight:Z.Z.fontWeight.medium},events:{width:"75%"}})),[i]),l=(0,o.useMemo)((()=>t.day===I.ou.now().day?(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEventDate.today",defaultMessage:"Today"}):t.toLocaleString({weekday:"short"})),[t]);return(0,h.jsxs)("div",{style:s.container,children:[(0,h.jsxs)("div",{style:s.date,children:[(0,h.jsx)("div",{children:l}),(0,h.jsx)("div",{children:t.toLocaleString({month:"short",day:"numeric"})})]}),(0,h.jsx)("div",{style:s.events,children:n.map((e=>(0,h.jsx)(Tn,{event:e},e.title.id)))})]})}function Tn(e){let{event:t}=e;const n=(0,V.useIntl)(),a=(0,r.yK)((e=>({container:{marginBottom:14,display:"flex"},calendarIndicator:{width:4,backgroundColor:e.home.emptyStatePreview.calendarIndicator,borderRadius:4,flexShrink:0},event:{display:"flex",width:"100%",gap:4,overflow:"hidden"},eventDetails:{display:"flex",flexDirection:"column",flex:1,paddingLeft:10,overflow:"hidden"},title:{fontWeight:Z.Z.fontWeight.medium,...Z.Z.textOverflowStyle},joinButton:{textAlign:"end",alignSelf:"center",flexShrink:0}})),[]),i=(0,o.useMemo)((()=>bn({time:t.time,showAmPm:!0,locale:n.locale,timeZone:t.time.zoneName})),[t.time,n.locale]);return(0,h.jsx)("div",{style:a.container,children:(0,h.jsxs)("div",{style:a.event,children:[(0,h.jsx)("div",{style:a.calendarIndicator}),(0,h.jsxs)("div",{style:a.eventDetails,children:[(0,h.jsx)("div",{style:a.title,children:xn.default.formatMessage(t.title)}),(0,h.jsx)("div",{children:`${i} ⸱ ${xn.default.formatMessage(t.location)}`})]}),t.includeJoinButton&&(0,h.jsx)("div",{style:a.joinButton,children:(0,h.jsx)(Vn,{})})]})})}function Vn(){const e=(0,r.yK)((e=>({container:{width:"fit-content",padding:"2px 8px 2px 8px",display:"flex",flexDirection:"row",backgroundColor:e.home.emptyStatePreview.joinButtonBackground,borderRadius:4},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:4},icon:{width:16,height:16,marginRight:4},joinTitleContainer:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}})),[]);return(0,h.jsxs)("div",{style:e.container,children:[(0,h.jsx)("div",{style:e.iconWrapper,children:yn(e.icon)}),(0,h.jsx)("div",{style:e.joinTitleContainer,children:(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEvent.joinButtonWithMeeting",defaultMessage:"Join meeting"})})]})}const _n=function(){const e=(0,V.useIntl)(),t=I.ou.now().setLocale(e.locale);return(0,h.jsxs)("div",{children:[(0,h.jsx)(In,{date:t,events:jn}),(0,h.jsx)(In,{date:t.plus({days:1}),events:Mn})]})},Ln=(0,Cn.IU)("bookClosedFilled",{viewBox:"0 0 17 16",svg:(0,h.jsx)("path",{d:"M14 4.5V14H6.3275C5.735 14 5.3325 13.8325 4.9125 13.415L3.585 12.0875C3.165 11.6675 3 11.265 3 10.6725V2H11.5V11.5H5.12L6.12 12.5H12.5V4.5H14Z"})}),Zn=(0,Cn.IU)("exercise",{viewBox:"0 0 17 16",svg:(0,h.jsx)("path",{d:"M9.25 3C9.25 2.2275 9.7275 1.75 10.5 1.75C11.2725 1.75 11.75 2.2275 11.75 3C11.75 3.7725 11.2725 4.25 10.5 4.25C9.7275 4.25 9.25 3.7725 9.25 3ZM10.8775 7.185C11.37 7.77 11.985 8.5 13.5 8.5V7.25C12.565 7.25 12.275 6.905 11.8325 6.38C11.315 5.765 10.67 5 9 5C6.5875 5 5.205 6.2825 4.25 8.19L5.3675 8.75C6.06 7.365 6.795 6.665 7.8025 6.3925L6.565 8.8675C6.0925 9.815 5.3875 10.25 4.33 10.25H3.25V11.75H4.33C6.005 11.75 7.1275 11.065 7.8825 9.585C8.5425 10.085 10.5175 11.7425 11.075 14L12.4975 13.525C11.945 11.285 10.3625 9.6625 9.34 8.8125L10.405 6.685C10.57 6.8275 10.715 6.9975 10.875 7.1875L10.8775 7.185Z"})}),Pn=(0,Cn.IU)("foodAndDrink",{viewBox:"0 0 17 16",svg:(0,h.jsx)("g",{clipPath:"url(#clip0_6853_89883)",children:(0,h.jsx)("path",{d:"M8.5 8.5C8.5 6.65 9.84 5.5 12 5.5C14.16 5.5 15.5 6.65 15.5 8.5H8.5ZM15.5 9.5H8.5C8.1925 9.5 8 9.6925 8 10V10.5C8 10.8075 8.1925 11 8.5 11H15.5C15.8075 11 16 10.8075 16 10.5V10C16 9.6925 15.8075 9.5 15.5 9.5ZM8.5 12.5C8.5 13.1175 8.8825 13.5 9.5 13.5H14.5C15.1175 13.5 15.5 13.1175 15.5 12.5V12H8.5V12.5ZM8.5 5.5V4H6.005L6.245 1.125L4.75 1L4.5 4H0.5V5.5H1.625L2.2925 13.5H6.71L7.3775 5.5H8.5025H8.5Z"})})}),Hn=(0,Cn.IU)("sun",{viewBox:"0 0 17 16",svg:(0,h.jsx)("path",{d:"M11.5 8C11.5 9.6575 10.1575 11 8.5 11C6.8425 11 5.5 9.6575 5.5 8C5.5 6.3425 6.8425 5 8.5 5C10.1575 5 11.5 6.3425 11.5 8ZM9 1.5H8V4H9V1.5ZM8 14.5H9V12H8V14.5ZM6.025 4.8175L4.2575 3.05L3.55 3.7575L5.3175 5.525L6.025 4.8175ZM10.975 11.1825L12.7425 12.95L13.45 12.2425L11.6825 10.475L10.975 11.1825ZM4.5 7.5H2V8.5H4.5V7.5ZM12.5 7.5V8.5H15V7.5H12.5ZM3.55 12.2425L4.2575 12.95L6.025 11.1825L5.3175 10.475L3.55 12.2425ZM13.45 3.7575L12.7425 3.05L10.975 4.8175L11.6825 5.525L13.45 3.7575Z"})}),An=(0,Cn.IU)("wheat",{viewBox:"0 0 17 16",svg:(0,h.jsx)("path",{d:"M12.0625 4.9975L10.56 6.5H13.75C13.75 7.425 13.175 8 12.25 8H9.06L7.56 9.5H10.75C10.75 10.425 10.175 11 9.25 11H6.06L3.06 14L2 12.94L3.5 11.44V8.25C3.5 7.325 4.075 6.75 5 6.75V9.94L6.5 8.44V5.25C6.5 4.325 7.075 3.75 8 3.75V6.94L12.06 2.88C12.6875 2.2525 13.2925 2.0025 14.1825 2.0025H15C15 3.8325 13.8775 4.9725 12.0625 5V4.9975Z"})}),Fn=["wake","breakfast","work","lunch","exercise"];function Dn(){const e=(0,a.O7)(),t=(0,r.yK)((t=>({databaseHeader:{display:"flex",flexDirection:"row",paddingTop:4,paddingBottom:4,gap:4,fontSize:(0,Q.yv)(e,"UISmall")},status:{flex:1,textAlign:"end"}})),[e]);return(0,h.jsxs)("div",{style:t.databaseHeader,children:[(0,h.jsx)("div",{children:(0,h.jsx)(V.FormattedMessage,{id:"CustomDbFeaturePreview.activity.headerTitle",defaultMessage:"Activity"})}),(0,h.jsx)("div",{style:t.status,children:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Status",id:"database.propertyTypeName.status"})})]})}function Rn(e){let{type:t}=e;const n=(0,r.yK)((e=>({databaseRow:{display:"flex",flexDirection:"row",borderTop:`1px solid ${e.stroke.deemphasized}`,gap:12,paddingTop:4,paddingBottom:4},status:{flex:1,textAlign:"end"},title:{fontWeight:Z.Z.fontWeight.medium},iconContainer:{alignContent:"center"},icon:{width:16,height:16,alignSelf:"center",fill:"light"===e.mode?e.icon.quaternary:e.icon.tertiary}})),[]),a=(0,o.useMemo)((()=>{switch(t){case"wake":return Hn;case"breakfast":return An;case"work":return Ln;case"lunch":return Pn;case"exercise":return Zn;default:(0,L.t1)(t)}}),[t]),i=(0,o.useMemo)((()=>{switch(t){case"wake":return(0,h.jsx)(V.FormattedMessage,{id:"CustomDbFeaturePreview.rowTitle.wake",defaultMessage:"Wake up and freshen up"});case"breakfast":return(0,h.jsx)(V.FormattedMessage,{id:"CustomDbFeaturePreview.rowTitle.breakfast",defaultMessage:"Have breakfast"});case"work":return(0,h.jsx)(V.FormattedMessage,{id:"CustomDbFeaturePreview.rowTitle.work",defaultMessage:"Work or study"});case"lunch":return(0,h.jsx)(V.FormattedMessage,{id:"CustomDbFeaturePreview.rowTitle.lunch",defaultMessage:"Have lunch"});case"exercise":return(0,h.jsx)(V.FormattedMessage,{id:"CustomDbFeaturePreview.rowTitle.exercise",defaultMessage:"Exercise"});default:(0,L.t1)(t)}}),[t]),s=(0,o.useMemo)((()=>{switch(t){case"wake":return(0,h.jsx)(V.FormattedMessage,{id:"database.statusProperty.option.done",defaultMessage:"Done"});case"breakfast":return(0,h.jsx)(V.FormattedMessage,{id:"database.statusProperty.option.inProgress",defaultMessage:"In progress"});case"work":case"lunch":case"exercise":return(0,h.jsx)(V.FormattedMessage,{id:"database.statusProperty.option.notStarted",defaultMessage:"Not started"});default:(0,L.t1)(t)}}),[t]);return(0,h.jsxs)("div",{style:n.databaseRow,children:[(0,h.jsx)("div",{style:n.iconContainer,children:a(n.icon)}),(0,h.jsx)("div",{style:n.title,children:i}),(0,h.jsx)("div",{style:n.status,children:s})]})}const En=function(){const e=(0,r.yK)((e=>({database:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}})),[]);return(0,h.jsxs)("div",{style:e.database,children:[(0,h.jsx)(Dn,{}),Fn.map((e=>(0,h.jsx)(Rn,{type:e},e)))]})};var Kn=n(765628),Bn=n(163048);const On=[{type:"sync",date:I.ou.now(),area:"work"},{type:"review",date:I.ou.now().plus({days:1}),area:"work"},{type:"create",date:I.ou.now().plus({days:7}),area:"work"},{type:"book",date:I.ou.now(),area:"personal"},{type:"dinner",date:I.ou.now().plus({days:7}),area:"personal"}];function Wn(e){let{task:t}=e;const{type:n,date:a,area:i}=t,s=(0,V.useIntl)(),l=(0,r.yK)((e=>({databaseRow:{display:"flex",flexDirection:"row",gap:12,paddingBottom:10,alignItems:"center"},date:{flex:1,textAlign:"end"},title:{fontWeight:Z.Z.fontWeight.medium},checkbox:{borderRadius:2},iconContainer:{alignContent:"center"},icon:{width:14,height:14,borderRadius:2,alignSelf:"center",fill:"light"===e.mode?e.icon.quaternary:e.icon.tertiary}})),[]),d=(0,o.useMemo)((()=>{switch(n){case"sync":return(0,h.jsx)(V.FormattedMessage,{id:"MyTasksFeaturePreview.taskTitle.sync",defaultMessage:"Sync with Lisa"});case"review":return(0,h.jsx)(V.FormattedMessage,{id:"MyTasksFeaturePreview.taskTitle.review",defaultMessage:"Review design docs"});case"create":return(0,h.jsx)(V.FormattedMessage,{id:"MyTasksFeaturePreview.taskTitle.create",defaultMessage:"Create color palette"});case"book":return(0,h.jsx)(V.FormattedMessage,{id:"MyTasksFeaturePreview.taskTitle.book",defaultMessage:"Book flights to New York"});case"dinner":return(0,h.jsx)(V.FormattedMessage,{id:"MyTasksFeaturePreview.taskTitle.dinner",defaultMessage:"Dinner with Alex"});default:(0,L.t1)(n)}}),[n]),c=(0,o.useMemo)((()=>{switch(i){case"work":return(0,h.jsx)(V.FormattedMessage,{id:"MyTasksFeaturePreview.area.work",defaultMessage:"Work"});case"personal":return(0,h.jsx)(V.FormattedMessage,{id:"MyTasksFeaturePreview.area.personal",defaultMessage:"Personal"});default:(0,L.t1)(i)}}),[i]);return(0,h.jsxs)("div",{style:l.databaseRow,children:[(0,h.jsx)("div",{children:(0,Kn.z)(l.icon)}),(0,h.jsx)("div",{style:l.title,children:d}),(0,h.jsx)("div",{style:l.date,children:a.setLocale(s.locale).toLocaleString({month:"short",day:"numeric",year:"numeric"})}),(0,h.jsx)("div",{children:c})]})}function Nn(){const e=(0,r.yK)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},iconContainer:{marginRight:14},icon:{width:12,height:12}})),[]);return(0,h.jsxs)("div",{style:e.container,children:[(0,h.jsx)("div",{style:e.iconContainer,children:(0,Bn.C)(e.icon)}),(0,h.jsx)("div",{children:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"New task",id:"appTemplates.projects.tasksCollectionEmptyButtonTitle"})})]})}const Un=function(){const e=(0,r.yK)((e=>({database:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}})),[]);return(0,h.jsxs)("div",{style:e.database,children:[On.map((e=>(0,h.jsx)(Wn,{task:e},e.type))),(0,h.jsx)(Nn,{})]})};var zn=n(450334);function Gn(){var e;const t=null===(e=(0,o.useContext)(zn.uU))||void 0===e?void 0:e.sizeStore;return(0,i.VK)((()=>null==t?void 0:t.getState()),[t])}function $n(e){const{feature:t}=e,n=o.useRef(null),a=(0,r.yK)((e=>({button:{padding:8,width:"fit-content"}})),[]),s=(0,i.VK)((()=>{switch(t){case"custom_db":return(0,h.jsx)(V.FormattedMessage,{id:"CustomDbHomePanel.setup.button",defaultMessage:"Select database"});case"calendar":return(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.signedOut.buttonText",defaultMessage:"Connect to Google Calendar"});case"calendarDisconnectedAccount":return(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.disconnectedAccount.buttonText",defaultMessage:"Reconnect with Google Calendar"});case"tasks":return(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Don't see your tasks?",id:"tasksEmptyState.noDatabases.title"});default:(0,L.t1)(t)}}),[t]);return(0,h.jsx)("div",{children:(0,h.jsx)(H.Z,{isBlue:!0,shouldShrink:!0,onClick:()=>e.onSetup(n),style:a.button,ref:n,children:s})})}function qn(e){let{feature:t}=e;const n=(0,r.yK)((e=>{const t={...(0,Se.jO)(e),fill:"light"===e.mode?e.text.quaternary:e.text.tertiary,color:e.text.quaternary,margin:8};return{icon:t,calendarIcon:{...t,height:34,width:34}}}),[]);return(0,i.VK)((()=>{switch(t){case"custom_db":return(0,fn.M)(n.icon);case"calendar":case"calendarDisconnectedAccount":return(0,h.jsx)(Pe.Z,{style:n.calendarIcon});case"tasks":return(0,vn.K)(n.icon);default:(0,L.t1)(t)}}),[t,n.calendarIcon,n.icon])}function Yn(e){let{feature:t,centerText:n}=e;const o=(0,r.yK)((e=>({featureDescription:{paddingLeft:8,paddingRight:8,marginTop:10,marginBottom:16,textAlign:n?"center":void 0}})),[n]),a=(0,i.VK)((()=>{var e;return null===(e=y.default.state.currentSpaceStore)||void 0===e||null===(e=e.getModel())||void 0===e?void 0:e.getRenderTitle()}),[]),s=(0,i.VK)((()=>{switch(t){case"custom_db":return(0,h.jsx)(V.FormattedMessage,{id:"CustomDbHomePanel.setup.description",defaultMessage:"Pin a database view to quickly access it from Home."});case"calendar":return(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.signedOut.title",defaultMessage:"See your upcoming events and join meetings from Home."});case"calendarDisconnectedAccount":return(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.calendarAccountDisconnected.title",defaultMessage:"Unable to connect to your account."});case"tasks":return(0,h.jsx)(V.FormattedMessage,{id:"MyTasksHomePanel.setup.description",defaultMessage:"See all your tasks across {spaceName} in one place.",values:{spaceName:a}});default:(0,L.t1)(t)}}),[t,a]);return(0,h.jsx)("div",{style:o.featureDescription,children:(0,h.jsx)($.Z,{isSecondaryColor:!0,isMultiline:!0,children:s})})}const Jn=function(e){let{feature:t,onSetup:n}=e;const o=(0,a.O7)(),s="narrow"===Gn(),l=(0,r.yK)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"stretch"},leftContainer:{flexBasis:0,flexGrow:1,paddingTop:36,paddingBottom:36,paddingLeft:24,paddingRight:24,borderRight:s?void 0:`1px solid ${e.home.emptyStatePreview.verticalDivider}`},leftContent:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",alignItems:s?"center":void 0,paddingBottom:"calendar"===t||"calendarDisconnectedAccount"===t?0:8},right:{flexBasis:0,flexGrow:1,paddingTop:32,paddingLeft:24,paddingRight:24,height:236,fontSize:(0,Q.yv)(o,"UIRegular"),color:"light"===e.mode?e.text.quaternary:e.text.tertiary,overflow:"hidden"}})),[o,t,s]),d=(0,i.VK)((()=>{switch(t){case"custom_db":return(0,h.jsx)(En,{});case"calendar":case"calendarDisconnectedAccount":return(0,h.jsx)(_n,{});case"tasks":return(0,h.jsx)(Un,{});default:(0,L.t1)(t)}}),[t]);return(0,h.jsxs)("div",{style:l.container,children:[(0,h.jsx)("div",{style:l.leftContainer,children:(0,h.jsxs)("div",{style:l.leftContent,children:[(0,h.jsx)(qn,{feature:t}),(0,h.jsx)(Yn,{feature:t,centerText:s}),(0,h.jsx)($n,{feature:t,onSetup:n})]})}),!s&&(0,h.jsx)("div",{style:l.right,children:d})]})};function Qn(e){const{type:t}=e,n=(0,a.O7)(),s=(0,o.useContext)(fe),l=(0,i.VK)((()=>_t(Lt())),[]),d=(0,o.useCallback)((()=>{const e=Me.Il();Gt({environment:n,calendarPanelContext:Nt(null==s?void 0:s.panelState),notionAnalyticsSessionId:e}),(0,Ze.eC)({environment:n,from:"homeEmptyStateCreateEvent",notionAnalyticsSessionId:e})}),[n,null==s?void 0:s.panelState]),c=(0,r.yK)((e=>({container:{display:"flex",flexGrow:1,width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingLeft:"15%",paddingRight:"15%",gap:16},icon:{width:48,height:48,color:e.lightIconColor},titleText:{fontSize:(0,Q.yv)(n,"UIRegular"),color:e.lightTextColor,textAlign:"center"},buttonStyle:{color:e.blueColor}})),[n]);let u,p,m,g=!0;switch(t){case"noEvents":u=(0,h.jsxs)(h.Fragment,{children:[1===l&&(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.noEvents.title.today",defaultMessage:"No upcoming events today"}),2===l&&(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.noEvents.title.todayOrTomorrow",defaultMessage:"No upcoming events today or tomorrow"}),l>=3&&(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.noEvents.title",defaultMessage:"No upcoming events in the next {days} days",values:{days:l}})]}),p=(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.noEvents.buttonText",defaultMessage:"+ New event"}),m=d;break;case"loadError":u=(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.loadError.title",defaultMessage:"Events not loading"}),p=(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.loadError.buttonText",defaultMessage:"Try again"}),m=e.onRetry,g=e.isRetryEnabled;break;default:(0,L.t1)(t)}return(0,h.jsxs)("div",{style:c.container,children:[(0,h.jsx)(Pe.Z,{style:c.icon}),(0,h.jsx)("div",{style:c.titleText,children:u}),g&&(0,h.jsx)(H.Z,{style:c.buttonStyle,onClick:m,children:p})]})}const Xn=o.memo(Qn);var eo=n(840863);const to=(0,Cn.IU)("boxedCross",{viewBox:"0 0 10 11",svg:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("g",{clipPath:"url(#a)",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-6Zm7.354.646a.5.5 0 0 1 0 .708L5.707 5.5l1.647 1.646a.5.5 0 1 1-.708.708L5 6.207 3.354 7.854a.5.5 0 1 1-.708-.708L4.293 5.5 2.646 3.854a.5.5 0 1 1 .708-.708L5 4.793l1.646-1.647a.5.5 0 0 1 .708 0Z"})}),(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"a",children:(0,h.jsx)("path",{transform:"translate(0 .5)",d:"M0 0h10v10H0z"})})})]})});var no=n(997466),oo=n(623063);const ao=(0,V.defineMessages)({code:{id:"notionCalendarEvent.conferencingCode",defaultMessage:"Code"},room:{id:"notionCalendarEvent.conferencingRoom",defaultMessage:"Room"},number:{id:"notionCalendarEvent.conferencingNumber",defaultMessage:"Number"},id:{id:"notionCalendarEvent.conferencingId",defaultMessage:"ID"}}),io=", ",ro=" ⸱ ";function so(e){var t;let{event:n,intl:o,timeZone:a,isOnSameLineAsTitle:i}=e;const r=n.isAllDay?void 0:function(e){let{start:t,end:n,locale:o,timeZone:a}=e;const i=I.ou.fromISO(t),r=I.ou.fromISO(n),s=function(e){let{start:t,end:n}=e;if(n.diff(t).as("hours")>12)return!0;return t.hour<12!==n.hour<12}({start:i,end:r}),l=bn({time:i,showAmPm:s,locale:o,timeZone:a}),d=bn({time:r,showAmPm:!0,locale:o,timeZone:a});return`${l}${wn}${Sn}${wn}${d}`}({start:n.start.dateTime,end:n.end.dateTime,locale:o.locale,timeZone:a}),s=[r,[function(e){let{location:t,conferencingURL:n}=e;if(!n||!t)return t;return t.split(io).filter((e=>e!==n)).join(io)}({location:n.location,conferencingURL:null===(t=n.conferencing)||void 0===t?void 0:t.url}),lo(n)].filter(Boolean).join(io)||void 0].filter(Boolean).join(ro);return i&&s?`${ro}${s}`:s}function lo(e){const t=e.conferencing;if(t&&t.id)return[t.providerDisplayName,xn.default.formatMessage(ao[t.idType]),t.id].filter(Boolean).join(" ")}var co=n(815145),uo=n(727714),po=n(599405),mo=n(421202),go=n(412714),ho=n(926999),fo=n(231945),vo=n(632163),Co=n(731278),yo=n(776798),xo=n(672495),So=n(95477),wo=n(849616),bo=n(206258);const ko=4,jo=4,Mo={height:20,paddingTop:2,paddingBottom:2,marginTop:-2,marginBottom:-2,paddingLeft:4,paddingRight:4,marginLeft:-ko,marginRight:-jo};function Io(e){let{event:t,onMouseEnter:n,onMouseLeave:o,onClick:i}=e;const s=(0,a.O7)(),l=(0,r.yK)((()=>({container:{display:"flex",flexDirection:"row",justifyItems:"center",width:"fit-content",maxWidth:"100%",gap:6}})),[]),{attachments:d}=t,[c,...u]=function(e){let{environment:t,attachments:n}=e;if(!n)return[];const o=n.findIndex((e=>"page"===(0,po.parseRoute)({url:e.fileUrl,isMobile:t.device.isMobile,baseUrl:So.default.domainBaseUrl,publicDomainName:So.default.publicDomainName,protocol:So.default.protocol,currentUrl:window.location.href}).name));if(-1===o)return n;return[n[o],...n.slice(0,o),...n.slice(o+1)]}({environment:s,attachments:d});return d&&c?(0,h.jsxs)("div",{style:l.container,onMouseEnter:n,onMouseLeave:o,children:[(0,h.jsx)(To,{attachment:c,attachmentIndex:0,onClick:i}),(0,h.jsx)(Vo,{attachments:u,onClickAttachment:i})]}):null}function To(e){let{attachment:t,attachmentIndex:n,menuListItemProps:s,onClick:l}=e;const{fileUrl:d,iconLink:c}=t,u=0===n,p=(0,r.yK)((e=>({button:{gap:4,flexShrink:1,...u?{maxWidth:`calc(100% + ${ko+jo}px)`}:{width:"100%"},...u&&Mo},title:{...u?{...(0,wo.z0)(e),fontWeight:Z.Z.fontWeight.medium}:{maxWidth:200},...Z.Z.textOverflowStyle},icon:{height:16},linkIcon:{height:16,width:16,fill:e.mediumIconColor}})),[u]),m=(0,a.O7)(),g=(0,i.VK)((()=>{const{currentSpaceStore:e}=y.default.state;if(!e)return;const t=(0,po.parseRoute)({url:d,isMobile:m.device.isMobile,baseUrl:So.default.domainBaseUrl,publicDomainName:So.default.publicDomainName,protocol:So.default.protocol,currentUrl:window.location.href});if("page"!==t.name)return;const n=t.blockId;if(!n)return;const o=bo.G.createChildStore(e,{table:mo.iU,id:n});return o.load(),o.isReady()?o:void 0}),[m.device.isMobile,d]),f=(0,i.VK)((()=>{const e=null==g?void 0:g.getIcon();return g&&e?(0,h.jsx)(Co.Z,{icon:e,isEmptyPage:g.isEmptyPage(),size:16,disabled:!0}):c?(0,h.jsx)("img",{style:p.icon,src:c,alt:`Icon image for the Notion calendar event attachment entitled "${t.title}"`}):(0,uo.N)(p.linkIcon)}),[t.title,g,c,p.icon,p.linkIcon]),v=g?(0,h.jsx)(yo.Z,{store:g,underline:u}):(0,h.jsx)("div",{style:p.title,children:t.title}),C=(0,o.useCallback)((e=>{if(e.preventDefault(),!d)return;l({index:n,attachmentType:g?"notion":"other",attachmentBlockId:null==g?void 0:g.id});const t=e.metaKey||e.ctrlKey;g?ho.CH({environment:m,openInNew:t?"tab":void 0,store:g,pageVisitSource:co.tY.PersonalHomeCalendarAttachment,peekMode:"center_peek",resultsStore:void 0,collectionContextStore:void 0}):go.D({environment:m,url:d})}),[n,g,m,d,l]);return(0,h.jsxs)(H.Z,{style:p.button,href:d,metaHref:d,...s,onClick:C,children:[f,v]})}function Vo(e){let{attachments:t,onClickAttachment:n}=e;const o=(0,a.MO)(),i=(0,r.yK)((e=>({button:{color:e.mediumTextColor,...Mo,marginRight:0},sectionMenuItem:{display:"flex",flexDirection:"column",padding:4,width:"100%"}})),[]);return t&&0!==t.length?(0,h.jsx)(fo.ZP,{alignmentToOrigin:R.v.Start,placementToOrigin:R.u.Bottom,renderOrigin:e=>(0,h.jsx)(H.Z,{style:i.button,...e,children:(0,h.jsx)(V.FormattedMessage,{id:"EventCalendarAttachments.plusMoreAttachments",defaultMessage:"+{numRemainingAttachments}",values:{numRemainingAttachments:t.length}})}),popupType:o?fo.Z4.SlideUp:fo.Z4.Popup,render:e=>(0,h.jsx)(z.Z,{menuType:J.og.Popup,maxWidth:300,children:(0,h.jsx)(vo.Z,{onAccept:e.close,type:vo.i.Vertical,sections:[{key:"all",render:e=>(0,h.jsx)(xo.Z,{...e,style:i.sectionMenuItem}),items:t.map(((e,t)=>({key:e.fileUrl,render:o=>(0,h.jsx)(To,{menuListItemProps:o,attachment:e,attachmentIndex:t+1,onClick:n},e.fileUrl),action:()=>{}})))}],initialFocus:0})})}):(0,h.jsx)(h.Fragment,{})}const _o=o.memo(Io),Lo=4,Zo=10;function Po(e){let{event:t,squashedEventIndex:n,titleStartY:o,titleEndY:a}=e;const s=(0,i.VK)((()=>{if("emptyTodayEventPlaceholder"===t)return;const e=yt.getCalendar(t);return null==e?void 0:e.color}),[t]),l=(0,r.yK)((e=>{const i={background:e.calendarHomeWidget.base.gray},r="emptyTodayEventPlaceholder"===t?i:function(e){let{event:t,eventIndex:n,color:o,titleStartY:a,titleEndY:i}=e;const r=function(e){let{event:t,color:n}=e;const o=(0,no.Fq)(n,t.isAllDay?.2:.1),a=`\n\t\trepeating-linear-gradient(\n\t\t\t-45deg,\n\t\t\t${n},\n\t\t\t${n} 2px,\n\t\t\t${o} 2px,\n\t\t\t${o} ${t.isAllDay?3.5:4}px\n\t\t)`;if("outOfOffice"===t.eventType)return{background:o};switch(t.responseStatus){case"accepted":return{background:(0,eo.$G)(t)?a:n};case"tentative":return{background:a};case"needsAction":return{border:`1px dashed ${n}`,background:o};case"declined":return{background:o};case void 0:return{background:t.hasParticipants?o:n};default:(0,L.t1)(t.responseStatus)}}({event:t,color:o});if(!t.isAllDay)return r;const s=`radial-gradient(\n\t\tcircle ${Zo}px at ${-(No-1.5)}px ${Zo/2}px,\n\t\ttransparent ${(Zo+1)/2}px,\n\t\tpurple 0\n\t)`;return{borderRadius:"50%",marginTop:(i-a-Zo)/2,alignSelf:"flex-Start",marginLeft:(Lo-Zo)/2,marginRight:(Lo-Zo)/2,width:Zo,height:Zo,background:o,...0!==n&&{WebkitMaskImage:s,maskImage:s},...r}}({event:t,eventIndex:n,color:ze({theme:e,calendarColor:s,eventColor:t.color}),titleStartY:o,titleEndY:a});return{container:{width:Lo,borderRadius:3,...r}}}),[s,t,n,a,o]);return s||"emptyTodayEventPlaceholder"===t?(0,h.jsx)("div",{style:l.container}):null}const Ho=o.memo(Po);var Ao=n(875553),Fo=n(800893),Do=n(411066),Ro=n(661519),Eo=n(98742);function Ko(e){var t,n,i;let{event:s,onMouseEnter:l,onMouseLeave:d,onJoinConferenceClick:c,onCopyConferenceUrlClick:u}=e;const p=(0,a.O7)(),[m,g]=(0,o.useState)(!1),f="wide"===Gn(),v=(0,r.yK)((e=>{const t="light"===e.mode?_.ZP.blueWithAlpha(.1):_.ZP.blueWithAlpha(.2);return{button:{fontSize:(0,Q.yv)(p,"UIRegular"),fontWeight:Z.Z.fontWeight.medium,color:e.blueColor,background:t,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:4,lineHeight:1.2,height:28,padding:8,transition:`background ${Go}s`,marginLeft:12},hoveredStyle:{background:"light"===e.mode?_.ZP.blueWithAlpha(.2):_.ZP.blueWithAlpha(.3)},tooltipContainer:{padding:0},tooltip:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:6,height:26,background:e.buttonHoveredBackground,fontWeight:Z.Z.fontWeight.regular,cursor:"pointer"},url:{margin:4,marginLeft:8,marginRight:2},copyIconContainer:{margin:4,marginRight:8,marginLeft:2},copyIcon:{height:13,width:11},zoomLogoIcon:{fill:e.blueColor,width:16,height:16,marginRight:4},divider:{height:"100%",borderWidth:1,borderColor:_.ZP.whiteWithAlpha(.5)}}}),[p]),C=(0,o.useCallback)((async()=>{var e;null!==(e=s.conferencing)&&void 0!==e&&e.url&&(c(),"zoom"===s.conferencing.providerName&&await Ze.jt({environment:p,url:s.conferencing.url})||go.D({environment:p,url:s.conferencing.url}))}),[p,null===(t=s.conferencing)||void 0===t?void 0:t.providerName,null===(n=s.conferencing)||void 0===n?void 0:n.url,c]),y=(0,o.useCallback)((()=>{var e;null!==(e=s.conferencing)&&void 0!==e&&e.url&&(Fo.RD({environment:p,stringValue:s.conferencing.url,copiedMessage:Fo.tq.copiedLinkToClipboard}),g(!1),u())}),[p,null===(i=s.conferencing)||void 0===i?void 0:i.url,u]);if(!(0,L.$K)(s.conferencing))return(0,h.jsx)(h.Fragment,{});const{providerName:x,url:S,providerDisplayName:w}=s.conferencing,{domain:b,restOfUrl:k=""}=(0,wo.AF)([[S]]),j=k.length>10?`${b}${k.slice(0,5)}…${k.slice(-6)}`:`${b}${k}`;return(0,h.jsx)(A.Z,{allowHover:!0,delayThreshold:500,closeDelay:200,originGap:6,placement:R.u.Top,alignment:R.v.End,style:v.tooltipContainer,forceVisibleState:!!m||void 0,renderTooltip:()=>(0,h.jsxs)("div",{style:v.tooltip,onClick:y,onMouseEnter:()=>{l(),g(!0)},onMouseLeave:()=>{d(),g(!1)},children:[(0,h.jsx)("div",{style:v.url,children:j}),(0,h.jsx)(Ro.Z,{size:1,vertical:!0,innerStyle:v.divider}),(0,h.jsx)("div",{style:v.copyIconContainer,children:(0,Ao.U)(v.copyIcon)})]}),render:e=>(0,h.jsxs)(Do.Z,{style:v.button,hoveredStyle:v.hoveredStyle,onClick:C,...(0,Eo.Z)(e,{onMouseEnter:l,onMouseLeave:d}),children:[Oo(x)(v.zoomLogoIcon),Bo({providerDisplayName:w,isWideTile:f})]})})}function Bo(e){let{providerDisplayName:t,isWideTile:n}=e;return n?t?(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEvent.joinButtonWithProviderWithMeeting",defaultMessage:"Join {providerDisplayName} meeting",values:{providerDisplayName:t}}):(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEvent.joinButtonWithMeeting",defaultMessage:"Join meeting"}):t?(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEvent.joinButtonWithProvider",defaultMessage:"Join {providerDisplayName}",values:{providerDisplayName:t}}):(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEvent.joinButton",defaultMessage:"Join"})}function Oo(e){switch(e){case"zoom":case"googleMeet":case"around":case"blueJeans":case"customConferencing":case"doxyMe":case"googleDuo":case"microsoftTeams":case"skype":case"vowel":case"webex":case"whereby":case void 0:return yn;default:return(0,L.P)(e),yn}}const Wo=o.memo(Ko),No=2,Uo=4,zo=20,Go=.1;function $o(e){var t;let{event:n,onChildHovered:o,onChildUnhovered:a,onAttachmentClick:i}=e;const s="narrow"===Gn(),l=n.isAllDay&&!s,d=(0,V.useIntl)(),{timeZone:c}=(0,_e.Im)(),u=(null===(t=n.attachments)||void 0===t?void 0:t.length)??!1,p=so({event:n,intl:d,timeZone:c,isOnSameLineAsTitle:l}),m=!u&&n.isAllDay,g=(0,r.yK)((()=>({singleLineNameAndTimeContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",maxWidth:"100%",gap:4},nameTimeAndAttachmentsContainer:{display:"flex",flexDirection:"column",justifyContent:"start",maxWidth:"100%",minWidth:0,flexShrink:1,gap:m?0:2,marginTop:Uo,marginBottom:Uo}})),[m]),f=(0,h.jsx)(qo,{event:n}),v=p?(0,h.jsx)(Yo,{height:m?void 0:zo,timeString:p,isSmall:!l}):(0,h.jsx)(h.Fragment,{}),C=(0,h.jsx)(_o,{event:n,onMouseEnter:o,onMouseLeave:a,onClick:i});return(0,h.jsx)("div",{style:g.nameTimeAndAttachmentsContainer,children:l?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{style:g.singleLineNameAndTimeContainer,children:[f,v]}),C]}):(0,h.jsxs)(h.Fragment,{children:[f,C,v]})})}function qo(e){let{event:t}=e,n=t.summary;n||"private"!==t.visibility||(n=(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEvent.privateEvent.title",defaultMessage:"Busy"}));const o=(0,r.yK)((e=>({container:{display:"flex",flexDirection:"row",maxWidth:"100%",alignItems:"center",height:zo,gap:6},title:{fontWeight:Z.Z.fontWeight.medium,...Z.Z.textOverflowStyle},warningIcon:{fill:e.grayButtonBackground,width:12,marginTop:1},boxedCrossIcon:{fill:e.grayButtonBackground,width:10.5,marginTop:.5}})),[]),a=(0,eo.$G)(t),i="outOfOffice"===t.eventType;return n?(0,h.jsxs)("div",{style:o.container,children:[a&&(0,je.t)(o.warningIcon),i&&to(o.boxedCrossIcon),(0,h.jsx)($.Z,{style:o.title,children:n})]}):null}function Yo(e){let{timeString:t,height:n,isSmall:o}=e;const a=(0,r.yK)((()=>({textContainer:{height:n,display:"flex",alignItems:"center",justifyContent:"flex-start"},timeAndLocationText:Z.Z.textOverflowStyle})),[n]);return(0,h.jsx)("div",{style:a.textContainer,children:(0,h.jsx)($.Z,{style:a.timeAndLocationText,isSmall:o,isSecondaryColor:!o,children:t})})}const Jo=function(e){var t,n;let{event:s,date:l,allSquashedEvents:d=[],isFirstEvent:c=!0,isLastEvent:u=!0,isUpcomingEvent:p=!1,eventToAnalyticsStateStore:m}=e;const g=(0,a.O7)(),[f,v]=(0,o.useState)(!1),C="emptyTodayEventPlaceholder"!==s&&Boolean(null===(t=s.conferencing)||void 0===t?void 0:t.url),x=null===(n=(0,o.useContext)(fe))||void 0===n?void 0:n.panelState,[S,w]=(0,o.useState)(!1),b="emptyTodayEventPlaceholder"!==s&&s.isAllDay,k=(0,o.useCallback)((()=>{w(!0)}),[w]),j=(0,o.useCallback)((()=>{w(!1)}),[w]),M=(0,o.useCallback)((()=>{v(!0)}),[v]),I=(0,o.useCallback)((()=>{v(!1)}),[v]),T=p||C&&f,L=(0,r.yK)((e=>({container:{display:"flex",flexDirection:"row",alignContent:"stretch",overflow:"hidden",paddingLeft:4,paddingRight:Se.A0,transition:`background-color ${Go}s ease`,...b&&{paddingLeft:8}},wrapperDivStyle:{...b?{marginLeft:-4,width:"calc(100% + 4px)"}:{paddingTop:c?0:3,paddingBottom:u?0:3,width:"100%"},height:"unset"},colorLabelContainer:{display:"flex",height:"100%",justifyContent:"flex-end",gap:b?No:2,paddingTop:4,paddingBottom:4},eventDetailsContainer:{display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginLeft:12,minWidth:0,minHeight:28},emptyPlaceholderContainer:{display:"flex",flexDirection:"column",justifyContent:"center",height:40,color:e.lightTextColor,fontSize:(0,Q.yv)(g,"UIRegular"),fontWeight:Z.Z.fontWeight.regular,...Z.Z.textOverflowStyle},title:{fontWeight:510,color:e.text.primary},hoveredContainer:{background:"light"===e.mode?(0,no.Fq)(_.se.light.darkgray,.05):_.FN.dark.gray[300],transition:`background-color ${Go}s ease`},joinButtonContainer:{display:"flex",alignItems:"center"}})),[g,b,c,u]),P=(0,i.VK)((()=>y.default.state.currentSpaceStore),[]),[A]=(0,we.r5)((async()=>"emptyTodayEventPlaceholder"===s?void 0:await(0,Ze.sT)({environment:g,baseUrl:s.url,spaceStore:P,collectionViewStore:void 0,from:"homeEventClick"})),[P,g,s]),F=function(e){let{date:t,event:n,eventToAnalyticsStateStore:a,panelState:i}=e;return(0,o.useCallback)((()=>{if("emptyTodayEventPlaceholder"===n)return;if(!t)return;const{eventIndex:e,numDaysFromToday:o}=(null==a?void 0:a.state[ta({event:n,date:t})])??{};return{eventContext:Ut({event:n,eventIndex:e??-1,numDaysInFuture:o??-1}),calendarPanelContext:Nt(i)}}),[t,n,a,i])}({date:l,event:s,eventToAnalyticsStateStore:m,panelState:x}),D=(0,o.useCallback)((e=>{const t=null==A?void 0:A.value;if("emptyTodayEventPlaceholder"===s||!t)return;const n=F();n&&zt({environment:g,target:"body",...n}),(0,Ze.B9)({environment:g,url:t,from:"homeEventClick"})}),[g,s,F,null==A?void 0:A.value]),R=(0,o.useCallback)((e=>{const t=F();t&&function(e){let{environment:t,eventContext:n,calendarPanelContext:o,attachmentType:a,notionBlockId:i,attachmentIndex:r}=e;(0,Ft.K4)(t,"cal_event_click",{target:"attachment",attachment_type:a,attachment_index:r,notion_block_id:i,...Ot(o),...Wt(n)}),o.bot_id&&Dt(t,{botId:o.bot_id,payload:{type:"track",payload:{event:"eventAttachmentOpened",provider:a,location:"notionHomeTile"}}})}({...t,environment:g,attachmentIndex:e.index,notionBlockId:e.attachmentBlockId,attachmentType:e.attachmentType})}),[g,F]),E=(0,o.useCallback)((()=>{const e=F();e&&zt({environment:g,target:"conferencing",...e})}),[g,F]),K=(0,o.useCallback)((()=>{const e=F();e&&zt({environment:g,target:"copy_conferencing_link",...e})}),[g,F]);return(0,h.jsxs)(H.Z,{style:L.container,ignoreLocalHoverState:!!S||void 0,onClick:D,onMouseEnter:M,onMouseLeave:I,disabled:"emptyTodayEventPlaceholder"===s||!(null!=A&&A.value),wrapperDivStyle:L.wrapperDivStyle,hoveredStyle:L.hoveredContainer,children:[(0,h.jsx)("div",{style:L.colorLabelContainer,children:(0===d.length?[s]:d).map(((e,t)=>(0,h.jsx)(Ho,{event:e,squashedEventIndex:t,titleStartY:Uo,titleEndY:Uo+zo},"emptyTodayEventPlaceholder"===e?e:qe(e))))}),(0,h.jsx)("div",{style:L.eventDetailsContainer,children:"emptyTodayEventPlaceholder"===s?(0,h.jsx)("div",{style:L.emptyPlaceholderContainer,children:(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEvent.emptyTodayPlaceholder",defaultMessage:"No more events"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)($o,{event:s,onAttachmentClick:R,onChildHovered:k,onChildUnhovered:j}),(0,h.jsx)("div",{style:L.joinButtonContainer,children:(0,h.jsx)(oo.Z,{isVisible:T,skipAnimation:p,enterAnimationStyle:{opacity:1},exitAnimationStyle:{opacity:0},animationConfig:{durationMS:1e3*Go},render:()=>(0,h.jsx)(Wo,{event:s,onMouseEnter:k,onMouseLeave:j,onJoinConferenceClick:E,onCopyConferenceUrlClick:K})})})]})})]})};function Qo(e){let{date:t}=e;const n=(0,V.useIntl)(),o="wide"===Gn(),a=nt(t,(0,Le.Fp)()),i=new Date(t).toLocaleDateString(n.locale,{weekday:o?"long":"short",timeZone:"UTC"}),s=new Date(t).toLocaleDateString(n.locale,{month:o?"long":"short",day:"numeric",timeZone:"UTC"}),l=(0,r.yK)((e=>{const t={color:a?e.text.uiRedPrimary:e.lightTextColor,fontWeight:Z.Z.fontWeight.medium,maxWidth:"100%",...Z.Z.textOverflowStyle};return{dateContainer:{display:"flex",alignItems:"start",overflow:"hidden",...o?{flexDirection:"row",minWidth:148,maxWidth:200,paddingRight:16,gap:4,flexWrap:"wrap"}:{flexDirection:"column",maxWidth:94,paddingRight:16,gap:0},paddingLeft:8},dayOfWeekString:{...t,flexShrink:0},dateString:t}}),[a,o]),d=a?(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEventDate.today",defaultMessage:"Today"}):i;return(0,h.jsxs)("div",{style:l.dateContainer,children:[(0,h.jsx)($.Z,{isSmall:!0,showTooltipWhenTruncated:!0,style:l.dayOfWeekString,children:d}),(0,h.jsx)($.Z,{isSmall:!0,showTooltipWhenTruncated:!0,style:l.dateString,children:s})]})}const Xo=o.memo(Qo);function ea(e){let{days:t,eventToAnalyticsStateStore:n}=e;const o=(0,Le.Fp)(),a=(0,r.yK)((e=>({container:{display:"grid",gridTemplateColumns:"[days] min-content [events] auto",rowGap:16,paddingBottom:12,paddingTop:3,alignItems:"start"},dateFullHeightContainer:{height:"100%"},dateStickyContainer:{position:"sticky",top:3,paddingTop:5},eventListContainer:{display:"flex",flexDirection:"column",height:"100%",alignItems:"start",paddingRight:Se.A0,overflow:"hidden",marginLeft:-4,paddingLeft:4}})),[]);return(0,h.jsx)("div",{style:a.container,children:null==t?void 0:t.flatMap((e=>{const t=gt(e),i=nt(e.date,o),r=i?(0,eo.AN)(e.timedEvents.map((e=>e.baseEvent))):void 0;return[(0,h.jsx)("div",{style:a.dateFullHeightContainer,children:(0,h.jsx)("div",{style:a.dateStickyContainer,children:(0,h.jsx)(Xo,{date:e.date})})},`date_${e.date}`),(0,h.jsxs)("div",{style:a.eventListContainer,children:[0===t.length&&i&&(0,h.jsx)(Jo,{event:"emptyTodayEventPlaceholder"}),t.map(((o,a)=>{let{baseEvent:i,allSquashedEvents:s}=o;return(0,h.jsx)(Jo,{date:e.date,eventToAnalyticsStateStore:n,isFirstEvent:0===a,isLastEvent:a===t.length-1,isUpcomingEvent:(null==r?void 0:r.id)===i.id,event:i,allSquashedEvents:s},ta({event:i,date:e.date}))}))]},`events_${e.date}`)]}))})}function ta(e){let{event:t,date:n}=e;return`${t.isAllDay}-${qe(t)}-${n}`}const na=o.memo(ea);var oa=n(144615),aa=n(702688);function ia(e){let{accountId:t,botId:n,calendarId:r}=e;const s=(0,a.O7)(),l=(0,i.VK)((()=>y.default.state.currentSpaceViewStore),[]),d=(0,o.useRef)([]),c=(0,o.useCallback)((()=>{if(!n)return;const e=(0,oa.vb)({accountId:t,botId:n,calendarId:r}),o=aa.ZP.addListener(e,(0,aa.Qk)((()=>nn({currentSpaceViewStore:l,environment:s,botId:n,timeRange:Tt(),calendarAndAccountIds:[{calendarId:r,accountId:t}],forceRefetch:!0,reason:"event_change"}))),void 0,s);o&&d.current.push(o);const a=(0,oa.ji)({botId:n,accountId:t,calendarId:r}),i=aa.ZP.addListener(a,(0,aa.Qk)(((e,o)=>{if("true"!==o&&"false"!==o)return;const a=JSON.parse(o);!function(e){var t;let{environment:n,botId:o,calendarId:a,accountId:i,newIsVisible:r}=e;const{currentSpaceViewStore:s}=y.default.state;if(!s)return;const l=yt.getCalendar({calendarId:a,accountId:i});if(!l||l.selected===r)return;yt.updateStateForCurrentSpaceView((e=>{if(!e)return;const t=(0,Ie.Xh)(e),n=t.calendars.get($e({accountId:i,calendarId:a}));return n&&n.selected!==r?(n.selected=r,x.default.checkGate({gateName:"calendar_home_tile_caching"})&&At.set(s.id,t),t):e})),(null===(t=s.getHomeCalendarVisibilityConfig(o))||void 0===t?void 0:t.mirrorWithNotionCalendar)&&r&&nn({currentSpaceViewStore:s,environment:n,botId:o,timeRange:Tt(),calendarAndAccountIds:[{calendarId:a,accountId:i}],forceRefetch:!1,reason:"calendar_visibility_change"})}({environment:s,botId:n,calendarId:r,accountId:t,newIsVisible:a})})),void 0,s);i&&d.current.push(i)}),[n,t,r,s,l]),u=(0,o.useCallback)((()=>{for(const e of d.current)aa.ZP.removeListener(e,s);d.current=[]}),[s]);return(0,o.useEffect)((()=>(c(),u)),[c,u]),[]}function ra(e){let{}=e;const t=(0,i.VK)((()=>yt.getCalendarAndAccountIds()),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(h.Fragment,{children:[t.map((e=>(0,h.jsx)(sa,{accountId:e.accountId,calendarId:e.calendarId},$e(e)))),(0,h.jsx)(la,{})]}),(0,h.jsx)(da,{})]})}function sa(e){let{accountId:t,calendarId:n}=e;const{botId:o}=gn();return ia({accountId:t,botId:o,calendarId:n}),null}function la(){const e=(0,a.O7)(),t=(0,i.VK)((()=>y.default.state.currentSpaceViewStore),[]),{botId:n}=gn(),r=(0,o.useRef)(),s=(0,o.useCallback)((()=>{if(!n)return;const o=(0,oa.H7)({botId:n});r.current=aa.ZP.addListener(o,(0,aa.Qk)((()=>nn({currentSpaceViewStore:t,environment:e,botId:n,timeRange:Tt(),forceRefetch:!0,updateMethod:"replace",reason:"calendar_change"}))),void 0,e)}),[n,e,t]),l=(0,o.useCallback)((()=>{r.current&&(aa.ZP.removeListener(r.current,e),r.current=void 0)}),[e]);return(0,o.useEffect)((()=>(s(),l)),[s,l]),null}function da(){const e=(0,a.O7)(),t=(0,i.VK)((()=>y.default.state.currentSpaceViewStore),[]),n=gn(),r=(0,o.useCallback)((()=>I.ou.now().plus({minutes:1}).startOf("minute").plus({seconds:1}).diffNow().as("milliseconds")),[]),s=(0,o.useCallback)((()=>function(e){let{now:t=I.ou.now(),currentSpaceViewStore:n}=e;if(!n)return;const o=yt.getStateForCurrentSpaceView();if(!o)return;const{didChange:a,newState:i}=rn({now:t,state:o});a&&(yt.updateStateForCurrentSpaceView((()=>i)),x.default.checkGate({gateName:"calendar_home_tile_caching"})&&At.set(n.id,i))}({currentSpaceViewStore:t})),[t]);var l,d;l=r,d=s,(0,o.useEffect)((()=>{let e;const t=()=>{d(),e=setTimeout(t,l())};return e=setTimeout(t,l()),()=>clearTimeout(e)}),[d,l]);const c=(0,Le.Fp)().toISODate(),u=(0,o.useRef)(c);return(0,o.useEffect)((()=>{n.botId&&c!==u.current&&(nn({environment:e,currentSpaceViewStore:t,botId:n.botId,timeRange:Tt(),forceRefetch:!0,reason:"date_change"}),u.current=c)}),[n,t,e,c]),null}const ca=o.memo(ra);class ua extends O.default{getInitialState(){return{open:!1}}close(){this.setState({open:!1})}open(e){this.setState({open:!0,panel:e})}}const pa=ua;var ma=n(183154),ga=n(569651),ha=n(605257);const fa=(0,Cn.IU)("circleUnfilled",{viewBox:"0 0 20 20",svg:(0,h.jsx)("circle",{cx:"10",cy:"10",r:"5.125",strokeWidth:"1.75",fill:"none"})});var va=n(44643),Ca=n(584169);const ya=(0,Cn.IU)("navigationCrossedOut",{viewBox:"0 0 20 20",svg:(0,h.jsx)("path",{d:"M3.91602 10.6729C3.67904 10.6683 3.47852 10.6136 3.31445 10.5088C3.15495 10.404 3.03418 10.2718 2.95215 10.1123C2.87467 9.94824 2.84277 9.77734 2.85645 9.59961C2.87012 9.41732 2.93164 9.24414 3.04102 9.08008C3.15039 8.91602 3.31445 8.78613 3.5332 8.69043L6.5752 7.27539L7.55957 8.2666L5.22852 9.33301C5.21029 9.34212 5.20117 9.35124 5.20117 9.36035C5.20573 9.36947 5.21484 9.37402 5.22852 9.37402L8.65332 9.35352L10.2529 10.9531L10.2324 14.3779C10.2324 14.3916 10.237 14.4007 10.2461 14.4053C10.2552 14.4053 10.262 14.3984 10.2666 14.3848L11.3467 12.0537L12.3379 13.0449L10.9707 15.998C10.8659 16.2214 10.7314 16.3923 10.5674 16.5107C10.4033 16.6338 10.2279 16.7044 10.041 16.7227C9.85417 16.7409 9.67871 16.7135 9.51465 16.6406C9.35059 16.5677 9.21615 16.4492 9.11133 16.2852C9.00651 16.1257 8.9541 15.9251 8.9541 15.6836L8.94043 10.7754C8.94043 10.7344 8.93587 10.7093 8.92676 10.7002C8.91764 10.6911 8.89486 10.6865 8.8584 10.6865L3.91602 10.6729ZM13.5547 10.3994L12.5566 9.40137L14.5049 5.16992C14.5186 5.13802 14.5186 5.11979 14.5049 5.11523C14.4958 5.10612 14.4798 5.10612 14.457 5.11523L10.2119 7.06348L9.20703 6.07227L14.4639 3.63867C14.7555 3.50195 15.0244 3.44727 15.2705 3.47461C15.5166 3.50195 15.7171 3.59082 15.8721 3.74121C16.0316 3.88704 16.1273 4.08073 16.1592 4.32227C16.1911 4.55924 16.1387 4.82357 16.002 5.11523L13.5547 10.3994ZM15.4141 14.9863L4.72266 4.29492C4.61784 4.19466 4.56543 4.06934 4.56543 3.91895C4.56543 3.764 4.61784 3.63411 4.72266 3.5293C4.82747 3.41992 4.95508 3.36751 5.10547 3.37207C5.26042 3.37207 5.3903 3.42448 5.49512 3.5293L16.1865 14.2139C16.2913 14.3232 16.3415 14.4531 16.3369 14.6035C16.3369 14.7493 16.2868 14.877 16.1865 14.9863C16.0817 15.0911 15.9518 15.1436 15.7969 15.1436C15.6465 15.1436 15.5189 15.0911 15.4141 14.9863Z"})}),xa=(0,Cn.IU)("personCross",{viewBox:"0 0 20 20",svg:(0,h.jsx)("path",{d:"M13.2061 9.75684C13.0374 9.75684 12.8916 9.69531 12.7686 9.57227C12.6501 9.44922 12.5908 9.30339 12.5908 9.13477C12.5908 8.96615 12.6523 8.82259 12.7754 8.7041L14.5801 6.89258L12.7754 5.08105C12.6523 4.96257 12.5908 4.81901 12.5908 4.65039C12.5908 4.47721 12.6501 4.33366 12.7686 4.21973C12.8916 4.10124 13.0374 4.04199 13.2061 4.04199C13.3838 4.04199 13.5319 4.10352 13.6504 4.22656L15.4551 6.02441L17.2803 4.21973C17.4033 4.09212 17.5469 4.02832 17.7109 4.02832C17.8841 4.02832 18.0299 4.08984 18.1484 4.21289C18.2669 4.33138 18.3262 4.47493 18.3262 4.64355C18.3262 4.80762 18.2646 4.95117 18.1416 5.07422L16.3369 6.89258L18.1348 8.69727C18.2624 8.82031 18.3262 8.96615 18.3262 9.13477C18.3262 9.30339 18.2646 9.44922 18.1416 9.57227C18.0231 9.69531 17.8796 9.75684 17.7109 9.75684C17.5332 9.75684 17.3828 9.69303 17.2598 9.56543L15.4551 7.76758L13.6572 9.56543C13.5387 9.69303 13.3883 9.75684 13.2061 9.75684ZM2.89746 16.2441C2.51465 16.2441 2.21387 16.1576 1.99512 15.9844C1.77637 15.8112 1.66699 15.5742 1.66699 15.2734C1.66699 14.8314 1.79915 14.3688 2.06348 13.8857C2.33236 13.4027 2.71745 12.9492 3.21875 12.5254C3.72461 12.1016 4.33301 11.7575 5.04395 11.4932C5.75488 11.2288 6.55241 11.0967 7.43652 11.0967C8.3252 11.0967 9.125 11.2288 9.83594 11.4932C10.5469 11.7575 11.153 12.1016 11.6543 12.5254C12.1602 12.9492 12.5475 13.4027 12.8164 13.8857C13.0853 14.3688 13.2197 14.8314 13.2197 15.2734C13.2197 15.5742 13.1104 15.8112 12.8916 15.9844C12.6729 16.1576 12.3721 16.2441 11.9893 16.2441H2.89746ZM7.44336 9.87988C6.94661 9.87988 6.48861 9.74544 6.06934 9.47656C5.65462 9.20768 5.31966 8.84538 5.06445 8.38965C4.8138 7.93392 4.68848 7.4235 4.68848 6.8584C4.68848 6.30241 4.8138 5.80111 5.06445 5.35449C5.31966 4.90332 5.6569 4.54557 6.07617 4.28125C6.49544 4.01693 6.95117 3.88477 7.44336 3.88477C7.9401 3.88477 8.39811 4.01465 8.81738 4.27441C9.23665 4.53418 9.57161 4.88965 9.82227 5.34082C10.0775 5.78743 10.2051 6.28874 10.2051 6.84473C10.2051 7.41439 10.0775 7.92936 9.82227 8.38965C9.57161 8.84538 9.23665 9.20768 8.81738 9.47656C8.39811 9.74544 7.9401 9.87988 7.44336 9.87988Z"})});var Sa=n(225888),wa=n(358188),ba=n(552275),ka=n(886825),ja=n(918514);function Ma(){return(0,i.VK)((()=>(0,De.RI)()),[])}var Ia=n(33311),Ta=n(80721),Va=n(432598),_a=n(573063),La=n(437712),Za=n(239132);function Pa(e){let{botId:t,isMirrored:n}=e;const o=(0,i.VK)((()=>yt.getCurrentAccountIds()),[]),a=(0,r.yK)((()=>({container:{width:"100%",display:"flex",flexDirection:"column",height:228,opacity:n?.3:void 0},spacer:{width:"100%",paddingBottom:12}})),[n]);return(0,h.jsxs)("div",{style:a.container,children:[o.map((e=>(0,h.jsx)(Ha,{mirrored:n,botId:t,accountId:e},e))),(0,h.jsx)("div",{style:a.spacer})]})}function Ha(e){let{accountId:t,mirrored:n,botId:s}=e;const l=(0,a.O7)(),d=(0,i.VK)((()=>yt.getAccount(t)),[t]),c=(0,i.VK)((()=>yt.getCalendarsForAccount(t)),[t]),u=(0,o.useCallback)((()=>{(0,Ze.vn)({environment:l,from:"homeDisconnectedAccountWarning"})}),[l]),p=(0,r.yK)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch"},title:{...Z.Z.textOverflowStyle},titleWrapper:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},disconnectedAccountWarningIcon:{color:e.mediumTextColor,width:12,height:12},sectionItem:{paddingTop:12,paddingBottom:4,marginTop:0,marginBottom:0},sectionTitle:{paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}})),[]);if(!d||d.authorized&&0===c.length)return null;const m=d.authorized?d.displayName:(0,h.jsx)(A.Z,{renderTooltip:()=>(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarPanel.disconnectedAccountWarningTooltip",defaultMessage:"Calendar account requires reconnecting"}),render:e=>(0,h.jsxs)("span",{role:"button",style:p.titleWrapper,onClick:u,...e,children:[(0,h.jsx)("span",{style:p.title,children:d.displayName}),(0,je.t)(p.disconnectedAccountWarningIcon)]})});return(0,h.jsxs)("div",{style:p.container,children:[(0,h.jsx)(xo.Z,{title:m,style:p.sectionItem,desktopTitleStyle:p.sectionTitle}),c.map((e=>(0,h.jsx)(Aa,{mirrored:n,botId:s,calendar:e},$e(e))))]})}function Aa(e){var t;let{mirrored:n,botId:s,calendar:l}=e;const d=(0,a.O7)(),c=null===(t=(0,o.useContext)(fe))||void 0===t?void 0:t.panelState,u=(0,i.VK)((()=>{const{currentSpaceViewStore:e}=y.default.state;return!!l&&Et({spaceViewStore:e,botId:s,calendar:l})}),[s,l]),p=(0,r.yK)((e=>({container:{height:32},calendarName:{fontSize:(0,Q.yv)(d,"UIRegular"),fontWeight:Z.Z.fontWeight.regular,color:e.regularTextColor,flexGrow:1,...Z.Z.textOverflowStyle},calendarColorIndicator:{height:10,width:10,flexShrink:0,flexGrow:0,borderRadius:"100%",backgroundColor:Ue({theme:e,calendarColor:null==l?void 0:l.color})},calendarVisibilityIndicator:{flexShrink:0,flexGrow:0},eyeIcon:{width:20,height:20,padding:2,fill:e.mediumTextColor},eyeHiddenIcon:{width:20,height:20,fill:e.mediumIconColor}})),[null==l?void 0:l.color,d]);return l?(0,h.jsx)(ba.Z,{onClick:()=>an({environment:d,botId:s,calendarId:l.id,accountId:l.accountId,newIsVisible:!u,panelState:c}),disabled:n,focused:!1,style:p.container,left:(0,h.jsx)("div",{style:p.calendarColorIndicator}),title:l.name,right:(0,h.jsx)("div",{style:p.calendarVisibilityIndicator,children:u?(0,Za.c)(p.eyeIcon):(0,va.L)(p.eyeHiddenIcon)})}):null}const Fa=o.memo(Pa);function Da(e){var t;let{popupStore:n}=e;const s=(0,a.O7)(),{botId:d}=gn(),c=null===(t=(0,o.useContext)(fe))||void 0===t?void 0:t.panelState,u=(0,i.VK)((()=>y.default.state.currentSpaceViewStore),[]),p=(0,i.qz)(void 0,S.Z),m=(0,i.VK)((()=>Bt({botId:d,spaceViewStore:u})),[d,u]),g=(0,o.useCallback)((()=>{n.close(),$t({environment:s,action:"close",calendarPanelContext:Nt(c)})}),[s,c,n]),f=(0,o.useCallback)((()=>n.open("main")),[n]),v=(0,o.useCallback)((()=>d&&on({environment:s,botId:d,mirrorWithNotionCalendar:!m,panelState:c})),[d,s,c,m]),x=(0,r.yK)((()=>({accountsListSection:{paddingTop:0,paddingBottom:0}})),[]);if(!d)return null;const w=(0,Ie.oA)([{key:"headerSection",render:e=>(0,h.jsx)(xo.Z,{...e}),items:[{key:"headerItem",render:e=>(0,h.jsx)(Ra,{onClose:g,onBackClick:f}),action:()=>{}}]},{key:"mirrorToggle",render:e=>(0,h.jsx)(xo.Z,{...e,topBorder:!0}),items:(0,Ie.oA)([{key:"mirrorToggleItem",render:e=>(0,h.jsx)(ka.Z,{...e,focused:!1,on:m,title:(0,h.jsx)(V.FormattedMessage,{id:"calendarSettingsVisibilityPanel.mirrorWithNotionCalendar",defaultMessage:"Mirror calendar app"}),onClick:v}),action:()=>{}}])},{key:"accountsList",render:e=>(0,h.jsx)(xo.Z,{...e,style:x.accountsListSection}),items:(0,Ie.oA)([{key:"accountsList",render:e=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(La.A,{scrollerStore:p}),(0,h.jsx)(l.Z,{type:C.Z.Y,store:p,children:(0,h.jsx)(Fa,{botId:d,isMirrored:m,...e})})]}),action:()=>{}}])}]);return(0,h.jsx)(vo.Z,{onAccept:e=>{},type:vo.i.Vertical,sections:w,initialFocus:void 0})}function Ra(e){let{onClose:t,onBackClick:n}=e;const o=(0,a.O7)(),i=(0,V.useIntl)(),s=(0,r.yK)((()=>({container:{paddingLeft:8,paddingRight:10,height:28,display:"flex",alignItems:"center",justifyContent:"flex-start",gap:3},arrowLeftIcon:{width:24,height:24,flexShrink:0,flexGrow:0},menuTitle:{flexGrow:1,fontWeight:Z.Z.fontWeight.semibold,fontSize:(0,Q.yv)(o,"UIRegular")},closeButton:{flexShrink:0}})),[o]);return(0,h.jsxs)("div",{style:s.container,children:[(0,h.jsx)(_a.Z,{style:s.arrowLeftIcon,icon:Ta.W,ariaLabel:i.formatMessage({id:"calendarSettingsVisibilityPanel.back",defaultMessage:"Back"}),onClick:n}),(0,h.jsx)("div",{style:s.menuTitle,children:(0,h.jsx)(V.FormattedMessage,{id:"calendarSettingsVisibilityPanel.title",defaultMessage:"Calendars"})}),(0,h.jsx)(Va.Z,{onClose:t,style:s.closeButton})]})}const Ea=o.memo(Da),Ka=(0,Cn.IU)("arrowUpDown",{viewBox:"0 0 20 20",svg:(0,h.jsx)("path",{d:"M10 16.8662C9.89518 16.8662 9.79492 16.848 9.69922 16.8115C9.60807 16.7751 9.52604 16.7181 9.45312 16.6406L5.90527 13.0244C5.75488 12.874 5.67969 12.6986 5.67969 12.498C5.67969 12.2839 5.74577 12.1107 5.87793 11.9785C6.01009 11.8464 6.18099 11.7803 6.39062 11.7803C6.49544 11.7803 6.58887 11.8008 6.6709 11.8418C6.75293 11.8828 6.82585 11.9352 6.88965 11.999L8.33203 13.4756L9.33008 14.6514L9.26855 13.1133V7.01562L9.33008 5.47754L8.33203 6.64648L6.88965 8.12988C6.82585 8.19368 6.75293 8.24609 6.6709 8.28711C6.58887 8.32357 6.49544 8.3418 6.39062 8.3418C6.18099 8.3418 6.01009 8.27799 5.87793 8.15039C5.74577 8.01823 5.67969 7.84277 5.67969 7.62402C5.67969 7.42806 5.75488 7.25488 5.90527 7.10449L9.45312 3.48828C9.52604 3.41081 9.60807 3.35384 9.69922 3.31738C9.79492 3.28092 9.89518 3.2627 10 3.2627C10.0957 3.2627 10.1891 3.28092 10.2803 3.31738C10.376 3.35384 10.4626 3.41081 10.54 3.48828L14.0879 7.10449C14.2383 7.25488 14.3135 7.42806 14.3135 7.62402C14.3135 7.84277 14.2451 8.01823 14.1084 8.15039C13.9762 8.27799 13.8076 8.3418 13.6025 8.3418C13.4977 8.3418 13.4043 8.32357 13.3223 8.28711C13.2402 8.24609 13.165 8.19368 13.0967 8.12988L11.6611 6.64648L10.6562 5.47754L10.7246 7.01562V13.1133L10.6562 14.6514L11.6611 13.4756L13.0967 11.999C13.165 11.9352 13.2402 11.8828 13.3223 11.8418C13.4043 11.8008 13.4977 11.7803 13.6025 11.7803C13.8076 11.7803 13.9762 11.8464 14.1084 11.9785C14.2451 12.1107 14.3135 12.2839 14.3135 12.498C14.3135 12.6986 14.2383 12.874 14.0879 13.0244L10.54 16.6406C10.4626 16.7181 10.376 16.7751 10.2803 16.8115C10.1891 16.848 10.0957 16.8662 10 16.8662Z"})});var Ba=n(536591),Oa=n(882855),Wa=n(396525);const Na={one_day:{title:(0,h.jsx)(V.FormattedMessage,{id:"IncludeEventsPickerMenu.oneDay",defaultMessage:"Today"})},two_days:{title:(0,h.jsx)(V.FormattedMessage,{id:"IncludeEventsPickerMenu.two_days",defaultMessage:"Today and tomorrow"})},three_days:{title:(0,h.jsx)(V.FormattedMessage,{id:"IncludeEventsPickerMenu.three_days",defaultMessage:"3 days"})},one_week:{title:(0,h.jsx)(V.FormattedMessage,{id:"IncludeEventsPickerMenu.one_week",defaultMessage:"1 week"})}};function Ua(e){var t;let{iconStyle:n,...s}=e;const l=(0,a.O7)(),d=null===(t=(0,o.useContext)(fe))||void 0===t?void 0:t.panelState,c=(0,i.VK)((()=>It().key),[]),u=(0,r.yK)((e=>({container:{},lightText:{color:e.mediumTextColor},chevronDownIcon:{width:16,height:16,padding:2,marginLeft:4,fill:e.mediumIconColor},checkIcon:{width:16,height:16,fill:e.mediumIconColor},currentRangeIndicator:{display:"flex",alignItems:"center"}})),[]);return(0,h.jsx)(Wa.Z,{...s,popupType:G.kQ.Popup,placementToOrigin:R.u.Right,alignmentToOrigin:R.v.Start,renderOrigin:e=>(0,h.jsx)(ba.Z,{...e,focused:s.focused,icon:Ka(n),title:(0,h.jsx)(V.FormattedMessage,{id:"IncludeEventsPickerMenu.includeEventsTitle",defaultMessage:"Include events"}),right:(0,h.jsxs)("div",{style:u.currentRangeIndicator,children:[(0,h.jsx)("span",{style:u.lightText,children:Na[c].title}),(0,Oa.E)(u.chevronDownIcon)]})}),render:e=>(0,h.jsx)(z.Z,{menuType:J.og.Popup,children:(0,h.jsx)(vo.Z,{onAccept:e.close,type:vo.i.Vertical,sections:[{key:"all",render:e=>(0,h.jsx)(xo.Z,{...e}),items:(0,L.qP)(Na).map((e=>{let[t,{title:n}]=e;return{action:()=>(e=>{Jt({environment:l,timeRange:e,panelState:d})})(t),key:t,render:e=>(0,h.jsx)(ba.Z,{...e,title:n,right:t===c?(0,Ba.e)(u.checkIcon):void 0})}}))}],initialFocus:void 0})})})}const za=o.memo(Ua);var Ga=n(222686);function $a(e){var t;let{iconStyle:n,...s}=e;const l=(0,a.O7)(),d=null===(t=(0,o.useContext)(fe))||void 0===t?void 0:t.panelState,{botId:c}=gn(),u=Ma(),p=(0,i.VK)((()=>mn.Z.externalAuthentications.state),[]),m=(0,o.useCallback)((e=>{if(!e)return"";const t=p.find((t=>t.parent_id===e.id));return null==t?void 0:t.account_name}),[p]),g=(0,r.yK)((e=>({lightText:{color:e.mediumTextColor},chevronDownIcon:{width:16,height:16,padding:2,marginLeft:4,fill:e.mediumIconColor},checkIcon:{width:16,height:16,fill:e.mediumIconColor},accountIndicator:{display:"flex",alignItems:"center"}})),[]);return(0,h.jsx)(Wa.Z,{...s,popupType:G.kQ.Popup,placementToOrigin:R.u.Right,alignmentToOrigin:R.v.Start,renderOrigin:e=>(0,h.jsx)(ba.Z,{...e,focused:s.focused,icon:(0,Ga.f)(n),title:(0,h.jsx)(V.FormattedMessage,{id:"NotionCalendarAccountPickerMenu.connectedAccountTitle",defaultMessage:"Connected"}),right:(0,h.jsxs)("div",{style:g.accountIndicator,children:[(0,h.jsx)("span",{style:g.lightText,children:m(u.find((e=>e.id===c)))}),(0,Oa.E)(g.chevronDownIcon)]})}),render:e=>(0,h.jsx)(z.Z,{menuType:J.og.Popup,children:(0,h.jsx)(vo.Z,{onAccept:e.close,type:vo.i.Vertical,sections:[{key:"all",render:e=>(0,h.jsx)(xo.Z,{...e}),items:u.map((e=>({action:()=>{Xt({environment:l,botId:e.id,shouldLog:!0,panelState:d})},key:e.id,render:t=>(0,h.jsx)(ba.Z,{...t,title:m(e),right:e.id===c?(0,Ba.e)(g.checkIcon):void 0})})))}],initialFocus:void 0})})})}const qa=o.memo($a),Ya={all_day_events:{title:(0,h.jsx)(V.FormattedMessage,{id:"NotionCalendarSettingsContent.allDayEvents",defaultMessage:"All-day events"}),icon:fa,setStroke:!0},events_without_participants:{title:(0,h.jsx)(V.FormattedMessage,{id:"NotionCalendarSettingsContent.eventsWithoutParticipants",defaultMessage:"Events without participants"}),icon:xa},events_without_location:{title:(0,h.jsx)(V.FormattedMessage,{id:"NotionCalendarSettingsContent.eventsWithoutLocation",defaultMessage:"Events without conferencing / location"}),icon:ya}};function Ja(e){let{hasConnectedCalendar:t,popupStore:n}=e;const a=(0,i.VK)((()=>n.state.open?n.state.panel:void 0),[n]),[r,s]=(0,o.useState)(0),l=(0,o.useCallback)((e=>{e&&e.getBoundingClientRect().width>0&&!r&&s(e.getBoundingClientRect().width)}),[r]);if(!a)return null;let d;return"main"===a?d=(0,h.jsx)(Qa,{hasConnectedCalendar:t,popupStore:n}):"calendarVisibility"===a?d=(0,h.jsx)(Ea,{popupStore:n}):(0,L.P)(a),(0,h.jsx)(z.Z,{menuType:J.og.Popup,innerRef:l,...r?{width:r}:{},children:d})}function Qa(e){let{hasConnectedCalendar:t,popupStore:n}=e;const s=(0,a.O7)(),l=(0,V.useIntl)(),d=(0,i.VK)((()=>y.default.state.currentSpaceViewStore),[]),c=Ma(),u=(0,o.useCallback)((()=>{Sa.Fs(s,{from:"home_calendar_settings"})}),[s]),p=(0,o.useCallback)((()=>n.open("calendarVisibility")),[n]),m=(0,o.useCallback)((()=>{d&&wa.aG({environment:s,currentSpaceViewStore:d,feature:"calendar",from:"calendar_dismiss_button"})}),[d,s]),g=(0,r.yK)((e=>{const t={width:Ia.P2,height:Ia.P2,fill:e.regularIconColor},n=(0,Se.$K)(e);return{icon:t,iconWithStroke:{...t,stroke:e.regularIconColor},iconSmall:{...t,padding:2},iconLarge:{...t,margin:-2,width:Ia.P2+4,height:Ia.P2+4},helpIcon:{...t,padding:2,fill:n.icon},rightChevronIcon:{width:16,height:16,fill:e.mediumIconColor},lightMenuButton:{color:n.text}}}),[]),f={key:"calendars",render:e=>(0,h.jsx)(ba.Z,{...e,icon:(0,ga.C)(g.iconSmall),title:(0,h.jsx)(V.FormattedMessage,{id:"NotionCalendarSettingsContent.calendars",defaultMessage:"Calendars"}),right:(0,ha.o)(g.rightChevronIcon)}),action:p},v={key:"includeEvents",render:e=>(0,h.jsx)(za,{iconStyle:g.icon,...e}),action:()=>{}},C=(0,L.qP)(Ya).map((e=>{let[t,{title:n,icon:o,setStroke:a}]=e;return{key:`eventFilter_${t}`,render:e=>(0,h.jsx)(Xa,{...e,filter:t,icon:o(a?g.iconWithStroke:g.icon),title:n}),action:()=>{}}})),x={key:"hideWidget",render:e=>(0,h.jsx)(ba.Z,{...e,icon:(0,va.L)(g.iconLarge),title:l.formatMessage(Ia.Iu.hide)}),action:m},S={key:"learnMore",render:e=>(0,h.jsx)(ba.Z,{...e,style:g.lightMenuButton,icon:(0,Ca.m)(g.helpIcon),href:(0,ja.UY)("guides.homeCalendar"),title:(0,h.jsx)(V.FormattedMessage,{id:"NotionCalendarSettingsContent.learnMore",defaultMessage:"Learn more"})}),action:u},w={key:"connectedCalendarAccount",render:e=>(0,h.jsx)(qa,{iconStyle:g.iconSmall,...e}),action:()=>{}},b=(0,Ie.oA)([t?{key:"calendarSpecificSettings",render:e=>(0,h.jsx)(xo.Z,{...e}),items:[f,v,...C]}:void 0,{key:"highLevelSettingsAndLinks",render:e=>(0,h.jsx)(xo.Z,{...e,topBorder:t}),items:[...c.length>1?[w]:[],x,S]}]);return(0,h.jsx)(vo.Z,{onAccept:e=>{},type:vo.i.Vertical,sections:b,initialFocus:void 0})}function Xa(e){var t;let{filter:n,title:s,icon:l,...d}=e;const c=(0,a.O7)(),u=null===(t=(0,o.useContext)(fe))||void 0===t?void 0:t.panelState,p=(0,i.VK)((()=>Ke(n)),[n]),m=(0,o.useCallback)((()=>{Qt({environment:c,filter:n,panelState:u})}),[c,n,u]),g=(0,r.yK)((e=>({title:{marginRight:8}})),[]);return(0,h.jsx)(ka.Z,{...d,on:p,icon:l,title:s,titleStyle:g.title,onClick:m})}const ei=o.memo(Ja);function ti(e){var t;let{hasConnectedCalendar:n}=e;const r=(0,a.O7)(),s=(0,i.qz)(void 0,pa),l=(0,i.VK)((()=>s.state.open),[s]),d=null===(t=(0,o.useContext)(fe))||void 0===t?void 0:t.panelState,c=(0,o.useCallback)((()=>{s.close(),$t({environment:r,action:"close",calendarPanelContext:Nt(d)})}),[r,d,s]),u=(0,o.useCallback)((()=>{s.open("main"),$t({environment:r,action:"open",calendarPanelContext:Nt(d)})}),[r,d,s]);return(0,h.jsx)(fo.ZP,{renderOrigin:e=>(0,h.jsx)(ma.Z,{...e,onClick:u}),open:l,popupType:G.kQ.Popup,alignmentToOrigin:fo.vR.End,placementToOrigin:fo.pO.Bottom,onClose:c,onClick:u,render:e=>(0,h.jsx)(ei,{hasConnectedCalendar:n,popupStore:s})},"settings")}const ni=o.memo(ti);let oi=!1;function ai(e){switch(e){case"signedOut":case"disconnectedAccount":case"loading":case"loadError":return!1;case"noEvents":case"events":return!0;default:(0,L.P)(e)}}function ii(e){switch(e){case"signedOut":case"disconnectedAccount":case"loading":case"loadError":return!1;case"noEvents":case"events":return!0;default:(0,L.P)(e)}}function ri(e,t){switch(e){case"signedOut":case"disconnectedAccount":case"loading":case"loadError":return!1;case"noEvents":case"events":return t.length>0;default:(0,L.P)(e)}}function si(e){let{provider:t}=e;return"google"===t}function li(e){let{disconnectedAccounts:t,style:n,iconStyle:i}=e;const r=(0,a.O7)(),s=(0,o.useCallback)((()=>{(0,Ze.vn)({environment:r,from:"homeDisconnectedAccountWarning"})}),[r]);if(0===t.length)return null;const l=1===t.length?(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarPanel.disconnectedAccountsWarningTooltip.one",defaultMessage:"{accountName} requires reconnecting",values:{accountName:t[0].displayName}}):(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarPanel.disconnectedAccountsWarningTooltip.multiple",defaultMessage:"{numDisconnectedAccounts} accounts require reconnecting",values:{numDisconnectedAccounts:t.length}});return(0,h.jsx)(A.Z,{renderTooltip:()=>l,render:e=>(0,h.jsx)(H.Z,{icon:je.t,iconStyle:i,onClick:s,style:n,...e})})}const di=(0,Ie.Ds)(en,1e4,{leading:!0,trailing:!0}),ci=function(e){var t;let{maxHeight:n,onLoaded:s,onDisplayStateChanged:d}=e;const c=(0,a.O7)(),{currentSpaceViewStore:u,currentSpaceStore:p}=(0,i.VK)((()=>({currentSpaceViewStore:y.default.state.currentSpaceViewStore,currentSpaceStore:y.default.state.currentSpaceStore})),[]),m=gn(),{timeZone:g}=(0,_e.Im)(),f=(0,Le.Fp)(),[v,x]=o.useState(0),[S,w]=o.useState(!0),b=(0,o.useMemo)((()=>(0,Ie.Ds)((()=>{x((e=>e+1)),w(!1),setTimeout((()=>w(!0)),1e4)}),1e3,{leading:!0,trailing:!1})),[]),k=(0,i.VK)((()=>{var e,t;const{botSpaceId:n,botUserId:o}=m,a=null==u?void 0:u.getSpaceId(),i=null==u?void 0:u.getUserId(),r=null==p?void 0:p.id,s=null===(e=y.default.state.currentUserStore)||void 0===e?void 0:e.id,l=null===(t=c.currentUser)||void 0===t?void 0:t.id;return ln([n,a,r])&&ln([o,i,s,l])}),[m,null==p?void 0:p.id,u,null===(t=c.currentUser)||void 0===t?void 0:t.id]),j=o.useRef(void 0),[M]=(0,we.r5)((async()=>{const e=m.botId;if(!k||!u)return"appNotSynced";if(!e)return"noConnectedBot";const t=await en({environment:c,currentSpaceViewStore:u,botId:e,forceRefetch:!1,timeRange:Tt(),reason:"foreground_load"}),n=!j.current,o=j.current&&(j.current.spaceViewId!==u.id||j.current.botId!==e);switch("skipped"===t&&(n||o)&&di({environment:c,currentSpaceViewStore:u,botId:e,forceRefetch:!0,timeRange:Tt(),updateMethod:"replace",reason:"background_load"}),j.current={spaceViewId:u.id,botId:e},t){case"success":case"skipped":return"loadCompleted";case"failure":return"loadError";default:(0,L.t1)(t)}}),[k,m.botId,u,c,v]),T=(0,i.VK)((()=>void 0!==yt.getStateForCurrentSpaceView()),[]);(0,o.useEffect)((()=>{s()}),[s]);const _=(0,o.useMemo)((()=>O.default.createValue({})),[]),{days:Z,numDaysWithEvents:P}=(0,i.VK)((()=>{const e=m.botId;if(!e||"resolved"!==M.status||!T||!u)return{days:[],numDaysWithEvents:0};const{timeMin:t,timeMax:n}=It(),o=function(e){let{events:t,getCalendarVisibility:n,calendars:o,startDate:a,endDateInclusive:i,eventFilters:r,timeZone:s}=e;const l=a.toISODate(),d=i.toISODate(),c=new He([],(e=>{let{baseEvent:t}=e;return t.id}));for(const p of t){const e=null==o?void 0:o.get($e(p));if(!e||!n(e)||!mt({event:p,minDate:l,maxDateInclusive:d,eventFilters:r,timeZone:s}))continue;const t=c.get(p.id);if(t)t.allSquashedEvents=(0,Ie.mN)([...t.allSquashedEvents,p],(e=>qe(e)));else if(p.cronSyncOriginalEventData){const e=p.cronSyncOriginalEventData.eventId,t=c.get(e);t&&(t.allSquashedEvents=(0,Ie.mN)([...t.allSquashedEvents,p],qe))}else c.append(p.id,{baseEvent:p,allSquashedEvents:[p]})}const u=new He(Xe(l,d,s).map((e=>({date:e,allDayEvents:[],timedEvents:[]}))),(e=>{let{date:t}=e;return t}));for(const{baseEvent:p,allSquashedEvents:m}of c.getOrderedValues())if(p.isAllDay){const e=Qe({eventStartDate:p.start.date,eventEndDateInclusive:ut(p.end.date,s),minDate:l,maxDateInclusive:d,timeZone:s});for(const t of e){const e=u.get(t);e&&e.allDayEvents.push({baseEvent:p,allSquashedEvents:m})}}else{const e=tt(p.start.dateTime,s),t=u.get(e);if(!t)continue;t.timedEvents.push({baseEvent:p,allSquashedEvents:m})}return u.getOrderedValues()}({events:yt.getEvents(),calendars:yt.getCalendarMap(),startDate:I.ou.fromMillis(t,{zone:g}),endDateInclusive:I.ou.fromMillis(n,{zone:g}),getCalendarVisibility:t=>Et({spaceViewStore:u,botId:e,calendar:t}),eventFilters:{all_day_events:Ke("all_day_events"),events_without_participants:Ke("events_without_participants"),events_without_location:Ke("events_without_location")},timeZone:g});let a=0;return{days:o.filter((e=>{const t=e.allDayEvents.length>0||e.timedEvents.length>0;return t&&a++,t||nt(e.date,f)})),numDaysWithEvents:a}}),[m.botId,M.status,T,u,f,g]);(0,o.useEffect)((()=>{let e=0;const t={};for(const n of Z){const o=ot(f.toISODate(),n.date,g);for(const{baseEvent:a}of gt(n)){t[ta({event:a,date:n.date})]={eventIndex:e,numDaysFromToday:o},e++}}_.setState(t)}),[Z,_,g,f]);const{connectedAccounts:F,disconnectedAccounts:D}=(0,i.VK)((()=>{var e;const t=Ie.vM((null===(e=yt.getStateForCurrentSpaceView())||void 0===e?void 0:e.accounts.getOrderedValues())??[],(e=>{let{authorized:t}=e;return String(t)}));return{connectedAccounts:t.true??[],disconnectedAccounts:t.false??[]}}),[]),R=function(e){let{botIdState:t,eventsLoadingState:n,isEventsDataAvailable:o,numDaysWithEvents:a,connectedAccounts:i,disconnectedAccounts:r}=e;const s=i.filter(si),l=r.filter(si);return t.loading||"resolved"!==n.status&&"rejected"!==n.status||"resolved"===n.status&&"noConnectedBot"===n.value&&!t.loading&&void 0!==t.botId||"resolved"===n.status&&"loadCompleted"===n.value&&!o||"resolved"===n.status&&"appNotSynced"===n.value?"loading":!t.loading&&!t.botId||0===s.length&&0===l.length?"signedOut":0===i.filter(si).length&&r.filter(si).length>0?"disconnectedAccount":"rejected"===n.status||"resolved"===n.status&&"loadError"===n.value?"loadError":0===a?"noEvents":"events"}({botIdState:m,eventsLoadingState:M,isEventsDataAvailable:T,numDaysWithEvents:P,connectedAccounts:F,disconnectedAccounts:D});(0,o.useEffect)((()=>d(R)),[R,d]),un({firstMountToReadyMetricName:"home.calendar.first_mount_to_ready",appStartToReadyMetricName:"home.calendar.app_start_to_ready",isReady:"noEvents"===R||"events"===R});const E=(0,o.useContext)(fe);(0,o.useEffect)((()=>{if(!oi){const e=null==E?void 0:E.panelState;void 0!==e&&(!function(e){const{environment:t,calendarPanelContext:n}=e;(0,Ft.K4)(t,"cal_loaded",{...Ot(n)}),n.bot_id&&Dt(t,{botId:n.bot_id,payload:{type:"page",payload:{page:"notionHomeTile"}}})}({environment:c,calendarPanelContext:Nt(e)}),oi=!0)}}),[null==E?void 0:E.panelState,c]);const K=(0,o.useCallback)((()=>{const e=Me.Il();Gt({environment:c,calendarPanelContext:Nt(null==E?void 0:E.panelState),notionAnalyticsSessionId:e}),(0,Ze.eC)({environment:c,from:"homeCreateEvent",notionAnalyticsSessionId:e})}),[null==E?void 0:E.panelState,c]),B=(0,o.useCallback)((()=>{(0,Ze.sh)({environment:c,spaceStore:y.default.state.currentSpaceStore,collectionViewStore:void 0,from:"homeOpenCalendarFromPanel"})}),[c]),W=(0,o.useCallback)((()=>{(0,Ze.sh)({environment:c,spaceStore:p,collectionViewStore:void 0,from:"homeSignupClick"})}),[c,p]),N=(0,o.useCallback)((()=>{(0,Ze.vn)({environment:c,from:"homeReconnectAccountClick"})}),[c]),U=(0,o.useMemo)((()=>function(e){let{displayState:t,isRetryEventLoadingEnabled:n,retryEventLoading:o,onConnectCalendarClick:a,onReconnectAccountClick:i}=e;const r={minHeight:0,padding:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0};let s;switch(t){case"signedOut":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(Jn,{feature:"calendar",onSetup:a}),styleOverrides:r};break;case"disconnectedAccount":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(Jn,{feature:"calendarDisconnectedAccount",onSetup:i}),styleOverrides:r};break;case"noEvents":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(Xn,{type:"noEvents"})};break;case"loadError":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(Xn,{type:"loadError",onRetry:o,isRetryEnabled:n})};break;case"loading":case"events":s={isShowingEmptyState:!1};break;default:(0,L.t1)(t)}return s}({displayState:R,isRetryEventLoadingEnabled:S,retryEventLoading:b,onConnectCalendarClick:W,onReconnectAccountClick:N})),[R,S,b,W,N]),z=U.isShowingEmptyState,G=(0,r.yK)((e=>{const t=z?Se.A5:0,o={width:24,height:24,padding:0,display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"none"};return{panel:{minHeight:"events"===R?0:n,maxHeight:n,...z?{padding:Se.A5,paddingRight:t}:{paddingRight:t,paddingBottom:0},...null==U?void 0:U.styleOverrides},innerContainer:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0},listShimmerContainer:{paddingTop:12,height:n,overflow:"hidden"},icon:{width:14,height:14,fill:"inherit"},createEventIcon:{marginRight:0},actionButton:o,createEventButton:{...o,marginLeft:4},arrowUpRightIcon:{transform:"rotate(90deg)",marginTop:4,marginLeft:2,width:14,height:14,fill:e.mediumIconColor},disconnectedAccountWarningIcon:{fill:e.mediumIconColor,marginRight:0},scroller:{paddingTop:10}}}),[z,R,n,null==U?void 0:U.styleOverrides]);return(0,h.jsxs)(h.Fragment,{children:["loading"!==R&&(0,h.jsx)(ca,{}),(0,h.jsx)(hn.Z,{title:(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarPanel.panelTitle",defaultMessage:"Upcoming events"}),tooltip:(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarEmptyState.signedOut.title",defaultMessage:"See your upcoming events and join meetings from Home."}),actions:(0,Ie.oA)([ri(R,D)?(0,h.jsx)(li,{disconnectedAccounts:D,style:G.actionButton,iconStyle:G.disconnectedAccountWarningIcon},"disconnectedAccountWarning"):void 0,ii(R)?(0,h.jsx)(A.Z,{renderTooltip:()=>(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarPanel.openNotionCalendarTooltip",defaultMessage:"Open Notion Calendar"}),render:e=>(0,h.jsx)(H.Z,{icon:be.y,iconStyle:G.arrowUpRightIcon,onClick:B,style:G.actionButton,...e})},"openNotionCalendar"):void 0,(0,h.jsx)(ni,{hasConnectedCalendar:!m.loading&&(0,L.$K)(m.botId)},"settings"),ai(R)?(0,h.jsx)(A.Z,{renderTooltip:()=>(0,h.jsx)(V.FormattedMessage,{id:"notionCalendarPanel.createEventTooltip",defaultMessage:"Create event"}),render:e=>(0,h.jsx)(Ve.Z,{icon:ke.f,iconStyle:G.createEventIcon,onClick:K,style:G.createEventButton,...e})},"createEvent"):void 0]),actionsGap:2,panelStyle:G.panel,icon:(0,h.jsx)(Pe.Z,{style:G.icon}),children:U.isShowingEmptyState?U.emptyStateReactNode:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{style:G.innerContainer,children:"loading"===R?(0,h.jsx)("div",{style:G.listShimmerContainer,children:(0,h.jsx)(Te.h,{isFullScreen:!1,hasGroups:!1,hasPartialResults:!1,hasSearchQuery:!1})}):(0,h.jsx)(l.Z,{type:C.Z.Y,style:G.scroller,children:(0,h.jsx)(na,{days:Z,eventToAnalyticsStateStore:_})})})})})]})};var ui=n(742696),pi=n(153223),mi=n(903553);const gi=function(e){let{storeType:t,onLoaded:n,shouldRenderSetup:s,collectionContextStore:l,setCollectionContextStore:d,emptyStateTitle:c,emptyStateTooltip:u,emptyStateIcon:p,appStartToReadyMetricName:m,firstMountToReadyMetricName:g}=e;const f=(0,a.O7)(),v=(0,a.Fy)(),C=(0,i.VK)((()=>y.default.state.currentSpaceViewStore),[]),x=(0,i.VK)((()=>{const e=(0,k.J2)(t);if(null!=e&&e.isCollectionView())return e}),[t]),S=(0,i.VK)((()=>{const e=null==l?void 0:l.collectionViewStore();return null==e?void 0:e.getType()}),[l]),w=(0,i.VK)((()=>"chart"===S?Se.Ng:"list"===S?Se.Uf:!v.isPhone||"board"!==S&&"gallery"!==S?Se.Cm:Se.QF),[v.isPhone,S]);(0,o.useEffect)((()=>{l&&n()}),[l,n]),un({firstMountToReadyMetricName:g,appStartToReadyMetricName:m,isReady:(0,i.VK)((()=>{const e=null==l?void 0:l.isLoadedStore.state,t=Boolean(null==l?void 0:l.collectionStoresStore.state.length);return Boolean(e&&t)}),[l])});const b=(0,r.yK)((e=>({panel:{paddingRight:0,paddingBottom:0,paddingLeft:0,paddingTop:0,height:"100%",minHeight:76,maxHeight:w,..."timeline"===S?{background:e.timelineBackground}:{},...s?{flexDirection:"row"}:{}}})),[S,w,s]),j=(0,o.useMemo)((()=>{const e=x&&(0,h.jsx)(pi.DZ,{store:x,disabled:!1,isFullScreen:!1,overrideViewType:S,isFirstItem:!0,isLastItem:!0,maxHeight:w,overridePaddingLeft:0,overridePaddingRight:0,hideHeaderActions:s,hideViewTabBar:s,setCollectionContextStore:d});let n={panelStyle:b.panel,hideWrapStyle:!0,children:e};if(s){const e=()=>{C&&wa.aG({environment:f,currentSpaceViewStore:C,...hi(t)})};n={...n,title:c,tooltip:u,icon:p,actions:[(0,h.jsx)(Ia.ZP,{actions:[{type:"hide",hide:e}]},"moreMenu")]}}return(0,h.jsx)(hn.Z,{...n})}),[f,t,C,x,S,w,s,d,b.panel,c,u,p]);return(0,h.jsx)(oo.Z,{isVisible:!0,animationStyle:{maxHeight:w},render:()=>x?(0,h.jsx)(mi.Z,{store:x,isDefaultContainer:!0,droppable:!0,render:e=>{let{selectableEvents:t}=e;return(0,h.jsx)("div",{...t,children:j})}}):j})};function hi(e){switch(e){case"customDb":return{feature:"custom_db",from:"custom_db_more_menu"};case"myTasks":return{feature:"tasks",from:"home_more_menu"}}}const fi=function(e){let{onLoaded:t}=e;const[n,a]=o.useState(void 0),s=(0,r.yK)((e=>({icon:{color:e.mediumIconColor,width:14,height:14}})),[]),l=(0,i.VK)((()=>{const e=(0,k.J2)("customDb");if(null!=e&&e.isCollectionView())return e}),[]),d=(0,i.VK)((()=>Boolean(l&&n&&!n.collectionStore()&&l.getCollectionViewStores().length<=1)),[n,l]);return(0,h.jsx)(gi,{storeType:"customDb",onLoaded:t,shouldRenderSetup:d,collectionContextStore:n,setCollectionContextStore:a,emptyStateTitle:(0,h.jsx)(V.FormattedMessage,{id:"homePageTemplates.customDbTitle.includeHome",defaultMessage:"Home views"}),emptyStateTooltip:(0,h.jsx)(V.FormattedMessage,{id:"CustomDbHomePanel.setup.description",defaultMessage:"Pin a database view to quickly access it from Home."}),emptyStateIcon:(0,ui.t)(s.icon),appStartToReadyMetricName:"home.custom_db.app_start_to_ready",firstMountToReadyMetricName:"home.custom_db.first_mount_to_ready"})};var vi=n(815978),Ci=n(255535),yi=n(260458),xi=n(278942);function Si(e){let{checklistItem:t,isChecked:n,onClickChecklistItem:o,isSelected:i}=e;const s=(0,a.O7)(),l=(0,r.yK)((e=>({checklistButton:{display:"flex",cursor:"pointer",color:e.text.secondary,overflow:"hidden",paddingLeft:10,paddingRight:10,fontSize:(0,Q.yv)(s,"UISmall"),fontWeight:Z.Z.fontWeight.medium,...i&&{background:e.surface.wash}},checklistButtonHovered:{color:e.text.primary},checkbox:{marginRight:8,color:e.icon.tertiary,borderRadius:"10%"},progress:{color:e.text.tertiary,marginLeft:6}})),[s,i]);return(0,h.jsxs)(H.Z,{style:l.checklistButton,onClick:o,hoveredStyle:l.checklistButtonHovered,children:[(0,h.jsx)(yi.Z,{size:14,checked:n,thinOutline:!0,style:l.checkbox,disabled:!0}),(0,h.jsx)("div",{style:{textDecoration:n?"line-through":"none"},children:t.title}),t.progress&&(0,h.jsx)("div",{style:l.progress,children:t.progress})]})}const wi=function(e){let{checklistType:t,checklistItemsToRender:n,selectedChecklistItem:o,setSelectedChecklistItem:s}=e;const l=(0,a.O7)(),d=(0,r.Fg)(),c=(0,r.yK)((e=>({checklist:{display:"flex",flexDirection:"column",paddingTop:14},progress:{paddingLeft:8,marginTop:48,display:"flex",alignItems:"center",fontSize:(0,Q.yv)(l,"UISmall"),fontWeight:Z.Z.fontWeight.regular,color:e.text.tertiary,position:"absolute",bottom:24,left:12},progressRing:{marginRight:8}})),[l]),u=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=y.default.state;if(e)return e.getPersonalHomeNewUserChecklistSettings().progress_data}),[]),p=n.filter((e=>{var t;return!(null==u||null===(t=u[e.type])||void 0===t||!t.isCompleted)})).length,m=p/n.length*100;return(0,h.jsxs)("div",{style:c.checklist,children:[n.map(((e,n)=>{var a;return(0,h.jsx)(Si,{checklistItem:e,isChecked:!(null==u||null===(a=u[e.type])||void 0===a||!a.isCompleted),onClickChecklistItem:()=>{var n;null===(n=e.onClick)||void 0===n||n.call(e),vi.aM(e.type,l,t),s(e.type)},isSelected:e.type===o},n)})),(0,h.jsxs)("div",{style:c.progress,children:[(0,h.jsx)(xi.e,{size:20,percentage:m>0?m:1,filledColor:100===m?d.icon.green:d.icon.uiBluePrimary,style:c.progressRing}),(0,h.jsx)(V.FormattedMessage,{id:"home.landingTipsChecklist.progress",defaultMessage:"{numChecklistItemsCompleted} completed",values:{numChecklistItemsCompleted:p}})]})]})};var bi=n(841892),ki=n(188145),ji=n(961736),Mi=n(377058),Ii=n(248780),Ti=n(276927),Vi=n(953877),_i=n(364004),Li=n(646783),Zi=n(484681),Pi=n(164921);function Hi(e){let{imageUrl:t,style:n,imgStyle:o}=e;return(0,h.jsx)("div",{style:{height:"100%",width:"auto",...n},children:(0,h.jsx)("img",{src:t,style:{maxHeight:152,...o}})})}function Ai(e){let{name:t}=e;const n=(0,r.Fg)(),o=(0,r.yK)((e=>({preview:{marginLeft:-40,display:"flex",marginTop:24,WebkitMaskImage:"linear-gradient(180deg,#000 80%,transparent)"},littleCharacterContainer:{position:"relative",marginRight:-16,marginTop:12,zIndex:2},iconBox:{background:"dark"===e.mode?e.state.hover:e.surface.wash,borderRadius:24},recordPlaceholder:{color:e.text.tertiary},littleCharacterPng:{width:59,height:108}})),[]);return(0,h.jsxs)("div",{style:o.preview,children:[(0,h.jsx)("div",{style:o.littleCharacterContainer,children:(0,h.jsx)("img",{src:"light"===n.mode?bi.Z.images.home.learn.littleCharacterLightModePng:bi.Z.images.home.learn.littleCharacterDarkModePng,style:o.littleCharacterPng})}),(0,h.jsx)(Co.Z,{bucket:"public",icon:void 0,isEmptyPage:!1,title:T.QaF(t),disabled:!0,size:128,iconBoxStyles:o.iconBox,placeholderStyle:o.recordPlaceholder})]})}function Fi(){return(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Show me",id:"home.landingTipsChecklist.showMe"})}const Di=function(e){let{onLoaded:t,selectedChecklistItem:n,checklistType:s}=e;const l=(0,V.useIntl)(),d=(0,a.O7)(),c=(0,r.Fg)(),{name:u,loaded:p}=(0,i.VK)((()=>re({currentUserStore:y.default.state.currentUserStore,currentUserSettingsStore:y.default.state.currentUserSettingsStore,intl:l})),[l]),m=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=y.default.state;if(e)return e.getPersonalHomeNewUserChecklistSettings().progress_data}),[]);(0,o.useEffect)((()=>{p&&t()}),[p,t]);const{getPreview:g,heading:f,description:v,buttons:C}=(0,i.VK)((()=>function(e,t,n,o,a){var i,r;switch(e){case"create_page":return{getPreview:e=>(0,h.jsx)(Hi,{imageUrl:"light"===e?bi.Z.images.home.learn.createAPageChecklistLightModePng:bi.Z.images.home.learn.createAPageChecklistDarkModePng,imgStyle:{width:"100%"},style:{WebkitMaskImage:"linear-gradient(180deg,#000 60%,transparent)"}}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Create your first page",id:"home.landingTipsChecklist.createYourFirstPage"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Every page is a new canvas. Click the pencil and paper icon at the top of your sidebar to create a new page in your private space.",id:"home.landingTipsChecklist.createYourFirstPageDescription"}),buttons:[{type:"create_page",iconFn:Ii.l,title:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Start writing",id:"home.landingTipsChecklist.startWriting"}),onClick:()=>(0,pe.P)({environment:t,type:"create_page"})}]};case"get_apps":return{getPreview:e=>(0,h.jsx)(Hi,{imageUrl:"light"===e?bi.Z.images.home.learn.getTheAppsLightModePng:bi.Z.images.home.learn.getTheAppsDarkModePng,style:{display:"flex",justifyContent:"center",height:void 0},imgStyle:{width:188,border:`1px solid ${n.stroke.regular}`,borderRadius:16,boxShadow:n.marginDiscussionSelectedShadow,padding:2}}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Get the apps",id:"home.landingTipsChecklist.getTheAppsHeading"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Supercharge productivity on your computer and stay seamlessly synced on the go with Notion's desktop and mobile apps.",id:"home.landingTipsChecklist.getTheAppsDescription"}),buttons:[{type:"download_mobile_app",iconFn:ki.E,title:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Mobile app",id:"home.landingTipsChecklist.downloadMobileApp"}),(null==a||null===(i=a.get_apps)||void 0===i?void 0:i.isMobileAppCheckedOut)&&(0,Mi.$)({width:16,height:16,color:n.text.uiBluePrimary,marginLeft:6})]}),onClick:()=>{ye.ZR(),ge.H3({environment:t,appCheckedOut:"mobile"})}},{type:"download_desktop_app",iconFn:Vi.u,title:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Desktop app",id:"home.landingTipsChecklist.downloadDesktopAppDescription"}),(null==a||null===(r=a.get_apps)||void 0===r?void 0:r.isDesktopAppCheckedOut)&&(0,Mi.$)({width:16,height:16,color:n.text.uiBluePrimary,marginLeft:6})]}),onClick:()=>{ye.Qu(t),ge.H3({environment:t,appCheckedOut:"desktop"})}}]};case"chat_ai":return{getPreview:e=>(0,h.jsx)(Hi,{imageUrl:"light"===e?bi.Z.images.home.learn.qaHeroLightModePng:bi.Z.images.home.learn.qaHeroDarkModePng,style:{display:"flex",justifyContent:"center",height:void 0},imgStyle:{width:136}}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Try Q&A",id:"home.landingTipsChecklist.chatWithNotionAIHeading"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Get instant answers to any question using information across your knowledge, docs, projects, notes, and more. All you have to do is ask Notion.",id:"home.landingTipsChecklist.chatWithNotionAIDescription"}),buttons:[{type:"chat_with_ai",iconFn:ji.n,title:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Ask a question",id:"home.landingTipsChecklist.startChatting"}),onClick:()=>{Zi.openAssistantRightHandSideMenu({environment:t,from:"home_checklist"})}}]};case"explore_private_template":return{getPreview:e=>(0,h.jsx)(Hi,{imageUrl:"light"===e?bi.Z.images.home.learn.exploreYourTemplateLightModePng:bi.Z.images.home.learn.exploreYourTemplateDarkModePng,imgStyle:{width:"100%",WebkitMaskImage:"linear-gradient(180deg,#000 60%,transparent)"}}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Explore your 1:1 notes template",id:"home.landingTipsChecklist.explore11TemplateHeading"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Jump start your Notion journey and discover some essential features with this pre-built template picked just for you.",id:"home.landingTipsChecklist.explore11TemplateDescription"}),buttons:[{type:"explore_private_template",iconFn:Li.w,title:(0,h.jsx)(Fi,{}),onClick:()=>{(0,pe.P)({environment:t,type:"explore_private_template"})}}]};case"explore_personal_template":return{getPreview:e=>(0,h.jsx)(Hi,{imageUrl:"light"===e?bi.Z.images.home.learn.exploreYourTemplateLightModePng:bi.Z.images.home.learn.exploreYourTemplateDarkModePng,imgStyle:{width:"100%"},style:{WebkitMaskImage:"linear-gradient(180deg,#000 60%,transparent)"}}),heading:ye.gF(t)?(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Explore your “{template_title}” template",id:"home.landingTipsChecklist.explorePersonalTemplateHeading",values:{template_title:ye.gF(t)}}):(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Explore more templates",id:"home.landingTipsChecklist.explorePersonalTemplateHeading.more"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Jump start your Notion journey and discover some essential features with this pre-built template picked just for you.",id:"home.landingTipsChecklist.explorePersonalTemplateDescription"}),buttons:[{type:"explore_personal_template",iconFn:Li.w,title:(0,h.jsx)(Fi,{}),onClick:()=>{(0,pe.P)({environment:t,type:"explore_personal_template"})}}]};case"explore_team_template":return{getPreview:e=>(0,h.jsx)(Hi,{imageUrl:"light"===e?bi.Z.images.home.learn.exploreYourTemplateLightModePng:bi.Z.images.home.learn.exploreYourTemplateDarkModePng,imgStyle:{width:"100%"},style:{WebkitMaskImage:"linear-gradient(180deg,#000 60%,transparent)"}}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Explore your docs template",id:"home.landingTipsChecklist.exploreExistingDocsTemplateHeader"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Jump start your Notion journey and discover some essential features with this pre-built template picked just for you.",id:"home.landingTipsChecklist.exploreExistingDocsTemplateDescription"}),buttons:[{type:"explore_team_template",iconFn:Li.w,title:(0,h.jsx)(Fi,{}),onClick:()=>{(0,pe.P)({environment:t,type:"explore_team_template"})}}]};case"explore_community_templates":return{getPreview:(e,t)=>(0,h.jsx)(Hi,{imageUrl:t?"light"===e?bi.Z.images.home.learn.exploreCommunityTemplatesPersonalLightModePng:bi.Z.images.home.learn.exploreCommunityTemplatesPersonalDarkModePng:"light"===e?bi.Z.images.home.learn.exploreCommunityTemplatesTeamLightModePng:bi.Z.images.home.learn.exploreCommunityTemplatesTeamDarkModePng,imgStyle:{width:"100%"}}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Add a community template",id:"home.landingTipsChecklist.exploreCommunityTemplatesHeading"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Not sure where to start? Templates help add structure and inspiration in seconds. Browse ready-to-use templates from Notion and the community.",id:"home.landingTipsChecklist.exploreCommunityTemplatesDescription"}),buttons:[{type:"explore_community_templates",iconFn:Li.w,title:(0,h.jsx)(Fi,{}),onClick:()=>{(0,pe.P)({environment:t,type:"explore_community_templates"})}}]};case"collaborate":return{getPreview:e=>(0,h.jsx)(Hi,{imageUrl:"light"===e?bi.Z.images.home.learn.inviteACollaboratorLightModePng:bi.Z.images.home.learn.inviteACollaboratorDarkModePng,imgStyle:{width:"100%"},style:{WebkitMaskImage:"linear-gradient(180deg,#000 70%,transparent)"}}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Invite a collaborator",id:"home.landingTipsChecklist.collaborateHeading"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"It’s easy to work with others in Notion. Add members to share, edit, and collaborate on pages and projects in your workspace.",id:"home.landingTipsChecklist.collaborateDescription"}),buttons:[{type:"collaborate",iconFn:_i.l,title:(0,h.jsx)(Fi,{}),onClick:()=>(0,pe.P)({environment:t,type:"collaborate"})}]};case"workspace_tour":return{getPreview:e=>(0,h.jsx)(Ai,{name:o}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Tour your workspace",id:"home.landingTipsChecklist.tourYourWorkspace"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"A workspace is a virtual home to create, organize, and share information. Get oriented and learn how to navigate in seconds.",id:"home.landingTipsChecklist.tourYourWorkspaceDescription"}),buttons:[{type:"workspace_tour",iconFn:Ti.p,title:(0,h.jsx)(Fi,{}),onClick:()=>(0,pe.P)({environment:t,type:"home_checklist_workspace_tour",onCompleteOrClose:()=>ge.cP({environment:t,checklistItem:"workspace_tour"})})}]};case"explore_getting_started_template":return{getPreview:e=>(0,h.jsx)(Hi,{imageUrl:"light"===e?bi.Z.images.home.learn.exploreGettingStartedLightModePng:bi.Z.images.home.learn.exploreGettingStartedDarkModePng,imgStyle:{width:"100%"},style:{WebkitMaskImage:"linear-gradient(180deg,#000 60%,transparent)"}}),heading:(0,h.jsx)(V.FormattedMessage,{defaultMessage:'Read "Getting started"',id:"home.landingTipsChecklist.exploreGettingStartedTemplateHeading"}),description:(0,h.jsx)(V.FormattedMessage,{defaultMessage:"Check out tips and tricks to help you start writing and get building with Notion. Come back whenever you need a reminder of the basics.",id:"home.landingTipsChecklist.exploreGettingStartedTemplateDescription"}),buttons:[{type:"explore_getting_started_template",iconFn:Li.w,title:(0,h.jsx)(Fi,{}),onClick:()=>(0,pe.P)({environment:t,type:"explore_getting_started_template"})}]};default:throw new Error("Invalid checklist item on homepage landing tips!")}}(n,d,c,u,m)),[n,d,c,u,m]),x=(0,r.yK)((e=>{const t="dark"===e.mode;return{preview:{display:"flex",justifyContent:"center",alignItems:"center",height:143,width:"auto"},heading:{color:e.text.primary,fontSize:17,fontWeight:Z.Z.fontWeight.semibold,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},description:{marginTop:8,color:e.text.secondary,fontSize:14,fontWeight:Z.Z.fontWeight.regular,display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},pillButton:{display:"inline-flex",alignItems:"center",textTransform:void 0,padding:"6px 10px 6px 10px",borderRadius:34,cursor:"pointer",fontWeight:Z.Z.fontWeight.semibold,fontSize:12,color:e.text.primary,background:t?e.state.hover:e.surface.wash,letterSpacing:-.15},pillButtonWrapper:{paddingLeft:24,paddingRight:24,paddingBottom:25},iconBox:{background:e.surface.wash,borderRadius:24},recordPlaceholder:{color:e.text.tertiary},icon:{width:14,height:14,marginRight:6},textContainer:{paddingTop:12,paddingLeft:24,paddingRight:24,display:"flex",flexDirection:"column",marginTop:-20}}}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:x.preview,children:g(c.mode)}),(0,h.jsxs)("div",{style:x.textContainer,children:[(0,h.jsx)($.Z,{style:x.heading,showTooltipWhenTruncated:!0,isMultiline:!0,children:f}),(0,h.jsx)($.Z,{style:x.description,showTooltipWhenTruncated:!0,isMultiline:!0,children:v})]}),(0,h.jsx)("div",{style:x.pillButtonWrapper,children:C.map(((e,t)=>(0,h.jsxs)(Pi.Z,{style:{...x.pillButton,...t>0&&{marginLeft:8}},onClick:()=>{vi.e2(n,e.type,d,s),e.onClick()},children:[e.iconFn(x.icon),e.title]},t)))})]})};const Ri=function(e){let{onLoaded:t}=e;const n=(0,r.yK)((e=>({title:{display:"flex"},panelStyle:{paddingLeft:0,paddingRight:0,paddingBottom:0},contentContainer:{display:"flex",flexDirection:"row",justifyContent:"stretch"},leftContent:{flexBasis:0,flexGrow:1,borderRight:`1px solid ${e.fill.lightGray}`,paddingBottom:20,paddingLeft:12,paddingRight:12,minWidth:238},rightContent:{flexBasis:0,flexGrow:1,height:313,minWidth:238,display:"flex",flexDirection:"column",justifyContent:"space-between"}})),[]),s=(0,a.O7)(),l=(0,V.useIntl)(),d=(0,o.useCallback)((()=>{y.default.state.currentSpaceViewStore&&wa.aG({environment:s,currentSpaceViewStore:y.default.state.currentSpaceViewStore,feature:"checklist",from:"checklist_dismiss_button"})}),[s]),c=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=y.default.state;if(e)return e.getPersonalHomeNewUserChecklistSettings().progress_data}),[]),u=(0,i.VK)((()=>(0,ye.gM)(s,l,c)),[s,l,c]),p=(0,i.VK)((()=>(0,ye.Wn)()),[]);(0,o.useEffect)((()=>{(0,ge.z$)(s),vi.m9(s,p)}),[p,s]);const m=(0,i.VK)((()=>(0,ye.PT)()),[]),g=(0,ye.mZ)(u,p,m),[f,v]=(0,o.useState)((()=>{var e;return(null===(e=g.find((e=>{var t;return!(null!=c&&null!==(t=c[e.type])&&void 0!==t&&t.isCompleted)})))||void 0===e?void 0:e.type)??g[0].type}));return(0,h.jsx)(hn.Z,{title:(0,h.jsx)("div",{style:n.title,children:(0,h.jsx)(V.FormattedMessage,{id:"home.newUserLandingTips.title",defaultMessage:"Starter tasks"})}),tooltip:(0,h.jsx)(V.FormattedMessage,{id:"home.newUserLandingTips.tooltip",defaultMessage:"Tips for getting started with Notion"}),icon:(0,h.jsx)(Ci.Z,{icon:"checklist"}),panelStyle:n.panelStyle,actions:[(0,h.jsx)(Ia.ZP,{actions:[{type:"hide",hide:d}]},"more-menu")],children:(0,h.jsxs)("div",{style:n.contentContainer,children:[(0,h.jsx)("div",{style:n.leftContent,children:(0,h.jsx)(wi,{checklistItemsToRender:g,selectedChecklistItem:f,setSelectedChecklistItem:v,checklistType:p})}),(0,h.jsx)("div",{style:n.rightContent,children:(0,h.jsx)(Di,{onLoaded:t,selectedChecklistItem:f,checklistType:p})})]})})};var Ei=n(303338),Ki=n(726139),Bi=n(830687);const Oi=(0,Cn.IU)("videoAttachment",{viewBox:"0 0 28 28",svg:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("rect",{width:"28",height:"28",fill:"none"}),(0,h.jsx)("path",{d:"M14.1333 26.4668C21.103 26.4668 26.8667 20.7031 26.8667 13.7334C26.8667 6.75098 21.103 1 14.1206 1C7.15088 1 1.3999 6.75098 1.3999 13.7334C1.3999 20.7031 7.16357 26.4668 14.1333 26.4668ZM14.1333 24.8164C7.98877 24.8164 3.05029 19.8652 3.05029 13.7334C3.05029 7.58887 7.98877 2.6377 14.1206 2.6377C20.2651 2.6377 25.2163 7.58887 25.229 13.7334C25.229 19.8652 20.2778 24.8164 14.1333 24.8164ZM18.9702 14.3936C19.4653 14.1016 19.4526 13.4287 18.9702 13.1367L11.7212 8.79492C11.2261 8.49023 10.5786 8.73145 10.5786 9.27734V18.2275C10.5786 18.7734 11.188 19.0273 11.7212 18.71L18.9702 14.3936Z"})]})});var Wi=n(519889),Ni=n(534987),Ui=n(685740),zi=n(132662),Gi=n(277907),$i=n(883165);function qi(e){let{completedType:t,offsetLeftOfCompletedType:n,cardWidth:o,from:a,visibleTips:i}=e;const r=function(e,t,n){if("modal"===t)return!1;const{currentUserSettingsStore:o}=y.default.state,a=null==o?void 0:o.getPersonalHomeTipsSettings().progress_data;if(!a)return!1;let i=!1;for(let s=0;s<e.length;s++){const t=e[s].key;if(t===n)i=!0;else{var r;const e=null===(r=a[t])||void 0===r?void 0:r.completed;if(!i&&!e)return!1;if(i&&e)return!1}}return!0}(i,a,t);return r?n+o:void 0}var Yi=n(808627);class Ji extends O.default{getInitialState(){return{num_checked:0,total_cards_shown:0}}}const Qi=new Ji;var Xi=n(552389),er=n(584076);function tr(e,t){let{children:n,style:i,innerStyle:s,hoveredStyle:l,pressedStyle:d,disabled:c,hasLargeBorderRadius:u,...p}=e;const[m,g]=(0,o.useState)(!1),f=(0,a.MO)(),v=(0,r.yK)((e=>{const t=u?16:12,n=(0,Se._U)({isPhone:f,theme:e}),o="light"===e.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):e.homeShadow.card.hovered;return{container:{position:"relative"},linkBoxContainer:{flexShrink:0,overflow:"hidden",borderRadius:t,background:e.home.cards.background.base,...i,boxShadow:"unset"},inner:{userSelect:"none",WebkitUserSelect:"none",display:"flex",flexDirection:"column",...s},hovered:{background:e.home.cards.background.hovered,...l,boxShadow:"unset"},pressed:{background:e.home.cards.background.pressed,...d,boxShadow:"unset"},shadowBox:{pointerEvents:"none",position:"absolute",borderRadius:t,top:0,left:0,right:0,bottom:0,zIndex:1,boxShadow:m?(null==l?void 0:l.boxShadow)??o:(null==i?void 0:i.boxShadow)??n}}}),[u,f,i,s,l,d,m]);return(0,h.jsxs)("div",{style:v.container,onMouseEnter:()=>{!c&&g(!0)},onMouseLeave:()=>{!c&&g(!1)},ref:t,children:[(0,h.jsx)(er.Z,{style:v.linkBoxContainer,innerStyle:v.inner,hoveredStyle:v.hovered,pressedStyle:v.pressed,disabled:c,...p,children:n}),(0,h.jsx)("div",{style:v.shadowBox})]})}const nr=o.forwardRef(tr);var or=n(976188);function ar(e){let{message:t,icon:n,iconStyle:o}=e;const a=(0,r.yK)((e=>({container:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center",flexDirection:"column",textAlign:"center",gap:12},icon:{...(0,Se.jO)(e),...o}})),[o]);return(0,h.jsxs)("div",{style:a.container,children:[null==n?void 0:n(a.icon),(0,h.jsx)($.Z,{isSecondaryColor:!0,isMultiline:!0,children:t})]})}const ir=3*Se.A5;function rr(){const e=(0,a.O7)(),t=(0,r.yK)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:14,color:e.lightTextColor,flexGrow:1,paddingTop:34,paddingBottom:30},icon:{width:16,height:16,fill:e.blueColor}})),[]);return(0,h.jsx)(ar,{message:(0,h.jsxs)("div",{style:t.container,children:[(0,h.jsx)(V.FormattedMessage,{id:"TipsHomePanel.emptyState.message",defaultMessage:"New tips and guides will appear here."}),(0,h.jsx)(zi.Z,{size:12}),(0,h.jsxs)(Ui.Z,{isBlue:!0,onClick:()=>{go.D({environment:e,url:"https://www.notion.so/help",targetSelf:!1})},children:[(0,h.jsx)(V.FormattedMessage,{id:"TipsHomePanel.emptyState.exploreMore",defaultMessage:"Explore more in Help Center"}),(0,h.jsx)(zi.Z,{size:2}),(0,Ki.K)(t.icon)]})]})})}function sr(e){const{card:t,onCompleted:n}=e,r=(0,a.O7)(),s=(0,i.VK)((()=>{const{isElectron:e,isMobileNative:t}=r.device,n=["local","production"].includes("production");return x.default.checkGate({gateName:"tips_inapp_modal"})&&(!e||n)&&!t}),[r]),l=t.key,d=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=y.default.state;if(!e)return!1;const t=e.getPersonalHomeTipsSettings().progress_data[l];return!!t&&t.completed}),[l]),c=(0,o.useRef)(null),u=(0,o.useCallback)(((e,t)=>{if(e===d)return;(0,w.K_)({tipType:l,completed:e,environment:r});const o=Qi.state,a=o.num_checked+(e?1:-1);Qi.setState({...o,num_checked:a}),me.g8(r,{tip_key:l,checked:e,from:t,num_checked:a,total_cards_shown:o.total_cards_shown}),e&&c.current&&n(l,t,c.current)}),[l,r,d,n]),p=(0,o.useCallback)((()=>{me.PQ(r,{tip_key:l,was_completed:d,in_app_modal_enabled:s}),s?Xi.Z.setState({open:!0,tipCardDisplayInfo:t,onClosed:()=>u(!0,"modal")}):u(!0,"clickthrough")}),[r,l,d,s,u,t]),m=(0,o.useMemo)((()=>{const e=(0,ja.UY)("guides.guides"),n=new URLSearchParams;return n.set("utm_source","tips"),n.set("utm_medium","inapp"),n.set("utm_campaign","2024q1_tipsinhome_m2"),s?void 0:`${e}${t.href}?${n.toString()}`}),[s,t.href]);return(0,h.jsx)(dr,{ref:c,isChecked:d,href:m,onCheck:u,onClick:p,card:t})}function lr(e,t){let{isChecked:n,href:a,onCheck:i,onClick:s,card:l}=e;const[d,c]=(0,o.useState)(!1),u=(0,r.yK)((e=>{const t={opacity:1,transition:"opacity 0.2s ease, transform 200ms ease-out"},n={display:"inline-flex",alignItems:"center",fontSize:12,gap:4};return{container:{height:216,width:240,display:"flex",flexDirection:"column",alignItems:"stretch"},imageContainer:{height:126,flexShrink:0,flexGrow:0,background:e.home.cards.coverPhoto.base,objectFit:"cover"},detailsAndCheckboxContainer:{flexGrow:1,padding:12,paddingBottom:10,display:"flex",flexDirection:"row",justifyContent:"stretch"},checkboxContainer:{flexShrink:0,flexGrow:0,marginLeft:12},detailsContainer:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"start"},title:{fontSize:14,lineHeight:"18px",fontWeight:Z.Z.fontWeight.medium,whiteSpace:"pre-wrap",...(0,Q.pd)(2)},caption:{...n,color:e.text.secondary,fill:e.mediumIconColor},pressedCaption:{...n,color:e.text.tertiary,fill:e.lightIconColor},hiddenCheckbox:{baseCheckboxStyle:t,opacity:0},checkbox:t,hoveredCheckbox:{...t,fill:e.home.cards.coverPhoto.base},bookIcon:{padding:1,width:16,height:16}}}),[]),p=n?u.checkbox:d?u.hoveredCheckbox:u.hiddenCheckbox,m=n?u.pressedCaption:u.caption;let g;switch(l.contentType){case"video":g=(0,h.jsxs)("div",{style:m,children:[Oi(u.bookIcon),(0,h.jsx)(V.FormattedMessage,{id:"tipsHomePanel.captionDuration2.watch",defaultMessage:"{duration}m watch",values:{duration:l.durationMinutes}})]});break;case"article":g=(0,h.jsxs)("div",{style:m,children:[(0,Bi.w)(u.bookIcon),(0,h.jsx)(V.FormattedMessage,{id:"tipsHomePanel.captionDuration2.read",defaultMessage:"{duration}m read",values:{duration:l.durationMinutes}})]});break;default:(0,L.P)(l.contentType)}return(0,h.jsxs)(nr,{ref:t,href:a,style:u.container,external:!0,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:s,hasLargeBorderRadius:!1,children:[(0,h.jsx)("img",{src:l.image,style:u.imageContainer}),(0,h.jsxs)("div",{style:u.detailsAndCheckboxContainer,children:[(0,h.jsxs)("div",{style:u.detailsContainer,children:[(0,h.jsx)("div",{style:u.title,children:l.title}),g]}),(0,h.jsx)("div",{style:u.checkboxContainer,children:(0,h.jsx)(yi.Z,{checked:n,size:20,onClick:()=>i(!n,"check_button"),round:!0,thinOutline:!0,style:p,tooltipHeader:n?(0,h.jsx)(V.FormattedMessage,{id:"tipsHomePanel.checkboxRedesign.incompleteTooltip",defaultMessage:"Mark incomplete"}):(0,h.jsx)(V.FormattedMessage,{id:"tipsHomePanel.checkboxRedesign.completeTooltip",defaultMessage:"Mark complete"})})})]})]})}const dr=o.forwardRef(lr),cr=function(e){var t;let{onLoaded:n}=e;const{value:s}=(0,Gi.XJ)(Ni.Qh.personalHomeLearnHelpers),l=(0,a.O7)(),[d,c]=(0,o.useState)(!0),[u,p]=(0,o.useState)([]),[m,g]=(0,o.useState)([]),[f,v]=(0,o.useState)(void 0),C=null===(t=l.currentUser)||void 0===t?void 0:t.id,x=(0,$i.r_)(),S=(0,i.VK)((()=>{if(!s)return[];const e=Yi.Z.state,{currentUserSettingsStore:t}=y.default.state;if(e)return s.getRelevantTipCards(e);if(null==t||!t.isReady())return[];const n=Boolean(null==x?void 0:x.isWorkspaceOwner())||Wi.s$.id===C,o=s.getTipsEligibilityData(n);return s.getRelevantTipCards(o)}),[s,x,C]),b=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=y.default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),k=(0,o.useCallback)((()=>{const{currentUserSettingsStore:e}=y.default.state;if(null==e||!e.isReady())return;const t=e.getPersonalHomeTipsSettings().progress_data,[o,a]=Ie.uK(S,(e=>{const n=e.key,o=t[n];return null==o?void 0:o.completed}));p(o),g(a),c(!1),n(),Qi.setState({...Qi.state,num_checked:o.length,total_cards_shown:S.length})}),[S,n]),j=(0,o.useCallback)((()=>{(0,w.N8)({hide:!b,environment:l});const e=Qi.state;me.uD(l,{show_completed_tips:b,num_checked:e.num_checked,total_cards_shown:e.total_cards_shown}),k()}),[l,b,k]);(0,o.useEffect)((()=>{k()}),[k]);const M=(0,o.useCallback)((e=>{e&&v({position:e.offsetLeft-ir,animate:!1})}),[]),I=(0,r.yK)((e=>({tileIcon:{width:14,height:14,fill:e.mediumIconColor},iconContainer:{alignItems:"baseline"},divider:{height:void 0,scrollMarginLeft:ir},dividerColor:{color:e.home.cards.verticalDivider},showHideIcon:{height:Ia.P2,width:Ia.P2,padding:2,fill:e.regularIconColor}})),[]),T=(0,o.useCallback)((()=>{y.default.state.currentSpaceViewStore&&wa.aG({environment:l,currentSpaceViewStore:y.default.state.currentSpaceViewStore,feature:"tips",from:"learn_dismiss_button"})}),[l]),_=!d&&b&&0===m.length,L=(0,o.useCallback)(((e,t,n)=>{const o=b?m:u.concat(m),a=qi({completedType:e,offsetLeftOfCompletedType:n.offsetLeft,cardWidth:240,from:t,visibleTips:o});a&&v({position:a,animate:!0})}),[b,m,u]);return(0,h.jsx)(hn.Z,{title:(0,h.jsx)(V.FormattedMessage,{id:"LearnHomePanel.Title",defaultMessage:"Learn"}),actions:[(0,h.jsx)(Ia.ZP,{actions:[{type:"custom",closeOnAccept:!0,item:{key:"show-hide-completed",action:j,render:e=>(0,h.jsx)(ba.Z,{...e,title:b?(0,h.jsx)(V.FormattedMessage,{id:"tipsHomePanel.hideCompletedButton.show",defaultMessage:"Show completed"}):(0,h.jsx)(V.FormattedMessage,{id:"tipsHomePanel.hideCompletedButton.hide",defaultMessage:"Hide completed"}),icon:(0,Ei.p)(I.showHideIcon)})}},{type:"hide",hide:T}]},"more-menu")],icon:(0,h.jsx)(Ci.Z,{icon:"book",style:I.tileIcon}),tooltip:(0,h.jsx)(V.FormattedMessage,{id:"LearnHomePanel.Tooltip",defaultMessage:"Explore resources from our help center"}),iconContainerStyle:I.iconContainer,hideWrapStyle:!_,children:_?(0,h.jsx)(rr,{}):(0,h.jsxs)(or.Z,{cardWidth:240,scrollPosition:f,children:[!b&&u.map((e=>(0,h.jsx)(sr,{card:e,onCompleted:L},e.key))),!b&&u.length>0&&m.length>0&&(0,h.jsx)(Ro.Z,{ref:M,vertical:!0,size:1,style:I.divider,dividerColor:I.dividerColor.color}),m.map((e=>(0,h.jsx)(sr,{card:e,onCompleted:L},e.key)))]})})};var ur=n(959960);const pr=function(e){let{onLoaded:t}=e;const[n,a]=o.useState(void 0),s=(0,i.VK)((()=>{var e,t;const o=(null==n||null===(e=n.collectionStoresStore)||void 0===e?void 0:e.state)??[];return Boolean((null==n||null===(t=n.isLoadedStore)||void 0===t?void 0:t.state)&&0===o.length)}),[n]),l=(0,i.VK)((()=>{var e;return null===(e=y.default.state.currentSpaceStore)||void 0===e||null===(e=e.getModel())||void 0===e?void 0:e.getRenderTitle()}),[]),d=(0,r.yK)((e=>({icon:{color:e.mediumIconColor,width:14,height:14}})),[]);return(0,h.jsx)(gi,{storeType:"myTasks",onLoaded:t,shouldRenderSetup:s,collectionContextStore:n,setCollectionContextStore:a,emptyStateTitle:(0,h.jsx)(V.FormattedMessage,{id:"MyTasksHomePanel.myTasksFeature",defaultMessage:"My tasks"}),emptyStateTooltip:(0,h.jsx)(V.FormattedMessage,{id:"MyTasksHomePanel.setup.description",defaultMessage:"See all your tasks across {spaceName} in one place.",values:{spaceName:l}}),emptyStateIcon:(0,ur.w)(d.icon),appStartToReadyMetricName:"home.my_tasks.app_start_to_ready",firstMountToReadyMetricName:"home.my_tasks.first_mount_to_ready"})};var mr=n(269327),gr=n(744890);const hr=6;var fr=n(636596);function vr(e){let{showLoadingShimmer:t,width:n,height:o,hasLargeBorderRadius:a}=e;const i=(0,r.yK)((e=>({item:{width:n,height:o,background:t?"unset":e.home.cards.coverPhoto.base,boxShadow:"unset"},loadingShimmer:{width:"100%",height:"100%"}})),[o,t,n]);return(0,h.jsx)(nr,{style:i.item,disabled:!0,hasLargeBorderRadius:a,children:t&&(0,h.jsx)(fr.Z,{style:i.loadingShimmer})})}const Cr=o.memo(vr),yr=28,xr=144,Sr=144;function wr(e){let{theme:t,dominantColorFromIcon:n}=e;return{container:{position:"relative",width:xr,height:Sr,display:"flex",justifyContent:"stretch"},coverAndIconContainer:{position:"relative",width:xr,marginBottom:16},emptyGalleryCoverStyle:{border:"unset",background:n?(0,no.Fq)(n,.1):t.home.cards.coverPhoto.base}}}const br={titleWrap:{width:"100%",minHeight:72,paddingTop:10,paddingBottom:12,paddingLeft:16,paddingRight:16,position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",gap:10,flexGrow:1},titleText:{fontWeight:Z.Z.fontWeight.medium,fontSize:Z.Z.fontSize.UIRegular.desktop,lineHeight:"normal",width:"auto",whiteSpace:"pre-wrap",...(0,Q.pd)(2)}},kr={position:"absolute",bottom:-yr/2,left:16,width:yr,height:yr,display:"flex",justifyContent:"flex-start"},jr=(0,Cn.IU)("newPageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289Z",fill:"#252525"}),(0,h.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289ZM13.0347 5.19043C13.0347 4.83496 13.0028 4.50456 12.939 4.19922C12.8797 3.88932 12.7521 3.63867 12.5562 3.44727C12.3693 3.25586 12.1187 3.12826 11.8042 3.06445C11.4943 3.00065 11.1639 2.96875 10.813 2.96875H5.20752C4.84749 2.96875 4.51025 3.00065 4.1958 3.06445C3.88135 3.12826 3.62842 3.25358 3.43701 3.44043C3.25016 3.63639 3.12484 3.88932 3.06104 4.19922C3.00179 4.50911 2.97217 4.84408 2.97217 5.2041V10.8096C2.97217 11.165 3.00179 11.4977 3.06104 11.8076C3.12484 12.113 3.25016 12.3613 3.43701 12.5527C3.62842 12.7396 3.87907 12.8672 4.18896 12.9355C4.50342 12.9993 4.83838 13.0312 5.19385 13.0312H10.813C11.1639 13.0312 11.4943 12.9993 11.8042 12.9355C12.1187 12.8717 12.3693 12.7441 12.5562 12.5527C12.7476 12.3613 12.8752 12.113 12.939 11.8076C13.0028 11.4977 13.0347 11.165 13.0347 10.8096V5.19043ZM4.84521 8C4.84521 7.80859 4.90446 7.65365 5.02295 7.53516C5.14144 7.41211 5.29867 7.35059 5.49463 7.35059H7.36768V5.47754C7.36768 5.29069 7.42692 5.13802 7.54541 5.01953C7.6639 4.89648 7.81429 4.83496 7.99658 4.83496C8.18799 4.83496 8.34294 4.89421 8.46143 5.0127C8.58447 5.13118 8.646 5.28613 8.646 5.47754V7.35059H10.519C10.7104 7.35059 10.8654 7.41211 10.9839 7.53516C11.1024 7.65365 11.1616 7.80859 11.1616 8C11.1616 8.18229 11.1024 8.33268 10.9839 8.45117C10.8654 8.56966 10.7104 8.62891 10.519 8.62891H8.646V10.5088C8.646 10.6956 8.58447 10.8506 8.46143 10.9736C8.34294 11.0921 8.18799 11.1514 7.99658 11.1514C7.81429 11.1514 7.6639 11.0921 7.54541 10.9736C7.42692 10.8506 7.36768 10.6956 7.36768 10.5088V8.62891H5.49463C5.30322 8.62891 5.146 8.56966 5.02295 8.45117C4.90446 8.33268 4.84521 8.18229 4.84521 8Z",fill:"white",fillOpacity:"0.283"})]})}),Mr=(0,Cn.IU)("newPageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289Z",fill:"white"}),(0,h.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289ZM13.0347 5.19043C13.0347 4.83496 13.0028 4.50456 12.939 4.19922C12.8797 3.88932 12.7521 3.63867 12.5562 3.44727C12.3693 3.25586 12.1187 3.12826 11.8042 3.06445C11.4943 3.00065 11.1639 2.96875 10.813 2.96875H5.20752C4.84749 2.96875 4.51025 3.00065 4.1958 3.06445C3.88135 3.12826 3.62842 3.25358 3.43701 3.44043C3.25016 3.63639 3.12484 3.88932 3.06104 4.19922C3.00179 4.50911 2.97217 4.84408 2.97217 5.2041V10.8096C2.97217 11.165 3.00179 11.4977 3.06104 11.8076C3.12484 12.113 3.25016 12.3613 3.43701 12.5527C3.62842 12.7396 3.87907 12.8672 4.18896 12.9355C4.50342 12.9993 4.83838 13.0312 5.19385 13.0312H10.813C11.1639 13.0312 11.4943 12.9993 11.8042 12.9355C12.1187 12.8717 12.3693 12.7441 12.5562 12.5527C12.7476 12.3613 12.8752 12.113 12.939 11.8076C13.0028 11.4977 13.0347 11.165 13.0347 10.8096V5.19043ZM4.84521 8C4.84521 7.80859 4.90446 7.65365 5.02295 7.53516C5.14144 7.41211 5.29867 7.35059 5.49463 7.35059H7.36768V5.47754C7.36768 5.29069 7.42692 5.13802 7.54541 5.01953C7.6639 4.89648 7.81429 4.83496 7.99658 4.83496C8.18799 4.83496 8.34294 4.89421 8.46143 5.0127C8.58447 5.13118 8.646 5.28613 8.646 5.47754V7.35059H10.519C10.7104 7.35059 10.8654 7.41211 10.9839 7.53516C11.1024 7.65365 11.1616 7.80859 11.1616 8C11.1616 8.18229 11.1024 8.33268 10.9839 8.45117C10.8654 8.56966 10.7104 8.62891 10.519 8.62891H8.646V10.5088C8.646 10.6956 8.58447 10.8506 8.46143 10.9736C8.34294 11.0921 8.18799 11.1514 7.99658 11.1514C7.81429 11.1514 7.6639 11.0921 7.54541 10.9736C7.42692 10.8506 7.36768 10.6956 7.36768 10.5088V8.62891H5.49463C5.30322 8.62891 5.146 8.56966 5.02295 8.45117C4.90446 8.33268 4.84521 8.18229 4.84521 8Z",fill:"#C7C6C4"})]})});var Ir=n(980064),Tr=n(966324);function Vr(){const e=(0,a.O7)(),t=(0,o.useCallback)((()=>{Tr.quickAddPage({environment:e,from:"home_recents_new_page_button",pageVisitSource:co.tY.PersonalHomeTileRecentsQuickAdd})}),[e]),n=(0,r.yK)((e=>wr({theme:e,dominantColorFromIcon:void 0})),[]);return(0,h.jsxs)(nr,{style:n.container,onClick:t,hasLargeBorderRadius:!0,children:[(0,h.jsxs)("div",{style:n.coverAndIconContainer,children:[(0,h.jsx)(Ir.EmptyGalleryCover,{coverHeight:44,emptyGalleryCoverStyle:n.emptyGalleryCoverStyle}),(0,h.jsx)(_r,{})]}),(0,h.jsx)(Lr,{})]})}function _r(){const e=(0,r.Fg)().mode,t=(0,r.yK)((e=>({recordIcon:{...kr,fill:e.lightIconColor}})),[]);switch(e){case"dark":return jr(t.recordIcon);case"light":return Mr(t.recordIcon);default:(0,L.t1)(e)}}function Lr(){const e=(0,r.yK)((e=>({titleWrap:br.titleWrap,titleText:{...br.titleText,color:e.lightTextColor}})),[]);return(0,h.jsx)("div",{style:e.titleWrap,children:(0,h.jsx)("div",{style:e.titleText,children:(0,h.jsx)(V.FormattedMessage,{id:"NewPageRecentsGalleryItem.newPageTitle",defaultMessage:"New page"})})})}const Zr=o.memo(Vr);var Pr=n(407057);const Hr=(0,Cn.IU)("pageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"white",fillOpacity:"0.445"})]})}),Ar=(0,Cn.IU)("pageIconFilledDarkNoContent",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"white",fillOpacity:"0.445"})]})}),Fr=(0,Cn.IU)("pageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"#91918E"})]})}),Dr=(0,Cn.IU)("pageIconFilledLightNoContent",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"#91918E"})]})});var Rr=n(570096),Er=n(554368),Kr=n(177420),Br=n(670301),Or=n(45653),Wr=n(296994),Nr=n(484210),Ur=n(816402),zr=n(188923),Gr=n(509339);const $r=16;function qr(e){let{store:t}=e;const n=(0,r.Fg)(),o=(0,i.VK)((()=>{var e;return(0,Gr.O)({icon:null===(e=t.getIconStore())||void 0===e?void 0:e.getValue(),theme:n})}),[t,n]),a=(0,i.VK)((()=>t.isReady()),[t]),s=(0,i.VK)((()=>(0,Nr.ZP)({store:t,fullyQualified:!1,pageVisitSource:co.tY.PersonalHomeTileRecents,peekMode:(0,zr.getUrlParamFromPeekMode)(Rr.l)})),[t]),l=(0,r.yK)((e=>wr({theme:e,dominantColorFromIcon:o})),[o]);return a?(0,h.jsxs)(nr,{style:l.container,href:s,metaHref:s,hasLargeBorderRadius:!0,children:[(0,h.jsxs)("div",{style:l.coverAndIconContainer,children:[(0,h.jsx)(Wr.Ss,{variant:"gallery",store:t,coverFormat:{type:"page_cover"},coverHeight:44,showEmptyGalleryCover:!0,onLoadProxiedImage:e=>{},emptyGalleryCoverStyle:l.emptyGalleryCoverStyle}),(0,h.jsx)(Yr,{store:t})]}),(0,h.jsx)(Jr,{store:t})]}):(0,h.jsx)(Cr,{width:xr,height:Sr,showLoadingShimmer:!0,hasLargeBorderRadius:!0})}function Yr(e){let{store:t}=e;const n=(0,a.MO)(),o=(0,a.O7)(),s=(0,i.VK)((()=>t.hasError()),[t]),l=(0,i.VK)((()=>t.getIcon()),[t]),d=(0,i.VK)((()=>t.isEmptyPage()),[t]),c=(0,r.Fg)().mode,u=(0,r.yK)((e=>({recordIcon:kr,warningIcon:{fill:e.accentColors.orange[500],width:n?20:16,marginLeft:n?2:4,marginRight:n?4:6,paddingBottom:6,paddingTop:6,display:"inline-block",verticalAlign:"bottom"},defaultIconStyle:{width:yr-2,height:yr-2,marginLeft:-3},progressContainer:{top:14,bottom:"unset",right:"unset",fontSize:(0,Q.yv)(o,"UISmall")}})),[o,n]);if(s)return(0,je.t)(u.warningIcon);const p=function(e){let{style:t,mode:n,isEmptyPage:o}=e;switch(n){case"light":return o?Dr(t):Fr(t);case"dark":return o?Ar(t):Hr(t);default:(0,L.t1)(n)}}({style:u.defaultIconStyle,mode:c,isEmptyPage:d});return(0,h.jsx)(Co.Z,{disabled:!0,bucket:"secure",style:u.recordIcon,progressContainerStyle:u.progressContainer,icon:l,store:t,size:yr,isEmptyPage:d,defaultIcon:p})}function Jr(e){let{store:t}=e;const n=(0,V.useIntl)(),o=(0,i.VK)((()=>t.getLastEditedTime()),[t]),a=(0,i.VK)((()=>(0,Ur.IS)(o,{useCompactFormat:!0,useWeeks:!0})),[o]),s=(0,i.VK)((()=>(0,Pr.Yx)(o,"medium_with_time",n.locale)),[n.locale,o]),l=(0,i.VK)((()=>{const e=t.getLastEditedByPointer();if(e)return t.getRecordStore(t.getKeyStore("last_edited_by_id"),e)}),[t]),d=(0,i.VK)((()=>{if(l)switch(l.table){case Wi.KJ:return(0,h.jsx)(Or.Z,{userStore:l,size:$r});case Kr.cZ:return(0,h.jsx)(Br.Z,{botStore:l,size:$r});case Er.y0:return(0,h.jsx)(Or.Z,{userStore:void 0,size:$r});default:(0,L.t1)(l)}}),[l]),c=(0,i.VK)((()=>null==l?void 0:l.getDisplayName(n)),[l,n]),u=(0,r.yK)((e=>({...br,editedAtWrap:{display:"flex",justifyContent:"start",alignItems:"center",gap:4},tooltipDateText:{color:e.mediumInvertedTextColor}})),[]);return(0,h.jsxs)("div",{style:u.titleWrap,children:[(0,h.jsx)(yo.Z,{style:u.titleText,store:t}),(0,h.jsx)(A.Z,{disableTooltip:!l,renderTooltip:()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:(0,h.jsx)(V.FormattedMessage,{id:"recentsGalleryItemV2.lastEditedByTooltipHeader",defaultMessage:"Last edited by"})}),c,(0,h.jsx)("br",{}),l&&(0,h.jsx)("span",{style:u.tooltipDateText,children:s})]}),placement:R.u.Bottom,alignment:R.v.Start,render:e=>(0,h.jsxs)("div",{style:u.editedAtWrap,...e,children:[d,(0,h.jsx)($.Z,{isSmall:!0,isSecondaryColor:!0,children:a})]})})]})}const Qr=o.memo(qr),Xr=20;function es(e){let{onLoaded:t}=e;const n=(0,a.O7)(),s=(0,r.yK)((e=>({containerStyle:{minHeight:149}})),[]),l=(0,i.VK)((()=>function(e){if(mr.Z.getIsInitialized())return{type:"global-recents-store",recentsStores:ue.X4.state.filter((e=>e.store.canRead())).slice(0,e).map((e=>e.store)),isInitialized:!0};if(x.default.checkGate({gateName:"home_recents_caching"})){const t=(0,gr.RE)();if(!t)return{type:"cache-miss",recentsStores:void 0,isInitialized:!1};const n=t.length;let o=t.findIndex((e=>!e.isReady()));return o=-1===o?void 0:o,void 0!==o&&o<hr?{type:"cache-hit-blocks-not-ready",firstUnloadedStoreIndex:o,recentsStores:void 0,totalCachedRecents:n,isInitialized:!1}:{type:"cache-hit-blocks-loaded",firstUnloadedStoreIndex:o??gr.mt,recentsStores:t.filter((e=>e.canRead())).slice(0,e),totalCachedRecents:n,isInitialized:!0}}return{type:"caching-not-enabled",recentsStores:void 0,isInitialized:!1}}(Xr)),[]),d=(0,i.VK)((()=>l.isInitialized),[l]);!function(e){let{environment:t,recentPagesResult:n}=e;(0,o.useEffect)((()=>{if(!ns)switch(n.type){case"global-recents-store":case"cache-miss":case"caching-not-enabled":return;case"cache-hit-blocks-loaded":case"cache-hit-blocks-not-ready":ns=!0,(0,me.x8)({environment:t,firstUnloadedCachePageIndex:n.firstUnloadedStoreIndex??gr.mt});break;default:(0,L.P)(n)}}),[t,n])}({environment:n,recentPagesResult:l});const c=(0,i.VK)((()=>"global-recents-store"===l.type&&l.recentsStores.length<7),[l]);return(0,o.useEffect)((()=>{d&&t()}),[d,t]),un({firstMountToReadyMetricName:"home.recents.first_mount_to_ready",appStartToReadyMetricName:"home.recents.app_start_to_ready",isReady:d}),(0,h.jsxs)(or.Z,{cardWidth:xr,containerStyle:s.containerStyle,preventScroll:!d,children:[!d&&new Array(ts(l)).fill(0).map(((e,t)=>(0,h.jsx)(Cr,{width:xr,height:Sr,showLoadingShimmer:!1,hasLargeBorderRadius:!0},t))),(l.recentsStores??[]).map((e=>(0,h.jsx)(Qr,{store:e},e.id))),c&&(0,h.jsx)(Zr,{})]})}function ts(e){switch(e.type){case"cache-hit-blocks-loaded":case"cache-hit-blocks-not-ready":return e.totalCachedRecents;case"global-recents-store":case"cache-miss":case"caching-not-enabled":return 4;default:return(0,L.P)(e),4}}let ns=!1;const os=function(e){let{onLoaded:t}=e;return(0,h.jsx)(hn.Z,{title:(0,h.jsx)(V.FormattedMessage,{id:"recentsHomePanel.multiplayer.title",defaultMessage:"Recently visited"}),tooltip:(0,h.jsx)(V.FormattedMessage,{id:"recentsHomePanel.tooltip",defaultMessage:"Jump into pages you've seen recently"}),icon:(0,h.jsx)(Ci.Z,{icon:"clock-alternate"}),hideWrapStyle:!0,children:(0,h.jsx)(es,{onLoaded:t})})},as=(0,Cn.IU)("suggestedLarge",{viewBox:"0 0 48 48",svg:(0,h.jsx)("path",{d:"M10.7126 24.083C7.82146 24.083 5.48723 21.5473 5.48723 18.4192C5.47538 15.3622 7.84516 12.8621 10.7126 12.8621C13.6156 12.8621 15.9498 15.3266 15.9498 18.4074C15.9498 21.5355 13.6156 24.083 10.7126 24.083ZM24.2441 24.083C21.3529 24.083 19.0187 21.5473 19.0069 18.4192C19.0069 15.3622 21.3648 12.8621 24.2441 12.8621C27.1471 12.8621 29.4813 15.3266 29.4813 18.4074C29.4813 21.5355 27.1352 24.083 24.2441 24.083ZM37.7756 24.083C34.8844 24.083 32.5502 21.5473 32.5383 18.4192C32.5383 15.3622 34.8963 12.8621 37.7756 12.8621C40.6785 12.8621 43.0128 15.3266 43.0128 18.4074C43.0128 21.5355 40.6785 24.083 37.7756 24.083ZM10.7245 21.8317C12.3122 21.8317 13.6274 20.3269 13.6274 18.4074C13.6274 16.5352 12.3122 15.1134 10.7245 15.1134C9.14854 15.1134 7.80962 16.5589 7.80962 18.4192C7.80962 20.3506 9.14854 21.8317 10.7245 21.8317ZM24.2441 21.8317C25.8318 21.8317 27.1471 20.3269 27.1471 18.4074C27.1471 16.5352 25.8318 15.1134 24.2441 15.1134C22.6682 15.1134 21.3292 16.5589 21.3411 18.4192C21.3411 20.3506 22.6682 21.8317 24.2441 21.8317ZM37.7874 21.8317C39.3633 21.8317 40.6904 20.3269 40.6904 18.4074C40.6904 16.5352 39.3752 15.1134 37.7874 15.1134C36.1996 15.1134 34.8726 16.5589 34.8726 18.4192C34.8726 20.3506 36.2115 21.8317 37.7874 21.8317ZM3.36627 35.138C1.26901 35.138 0.25 34.4508 0.25 32.9934C0.25 29.652 4.40897 25.3982 10.7126 25.3982C17.0281 25.3982 21.1871 29.652 21.1871 32.9934C21.1871 34.4508 20.1562 35.138 18.0589 35.138H3.36627ZM24.2441 25.3982C30.5477 25.3982 34.7067 29.652 34.7067 32.9934C34.7067 34.4508 33.6877 35.138 31.5904 35.138H22.3127C22.7748 34.4508 22.9051 33.6925 22.8814 32.8867H31.8511C32.0999 32.8867 32.1947 32.8038 32.1947 32.6024C32.1947 30.8843 29.3273 27.6495 24.2441 27.6495C23.0118 27.6495 21.9098 27.851 20.9619 28.1827C20.4761 27.5429 19.8718 26.9623 19.1846 26.4291C20.642 25.7892 22.3364 25.3982 24.2441 25.3982ZM37.7756 25.3982C44.091 25.3982 48.25 29.652 48.25 32.9934C48.25 34.4508 47.2191 35.138 45.1219 35.138H35.8323C36.2944 34.4508 36.4248 33.6925 36.4129 32.8867H45.3826C45.6432 32.8867 45.738 32.8038 45.738 32.6024C45.738 30.8843 42.8587 27.6495 37.7756 27.6495C36.5433 27.6495 35.4413 27.851 34.4934 28.1946C34.0076 27.5429 33.4033 26.9623 32.7042 26.4409C34.1616 25.8011 35.8679 25.3982 37.7756 25.3982ZM3.10559 32.8867H18.3196C18.5803 32.8867 18.6751 32.8038 18.6751 32.6024C18.6751 30.8843 15.7958 27.6495 10.7126 27.6495C5.62941 27.6495 2.76197 30.8843 2.76197 32.6024C2.76197 32.8038 2.85676 32.8867 3.10559 32.8867Z"})});function is(e){let{store:t,style:n,scrollContainerStyle:o,collectionContextStore:a,emptyState:s,appStartToReadyMetricName:d,firstMountToReadyMetricName:c,...u}=e;const p=(0,r.yK)((()=>({container:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0,...n},innerContainer:{paddingLeft:8,paddingBottom:4},scrollerStyle:{paddingRight:8,paddingTop:12},emptyStateWrapper:{paddingRight:Se.A5,paddingBottom:Se.A5,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),[n]),m=(0,i.VK)((()=>null==a?void 0:a.isEmptyStore.state),[a]);return un({firstMountToReadyMetricName:c,appStartToReadyMetricName:d,isReady:Boolean(!m&&a&&t)}),m&&s?(0,h.jsx)("div",{style:p.emptyStateWrapper,children:s}):(0,h.jsx)("div",{style:p.container,children:t&&(0,h.jsx)(l.Z,{type:C.Z.Y,style:p.scrollerStyle,children:(0,h.jsx)("div",{style:p.innerContainer,children:(0,h.jsx)(ss,{store:t,...u})})})})}function rs(e){let{store:t,...n}=e;return(0,h.jsx)(pi.DZ,{store:t,disabled:!1,hideHeader:!0,isFullScreen:!1,hideHeaderActions:!0,overrideViewType:"list",...n})}const ss=o.memo(rs),ls=o.memo(is);function ds(e){let{onLoaded:t,panelStyle:n}=e;const a=(0,i.VK)((()=>{const e=(0,k.J2)("similarUsers");if(null!=e&&e.isCollectionView())return e}),[]),[r,s]=o.useState(void 0);return(0,o.useEffect)((()=>{null!=r&&r.shouldShowSpinnerStore&&null!=r&&r.isLoadingStore&&t()}),[r,t]),(0,h.jsx)(hn.Z,{title:(0,h.jsx)(V.FormattedMessage,{id:"personalHomePanelConfig.similarUsersActivityPanelTitle.withWorkspaceName",defaultMessage:"Suggested for you"}),icon:(0,h.jsx)(Ci.Z,{icon:"light-bulb"}),tooltip:(0,h.jsx)(V.FormattedMessage,{id:"personalHomePanel.panelTooltip.similarUsers",defaultMessage:"Suggestions based on your recent activity"}),panelStyle:n,children:(0,h.jsx)(ls,{store:a,collectionContextStore:r,setCollectionContextStore:s,emptyState:(0,h.jsx)(cs,{}),appStartToReadyMetricName:"home.suggested_for_you.app_start_to_ready",firstMountToReadyMetricName:"home.suggested_for_you.first_mount_to_ready"})})}function cs(){return(0,h.jsx)(ar,{icon:as,message:(0,h.jsx)(V.FormattedMessage,{id:"SimilarUsersHomePanel.emptyState.message",defaultMessage:"Pages relevant to you will show up here."})})}const us=o.memo(ds);var ps=n(658178),ms=n(195697),gs=n(934593),hs=n(924211),fs=n(145953),vs=n(826195);function Cs(e){if("function"===e.type)switch(e.persona){case"student":return"13FpH1AGHci69ERczKupOU";case"educator":return"7ys8LLEWhlmVEwjJjASuE2";case"operations":return"4SPA9JI4ZQtyKtYzZvAVt1";case"knowledge_management":return"5IRBIHYcfXWjy5HamFCwAn";case"it_admin":return"2lxkUWVxPdhbYcvxe7FFty";case"hr":return"17Fklm4NRZaaMdctNNyl8L";case"support":return"2SmrAf6VMtcqx2Rszb5QZn";case"sales_or_success":return"4pVIkK7rg7S6DcqwvyNHs";case"finance":return"jDnY125acofk3O42a2IZ8";case"marketing":return"3TTtGQffJRQ0H3MSUNYs6j";case"product":return"3OAmgIdyPo9wEXGRH6j4dO";case"project_or_program_management":return"1mSX3Ie5sfGGT9ZrBuPXuO";case"product_design":return"W5d1S5UYPjuiY1t2cRG4T";case"eng":return"7vJ3HPIubGvIa4PzHrAG04";case"internal_communication":return"6F1MIc09JzFpGsxknKL0pq";case"creative":return"6H3xYAAg00HPET7xvqwcl4";default:(0,L.t1)(e)}else if("space_intent"===e.type)switch(e.persona){case"life":return"2X7QqO4KLsoTArIKyG7QA";case"school":return"5zeHsLqZ0Vk5kMfTQYiupq";case"work":return"1XoFa69pF2Yf1QzikYDOk6";default:(0,L.t1)(e)}else if("space_type"===e.type)switch(e.persona){case"multiplayer":return"2mk1W9x7ihl3uEpAwIy3zP";case"singleplayer":return"hjxAjQJHiLsYhivckSUZP";default:(0,L.t1)(e)}else(0,L.t1)(e)}var ys=n(118752),xs=n(548779);function Ss(e){const t=(0,r.yK)((e=>({chevronRightIcon:{width:14,height:14,fill:e.lightIconColor}})),[]);return(0,h.jsx)(Wa.Z,{...e,stopClickPropagation:!0,popupType:fo.Z4.Popup,render:e=>(0,h.jsx)(ws,{onClose:()=>e.close()}),placementToOrigin:R.u.Right,renderOrigin:n=>(0,h.jsx)(ba.Z,{...(0,Eo.Z)(e,n),right:(0,ha.o)(t.chevronRightIcon),title:(0,h.jsx)(V.FormattedMessage,{id:"TemplatesHomePanel.DebugPersonaPickerMenuTitle",defaultMessage:"(Dev debug): Change user persona"})})})}function ws(e){let{onClose:t}=e;const n=(0,a.O7)(),s=(0,i.VK)((()=>["clear",...xe.az.map((e=>({type:"function",persona:e}))),...xe.ml.map((e=>({type:"space_intent",persona:e}))),...xe.GK.map((e=>({type:"space_type",persona:e})))]),[]),l=(0,i.VK)((()=>{var e,t;return(0,xs.g4)(n,{space:null===(e=y.default.state.currentSpaceStore)||void 0===e?void 0:e.getModel(),spaceView:null===(t=y.default.state.currentSpaceViewStore)||void 0===t?void 0:t.getModel()})}),[n]),d=(0,o.useCallback)((e=>{ys.Z.setState(e),t("selectedOption")}),[t]),c=(0,r.yK)((e=>({selectedOptionCheck:{width:14},icon:{width:20,height:20}})),[]),u={menuType:J.og.Popup,width:250,onClickOutside:()=>t("clickedOutside")},p=[{key:"settings-item-section",render:e=>(0,h.jsx)(xo.Z,{...e}),items:s.map((e=>{if("clear"===e)return{key:"clear",action:()=>d(void 0),render:e=>(0,h.jsx)(ba.Z,{...e,title:"clear",shouldWrapCaption:!0,right:void 0===l?(0,h.jsx)("div",{style:c.selectedOptionCheck,children:(0,Ba.e)()}):void 0})};const{type:t,persona:n}=e,o=`${t} - ${n}`;return{key:o,action:()=>d(e),render:e=>(0,h.jsx)(ba.Z,{...e,title:o,shouldWrapCaption:!0,right:l===o?(0,h.jsx)("div",{style:c.selectedOptionCheck,children:(0,Ba.e)()}):void 0})}}))}];return(0,h.jsx)(z.Z,{...u,children:(0,h.jsx)(vo.Z,{type:vo.i.Vertical,sections:p,initialFocus:void 0})})}var bs=n(379362),ks=n(95807),js=n(275754),Ms=n(194660),Is=n(826842),Ts=n(429949);const Vs=150,_s=240;function Ls(){return{height:Vs,width:_s}}function Zs(e){let{store:t}=e;const n=(0,a.O7)(),s=(0,i.VK)((()=>t.getName()),[t]),l=(0,i.VK)((()=>{const e=t.getTemplateImage();if(null!=e&&e.url)return(0,ks.Hl)(e.url)}),[t]),d=(0,i.VK)((()=>{const e=t.getTemplateIcon();if(e){if((0,bs.V2)(e)){const{iconName:t}=(0,bs.c)(e)??{};if(!t)return;return`/icons/${t}_lightgray.svg`}return e.endsWith(".svg")?void 0:`/icons/${e}_lightgray.svg`}}),[t]),c=Boolean(d),u=!c,p=(0,o.useCallback)((()=>{const e=n.RouterStore.state.route,{currentSpaceStore:o}=y.default.state,a=(0,Ms.gA)(t);if(!a||!o||"page"!==e.name)return;"closed"===Ts.Z.state.status&&Ts.Z.setState({...Ts.Z.state,selectedTemplate:void 0,allTemplates:void 0});const i=Is.G.createChildStore(o,{table:mo.iU,id:e.blockId,spaceId:o.id});js._c({environment:n,store:i,pageVisitSource:co.tY.PersonalHomeTileTemplates,templateGalleryItem:a})}),[n,t]),{height:m,width:g}=Ls(),f=(0,r.yK)((e=>{const t=e.home.cards.templateCardBackground;return{container:{width:g,height:m,display:"flex",flexDirection:"column",justifyContent:"stretch",background:t.base,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.base},containerHovered:{background:t.hovered,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.hovered},containerPressed:{background:t.pressed,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.hovered},headerTitleAndIconContainer:{paddingTop:14,paddingBottom:14,paddingLeft:u?24:16,paddingRight:16,display:"flex",alignItems:"center",gap:12,flexShrink:0,justifyContent:"start"},headerTextContainer:{display:"flex",flexDirection:"column",gap:2,alignItems:"start",flexGrow:1,flexShrink:1},headerIcon:{width:32,height:32},offsetImageContainer:{position:"relative",flexShrink:1,flexGrow:1,minHeight:0},offsetImage:{position:"absolute",width:g,top:0,left:24,borderRadius:6,boxShadow:"0px 6px 16px 0px rgba(0, 0, 0, 0.05), 0px 0px 0px 1px rgba(18, 18, 18, 0.03)"},text:{width:"100%",lineHeight:1.3,...Z.Z.textOverflowStyle}}}),[g,m,u]);return(0,h.jsxs)(nr,{style:f.container,hoveredStyle:f.containerHovered,pressedStyle:f.containerPressed,onClick:p,hasLargeBorderRadius:!1,children:[(0,h.jsxs)("div",{style:f.headerTitleAndIconContainer,children:[c&&(0,h.jsx)(Ps,{templateIcon:d,size:32}),(0,h.jsxs)("div",{style:f.headerTextContainer,children:[(0,h.jsx)($.Z,{style:f.text,children:s}),(0,h.jsx)($.Z,{isSmall:!0,isSecondaryColor:!0,children:(0,h.jsx)(V.FormattedMessage,{id:"templatesGalleryItem.authorByNotion",defaultMessage:"By Notion"})})]})]}),(0,h.jsx)("div",{style:f.offsetImageContainer,children:(0,h.jsx)("img",{style:f.offsetImage,src:l})})]})}function Ps(e){let{templateIcon:t,size:n}=e;const o=(0,r.yK)((e=>({headerIcon:{width:n,height:n,opacity:.6}})),[n]);return t?(0,h.jsx)("img",{src:t,crossOrigin:"anonymous",style:o.headerIcon}):null}const Hs=o.memo(Zs);function As(e){let{onLoaded:t}=e;const n=(0,a.O7)(),s=(0,V.useIntl)(),l=(0,i.VK)((()=>(0,ms.QI)("dev_only")),[]),d=(0,i.VK)((()=>{const{currentSpaceStore:e,currentUserSettingsStore:t}=y.default.state,n=ys.Z.state;return n||(0,xe.NZ)({spaceSurveyData:null==e?void 0:e.getSpaceSurveyData(),userUseCases:null==t?void 0:t.getUseCases(),userPersonaValue:null==t?void 0:t.getPersona()})}),[]),[c]=(0,we.r5)((async()=>{if(d)return await async function(e){let{persona:t,environment:n,intl:o}=e;const{currentSpaceStore:a}=y.default.state;if(!a)return[];const i=await Ae.getTemplateContentGroup(n,{contentfulId:Cs(t),locale:(0,hs.E2)(o),includeRecordMap:!0});return"success"!==i.type||!1===i.data.success||"template"!==i.data.type?[]:fs.PF.create(i.data.recordMap).getByTable(vs.nE).map((e=>bo.j$.createChildStore(a,{table:vs.nE,id:e.pointer.id})))}({persona:d,environment:n,intl:s})}),[n,s,d]),u="pending"===(null==c?void 0:c.status),p=(0,i.VK)((()=>"resolved"===(null==c?void 0:c.status)?c.value??[]:[]),[c]);(0,o.useEffect)((()=>{u||t()}),[u,t]);const m=(0,o.useCallback)((()=>{const{currentSpaceViewStore:e}=y.default.state;e&&wa.aG({environment:n,currentSpaceViewStore:e,feature:"templates",from:"templates_dismiss_button"})}),[n]),g=(0,o.useCallback)((()=>{(0,gs.H)({analyticsFrom:"home_tile_templates_all_templates",cloneTo:"destination_picker",selectedTemplate:void 0,environment:n})}),[n]),f=(0,r.yK)((e=>({templatesIcon:{width:Ia.P2,height:Ia.P2,padding:2,fill:e.regularIconColor}})),[]),v=(0,o.useMemo)((()=>{const e=[{type:"custom",closeOnAccept:!0,item:{key:"all_templates",render:(e,t)=>(0,h.jsx)(ba.Z,{...e,title:(0,h.jsx)(V.FormattedMessage,{id:"TemplatesHomePanel.showAllTemplates",defaultMessage:"Explore more templates"}),icon:(0,ps.s)(f.templatesIcon)}),action:g}},{type:"hide",hide:m}];return l&&e.push({type:"custom",closeOnAccept:!1,item:{key:"debug",render:e=>(0,h.jsx)(Ss,{...e}),action:()=>{}}}),[(0,h.jsx)(Ia.ZP,{actions:e},"more")]}),[m,g,l,f.templatesIcon]),C=Ls();return(0,h.jsx)(hn.Z,{title:(0,h.jsx)(V.FormattedMessage,{id:"TemplatesHomePanel.Title",defaultMessage:"Featured templates"}),tooltip:(0,h.jsx)(V.FormattedMessage,{id:"TemplatesHomePanel.tooltip",defaultMessage:"Get inspired about how to use Notion"}),icon:(0,h.jsx)(Ci.Z,{icon:"kind"}),actions:v,hideWrapStyle:!0,children:(0,h.jsx)(or.T,{cardWidth:C.width,children:u||0===p.length?[...Array(3).keys()].map((e=>(0,h.jsx)(Cr,{width:C.width,height:C.height,showLoadingShimmer:u,hasLargeBorderRadius:!1},e))):p.map((e=>(0,h.jsx)(Hs,{store:e},e.id)))})})}const Fs=o.memo(As);var Ds=n(542853),Rs=n(974207);const Es=(0,Cn.IU)("trendingLarge",{viewBox:"0 0 48 48",svg:(0,h.jsx)("path",{d:"M8.75 36.5842V11.4307C8.75 10.7907 9.28581 10.24 9.95558 10.24C10.6105 10.24 11.1463 10.7907 11.1463 11.4307V24.7219L15.79 20.0186C16.4747 19.3339 17.0998 19.0363 17.7993 19.0363C18.4988 19.0363 19.1537 19.3488 19.8086 20.0186L25.2858 25.6298C25.4198 25.7637 25.5686 25.8381 25.6877 25.8381C25.8216 25.8381 25.9705 25.7637 26.1044 25.6298L31.9686 19.6912L29.5128 17.2353C28.977 16.6995 29.3044 16.0149 30.0635 15.8065L38.7705 13.6186C39.4402 13.44 40.0356 14.0056 39.857 14.6902L37.6542 23.4121C37.4607 24.1712 36.7612 24.4986 36.2253 23.9628L33.7844 21.507L27.7119 27.6093C27.0421 28.2791 26.4021 28.5916 25.6877 28.5916C24.9881 28.5916 24.3184 28.2791 23.6784 27.6093L18.2012 21.9981C18.0672 21.8642 17.9333 21.7898 17.7993 21.7898C17.6653 21.7898 17.5314 21.8642 17.3974 21.9981L11.1463 28.3684V34.9619C11.1463 35.2744 11.2505 35.3786 11.563 35.3786H39.5444C40.1993 35.3786 40.75 35.9144 40.75 36.5693C40.75 37.2391 40.1993 37.76 39.5444 37.76H9.9407C9.22628 37.76 8.75 37.2986 8.75 36.5842Z"})});var Ks=n(814871),Bs=n(165598),Os=n(274016);function Ws(e){let{onLoaded:t,panelStyle:n}=e;const[a,s]=o.useState(void 0),l=(0,i.VK)((()=>{const{currentSpaceStore:e,currentUserStore:t}=y.default.state;if(!e||!t)return;const n=(0,k.J2)("trending");return null!=n&&n.isCollectionView()?n:void 0}),[]),d=(0,r.yK)((e=>({icon:{width:20,height:20,margin:-2,fill:e.mediumIconColor},rightStyle:{overflow:"hidden"}})),[]);return(0,o.useEffect)((()=>{null!=a&&a.shouldShowSpinnerStore&&null!=a&&a.isLoadingStore&&t()}),[a,t]),(0,h.jsx)(hn.Z,{title:(0,h.jsx)(V.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.trending",defaultMessage:"Trending"}),right:a&&(0,h.jsx)(Ns,{collectionContextStore:a}),rightStyle:d.rightStyle,disableRightFadeIn:!0,icon:(0,Rs.X)(d.icon),tooltip:(0,h.jsx)(V.FormattedMessage,{id:"personalHomePanel.panelTooltip.trending",defaultMessage:"Popular pages this week"}),panelStyle:n,children:(0,h.jsx)(ls,{store:l,collectionContextStore:a,setCollectionContextStore:s,emptyState:(0,h.jsx)(Gs,{}),appStartToReadyMetricName:"home.trending.app_start_to_ready",firstMountToReadyMetricName:"home.trending.first_mount_to_ready"})})}function Ns(e){let{collectionContextStore:t}=e;const n=(0,a.O7)(),{currentSpaceViewStore:r,currentSpaceStore:s}=(0,i.VK)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=y.default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),l=(0,i.VK)((()=>(null==r?void 0:r.getTeamsStores())??[]),[r]),d=(0,i.VK)((()=>t.collectionViewStore()),[t]),c=(0,i.VK)((()=>{if(!s)return;const e=null==d?void 0:d.getCollectionSource();if("trending"!==(null==e?void 0:e.type))return;const t=e.teamId;return t?l.find((e=>e.id===t)):s}),[l,s,d]),u=(0,o.useCallback)((e=>{wa.Lg({environment:n,currentSpaceViewStore:r,selectedStore:e,collectionContextStore:t})}),[n,t,r]),p=(0,i.VK)((()=>{if(!s)return{};const e={};return e[s.id]=null==s?void 0:s.getName(),l.forEach((t=>{e[t.id]=t.getName()})),e}),[s,l]);return r&&s&&c?(0,h.jsx)(Ks.Z,{items:[s,...l],getKey:e=>e.id,selectedItem:c,onSelect:u,renderItem:e=>{const t=e.value;return(0,h.jsx)(ba.Z,{...e,title:p[t.id],icon:(0,h.jsx)(Os.p,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,h.jsx)(Us,{...e,selectedStore:c}),width:300}):null}function Us(e){const t=(0,a.O7)(),{device:n}=t,{selectedStore:o,...i}=e,s=(0,r.yK)((e=>({dropdownButton:{width:"100%",padding:"6px 8px",color:e.text.secondary,fontSize:(0,Q.yv)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center",borderRadius:Se.bS},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:Z.Z.fontWeight.medium,overflow:"hidden"}})),[t]);return(0,h.jsxs)(Pi.Z,{mobileFeedback:n.isMobile,style:s.dropdownButton,...i,children:[(0,h.jsx)("div",{style:s.dropdownText,children:(0,h.jsx)(zs,{selectedStore:o})}),(0,Ds.i)(s.dropdownIcon)]})}function zs(e){let{selectedStore:t}=e;const n=(0,i.VK)((()=>null==t?void 0:t.getName()),[t]),o=(0,r.yK)((()=>({icon:{marginLeft:4,marginRight:4},spaceOrTeamName:{...Z.Z.textOverflowStyle}})),[]),a=(0,h.jsx)(Os.p,{store:t,size:16,disabled:!0,style:o.icon});return n?(0,h.jsx)(V.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withWorkspaceOrTeamName",defaultMessage:"In {spaceOrTeamIcon} {spaceOrTeamName}",values:{spaceOrTeamIcon:a,spaceOrTeamName:(0,h.jsx)("div",{style:o.spaceOrTeamName,children:n})}}):(0,Bs.Y)(t)?(0,h.jsx)(V.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"}):(0,h.jsx)(V.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutWorkspaceName",defaultMessage:"In your workspace"})}function Gs(){return(0,h.jsx)(ar,{icon:Es,message:(0,h.jsx)(V.FormattedMessage,{id:"PersonalHomeTrendingPanel.emptyState.message",defaultMessage:"Popular pages will show up here."})})}const $s=o.memo(Ws),qs=I.ou.fromISO("2024-05-06");function Ys(e){let{showWelcomeAnimation:t,onAllPanelsLoaded:n,gap:s}=e;const[l,d]=(0,o.useState)({recents:!1,tips:!1,templates:!1,similarUsersAndTrending:!1,tasks:!1,customDb:!1,calendar:!1,checklist:!1}),c=(0,a.O7)(),{isMobile:u,isPhone:p}=(0,a.Fy)(),m=(0,i.VK)((()=>ye.fU(c.device)),[c]),g=(0,i.VK)((()=>{var e;return(null===(e=y.default.state.currentSpaceViewStore)||void 0===e?void 0:e.getHomeEnabledFeatures())??{}}),[]),f=(0,i.VK)((()=>!m||!Boolean(g.checklist)||ue.X4.state.filter((e=>e.store.canRead())).length>=3),[m,g]),C=(0,i.VK)((()=>{var e;const t=y.default.state.currentSpaceStore;return{recents:f,tasks:Boolean(g.tasks),customDb:Boolean(g.custom_db),similarUsersAndTrending:(0,xe.Ju)()&&!1!==(null==t||null===(e=t.getSettings())||void 0===e?void 0:e.show_home_virtual_views),tips:Boolean(g.tips),templates:!u&&Boolean(g.templates),calendar:(0,Ce.W)({isPhone:p,spaceStore:t})&&Boolean(g.calendar),checklist:m&&Boolean(g.checklist)}}),[g,u,p,f,m]),[x,S]=(0,o.useState)(void 0),b=(0,o.useMemo)((()=>({panelState:x})),[x]),j=(0,i.VK)((()=>{if(!Object.values(C).some(Boolean))return!1;for(const[e,t]of(0,L.qP)(C))if(t&&!l[e])return!1;return!0}),[C,l]),M=(0,i.VK)((()=>{const e=y.default.state.currentSpaceStore;return!!e&&I.ou.fromMillis(e.getCreatedTime())>qs}),[]);(0,o.useEffect)((()=>{de.updateMetricDataWithIsPushTag(c),de.markInitialPageRenderComplete({environment:c,isHomePage:!0,isEditable:!1,isWikiHome:!1})}),[]),(0,o.useEffect)((()=>{j&&n(!0),t||d({recents:!0,tips:!0,templates:!0,similarUsersAndTrending:!0,tasks:!0,calendar:!0,customDb:!0,checklist:!0})}),[t,j,n]),(0,o.useEffect)((()=>{if(m&&C.checklist&&ye.g5()){const e=ye.Wn();ge.c5(c,e),ye.Mj()&&((0,pe.P)({environment:c,type:"home_topbar_action_button"}),ge.bl(c,e))}}),[C,c,m]);const T=(0,r.yK)((()=>({suggestedTiles:{height:Se.Uf,paddingRight:0,paddingBottom:0,paddingLeft:0},stackedTilesContainer:{height:Se.Cm,display:"flex",flexDirection:"column",gap:s}})),[s]),V=(0,o.useCallback)((e=>{switch(e){case"events":S("connected_with_events");break;case"noEvents":S("connected_no_events");break;case"signedOut":S("disconnected");break;case"disconnectedAccount":S("connected_permissions_error");break;case"loadError":S("load_error");break;case"loading":S(void 0);break;default:(0,L.P)(e),S(void 0)}}),[]),_=(0,o.useCallback)((e=>({"--depth":e})),[]),Z=(0,o.useCallback)((e=>{d((t=>({...t,[e]:!0})))}),[]),P=(0,o.useCallback)((()=>Z("recents")),[Z]),H=(0,o.useCallback)((()=>Z("tasks")),[Z]),A=(0,o.useCallback)((()=>Z("similarUsersAndTrending")),[Z]),F=(0,o.useCallback)((()=>{Z("calendar")}),[Z]),D=(0,o.useCallback)((()=>Z("templates")),[Z]),R=(0,o.useCallback)((()=>Z("tips")),[Z]),E=(0,o.useCallback)((()=>Z("checklist")),[Z]),K=(0,o.useCallback)((()=>Z("customDb")),[Z]),B=(0,i.VK)((()=>{if(!1!==t)return j?"home-tile-fade-up-in":ce.alX}),[t,j]);(0,o.useEffect)((()=>{if(!j)return;(0,me.uY)({environment:c,args:{tasks:C.tasks?"show":"hide",custom_db:C.customDb?"show":"hide",tips:C.tips?"show":"hide",templates:u?"always_hide":C.templates?"show":"hide",calendar:(0,Ce.W)({isPhone:p,spaceStore:y.default.state.currentSpaceStore})?C.calendar?"show":"hide":"always_hide",checklist:m&&C.checklist?"show":"hide"}});const e=y.default.state.currentSpaceViewStore;if(e){var t;const n=null===(t=(0,k.Al)(e))||void 0===t?void 0:t.id,o=e.getUserId();o&&n&&(0,w.nt)({userId:o,enabledFeatures:C,blockId:n})}}),[j]);const O=function(e){const{isNewUserChecklistEnabled:t,showTipsAboveCalendar:n}=e;return n&&!t?["recents","checklist","tips","calendar","tasks","customDb","similarUsersAndTrending","templates"]:["recents","checklist","calendar","tasks","customDb","similarUsersAndTrending","tips","templates"]}({isNewUserChecklistEnabled:m,showTipsAboveCalendar:M}).map((e=>{if(C[e])switch(e){case"recents":return{key:e,type:"single",content:(0,h.jsx)(os,{onLoaded:P})};case"calendar":return{key:e,type:"single",content:(0,h.jsx)(ve,{value:b,children:(0,h.jsx)(ci,{maxHeight:Se.Uf,onLoaded:F,onDisplayStateChanged:V})})};case"tasks":return{key:e,type:"single",content:(0,h.jsx)(pr,{onLoaded:H})};case"customDb":return{key:e,type:"single",content:(0,h.jsx)(fi,{onLoaded:K})};case"similarUsersAndTrending":return{key:e,type:"twoColumn",left:(0,h.jsx)(us,{panelStyle:T.suggestedTiles,onLoaded:A}),right:(0,h.jsx)($s,{panelStyle:T.suggestedTiles,onLoaded:A})};case"templates":return{key:e,type:"single",content:(0,h.jsx)(Fs,{onLoaded:D})};case"tips":return{key:e,type:"single",content:(0,h.jsx)(cr,{onLoaded:R})};case"checklist":return{key:e,type:"single",content:(0,h.jsx)(Ri,{onLoaded:E})};default:(0,L.t1)(e)}})).filter(L.$K);return(0,h.jsx)(h.Fragment,{children:O.map(((e,t)=>"single"===e.type?(0,h.jsx)(v.Pb,{className:B,style:_(t),children:e.content},e.key):(0,h.jsx)(v.uI,{minWidth:300,className:B,style:_(t),left:e.left,right:e.right},e.key)))})}const Js=o.memo(Ys),Qs=64;function Xs(){const[e,t]=(0,o.useState)(!1),[n,d]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1),{isPhone:p}=(0,a.Fy)(),m=(0,a.O7)();(0,o.useEffect)((()=>M.Z.setState(!0)),[]);const g=(0,i.VK)((()=>{const e=y.default.state.currentSpaceViewStore;return e&&(0,k.Al)(e)}),[]),I=(0,i.VK)((()=>{var e;return Boolean(null===(e=y.default.state.currentSpaceViewStore)||void 0===e?void 0:e.isReady())}),[]),T=(0,i.VK)((()=>{var e;return Boolean(null===(e=y.default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getPersonalHomeSettings())||void 0===e?void 0:e.seen_welcome_animation)}),[]),V=(0,i.VK)((()=>x.default.checkGate({gateName:"home_welcome_animation"})),[]);(0,o.useEffect)((()=>{s.j({name:"open_home"})}),[]),(0,o.useEffect)((()=>{c||async function(){await x.default.waitUntilStatsigReady(),u(!0)}()}),[c]),(0,o.useEffect)((()=>{I&&c&&!T&&(t(!1),d(!0),w.YD({environment:m,newSeenWelcomeHomeValue:!0}));const e=setTimeout((()=>{t(!0),d(!1)}),3e3);return()=>{clearTimeout(e)}}),[m,I,e]);const _=(0,i.VK)((()=>(0,b.q)(y.default.state.currentSpaceViewStore).greeting),[]),L=(0,j.t)(),Z=function(e){let{isPhone:t,showHeader:n}=e;if(!t||n)return Qs;return 0}({isPhone:p,showHeader:_}),P=(0,i.qz)(void 0,S.Z),H=(0,o.useCallback)((()=>{const e=0===P.state.scrollTop;M.Z.setState(e)}),[P]),A=(0,r.yK)((()=>({container:{width:"100%",height:"100%",cursor:"default"},topPaddingWhenHeaderHidden:{width:"100%",marginTop:Z}})),[Z]),F=V&&(!T||n);return I&&c?(0,h.jsxs)(h.Fragment,{children:[g&&(0,h.jsx)(f,{store:g}),(0,h.jsx)(l.Z,{type:C.Z.Y,style:A.container,className:"home-content",onScroll:H,store:P,children:(0,h.jsxs)(v.Xg,{type:p?"home-phone":"home",gap:L,withBottomPadding:!0,children:[(0,h.jsx)(v.Nx,{children:_?(0,h.jsx)(le,{marginTop:Z,marginHorizontal:L,allPanelsLoaded:e,showWelcomeAnimation:F}):(0,h.jsx)("div",{style:A.topPaddingWhenHeaderHidden})}),(0,h.jsx)(Js,{showWelcomeAnimation:F,onAllPanelsLoaded:t,gap:L})]})})]}):null}const el=o.memo(Xs)},808627:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(749085);class a extends o.default{getInitialState(){}}const i=new a},118752:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(749085);class a extends o.default{getInitialState(){}}const i=new a},552389:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(749085);class a extends o.default{getInitialState(){return{open:!1}}}const i=new a},914542:(e,t,n)=>{n.d(t,{EP:()=>r,LU:()=>s,NS:()=>i,SS:()=>a,ZP:()=>d});var o=n(749085);const a="loadingLocalImage",i="uploading",r="downloading",s="loaded";class l extends o.default{getInitialState(){return{loadingMode:s}}}const d=l},896809:(e,t,n)=>{n.d(t,{Z:()=>o});const o=new(n(914542).ZP)},869150:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(749085);class a extends o.default{getInitialState(){return{isHovered:!1}}}const i=new a},188145:(e,t,n)=>{n.d(t,{E:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("appDownload",{viewBox:"0 0 23 16",svg:(0,a.jsx)("path",{clipRule:"evenodd",d:"m23 11.4338c0 2.5317-2.1591 4.5662-4.922 4.5662h-12.59789c-3.12888 0-5.48011-2.2739-5.48011-4.9804 0-2.2463 1.28998-4.10591 3.3576-4.43732.04574-2.57768 2.49761-4.2992 4.74821-3.63637 1.09785-1.61104 2.86359-2.94591 5.34289-2.94591 3.7418 0 6.6786 2.96433 6.6603 7.0702 1.784.75489 2.891 2.43038 2.891 4.3636zm-17.51989 3.084h12.59789c1.9487 0 3.449-1.3717 3.449-3.084 0-1.66625-1.0704-2.89065-2.7354-3.25889-.1098-.02761-.1556-.09206-.1464-.21173.0366-.43269.064-.92981.0366-1.35328-.1555-2.73418-2.2323-5.12774-5.2331-5.12774-2.3695 0-3.73271 1.30725-4.62014 2.89989-.05489.10126-.11893.12888-.22872.09206-1.8755-.6168-3.90652.22094-3.90652 3.05638 0 .11968-.04575.18412-.17383.18412-1.93954 0-3.04654 1.46376-3.04654 3.30499 0 1.878 1.70167 3.4982 4.00716 3.4982zm7.19089-9.49502c0-.39047-.3145-.70701-.7026-.70701-.388 0-.7026.31654-.7026.70701v4.89196l-1.61105-1.62112c-.27439-.27611-.71927-.27611-.99366 0-.2744.27611-.2744.72377 0 .99987l2.81051 2.82811c.2744.2761.7193.2761.9936 0l2.8106-2.82811c.2743-.2761.2743-.72376 0-.99987-.2744-.27611-.7193-.27611-.9937 0l-1.6111 1.62112z",fillRule:"evenodd"})})},80721:(e,t,n)=>{n.d(t,{W:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},460322:(e,t,n)=>{n.d(t,{y:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("arrowUpLeft",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M0.845703 8.58691L0.852539 1.72363C0.852539 1.48665 0.923177 1.29525 1.06445 1.14941C1.21029 0.999023 1.40625 0.923828 1.65234 0.923828H8.51562C8.74349 0.923828 8.93034 0.999023 9.07617 1.14941C9.22201 1.2998 9.29492 1.47526 9.29492 1.67578C9.29492 1.8763 9.21973 2.04948 9.06934 2.19531C8.91895 2.33659 8.74121 2.40723 8.53613 2.40723H6.10254L3.16309 2.30469L4.40723 3.39844L10.915 9.91992C11.0745 10.084 11.1543 10.264 11.1543 10.46C11.1543 10.5921 11.1178 10.7174 11.0449 10.8359C10.972 10.9544 10.8763 11.0479 10.7578 11.1162C10.6439 11.1891 10.5186 11.2256 10.3818 11.2256C10.1813 11.2256 10.0013 11.1481 9.8418 10.9932L3.32715 4.47852L2.21973 3.23438L2.33594 6.05078V8.60742C2.33594 8.8125 2.26302 8.99251 2.11719 9.14746C1.97591 9.29785 1.80273 9.37305 1.59766 9.37305C1.39714 9.37305 1.22168 9.29785 1.07129 9.14746C0.920898 8.99707 0.845703 8.81022 0.845703 8.58691Z"})})},586432:(e,t,n)=>{n.d(t,{s:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("calendarDate31",{viewBox:"0 0 20 20",svg:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M7.565 10.164c0-.753-.429-1.246-1.104-1.246-.649 0-.87.467-.87 1.207v.13c-.077.013-.142.026-.22.026-.468 0-.805-.39-.805-1.052 0-1.012.935-1.908 2.713-1.908 1.584 0 2.596.805 2.596 2.116 0 .987-.843 1.636-1.674 1.804 1.558.17 2.207 1.052 2.207 2.13 0 1.843-1.39 2.803-3.531 2.803h-.052c-1.61 0-2.74-.662-2.74-1.687 0-.584.442-1.052 1.104-1.052.052 0 .104.013.156.013.13 1.052.857 1.48 1.584 1.48.7 0 1.194-.428 1.194-1.077v-.026c0-1.013-.87-1.117-2.181-1.246l-.208-1.22c1.22-.144 1.83-.494 1.83-1.195zm4.95 4.66v-6.05c-1.298.286-1.583-.285-1.44-.856.779-.13 2.804-.597 3.57-.818v7.776l1.415.286c0 .506-.299.805-.831.805-.442 0-1.467-.026-1.96-.026-.766 0-2.168.026-2.168.026a.851.851 0 01-.052-.299c0-.246.104-.493.441-.584l1.026-.26z"}),(0,a.jsx)("path",{d:"M16.664 0H3.334A3.333 3.333 0 000 3.334v13.332A3.333 3.333 0 003.334 20h13.332A3.333 3.333 0 0020 16.666V3.334A3.333 3.333 0 0016.666 0h-.002zm-.525 17.932H3.861a1.797 1.797 0 01-1.797-1.797V5.485h15.872v10.652c0 .993-.804 1.797-1.797 1.797v-.002z"})]})})},961736:(e,t,n)=>{n.d(t,{n:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("chat",{viewBox:"0 0 32 32",svg:(0,a.jsx)("path",{d:"M7.52 28.727c.591 0 .993-.205 1.706-.842l3.732-3.41c.802.898 2.017 1.375 3.566 1.375h3.844l3.721 3.252c.68.591 1.048.898 1.582.898.77 0 1.204-.557 1.204-1.421V25.85h.468c2.796 0 4.657-1.716 4.657-4.695v-6.719c0-2.978-1.86-4.695-4.657-4.695h-1.75v-.864C25.593 5.785 23.8 4 20.77 4H4.825C1.916 4 0 5.785 0 8.877v10.47c0 3.093 1.916 4.878 4.825 4.878h1.47v3.103c0 .876.435 1.399 1.226 1.399zm.458-5.264c0-.648-.38-.955-.87-.955H4.937c-1.972 0-3.142-1.091-3.142-3.217V8.934c0-2.115 1.17-3.229 3.142-3.229h15.721c1.973 0 3.142 1.114 3.142 3.229v.807h-7.275c-2.92 0-4.647 1.717-4.647 4.695v6.72c0 .613.067 1.17.212 1.682l-4.111 3.865v-3.24zm17.225 4.48l-3.576-3.275c-.446-.398-.713-.523-1.326-.523h-3.666c-1.86 0-2.975-1.034-2.975-3.047l.011-6.605c0-2 1.103-3.047 2.964-3.047h10.607c1.85 0 2.964 1.046 2.964 3.047v6.605c0 2.013-1.114 3.047-2.964 3.047h-1.18c-.48 0-.859.284-.859.932v2.865z"})})},377058:(e,t,n)=>{n.d(t,{$:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("checkmark",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})},882855:(e,t,n)=>{n.d(t,{E:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,a.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},2585:(e,t,n)=>{n.d(t,{f:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},303338:(e,t,n)=>{n.d(t,{p:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("circleCheck",{viewBox:"0 0 12 12",svg:(0,a.jsx)("path",{d:"M6.09277 11.1855C8.88574 11.1855 11.1855 8.88574 11.1855 6.09277C11.1855 3.30469 8.88086 1 6.08789 1C3.2998 1 1 3.30469 1 6.09277C1 8.88574 3.2998 11.1855 6.09277 11.1855ZM6.09277 10.0674C3.89062 10.0674 2.12305 8.29492 2.12305 6.09277C2.12305 3.89062 3.88574 2.11816 6.08789 2.11816C8.29492 2.11816 10.0625 3.89062 10.0674 6.09277C10.0723 8.29492 8.29492 10.0674 6.09277 10.0674ZM5.57031 8.41699C5.75586 8.41699 5.92188 8.31934 6.0293 8.15332L8.17773 4.81836C8.24609 4.71094 8.2998 4.58887 8.2998 4.47656C8.2998 4.21289 8.07031 4.03711 7.82129 4.03711C7.66016 4.03711 7.51855 4.125 7.41113 4.30078L5.55566 7.2793L4.68652 6.19043C4.56934 6.03906 4.44727 5.98047 4.2959 5.98047C4.03711 5.98047 3.82715 6.18555 3.82715 6.44922C3.82715 6.57129 3.87598 6.68359 3.96387 6.7959L5.0918 8.1582C5.22852 8.3291 5.37988 8.41699 5.57031 8.41699Z"})})},964275:(e,t,n)=>{n.d(t,{D:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},248780:(e,t,n)=>{n.d(t,{l:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("createPage",{viewBox:"0 0 24 24",svg:(0,a.jsx)("g",{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.944 14.721c.104.094.216.12.336.079l1.703-.688 6.844-6.844-1.406-1.398-6.836 6.836-.711 1.68c-.052.13-.029.242.07.335zm8.102-9.484l1.414 1.406.515-.523a.917.917 0 00.282-.633.76.76 0 00-.258-.61l-.25-.25a.702.702 0 00-.578-.187.975.975 0 00-.617.297l-.508.5zm-9.453.127a3.85 3.85 0 00-3.85 3.85v6.5a3.85 3.85 0 003.85 3.85h6.5a3.85 3.85 0 003.85-3.85V12.95a.85.85 0 10-1.7 0v2.764a2.15 2.15 0 01-2.15 2.15h-6.5a2.15 2.15 0 01-2.15-2.15v-6.5a2.15 2.15 0 012.15-2.15h3.395a.85.85 0 000-1.7H8.593z",clipRule:"evenodd"})})})},726139:(e,t,n)=>{n.d(t,{K:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("externalLink",{viewBox:"0 0 17 16",svg:(0,a.jsx)("path",{d:"M4.94922 13.498C4.31641 13.498 3.83789 13.3359 3.51367 13.0117C3.18945 12.6914 3.02734 12.2188 3.02734 11.5938V4.46289C3.02734 3.83398 3.18945 3.35938 3.51367 3.03906C3.83789 2.71875 4.31641 2.55859 4.94922 2.55859H12.0449C12.6777 2.55859 13.1562 2.71875 13.4805 3.03906C13.8047 3.35938 13.9668 3.83398 13.9668 4.46289V11.5938C13.9668 12.2188 13.8047 12.6914 13.4805 13.0117C13.1562 13.3359 12.6777 13.498 12.0449 13.498H4.94922ZM5.01953 12.3438H11.9746C12.2441 12.3438 12.4512 12.2734 12.5957 12.1328C12.7402 11.9922 12.8125 11.7793 12.8125 11.4941V4.55664C12.8125 4.27539 12.7402 4.06445 12.5957 3.92383C12.4512 3.7832 12.2441 3.71289 11.9746 3.71289H5.01953C4.74609 3.71289 4.53711 3.7832 4.39258 3.92383C4.25195 4.06445 4.18164 4.27539 4.18164 4.55664V11.4941C4.18164 11.7793 4.25195 11.9922 4.39258 12.1328C4.53711 12.2734 4.74609 12.3438 5.01953 12.3438ZM10.334 9.54297C10.1855 9.54297 10.0664 9.49609 9.97656 9.40234C9.89062 9.30859 9.84766 9.17969 9.84766 9.01562V8.08398L9.93555 7.24609L9.15039 8.10156L7.09961 10.1465C6.99023 10.2559 6.85742 10.3105 6.70117 10.3105C6.55273 10.3105 6.42969 10.2637 6.33203 10.1699C6.23828 10.0762 6.19141 9.95117 6.19141 9.79492C6.19141 9.6582 6.24609 9.53516 6.35547 9.42578L8.41211 7.36914L9.2793 6.57227L8.47656 6.66602H7.48633C7.32617 6.66602 7.19727 6.62305 7.09961 6.53711C7.00586 6.45117 6.95898 6.33203 6.95898 6.17969C6.95898 6.03516 7.00586 5.91992 7.09961 5.83398C7.19727 5.74414 7.32422 5.69922 7.48047 5.69922H10.2227C10.4062 5.69922 10.5508 5.74609 10.6562 5.83984C10.7617 5.93359 10.8145 6.08398 10.8145 6.29102V9.00977C10.8145 9.16602 10.7695 9.29492 10.6797 9.39648C10.5938 9.49414 10.4785 9.54297 10.334 9.54297Z"})})},239132:(e,t,n)=>{n.d(t,{c:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("eye",{viewBox:"0 0 32 32",svg:(0,a.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},44643:(e,t,n)=>{n.d(t,{L:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("eyeHidePadded",{viewBox:"0 0 24 24",svg:(0,a.jsx)("path",{d:"M17.3867 18.1074C17.6055 18.3193 17.9404 18.333 18.1592 18.1074C18.3848 17.875 18.3711 17.5469 18.1592 17.335L6.5791 5.76855C6.37402 5.55664 6.01855 5.5498 5.80664 5.76855C5.60156 5.97363 5.60156 6.3291 5.80664 6.53418L17.3867 18.1074ZM12 6.1582C10.8105 6.1582 9.73047 6.36328 8.72559 6.69141L9.81934 7.78516C10.5098 7.58691 11.2275 7.4707 12 7.4707C16.3682 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 12.6113 18.7334 14.0059 16.9766 15.1064L17.9883 16.125C20.1348 14.7168 21.3857 12.8779 21.3857 12.0713C21.3857 10.6699 17.6055 6.1582 12 6.1582ZM12 17.9912C13.2646 17.9912 14.4199 17.7725 15.4658 17.4102L14.3789 16.3232C13.6338 16.542 12.8477 16.6787 12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.6133 5.32129 10.1299 7.19434 8.98145L6.16211 7.94922C3.92676 9.37109 2.60742 11.251 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM15.4111 13.3906C15.5889 12.9873 15.6914 12.5361 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C11.5283 8.39355 11.084 8.48242 10.6738 8.65332L15.4111 13.3906ZM12 15.7559C12.5332 15.7559 13.0322 15.6328 13.4766 15.4209L8.64355 10.5811C8.4248 11.0322 8.30176 11.5312 8.30176 12.0781C8.30859 14.0811 9.94238 15.7559 12 15.7559Z"})})},769952:(e,t,n)=>{n.d(t,{M:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("homeDatabaseViews",{viewBox:"0 0 48 48",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7646 26.1309H32.2473L36.0334 22.8856C36.2419 22.7069 36.4666 22.5572 36.7021 22.4365V11.7607C36.7021 10.1982 36.2969 9.0166 35.4863 8.21582C34.6758 7.40527 33.4746 7 31.8828 7H6.80469C5.22266 7 4.02637 7.40527 3.21582 8.21582C2.40527 9.0166 2 10.1982 2 11.7607V29.6025C2 31.165 2.40527 32.3467 3.21582 33.1475C4.02637 33.9482 5.22266 34.3486 6.80469 34.3486H28.2646V31.7785C28.2646 31.6778 28.2678 31.5774 28.274 31.4775H20.7646V26.1309ZM4.88574 23.377V17.9863H17.9521V23.377H4.88574ZM20.7646 23.377V17.9863H33.8164V23.377H20.7646ZM20.7646 15.2324H33.8164V12.0098C33.8164 11.3066 33.6357 10.7793 33.2744 10.4277C32.9131 10.0664 32.3955 9.88574 31.7217 9.88574H20.7646V15.2324ZM17.9521 15.2324V9.88574H6.98047C6.29688 9.88574 5.77441 10.0664 5.41309 10.4277C5.06152 10.7793 4.88574 11.3066 4.88574 12.0098V15.2324H17.9521ZM17.9521 26.1309V31.4775H6.98047C6.29688 31.4775 5.77441 31.3018 5.41309 30.9502C5.06152 30.5889 4.88574 30.0566 4.88574 29.3535V26.1309H17.9521Z"}),(0,a.jsx)("path",{d:"M31.2624 29.6092C30.6291 30.152 30.2646 30.9444 30.2646 31.7785V39.3216C30.2646 40.1106 30.9042 40.7501 31.6932 40.7501H35.0504C35.4448 40.7501 35.7646 40.4303 35.7646 40.0358V34.893C35.7646 34.4985 36.0844 34.1787 36.4789 34.1787H40.0504C40.4449 34.1787 40.7646 34.4985 40.7646 34.893V40.0358C40.7646 40.4303 41.0844 40.7501 41.4789 40.7501H44.8361C45.6251 40.7501 46.2646 40.1106 46.2646 39.3216V31.7785C46.2646 30.9444 45.9002 30.152 45.2669 29.6092L39.1943 24.4042C38.6594 23.9456 37.8699 23.9456 37.3349 24.4042L31.2624 29.6092Z"})]})})},727714:(e,t,n)=>{n.d(t,{N:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("link",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M7.69922 10.8945L8.73828 9.84863C7.91797 9.77344 7.34375 9.51367 6.91992 9.08984C5.76465 7.93457 5.76465 6.29395 6.91309 5.14551L9.18262 2.87598C10.3379 1.7207 11.9717 1.7207 13.127 2.87598C14.2891 4.04492 14.2822 5.67188 13.1338 6.82031L11.958 7.99609C12.1768 8.49512 12.2451 9.10352 12.1289 9.62988L14.0908 7.6748C15.7725 6 15.7793 3.62109 14.084 1.92578C12.3887 0.223633 10.0098 0.237305 8.33496 1.91211L5.95605 4.29785C4.28125 5.97266 4.26758 8.35156 5.96289 10.0469C6.36621 10.4434 6.90625 10.7441 7.69922 10.8945ZM8.30078 5.13184L7.26855 6.17773C8.08203 6.25293 8.66309 6.51953 9.08008 6.93652C10.2422 8.09863 10.2422 9.73242 9.08691 10.8809L6.81738 13.1504C5.66211 14.3057 4.03516 14.3057 2.87305 13.1504C1.71094 11.9883 1.71777 10.3545 2.87305 9.20605L4.04199 8.03027C3.83008 7.53125 3.75488 6.92969 3.87109 6.39648L1.91602 8.35156C0.234375 10.0264 0.227539 12.4121 1.92285 14.1074C3.61816 15.8027 5.99707 15.7891 7.67188 14.1143L10.0439 11.7354C11.7256 10.0537 11.7324 7.6748 10.0371 5.98633C9.64062 5.58301 9.10059 5.28223 8.30078 5.13184Z"})})},310214:(e,t,n)=>{n.d(t,{K:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("myTasksLarge",{viewBox:"0 0 48 48",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M21.6927 39.1705C21.4812 39.604 21.238 40.0164 20.9631 40.4076H39.5198C41.1693 40.4076 42.4117 39.9952 43.247 39.1705C44.0823 38.3457 44.5 37.1192 44.5 35.4909V19.2022C44.5 17.5739 44.0823 16.3473 43.247 15.5226C42.4117 14.6978 41.1693 14.2855 39.5198 14.2855H16.2526C14.5925 14.2855 13.3448 14.6978 12.5095 15.5226C11.6848 16.3367 11.2724 17.5633 11.2724 19.2022V24.4837C11.4839 24.4626 11.6953 24.4467 11.9068 24.4361C12.1183 24.415 12.3298 24.4044 12.5412 24.4044C12.7527 24.4044 12.9642 24.415 13.1757 24.4361C13.3977 24.4467 13.6145 24.4626 13.8259 24.4837V19.3449C13.8259 18.5202 14.0374 17.8964 14.4603 17.4734C14.8833 17.0505 15.4913 16.839 16.2843 16.839H39.4722C40.2547 16.839 40.8627 17.0505 41.2962 17.4734C41.7297 17.8964 41.9465 18.5202 41.9465 19.3449V35.3481C41.9465 36.1729 41.7297 36.7967 41.2962 37.2196C40.8627 37.6426 40.2547 37.8541 39.4722 37.8541H22.2478C22.0998 38.3087 21.9147 38.7475 21.6927 39.1705Z"}),(0,a.jsx)("path",{d:"M15.3644 10.0825C14.9837 10.4631 14.7353 11.0129 14.619 11.7319H41.1693C41.0424 11.0129 40.7887 10.4631 40.408 10.0825C40.0379 9.69123 39.4564 9.49562 38.6634 9.49562H17.1249C16.3319 9.49562 15.745 9.69123 15.3644 10.0825Z"}),(0,a.jsx)("path",{d:"M18.5206 5.816C18.14 6.15435 17.9285 6.66189 17.8862 7.3386H37.9021C37.8492 6.66189 37.6271 6.15435 37.2359 5.816C36.8553 5.46707 36.3002 5.2926 35.5706 5.2926H20.2018C19.4722 5.2926 18.9118 5.46707 18.5206 5.816Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.44845 42.0729C10.4212 42.4959 11.4574 42.7074 12.5571 42.7074C13.6462 42.7074 14.6771 42.4959 15.6499 42.0729C16.6227 41.65 17.4791 41.0684 18.2193 40.3283C18.97 39.5881 19.5568 38.7317 19.9798 37.7589C20.4027 36.7861 20.6142 35.7499 20.6142 34.6503C20.6142 33.54 20.4027 32.4985 19.9798 31.5258C19.5674 30.553 18.9911 29.6965 18.251 28.9564C17.5108 28.2162 16.6544 27.6399 15.6816 27.2276C14.7088 26.8046 13.6673 26.5932 12.5571 26.5932C11.4574 26.5932 10.4212 26.8046 9.44845 27.2276C8.47568 27.6399 7.61922 28.2215 6.87906 28.9722C6.13891 29.7124 5.55736 30.5688 5.13442 31.5416C4.71147 32.5038 4.5 33.54 4.5 34.6503C4.5 35.7605 4.71147 36.802 5.13442 37.7748C5.55736 38.7475 6.13891 39.604 6.87906 40.3442C7.61922 41.0843 8.47568 41.6606 9.44845 42.0729ZM13.255 39.4242C13.0858 39.604 12.8532 39.6939 12.5571 39.6939C12.261 39.6939 12.0231 39.604 11.8434 39.4242C11.6742 39.2445 11.5896 39.0119 11.5896 38.7264V35.6177H8.48097C8.19548 35.6177 7.96286 35.5279 7.78311 35.3481C7.60336 35.1789 7.51348 34.9463 7.51348 34.6503C7.51348 34.3542 7.60336 34.1216 7.78311 33.9524C7.96286 33.7726 8.19548 33.6828 8.48097 33.6828H11.5896V30.5741C11.5896 30.2886 11.6742 30.056 11.8434 29.8763C12.0231 29.6965 12.261 29.6066 12.5571 29.6066C12.8532 29.6066 13.0858 29.6965 13.255 29.8763C13.4347 30.056 13.5246 30.2886 13.5246 30.5741V33.6828H16.6332C16.9187 33.6828 17.1513 33.7726 17.3311 33.9524C17.5108 34.1216 17.6007 34.3542 17.6007 34.6503C17.6007 34.9463 17.5108 35.1789 17.3311 35.3481C17.1513 35.5279 16.9187 35.6177 16.6332 35.6177H13.5246V38.7264C13.5246 39.0119 13.4347 39.2445 13.255 39.4242Z"}),(0,a.jsx)("path",{d:"M27.2289 32.3258C27.5208 32.6671 27.893 32.8378 28.3453 32.8378C28.8593 32.8378 29.2478 32.6404 29.511 32.2456L35.204 23.666C35.2986 23.5262 35.3685 23.3885 35.4137 23.2528C35.459 23.113 35.4816 22.9793 35.4816 22.8519C35.4816 22.4982 35.3582 22.2063 35.1115 21.976C34.8689 21.7416 34.5687 21.6244 34.211 21.6244C33.9643 21.6244 33.7546 21.6738 33.5819 21.7725C33.4133 21.867 33.2529 22.0315 33.1008 22.2659L28.3206 29.7723L25.9274 26.9042C25.6684 26.604 25.3435 26.4539 24.9529 26.4539C24.5869 26.4539 24.2847 26.5711 24.0462 26.8055C23.8077 27.0399 23.6885 27.3339 23.6885 27.6875C23.6885 27.8479 23.7131 28 23.7625 28.144C23.8159 28.2838 23.9126 28.4297 24.0524 28.5819L27.2289 32.3258Z"})]})})},949019:(e,t,n)=>{n.d(t,{Z:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("openAsPageThick",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M2.16895 7.19629C2.59277 7.19629 2.90723 6.88867 2.90723 6.45801V5.96582L2.75684 3.81934L4.35645 5.50098L6.3252 7.4834C6.46875 7.63379 6.65332 7.70215 6.85156 7.70215C7.30957 7.70215 7.6377 7.39453 7.6377 6.93652C7.6377 6.72461 7.55566 6.54004 7.41211 6.39648L5.43652 4.4209L3.74805 2.82129L5.91504 2.96484H6.44141C6.86523 2.96484 7.18652 2.65723 7.18652 2.22656C7.18652 1.7959 6.87207 1.48145 6.44141 1.48145L2.64746 1.48145C1.86816 1.48145 1.41699 1.93262 1.41699 2.71875L1.41699 6.45801C1.41699 6.88184 1.73828 7.19629 2.16895 7.19629ZM9.55176 14.6543H13.3389C14.125 14.6543 14.5762 14.2031 14.5762 13.417V9.67773C14.5762 9.25391 14.2549 8.93945 13.8242 8.93945C13.4004 8.93945 13.0859 9.24707 13.0859 9.67773V10.1699L13.2295 12.3164L11.6299 10.6348L9.66113 8.65234C9.52441 8.50195 9.33984 8.43359 9.1416 8.43359C8.68359 8.43359 8.35547 8.74121 8.35547 9.19922C8.35547 9.41113 8.43066 9.5957 8.57422 9.73926L10.5566 11.7148L12.2383 13.3145L10.0781 13.1709H9.55176C9.12793 13.1709 8.80664 13.4785 8.80664 13.9092C8.80664 14.3398 9.12109 14.6543 9.55176 14.6543Z"})})},830687:(e,t,n)=>{n.d(t,{w:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("openBook",{viewBox:"0 0 22 19",svg:(0,a.jsx)("path",{d:"M0.150391 16.8906C0.150391 17.2943 0.261068 17.5807 0.482422 17.75C0.703776 17.9193 0.960938 18.0039 1.25391 18.0039C1.41667 18.0039 1.57617 17.9616 1.73242 17.877C1.88867 17.7988 2.05794 17.7012 2.24023 17.584C2.7806 17.2194 3.36979 16.9297 4.00781 16.7148C4.65234 16.5065 5.31641 16.4056 6 16.4121C6.70312 16.4186 7.38997 16.5521 8.06055 16.8125C8.73763 17.0729 9.34961 17.4668 9.89648 17.9941C10.1113 18.1895 10.3034 18.3229 10.4727 18.3945C10.6419 18.4727 10.8177 18.5117 11 18.5117C11.1758 18.5117 11.3483 18.4727 11.5176 18.3945C11.6934 18.3229 11.8854 18.1895 12.0938 17.9941C12.6406 17.4668 13.2493 17.0729 13.9199 16.8125C14.597 16.5521 15.2904 16.4186 16 16.4121C16.6771 16.4056 17.3346 16.5065 17.9727 16.7148C18.6172 16.9297 19.2096 17.2194 19.75 17.584C19.9323 17.7012 20.1016 17.7988 20.2578 17.877C20.4141 17.9616 20.5768 18.0039 20.7461 18.0039C21.0326 18.0039 21.2865 17.9193 21.5078 17.75C21.7292 17.5807 21.8398 17.2943 21.8398 16.8906V3.63867C21.8398 3.55404 21.8333 3.47591 21.8203 3.4043C21.8073 3.33268 21.7747 3.25456 21.7227 3.16992C21.4362 2.66862 21.0098 2.20638 20.4434 1.7832C19.877 1.36003 19.2096 1.02148 18.4414 0.767578C17.6797 0.507161 16.8529 0.376953 15.9609 0.376953C14.8932 0.376953 13.9199 0.56901 13.041 0.953125C12.1686 1.33073 11.4883 1.82227 11 2.42773C10.5052 1.82227 9.81836 1.33073 8.93945 0.953125C8.06706 0.56901 7.10026 0.376953 6.03906 0.376953C5.14062 0.376953 4.30729 0.507161 3.53906 0.767578C2.77734 1.02148 2.11328 1.36003 1.54688 1.7832C0.986979 2.20638 0.560547 2.66862 0.267578 3.16992C0.215495 3.25456 0.182943 3.33268 0.169922 3.4043C0.156901 3.47591 0.150391 3.55404 0.150391 3.63867V16.8906ZM1.72266 16.0605V3.86328C1.98307 3.47917 2.33789 3.14388 2.78711 2.85742C3.23633 2.57096 3.73763 2.34961 4.29102 2.19336C4.85091 2.0306 5.43359 1.94922 6.03906 1.94922C6.96354 1.94922 7.80339 2.12826 8.55859 2.48633C9.3138 2.8444 9.86393 3.32292 10.209 3.92188V16.2266C9.87695 15.9596 9.48958 15.722 9.04688 15.5137C8.61068 15.3053 8.13542 15.1426 7.62109 15.0254C7.10677 14.9017 6.57943 14.8398 6.03906 14.8398C5.1862 14.8398 4.38216 14.9505 3.62695 15.1719C2.87174 15.3932 2.23698 15.6895 1.72266 16.0605ZM11.7812 16.2266V3.92188C12.1263 3.32292 12.6764 2.8444 13.4316 2.48633C14.1868 2.12826 15.0299 1.94922 15.9609 1.94922C16.5599 1.94922 17.1361 2.0306 17.6895 2.19336C18.2493 2.34961 18.7539 2.57096 19.2031 2.85742C19.6523 3.14388 20.0072 3.47917 20.2676 3.86328V16.0605C19.7533 15.6895 19.1185 15.3932 18.3633 15.1719C17.6081 14.9505 16.8073 14.8398 15.9609 14.8398C15.4141 14.8398 14.8835 14.9017 14.3691 15.0254C13.8613 15.1426 13.3861 15.3053 12.9434 15.5137C12.5007 15.722 12.1133 15.9596 11.7812 16.2266Z"})})},222686:(e,t,n)=>{n.d(t,{f:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("person",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},414734:(e,t,n)=>{n.d(t,{X:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,a.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,a.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},276927:(e,t,n)=>{n.d(t,{p:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("playCircle",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M9.99316 17.126C9.02702 17.126 8.11784 16.9414 7.26562 16.5723C6.41341 16.2077 5.66146 15.6995 5.00977 15.0479C4.36263 14.3962 3.85449 13.6442 3.48535 12.792C3.11621 11.9398 2.93164 11.0306 2.93164 10.0645C2.93164 9.09831 3.11621 8.18913 3.48535 7.33691C3.85449 6.4847 4.36263 5.73503 5.00977 5.08789C5.66146 4.4362 6.41113 3.92578 7.25879 3.55664C8.111 3.1875 9.02018 3.00293 9.98633 3.00293C10.957 3.00293 11.8685 3.1875 12.7207 3.55664C13.5729 3.92578 14.3249 4.4362 14.9766 5.08789C15.6283 5.73503 16.1387 6.4847 16.5078 7.33691C16.877 8.18913 17.0615 9.09831 17.0615 10.0645C17.0615 11.0306 16.877 11.9398 16.5078 12.792C16.1387 13.6442 15.6283 14.3962 14.9766 15.0479C14.3249 15.6995 13.5729 16.2077 12.7207 16.5723C11.8685 16.9414 10.9593 17.126 9.99316 17.126ZM8.7627 12.8535L12.707 10.5293C12.821 10.4564 12.8962 10.363 12.9326 10.249C12.9736 10.1305 12.9736 10.012 12.9326 9.89355C12.8962 9.77507 12.821 9.68392 12.707 9.62012L8.7627 7.28223C8.63965 7.20931 8.51204 7.17969 8.37988 7.19336C8.25228 7.20703 8.14518 7.25488 8.05859 7.33691C7.97201 7.41439 7.92871 7.52376 7.92871 7.66504V12.4707C7.92871 12.612 7.97201 12.7259 8.05859 12.8125C8.14518 12.8945 8.25 12.9424 8.37305 12.9561C8.50065 12.9652 8.63053 12.931 8.7627 12.8535Z"})})},375071:(e,t,n)=>{n.d(t,{f:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("plusThick",{viewBox:"0 0 14 14",svg:(0,a.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},953877:(e,t,n)=>{n.d(t,{u:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("sites",{viewBox:"0 0 22 17",svg:(0,a.jsx)("path",{d:"M3.305 15.164c-.844 0-1.482-.216-1.914-.648-.433-.428-.649-1.058-.649-1.891V3.117c0-.838.216-1.471.649-1.898.437-.427 1.075-.64 1.914-.64h13.382c.844 0 1.482.213 1.915.64.432.427.648 1.06.648 1.898v5.524l-1.234-1.25a.985.985 0 00-.149-.11.613.613 0 00-.148-.086v-2.57H2.28v7.867c0 .38.097.664.29.852.197.187.476.281.835.281h11.469l-.023 1.54H3.305zm.148-11.836a.68.68 0 00.508-.219.697.697 0 000-1.015.68.68 0 00-.508-.219.714.714 0 00-.523.219.71.71 0 00-.211.508c0 .192.07.362.21.507.147.146.321.22.524.22zm2.305 0c.198 0 .367-.07.508-.21a.705.705 0 000-1.024.68.68 0 00-.508-.219.714.714 0 00-.524.219.71.71 0 00-.21.508.718.718 0 00.734.726zm2.297 0c.198 0 .37-.07.515-.21a.705.705 0 000-1.024.705.705 0 00-.515-.219.705.705 0 00-.516.219.71.71 0 00-.21.508.718.718 0 00.726.726zm7.922 10.695l.078-6.156c.005-.161.073-.265.203-.312.13-.052.25-.024.36.086l4.234 4.336c.125.12.153.247.085.382-.062.13-.174.198-.335.204L19 12.608l1.344 3.11a.374.374 0 01.023.25c-.02.088-.08.153-.18.195l-.773.305a.313.313 0 01-.266-.008.41.41 0 01-.18-.195l-1.265-3.149-1.117 1.133a.372.372 0 01-.398.102c-.146-.047-.217-.157-.211-.329z"})})},364004:(e,t,n)=>{n.d(t,{l:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("team",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M11,12.396c-0.815-0.637-1.719-1.052-3-1.813V9.965c0.242-0.278,0.448-0.621,0.615-1.014C9.081,8.836,9.5,8.382,9.5,8 c0-0.551-0.232-0.769-0.504-0.947C8.996,7.035,9,7.019,9,7c0-0.813-0.5-3-3-3S3,6.188,3,7c0,0.019,0.004,0.035,0.004,0.053 C2.732,7.231,2.5,7.449,2.5,8c0,0.382,0.419,0.836,0.885,0.952C3.552,9.344,3.758,9.687,4,9.965v0.618 c-1.281,0.76-2.185,1.175-3,1.813C0.047,13.141,0,14.25,0,16h12C12,14.25,11.953,13.141,11,12.396z M15,8.396 c-0.815-0.637-1.719-1.052-3-1.813V5.965c0.242-0.278,0.448-0.621,0.615-1.014C13.081,4.836,13.5,4.382,13.5,4 c0-0.551-0.232-0.769-0.504-0.947C12.996,3.035,13,3.019,13,3c0-0.813-0.5-3-3-3S7,2.188,7,3c0,0.019,0.004,0.035,0.004,0.053 C6.985,3.066,6.969,3.081,6.95,3.094c2.001,0.41,2.875,2.104,3.025,3.475C10.258,6.867,10.5,7.31,10.5,8 c0,0.689-0.476,1.375-1.147,1.731c-0.065,0.125-0.134,0.245-0.207,0.36c0.174,0.098,0.34,0.191,0.5,0.28 c0.732,0.409,1.364,0.762,1.97,1.236c0.158,0.123,0.293,0.256,0.417,0.392H16C16,10.25,15.953,9.141,15,8.396z"})})},658178:(e,t,n)=>{n.d(t,{s:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},646783:(e,t,n)=>{n.d(t,{w:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("templates",{viewBox:"0 0 20 20",svg:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,a.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,a.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},163048:(e,t,n)=>{n.d(t,{C:()=>i});n(667294);var o=n(745238),a=n(785893);const i=(0,o.IU)("thinPlus",{viewBox:"0 0 14 14",svg:(0,a.jsx)("path",{d:"M 7.75 0L 6.25 0L 6.25 6.25L 0 6.25L 0 7.75L 6.25 7.75L 6.25 14L 7.75 14L 7.75 7.75L 14 7.75L 14 6.25L 7.75 6.25L 7.75 0Z"})})},13882:(e,t,n)=>{function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>o})},983946:(e,t,n)=>{function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>o})},777349:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(983946),a=n(619013),i=n(13882);function r(e,t){(0,i.Z)(2,arguments);var n=(0,a.Z)(e),r=(0,o.Z)(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}},616218:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(983946),a=n(619013),i=n(13882);function r(e,t){(0,i.Z)(2,arguments);var n=(0,a.Z)(e),r=(0,o.Z)(t),s=n.getFullYear(),l=n.getDate(),d=new Date(0);d.setFullYear(s,r,15),d.setHours(0,0,0,0);var c=function(e){(0,i.Z)(1,arguments);var t=(0,a.Z)(e),n=t.getFullYear(),o=t.getMonth(),r=new Date(0);return r.setFullYear(n,o+1,0),r.setHours(0,0,0,0),r.getDate()}(d);return n.setMonth(r,Math.min(l,c)),n}},619013:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(13882);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){(0,o.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}}}]);