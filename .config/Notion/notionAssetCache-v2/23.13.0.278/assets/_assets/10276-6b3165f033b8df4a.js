"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[10276],{461652:(e,t,s)=>{s.d(t,{y1:()=>ae,BO:()=>ne,Qr:()=>le,gJ:()=>be,PN:()=>ue,ZO:()=>$,hN:()=>xe,g:()=>me,Mj:()=>re,$G:()=>te,AW:()=>Y,Tp:()=>fe,zh:()=>he,GI:()=>pe,q$:()=>X});s(667294);var o=s(568626),r=s(842875),i=s(159730),a=s(915157),n=s(421202),l=s(361220),d=s(815047),c=s(519889),p=s(709291),u=s(653965),m=s(937850),g=s(401898),f=s(227617),x=s(886628),b=s(724405),h=s(137810),y=s(419306),v=s(661519),M=s(568785),C=s(785893);const w={fontWeight:h.Z.fontWeight.semibold};const S=function(e){let{exportProgressStore:t,disabledExportTeamNames:s}=e;const{messageStyle:o,spinnerContainerStyle:r}=(0,b.yK)((e=>({messageStyle:{fontSize:14,color:e.mediumTextColor,textAlign:"center"},spinnerContainerStyle:{marginTop:24,marginBottom:24,display:"flex",justifyContent:"center"}})),[]);return(0,C.jsxs)("div",{style:o,children:[(0,C.jsx)("div",{style:r,children:(0,C.jsx)(M.Z,{})}),(0,C.jsx)(k,{exportProgressStore:t}),(0,C.jsx)(T,{exportProgressStore:t}),(0,C.jsx)(j,{disabledExportTeamNames:s})]})};function j(e){let{disabledExportTeamNames:t}=e;return t.length>0?(0,C.jsxs)("span",{children:[(0,C.jsx)(v.Z,{size:10}),(0,C.jsx)("p",{children:(0,C.jsx)(p.FormattedMessage,{id:"exportActions.exportDisabledTeams.message",defaultMessage:"Export is disabled for the following teamspaces: <b>{teamNames}</b>",values:{teamNames:(0,y.W)(t),b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,C.jsx)("span",{style:w,children:t})}}})})]}):null}function T(e){let{exportProgressStore:t}=e;return(0,x.VK)((()=>t.state.targetEmailAddress),[t])?(0,C.jsx)("p",{children:(0,C.jsx)(p.FormattedMessage,{id:"exportProgressDialog.emailMessage",defaultMessage:"We'll also send you an email with the download link."})}):null}function k(e){let{exportProgressStore:t}=e;const s=(0,x.VK)((()=>t.state.pagesExported),[t]);return s>0?(0,C.jsx)("p",{children:(0,C.jsx)(p.FormattedMessage,{id:"exportProgressDialog.exportedPagesMessage",defaultMessage:"{pagesExported, plural, one {{pagesExported} page exported} other {{pagesExported} pages exported}}",values:{pagesExported:s}})}):(0,C.jsx)("p",{children:(0,C.jsx)(p.FormattedMessage,{id:"exportProgressDialog.exportStartedMessage",defaultMessage:"Exporting…"})})}var _=s(119037),L=s(833954),P=s(433929),Z=s(637034),R=s(613630),F=s(80444),O=s(925489),A=s(771071),B=s(749085);class I extends B.default{getInitialState(){return{pagesExported:0}}}const E=I;var V=s(206258),U=s(820454),W=s(88893),N=s(436610),D=s(91536),q=s(454642),z=s(547307),K=s(99813),H=s(792625);const G=(0,p.defineMessages)({exporting:{id:"exportActions.exporting.loadingMessage",defaultMessage:"Exporting"},exportAuditLogEmail:{id:"exportActions.auditLog.exporting.EmailMessage",defaultMessage:"Your CSV export is currently being generated. The generated CSV has a 2-hour delay from the real time audit log. Once it is ready, an email will be sent to you with the download link."},exportCSVEmail:{id:"exportActions.exportingCSV.EmailMessage",defaultMessage:"Your CSV export is currently being generated. Once it is ready, an email will be sent to you with the download link."},exportFailed:{id:"exportActions.exportFailedError.message",defaultMessage:"Export failed."},adminMessage:{defaultMessage:"Admin",id:"export.userPermissionsRole.admin.message"},workspaceOwnerMessage:{defaultMessage:"Workspace owner",id:"export.userPermissionsRole.workspaceOwner.message"},memberMessage:{defaultMessage:"Member",id:"export.userPermissionsRole.member.message"},membershipAdminMessage:{defaultMessage:"Membership admin",id:"export.userPermissionsRole.membershipAdmin.message"},guestMessage:{defaultMessage:"Guest",id:"export.userPermissionsRole.guest.message"},idMessage:{defaultMessage:"ID",id:"export.csvHeader.id"},emailMessage:{defaultMessage:"Email",id:"export.csvHeader.email"},nameMessage:{defaultMessage:"Name",id:"export.csvHeader.name"},roleMessage:{defaultMessage:"Role",id:"export.csvHeader.role"},permissionGroupsMessage:{defaultMessage:"Permission groups",id:"export.csvHeader.permissionGroups"},pagesMessage:{defaultMessage:"Pages",id:"export.csvHeader.pages"},partitionMessage:{defaultMessage:"Export is still in progress due to file size. We will send you an email about its progress.",id:"export.exportPartitioned.message"},privatePageMessage:{defaultMessage:"Private page",id:"export.privatePageTitle.message"},pageTitleAndIdMessage:{defaultMessage:"{pageTitle} ({pageId})",id:"export.pageTitleAndId.message"},pageSeparatorMessage:{defaultMessage:", ",id:"export.pageSeparator.message"}});async function $(e,t){if(!ie({environment:e,...t}))return void N.y4(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});const{currentUserStore:s}=F.default.state;if(!s)return void N.y4(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});const o=s.getEmail();if(!o)return void N.y4(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});N.Md(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive}),"currentView"===t.exportOptions.collectionViewExportType&&(t.exportOptions.preferredViewMap=J(s.id));const r=q.exportBlock(e,t);await Q(e,r,t.recursive,o)}async function Y(e,t){if(!ie({environment:e,recursive:!0,exportOptions:t.exportOptions}))return void N.y4(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});const{currentUserStore:s}=F.default.state;if(!s)return void N.y4(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});const o=s.getEmail();if(!o)return void N.y4(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});N.Md(e,{target:"space",format:t.exportOptions.exportType,recursive:!0}),"currentView"===t.exportOptions.collectionViewExportType&&(t.exportOptions.preferredViewMap=J(s.id));const r=q.exportSpace(e,t);await Q(e,r,!0,o)}async function Q(e,t,s,o){const{currentSpaceViewStore:r,currentSpaceStore:i}=F.default.state;if(!r)return;const a=new E;a.setState({pagesExported:0,targetEmailAddress:o});let n,l=!1;const d=r.getTeamsStores().filter((e=>e.getSetting("disable_export"))).flatMap((e=>e.getName()||[]));if(s){const t=d.length>0?6e3:1250;n=(0,m.Vs)(t);const s={exportProgressStore:a,disabledExportTeamNames:d};z.showDialog({message:(0,C.jsx)(S,{...s}),showCancel:!1,keepFocus:!0,disableBackgroundDismiss:!0,items:[{label:(0,C.jsx)(p.FormattedMessage,{id:"exportProgressDialog.closeButton.label",defaultMessage:"Close"}),onAccept:()=>{he({environment:e,spaceId:null==i?void 0:i.id}),l=!0}}]})}else n=Promise.resolve(),H.j({message:G.exporting});for await(const c of t){if(l)return;if(c.error)return H.x(),void z.showErrorMessage(P.default.formatMessage(G.exportFailed));{const{value:t}=c;if("complete"===t.type||"partition"===t.type)return await n,H.x(),void("complete"===t.type?(z.dismissDialog(),!l&&t.exportURL&&K.oi(e,t.exportURL)):z.showMessage({message:P.default.formatMessage(G.partitionMessage)}));a.setState({...a.state,pagesExported:t.pagesExported})}}}function J(e){const t={};return a.Z.scan(((s,o)=>{if(s.includes(O.Z.PREFERENCE_KEY_PREFIX)&&s.includes(e)){const e=s.split(O.Z.PREFERENCE_KEY_PREFIX)[1];e&&o&&(t[e]=o)}})),t}function X(e){const{root:t,environment:s,isCollectionViewExportTypeSupported:o}=e,i=s.currentUser.id,a=ce(i),n=a&&a.exportType||"markdown",l=o?"currentView":void 0,d="pdf"===n?{exportType:"pdf",timeZone:(0,r.r)(),pdfFormat:pe(i),locale:"en",collectionViewExportType:l}:{exportType:n,timeZone:(0,r.r)(),locale:"en",collectionViewExportType:l};ne(s,{open:!0,root:t,recursive:"space"===t.table,exportOptions:d,shouldExportComments:!1})}function ee(e,t){switch(t){case"editor":return e.formatMessage(G.workspaceOwnerMessage);case"membership_admin":return e.formatMessage(G.membershipAdminMessage);case"read_and_write":return e.formatMessage(G.memberMessage);case"none":return e.formatMessage(G.guestMessage);default:return o.log({level:"error",from:"exportActions",type:"roleNotFound",data:{miscDataToConvertToString:{role:t}}}),""}}async function te(e,t){const{spaceStore:s,subscriptionData:o,intl:r}=t,i=s.getPermissionGroups();await q.exportSpaceMembers(e,{spaceId:s.getSpaceId()});const a=u.oA(await Promise.all(o.users.map((async e=>{const t=U.U.createChildStore(s,{table:c.KJ,id:e.userId});await t.load();const o=t.getEmail(),a=t.getFullName(r),n=u.oA(i.filter((t=>(t.user_ids||[]).includes(e.userId))).map((e=>e.name)).sort());if(o||a)return[o||"",a||"",ee(r,e.role),n.join(","),t.id]}))));se(oe([[G.emailMessage,G.nameMessage,G.roleMessage,G.permissionGroupsMessage,G.idMessage].map((e=>r.formatMessage(e))),...a]),"members.csv")}function se(e,t){const s=document.createElement("a");s.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(e)}`),s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function oe(e){return e.map((e=>e.map((e=>((e=e.replace(/"/g,'""')).search(/("|,|\n)/g)>=0&&(e=`"${e}"`),e))).join(","))).join("\n")}async function re(e,t){let{guests:s,intl:o,spaceStore:r}=t;await q.exportSpaceGuests(e,{spaceId:r.getSpaceId()});const i=o.formatMessage(G.pageSeparatorMessage),a=u.oA(await Promise.all(s.map((async t=>{const s=U.U.createChildStore(r,{table:c.KJ,id:t.userId});async function a(t){const s=V.G.createChildStore(r.getPagesStore(),{table:n.iU,id:t});return await s.load(),(0,Z.V)(s,o,e,!1)??o.formatMessage(G.privatePageMessage)}const[,...l]=await Promise.all([s.load(),...t.guestPageIds.map((e=>async function(e){return o.formatMessage(G.pageTitleAndIdMessage,{pageId:e,pageTitle:await a(e)})}(e)))]),d=s.getEmail(),p=s.getFullName(o);if(d||p)return[d||"",p||"",l.join(i),s.id]})))),l=[[G.emailMessage,G.nameMessage,G.pagesMessage,G.idMessage].map((e=>o.formatMessage(e))),...a];se(oe(l),"guests.csv"),D.LA(e,{line_count:l.length})}function ie(e){return!("pdf"===e.exportOptions.exportType&&e.recursive)||ae(e.environment)}function ae(e){return(0,W.qb)(e,"enterprise")||(0,W.qb)(e,"business")||_._Tt()}function ne(e,t){const s=A.ZP.state,o=e.currentUser.id;let r=t;if(A.Sw(r)&&!ae(e))if("space"===r.root.table){const e=s.open&&!A.Sw(s)?s.exportOptions.exportType:"html";r={...r,exportOptions:{...r.exportOptions,exportType:e}}}else r={...r,recursive:!1};if(!ie({environment:e,...r}))throw new i.D3("Invalid export options",{data:r});A.ZP.setState(r),function(e){const t=A.ZP.state;if(t.open){const s={...ce(e),exportType:t.exportOptions.exportType};"pdf"===t.exportOptions.exportType&&(s.pdfFormat=t.exportOptions.pdfFormat),a.Z.set({userId:e,key:de,value:s})}}(o)}function le(){A.ZP.setState({open:!1,shouldExportComments:!1})}const de="ExportSettings";function ce(e){return a.Z.get({userId:e,key:de})}function pe(e){const t=ce(e);return t&&t.pdfFormat||A.jR()}async function ue(e,t){const{currentUserStore:s}=F.default.state,{targetPointer:r}=t;if(!s)return o.log({level:"error",from:"exportActions",type:"exportAuditLogCSV-currentUserStoreNotFound",data:{miscDataToConvertToString:{targetPointer:r}}}),z.showMessage({message:P.default.formatMessage(G.exportFailed)}),void N.y4(e,{target:"auditLog",format:"csv",recursive:!1});if(!s.isDefined())return o.log({level:"error",from:"exportActions",type:"exportAuditLogCSV-currentUserValueNotFound",data:{miscDataToConvertToString:{targetPointer:r}}}),z.showMessage({message:P.default.formatMessage(G.exportFailed)}),void N.y4(e,{target:"auditLog",format:"csv",recursive:!1});let i;N.Md(e,{target:"auditLog",format:"csv",recursive:!1}),r.table===d.bx?i=q.exportAuditLog(e,{spaceId:r.id,exportOptions:t.exportOptions}):r.table===l.V7?i=q.exportAuditLog(e,{organizationId:r.id,exportOptions:t.exportOptions}):(0,g.t1)(r),await ge(i,G.exportAuditLogEmail)}async function me(e){const{environment:t,data:s}=e;N.Md(t,{target:"domainClaimableSpaces",format:"csv",recursive:!1});const o=q.exportDomainClaimableSpaces(t,s);await ge(o,G.exportCSVEmail)}async function ge(e,t){const s=await e.next();if(s.value.error){const e=(0,L.HV)(P.default.getIntl(),s.value.error);z.showErrorMessage(e)}else z.showMessage({message:P.default.formatMessage(t)})}async function fe(e,t){N.Md(e,{target:"userAnalytics",format:"csv",recursive:!1});const s=q.exportUserAnalytics(e,t);await ge(s,G.exportCSVEmail)}async function xe(e,t){N.Md(e,{target:"contentAnalytics",format:"csv",recursive:!1});const s=q.exportContentAnalytics(e,t);await ge(s,G.exportCSVEmail)}async function be(e,t){N.Md(e,{target:"adminContentSearchAnalytics",format:"csv",recursive:!1});const s=q.exportAdminContentSearch(e,{spaceId:t.spaceId,sort:{field:"relevance",direction:"desc"},query:t.filters.query,audience:t.filters.audience,lastEditedTime:(0,f.Hq)(t.filters.lastEditedTime),createdTime:(0,f.Hq)(t.filters.createdTime),createdBy:t.filters.createdBy,sharedWith:t.filters.sharedWith,teamspaceIds:t.filters.teamIds,deletionStatuses:t.filters.pageStatus});await ge(s,G.exportCSVEmail)}async function he(e){let{environment:t,spaceId:s}=e;if(!s)return;const o=await q.getActiveExportTasks(t,{spaceId:s});"success"===o.type&&R.Z.setState({count:o.data.length})}},227617:(e,t,s)=>{s.d(t,{Hq:()=>g,Ij:()=>m,KN:()=>n,PM:()=>d,Qb:()=>p,Zy:()=>c,dd:()=>a,eW:()=>u,mK:()=>f,o0:()=>l});var o=s(407057),r=s(253877),i=s(842875);function a(e,t){return(0,o.ZW)(r.OQ.notionDateTimeToLuxon(e,t.locale),"short")}function n(e,t){return(0,o.ZW)(r.OQ.notionDateTimeToLuxon(e,t.locale),"time")}function l(e,t){return r.OQ.notionDateTimeToLuxon(e,t.locale).toFormat(r._F)}function d(e,t){let s={starting:void 0,ending:void 0};var o,r,a,n;if(t.starting&&t.ending)s={starting:{type:"datetime",start_time:"",start_date:t.starting.start_date,time_zone:""},ending:{type:"datetime",start_time:"",start_date:t.ending.start_date,time_zone:""}},null!==(o=e.starting)&&void 0!==o&&o.start_time&&null!==(r=e.starting)&&void 0!==r&&r.time_zone&&(s.starting={...s.starting,start_time:e.starting.start_time,time_zone:e.starting.time_zone}),null!==(a=e.ending)&&void 0!==a&&a.start_time&&null!==(n=e.ending)&&void 0!==n&&n.time_zone?s.ending={...s.ending,start_time:e.ending.start_time,time_zone:e.ending.time_zone}:s={starting:{...s.starting,start_time:"00:00",time_zone:(0,i.r)()},ending:{...s.ending,start_time:"23:59",time_zone:(0,i.r)()}};else if(t.starting){var l,d;s=null!==(l=e.starting)&&void 0!==l&&l.start_time&&null!==(d=e.starting)&&void 0!==d&&d.time_zone?{starting:{type:"datetime",start_date:t.starting.start_date,start_time:e.starting.start_time,time_zone:e.starting.time_zone},ending:e.ending}:{starting:{type:"datetime",start_date:t.starting.start_date,start_time:"00:00",time_zone:(0,i.r)()},ending:e.ending}}else if(t.ending){var c,p;s=null!==(c=e.ending)&&void 0!==c&&c.start_time&&null!==(p=e.ending)&&void 0!==p&&p.time_zone?{ending:{type:"datetime",start_date:t.ending.start_date,start_time:e.ending.start_time,time_zone:e.ending.time_zone},starting:e.starting}:{ending:{type:"datetime",start_date:t.ending.start_date,start_time:"23:59",time_zone:(0,i.r)()},starting:e.starting}}else s={starting:e.starting,ending:e.ending};return s}function c(e){return e.starting&&e.ending?{starting:{type:"date",start_date:e.starting.start_date},ending:{type:"date",start_date:e.ending.start_date}}:e.starting?{starting:{type:"date",start_date:e.starting.start_date}}:e.ending?{ending:{type:"date",start_date:e.ending.start_date}}:{}}function p(e){if(e)return{type:"date",start_date:e.start_date}}function u(e){return`${e.actorType}:${e.actorId}`}function m(e){const t=e.split(":");if(2===t.length)return"bot"===t[0]?{actorId:t[1],actorType:"bot"}:"notion_user"===t[0]?{actorId:t[1],actorType:"notion_user"}:void 0}function g(e){return{starting:e.starting?{type:"date",start_date:e.starting.start_date}:void 0,ending:e.ending?{type:"date",start_date:e.ending.start_date}:void 0}}function f(e){return void 0===e.starting&&void 0===e.ending}},333241:(e,t,s)=>{s.d(t,{M:()=>g,d:()=>m});s(667294);var o=s(724405),r=s(882855),i=s(186517),a=s(361220),n=s(815047),l=s(709291),d=s(531701),c=s(401898),p=s(489728),u=s(785893);function m(e){let{type:t,role:s,events:i,disabled:a,buttonStyle:n,buttonContents:d,icon:c,table:m,isRemovable:f,isCurrentUser:x}=e;const b=(0,o.yK)((e=>({button:{marginRight:8,...n},icon:{width:10,marginLeft:4,fill:e.lightIconColor},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}})),[n]),h=c||!a&&r.E;return(0,u.jsxs)(p.Z,{...i,disabled:a,style:b.button,children:[d||(0,u.jsx)("span",{className:"notranslate",style:b.label,children:(0,u.jsx)(l.FormattedMessage,{...g({type:t,role:s,table:m,isRemovable:f,isCurrentUser:x}).label})}),h&&h(b.icon)]})}function g(e){let{type:t,role:s,table:o,isRemovable:r,isCurrentUser:l}=e;if("access"===s)return{label:i.mq.canAccessLabel};if("limited"===s)return{label:i.mq.limitedAccessLabel};if((0,i.oF)(s))return(0,i.Gx)(s,o);switch(s){case"editor":return o===n.bx||o===a.V7?{label:i.mq.workspaceOwnerLabel,caption:i.mq.workspaceOwnerCaption}:{label:i.mq.fullAccessLabel,caption:i.mq.fullAccessCaption};case"membership_admin":return o===n.bx||o===a.V7?{label:i.mq.membershipAdminLabel,caption:i.mq.membershipAdminCaption}:{label:i.mq.canEditLabel,caption:i.mq.canEditCaption};case"read_and_write":return o===n.bx||o===a.V7?{label:i.mq.memberLabel,caption:i.mq.memberCaption}:{label:i.mq.canEditLabel,caption:i.mq.canEditCaption};case"content_only_editor":return{label:i.mq.canEditContentLabel,caption:i.mq.canEditContentCaption};case"reader":return{label:i.mq.canReadLabel,caption:i.mq.canReadCaption};case"comment_only":return{label:i.mq.canCommentLabel,caption:i.mq.canCommentCaption};case"none":return"public_permission"===t?{label:i.mq.unpublishPageLabel,caption:i.mq.unpublishPageCaption}:r?o===n.bx||o===a.V7?l?{label:i.mq.leaveWorkspaceLabel,style:{color:d.ZP.red}}:{label:i.mq.removeFromWorkspaceLabel,style:{color:d.ZP.red}}:{label:i.mq.removeWorkspaceLabel,style:{color:d.ZP.red}}:{label:i.mq.noAccessLabel,style:{color:d.ZP.red}};default:(0,c.t1)(s)}}},207567:(e,t,s)=>{s.d(t,{ZP:()=>H});s(757658),s(667294);var o=s(800480),r=s(886628),i=s(724405),a=s(841892),n=s(536591),l=s(186517),d=s(772141),c=s(361220),p=s(815047),u=s(647425),m=s(709291),g=s(401898),f=s(91536),x=s(547307),b=s(95477),h=s(843250),y=s(433929),v=s(460709),M=s(98742),C=s(367669),w=s(918514),S=s(825464),j=s(61766),T=s(960709),k=s(44041),_=s(854669),L=s(170060),P=s(88893),Z=s(535057),R=s(552275),F=s(231945),O=s(478140),A=s(828992),B=s(632163),I=s(174136),E=s(672495),V=s(526388),U=s(164369),W=s(484015),N=s(942402),D=s(333241),q=s(760442),z=s(785893);const K=(0,m.defineMessages)({fullAccessTeamGuestsDisabledMessage:{id:"permissionRoleSelect.teamGuestPermissionItem.disabledPermissionitem.tooltip",defaultMessage:"Teamspace guests can't have full access."}});const H=function(e){let{isUserPermission:t,type:s,table:i,role:a,isInvite:n,availableRoleItems:u,blockType:g,onClick:f,origin:x,isMenuItem:b,isRemovableOverride:M,disabled:w,buttonContents:S,buttonPopupStore:k,buttonStyle:_,placementToOrigin:L,alignmentToOrigin:P,upgradeButtonName:Z,onUpgradeButtonClick:I,onChange:V,onRemoveMemberClick:U,header:N,footer:q,showPermissionOverrideWarning:H}=e;const G=(0,o.O7)(),X=(0,r.qz)(k,j.Z),{device:ee}=G,te=!!t,se=(0,r.VK)((()=>function(e,t,s,o,r,i){if(r&&r.length>0)return r;if(t===c.V7){let e=d.an.map((e=>({role:e})));return o&&(e=e.filter((e=>"none"!==e.role))),e}const a=[];"explicit_team_guest_permission"===e?a.push({role:"editor",disabledInfo:{isDisabled:!0,disabledMessage:y.default.formatMessage(K.fullAccessTeamGuestsDisabledMessage)}}):"bot_permission"!==e&&"public_permission"!==e&&a.push({role:"editor"});"space"===t&&(0,C.U7)()&&a.push({role:"membership_admin"});a.push({role:"read_and_write"}),"collection_view"!==i&&"collection_view_page"!==i||"bot_permission"===e&&"content_only_editor"!==s||"public_permission"===e||a.push({role:"content_only_editor"});t!==p.bx&&("bot_permission"!==e&&a.push({role:"comment_only"}),"bot_permission"===e&&"reader"!==s||a.push({role:"reader"}));o||a.push({role:"none"});return a}(s,i,a,n,u,g)),[s,i,a,n,u,g]);return(0,z.jsx)(F.ZP,{onClick:e=>{e.preventDefault(),e.stopPropagation(),f&&f()},popupType:ee.isMobile?F.Z4.SlideUp:F.Z4.Popup,buttonPopupStore:X,renderOrigin:e=>x||(b?(0,z.jsx)(R.Z,{...e,title:(0,z.jsx)(m.FormattedMessage,{...(0,D.M)({type:s,role:a,table:i,isRemovable:$(s,M),isCurrentUser:te}).label}),focused:!1,showExtensionArrow:!0}):(0,z.jsx)(D.d,{type:s,role:a,events:e,disabled:w,buttonContents:S,buttonStyle:_,table:i,isRemovable:$(s,M),isCurrentUser:te})),placementToOrigin:L||T.Iw.Bottom,alignmentToOrigin:P,render:e=>{let o,r;return o=(0,l.oF)(a)?[{key:"mixed_role_section",render:e=>(0,z.jsx)(E.Z,{...e,topBorder:!1}),items:[{key:"mixed_role_description",render:()=>(0,z.jsx)(W._,{role:a}),action:()=>{}}]},{key:"bot_capabilities_warning",render:e=>(0,z.jsx)(E.Z,{...e,topBorder:!0}),items:[{key:"warning_details",render:e=>(0,z.jsx)(A.Z,{...e,shouldWrapCaption:!0,caption:"Integration permissions cannot be changed on a page. You can manage integrations in settings."}),action:()=>{}}]},{key:"remove_bot",render:e=>(0,z.jsx)(E.Z,{...e,topBorder:!0}),items:[{key:"none",render:e=>(0,z.jsx)(Q,{role:a,upgradeButtonName:Z,onUpgradeButtonClick:I,focused:e.focused,props:e,availableRole:{role:"none"},isCurrentUser:!!t,isRemovableOverride:M,table:i,type:s}),action:()=>{Y("none",i,a,s,Z,G,se,V,I,t,U),e.close()}}]}]:[{key:"roles",render:e=>(0,z.jsx)(E.Z,{...e,topBorder:0!==e.index}),items:se.map((o=>({key:o.role,render:e=>(0,z.jsx)(Q,{role:a,upgradeButtonName:Z,onUpgradeButtonClick:I,focused:e.focused,props:e,availableRole:o,isCurrentUser:!!t,isRemovableOverride:M,table:i,type:s}),action:()=>{Y(o.role,i,a,s,Z,G,se,V,I,t,U),e.close()}})))}],r=ee.isMobile?{menuType:v.og.Modal,title:(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.mobile.title",defaultMessage:"Select role"}),right:(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:e.close}:{menuType:v.og.Popup,width:264},(0,z.jsx)(O.Z,{className:h.a6i,header:N,footer:(0,z.jsxs)(z.Fragment,{children:[q,H&&(0,z.jsx)(J,{})]}),...r,children:(0,z.jsx)(B.Z,{type:B.i.Vertical,initialFocus:void 0,sections:o})})}})};function G(e,t,s){const o=t===c.V7?"enterprise":(0,Z.zt)();if((0,u.QM)(o)){if((t===p.bx?d.RN(e):d.J5(e)&&!d.zz(e))&&"public_permission"!==s&&"bot_permission"!==s)return t===p.bx?(0,z.jsx)(q.Z,{imageURL:a.Z.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,z.jsx)(m.FormattedMessage,{defaultMessage:"Members cannot change workspace settings or invite new members.",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.caption"}),title:(0,z.jsx)(m.FormattedMessage,{defaultMessage:"Upgrade to add non-admin members",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.title"})}):(0,z.jsx)(q.Z,{imageURL:a.Z.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,z.jsx)(m.FormattedMessage,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:(0,z.jsx)(m.FormattedMessage,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})})}return!1}function $(e,t){if(void 0!==t)return t;switch(e){case"user_permission":case"bot_permission":case"group_permission":return!0;case"space_permission":case"explicit_team_permission":case"team_permission":case"team_owner_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"public_permission":case"trusted_domain_permission":case"exclusive_user_permission":return!1;default:(0,g.t1)(e)}}async function Y(e,t,s,o,r,i,a,n,d,u,g){if(s===e)return;const h=()=>{n&&n(e)};if(f.Mv({newRole:e,availableRoles:a}),G(e,t,o)&&!b.default.isAdminMode)k.y(i,{from:r,for:P.M9(i)||"plus"}),d&&d();else if(function(e,t,s){return s&&(0,l.nl)(t,e)===t&&"none"===e}(e,s,u))x.showDialog({showCancel:!0,keepFocus:!1,message:t===p.bx||t===c.V7?(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:h}]});else if(function(e,t,s){return s&&(0,l.nl)(t,e)===t}(e,s,u))x.showDialog({showCancel:!0,keepFocus:!1,message:(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:h}]});else if(function(e,t){return(t===p.bx||t===c.V7)&&"none"===e}(e,t))if(g)g();else{await async function(e){const{message:t}=e;return new Promise((e=>{x.showDialog({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),message:t,items:[{label:(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>e(!0)}]})}))}({message:(y=!0,y&&(0,Z.wP)()?(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.enterprise.confirmationMessage",defaultMessage:"If you remove this member, they will lose workspace access. After their removal, you may transfer their private pages to another member. <transferpagelink>Learn more</transferpagelink>.",values:{transferpagelink:e=>(0,z.jsx)(N.Z,{href:(0,w.UY)("guides.transferContent"),external:!0,children:e})}}):y?(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}))})&&h()}else if(function(e,t){return"public_permission"===e&&"none"===t}(o,e)){await async function(){return new Promise((e=>{x.showDialog({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),description:(0,z.jsx)(m.FormattedMessage,{id:"permissionRoleSelect.unpublishConfirmation.description",defaultMessage:"Removing access will unpublish this page from the web."}),message:(0,z.jsx)(m.FormattedMessage,{id:"permissionRoleSelect.unpublishConfirmation.message",defaultMessage:"Are you sure you want to remove access?"}),items:[{label:(0,z.jsx)(m.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.unpublishAction.label",defaultMessage:"Remove access"}),color:"red",onAccept:()=>e(!0)}]})}))}()&&h()}else h();var y}function Q(e){const{availableRole:t,isCurrentUser:s,role:a,table:l,type:d,isRemovableOverride:c,upgradeButtonName:p,onUpgradeButtonClick:u}=e,{label:g,caption:f}=(0,D.M)({type:d,role:t.role,table:l,isRemovable:$(d,c),isCurrentUser:s}),x=(0,i.Fg)(),b=(0,o.O7)(),{device:h}=b,{onClick:y,key:v,...C}=e.props,w=t.disabledInfo,j=(0,r.VK)((()=>G(t.role,l,d)),[t,l,d]),T=(0,r.VK)((()=>b.device.isMobile&&L.bQ()),[b]),k=Boolean(j),Z=(0,r.VK)((()=>k&&P.M9(b)),[b,k]),F=k&&!T;return w&&w.isDisabled?(0,z.jsx)(V.Z,{delayThreshold:0,renderTooltip:e=>(0,z.jsx)("div",{...e,children:w.disabledMessage}),placement:S.u.Right,textWrap:!0,render:s=>(0,z.jsx)(R.Z,{...s,focused:e.focused,disabled:!0,disabledFeedback:!0,right:a===t.role?(0,z.jsx)("div",{style:{width:h.isMobile?16:14},children:(0,n.e)()}):void 0,title:(0,z.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,z.jsx)("div",{style:{...e.style,marginRight:j?6:0},children:(0,z.jsx)(m.FormattedMessage,{...g})})}),caption:f&&(0,z.jsx)("span",{style:{color:x.mediumTextColor},children:(0,z.jsx)(m.FormattedMessage,{...f})}),shouldWrapCaption:!0})}):(0,z.jsx)(_.Z,{requireUpgradeToTier:Z,analyticsName:p,renderUpgradeTooltip:()=>j,tooltipPlacement:S.u.Left,onClick:y,onUpgradeClick:u,render:(s,o)=>{const{focused:r,...i}=(0,M.Z)(C,s);return(0,z.jsx)(R.Z,{...i,focused:r||e.focused,right:a===t.role?(0,z.jsx)("div",{style:{width:h.isMobile?16:14},children:(0,n.e)()}):void 0,title:(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,z.jsx)("div",{style:{...e.style,marginRight:j?6:0},children:(0,z.jsx)(m.FormattedMessage,{...g})}),o,e.availableRole.tag&&(0,z.jsx)(I.Z,{desktopStyle:{marginLeft:7},children:e.availableRole.tag})]}),caption:f&&(0,z.jsx)("span",{style:{color:x.mediumTextColor},children:(0,z.jsx)(m.FormattedMessage,{...f})}),shouldWrapCaption:!0,disabled:F})}})}function J(){const e=(0,i.Fg)(),t=(0,o.O7)(),{device:s}=t;return(0,z.jsx)(U.Z,{style:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:s.isMobile?28:1},isMultiline:!0,isSmall:!0,children:(0,z.jsx)(m.FormattedMessage,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"You’ll override permissions from the parent page if you change this role."})})}},427386:(e,t,s)=>{s.d(t,{Um:()=>u,ZP:()=>m,kN:()=>p});s(667294);var o=s(800480),r=s(724405),i=s(772770),a=s(434859),n=s(791754),l=s(661519),d=s(953336),c=s(785893);function p(e){return e?18:60}function u(){return(0,c.jsx)(l.Z,{size:37})}const m=function(e){let{children:t,controlRow:s,bannerText:l,controlRowPaddingTopBottom:u,removeBoxShadow:m,contentPaddingLeftRight:g,controlRowPaddingLeftRight:f,getPaddingTopBottom:x,disableScroller:b,maxWidth:h}=e;const y=(0,o.O7)(),{device:v}=y,M=x?x():v.isMobile?18:36,C=(0,r.yK)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:h??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:g??p(v.isMobile),paddingRight:g??p(v.isMobile),paddingTop:l?15:M,paddingBottom:l?22:M},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:f??p(v.isMobile),paddingRight:f??p(v.isMobile),paddingTop:u,paddingBottom:u,boxShadow:m?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:p(v.isMobile),paddingRight:p(v.isMobile)},childrenWithoutScroller:{paddingTop:M,paddingBottom:M},controlRowWithoutScroller:{paddingTop:u,paddingBottom:u,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[h,g,v.isMobile,l,M,f,u,m]);return b?(0,c.jsxs)("div",{style:C.containerWithoutScroller,children:[(0,c.jsx)("div",{style:C.childrenWithoutScroller,children:t}),s&&(0,c.jsx)("div",{style:C.controlRowWithoutScroller,children:s})]}):(0,c.jsxs)("div",{style:C.containerWithScroller,children:[l&&(0,c.jsx)(n.Z,{styleKey:i.v.Blue,isMobile:!1,children:l}),(0,c.jsx)(d.Z,{type:a.Z.All,style:C.scroller,children:t}),s&&(0,c.jsx)("div",{style:C.controlRowWithScroller,children:s})]})}},555422:(e,t,s)=>{s.d(t,{L:()=>A,Z:()=>F});s(757658);var o=s(667294),r=s(800480),i=s(886628),a=s(724405),n=s(536591),l=s(542853),d=s(16184),c=s(709291),p=s(401898),u=s(761045),m=s(311368),g=s(460709),f=s(123570),x=s(825464),b=s(44041),h=s(891694),y=s(552275),v=s(231945),M=s(478140),C=s(828992),w=s(632163),S=s(863296),j=s(489728),T=s(672495),k=s(824006),_=s(526388),L=s(164369),P=s(427386),Z=s(723189),R=s(785893);function F(e){const{title:t,caption:s,captionStyle:n,isMobile:l,upsellOptions:d,type:c,shouldHighlight:p}=e,g=(0,r.O7)(),{paddingLeftCSS:y,paddingRightCSS:v}=(0,i.VK)((()=>{const{paddingLeftCSS:e,paddingRightCSS:t}=g.WindowSizeStore.state;return{paddingLeftCSS:e,paddingRightCSS:t}}),[g]),[M,C]=(0,o.useState)(!1),w=(0,o.useCallback)((()=>C(!0)),[C]),S=(0,o.useCallback)((()=>C(!1)),[C]),j=(0,o.useContext)(m.Ue),T=(0,o.useRef)(null);(0,o.useEffect)((()=>{p&&T.current&&u.bx({element:T.current,scrollers:{verticalScroller:null==j?void 0:j.verticalScroller},vertical:{reveal:"closest"},horizontal:void 0,animate:!0})}),[p,T,null==j?void 0:j.verticalScroller]);const k=(0,o.useMemo)((()=>{if(l){if("dropdown"===c)return{display:"flex",flexDirection:"column"};if("toggleToButton"===e.type&&e.isOn||"custom"===e.type&&!0===e.useFlexboxStyle)return{}}return{display:"flex",alignItems:"center",justifyContent:"space-between"}}),[l,c,e]),F=(0,a.yK)((t=>({container:{...k,paddingLeft:l?y:void 0,paddingRight:l?v:void 0,cursor:M&&!e.disabled?"pointer":e.disabled?"not-allowed":"default",...p?{backgroundColor:t.buttonHoveredBackground,marginLeft:-1*(0,P.kN)(l),marginRight:-1*(0,P.kN)(l),paddingLeft:(0,P.kN)(l),paddingRight:(0,P.kN)(l),marginTop:-1*(0,f.f)(l)/2,marginBottom:-1*(0,f.f)(l)/2,paddingTop:(0,f.f)(l)/2,paddingBottom:(0,f.f)(l)/2}:{}},description:{display:"flex",flexDirection:"column",marginRight:"10%",width:"60%"},captionStyle:{...n},title:{display:"flex",flexDirection:"row"}})),[l,y,v,p,M,n,e.disabled,k]),A="toggle"===e.type||"toggleToButton"===e.type||"custom"===e.type&&!e.disableSettingsItemClick,B=(0,R.jsxs)("div",{ref:T,style:F.container,onClick:()=>{if(!(e.disabled||"custom"===e.type&&e.disableSettingsItemClick))return d&&d.shouldUpsell?b.y(g,{from:d.analyticsName,for:d.subscriptionTier}):void("toggle"===e.type?e.onToggle():"toggleToButton"===e.type?e.onClick():"custom"===e.type&&e.customButton&&o.isValidElement(e.customButton)&&e.customButton.props.onClick&&"function"==typeof e.customButton.props.onClick&&e.customButton.props.onClick())},onMouseEnter:A?w:void 0,onMouseLeave:A?S:void 0,children:[(0,R.jsxs)("div",{style:F.description,children:[(0,R.jsxs)(Z.Z,{smallMarginBottom:!0,disabled:e.disabled,isCritical:e.isCritical,children:[(0,R.jsxs)("div",{style:F.title,children:[t,e.badge]}),d&&d.shouldUpsell&&(0,R.jsx)(h.Z,{subscriptionTier:d.subscriptionTier,analyticsName:d.analyticsName,onClick:()=>b.y(g,{from:d.analyticsName,for:d.subscriptionTier}),desktopStyle:{display:"inline-block",marginLeft:8,marginTop:-3}})]}),(0,R.jsx)(L.Z,{style:F.captionStyle,isSmall:!0,isMultiline:!0,children:s})]}),(0,R.jsx)(O,{...e})]});return e.tooltipLabel?(0,R.jsx)(_.Z,{placement:x.u.Bottom,alignment:x.v.Center,disableTooltip:e.disableTooltip,renderTooltip:()=>e.tooltipLabel,render:e=>(0,R.jsx)("div",{...e,children:B})}):B}function O(e){return"toggle"===e.type?(0,R.jsx)(k.Z,{on:e.isOn,disabled:e.disabled,isLocked:e.isLocked,lockedTooltip:e.lockedTooltip}):"dropdown"===e.type?(0,R.jsx)(A,{...e}):"custom"===e.type?(0,R.jsx)(R.Fragment,{children:e.customButton}):"toggleToButton"===e.type?e.isOn?(0,R.jsx)("div",{style:{marginTop:12},children:(0,R.jsx)(S.Z,{isLarge:!0,onClick:e.onClick,style:e.buttonStyle,disabled:e.disabled,children:e.buttonLabel})}):(0,R.jsx)(k.Z,{on:!1,onClick:e.onClick,disabled:e.disabled}):void(0,p.t1)(e)}function A(e){var t;const{isMobile:s,title:o,upsellOptions:r,currentOption:i,options:p,info:u,onSelectOption:m,menuStyle:f,buttonStyle:b,isLocked:h,lockedTooltip:S}=e,k=null===(t=p.find((e=>{let{key:t}=e;return t===i})))||void 0===t?void 0:t.label,L=(0,a.yK)((e=>({button:{marginTop:12,marginBottom:4,marginRight:s?"auto":void 0,paddingLeft:s?12:8,paddingRight:s?12:8,height:s?44:28,border:s?`1px solid ${e.outlineButtonBorder}`:void 0,...b},icon:{width:10,marginLeft:4,fill:e.lightIconColor},lockedContainer:{display:"flex",alignItems:"center",justifyContent:"center"},lockedIcon:{marginTop:12,marginBottom:4,height:16,width:16,color:e.grayButtonBackground}})),[s,b]),P=Boolean(r&&r.shouldUpsell)||e.disabled||h,Z=(0,R.jsx)(v.ZP,{popupType:s?v.Z4.SlideUp:v.Z4.Popup,placementToOrigin:v.pO.Right,renderOrigin:e=>(0,R.jsxs)(j.Z,{...e,isLarge:!0,style:{...L.button,opacity:P?.4:1},disabled:P,children:[k,(0,l.i)(L.icon)]}),render:e=>{let t;t=s?{menuType:g.og.Modal,title:o,right:(0,R.jsx)(c.FormattedMessage,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:e.close}:{menuType:g.og.Popup,width:250,...f};const r=[{key:"settings-item-section",render:e=>(0,R.jsx)(T.Z,{...e}),items:p.map((t=>{let{key:o,label:r,caption:i}=t;return{key:o,action:()=>{m(o),e.close()},render:e=>(0,R.jsx)(y.Z,{...e,title:r,caption:i,shouldWrapCaption:!0,right:k===r?(0,R.jsx)("div",{style:{width:s?16:14},children:(0,n.e)()}):void 0})}}))}];if(u){const e=u.map((e=>{let{key:t,label:s}=e;return{key:t,action:()=>{},render:e=>(0,R.jsx)(C.Z,{...e,shouldWrapCaption:!0,caption:s})}}));r.push({key:"info-item-section",render:e=>(0,R.jsx)(T.Z,{...e,topBorder:!0}),items:e})}return(0,R.jsx)(M.Z,{...t,children:(0,R.jsx)(w.Z,{type:w.i.Vertical,sections:r,initialFocus:void 0})})}});return h?(0,R.jsx)(_.Z,{placement:x.u.Left,alignment:x.v.Start,disableTooltip:!S,renderTooltip:()=>S,render:e=>(0,R.jsxs)("div",{style:L.lockedContainer,...e,children:[(0,d.Q)(L.lockedIcon),Z]})}):Z}},66957:(e,t,s)=>{s.d(t,{Z:()=>p});var o=s(667294),r=s(800480),i=s(886628),a=s(724405),n=s(460709),l=s(489728),d=s(785893);function c(e){let{tabs:t,selectedIndex:s,onChange:c,separatorIndexes:p,right:u,style:m,rightStyle:g,tabStyle:f,tabTitleStyle:x,tabBorderStyle:b,selectedTabStyle:h,readOnly:y,hideTabBorder:v}=e;const M=(0,o.useContext)(n.Xp),{device:C,WindowSizeStore:w}=(0,r.O7)(),{safePaddingLeft:S,safePaddingRight:j}=(0,i.VK)((()=>({safePaddingLeft:w.getSafePaddingLeftCSS(16),safePaddingRight:w.getSafePaddingRightCSS(16)})),[w]),T=(0,a.yK)((e=>{const t={paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.mediumTextColor,...f},s=`inset 0 -1px 0 ${e.regularDividerColor}`,o=M.menuType===n.og.Popup,r={fontSize:16,paddingTop:2,paddingLeft:o?16:S,paddingRight:o?16:j,zIndex:2,height:44,background:e.popoverBackground};return{container:{overflowY:"visible",overflowX:"auto",display:"flex",width:"100%",position:"relative",boxShadow:v?void 0:s,...C.isMobile?r:{fontSize:14,paddingLeft:8,paddingRight:8,zIndex:1},...m},separator:{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.regularDividerColor},mobile:{},tab:t,selectedTab:{...t,position:"relative",color:e.regularTextColor,...h},border:{borderBottom:`2px solid ${e.regularTextColor}`,position:"absolute",bottom:0,left:8,right:8,...b},rightContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:e.mediumTextColor,...g}}}),[M.menuType,C.isMobile,g,S,j,h,m,b,f,v]);return(0,d.jsxs)("div",{className:"hide-scrollbar",style:T.container,children:[t.map(((e,t)=>{const r=t===s;return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsxs)("div",{style:r?T.selectedTab:T.tab,children:[(0,d.jsx)(l.Z,{style:x,onClick:()=>c(t),disabled:y,mobileFeedback:C.isMobile,children:e}),r&&(0,d.jsx)("div",{style:T.border})]},`tabButton-${t}`),p&&p.includes(t)&&(0,d.jsx)("div",{style:T.separator,className:"notranslate",children:"|"},`${t}-separator`)]},t)})),u&&(0,d.jsx)("div",{style:T.rightContainer,children:u})]})}const p=o.memo(c)},588775:(e,t,s)=>{s.d(t,{ZP:()=>_});var o=s(667294),r=s(800480),i=s(886628),a=s(724405),n=s(542853),l=s(709291),d=s(433929),c=s(460709),p=s(455838),u=s(30397),m=s(88893),g=s(109867),f=s(274016),x=s(748019),b=s(552275),h=s(231945),y=s(268894),v=s(478140),M=s(489728),C=s(672495),w=s(164369),S=s(785893);function j(e){let{teamsForMember:t,shouldHideTeamMemberCount:s}=e;const o=(0,a.yK)((e=>({button:{marginRight:8},noTeams:{marginRight:8,color:e.lightTextColor},chevron:{width:10,marginLeft:4,fill:e.lightIconColor}})),[]),r=t.length;return(0,S.jsx)(h.ZP,{popupType:h.Z4.Popup,renderOrigin:e=>(0,S.jsx)(M.Z,{disabled:0===r,style:0===r?o.noTeams:o.button,...e,children:0===r?(0,S.jsx)(l.FormattedMessage,{id:"teamsDropdownForMember.teamsCountNone.label",defaultMessage:"No access"}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.FormattedMessage,{id:"teamsDropdownForMember.teamsCount.label",defaultMessage:"{numberOfTeams, plural, one {{numberOfTeams} teamspace} other {{numberOfTeams} teamspaces}}",values:{numberOfTeams:r}}),(0,n.i)(o.chevron)]})}),render:()=>(0,S.jsx)(k,{teamStores:t,shouldHideTeamMemberCount:s})})}const T=(0,l.defineMessages)({filterTeams:{defaultMessage:"Filter teamspaces…",id:"teamsDropdownForMember.filterForTeams.placeholder"}});function k(e){const{shouldHideTeamMemberCount:t}=e,s=(0,r.O7)(),n=(0,a.yK)((()=>({teamMenuItem:{fontWeight:400,maxWidth:180}})),[]),[u,h]=(0,o.useState)(""),M=(0,o.useCallback)((e=>g.RF({environment:s,teamId:e,tab:p.a.Members,from:"teams_dropdown_for_team_member"})),[s]),j=(0,i.VK)((()=>[{key:"teams for member",render:e=>(0,S.jsx)(C.Z,{...e}),actions:e.teamStores.map((e=>{const s={key:e.id,displayName:e.getName(),analyticsName:e.getName()||"team_unknown",searchName:e.getName(),render:s=>(0,S.jsx)(b.Z,{icon:(0,S.jsx)(f.p,{disabled:!0,store:e}),title:(0,S.jsx)(w.Z,{style:n.teamMenuItem,children:e.getName()}),caption:t?void 0:(0,S.jsx)(l.FormattedMessage,{defaultMessage:"{numMembers} {numMembers, plural, one {member} other {members}}",id:"teamsDropdownForMember.numMembers",values:{numMembers:e.getNumberOfMembersOrZero((0,m.Io)())}}),inline:!0,...s}),action:()=>{M(e.id)},closeParentMenu:!1};return s}))}]),[e.teamStores,n.teamMenuItem,M,t]),k=u,_=(0,S.jsx)(C.Z,{isInput:!0,children:(0,S.jsx)(y.ZP,{value:k,onChange:(0,o.useCallback)((e=>{h(e.target.value)}),[]),focus:!0,focusAfterAnimation:!0,placeholder:d.default.formatMessage(T.filterTeams)})}),L={menuType:c.og.Popup,maxWidth:350,maxHeight:300,header:e.teamStores.length>5?_:void 0};return(0,S.jsx)(v.Z,{...L,children:(0,S.jsx)(x.Z,{filter:k,context:{blocks:[],environment:s,publicEditMode:void 0},initialFocus:0,sections:j})})}const _=function(e){const t=(0,i.VK)((()=>e.teamStores??u.Z.state.teams),[e.teamStores]),s=(0,i.VK)((()=>t.filter((t=>t.isMemberOrGuest(e.member.userId)))),[t,e.member]);return(0,S.jsx)(j,{teamsForMember:s})}},171119:(e,t,s)=>{s.d(t,{UG:()=>d,cR:()=>c,pf:()=>l,pu:()=>p});var o=s(709291),r=s(401898),i=s(454642),a=s(433929);const n=(0,o.defineMessages)({sms:{id:"mfaMethod.sms",defaultMessage:"SMS"},totp:{id:"mfaMethod.totp",defaultMessage:"Authenticator"},backupCode:{id:"mfaMethod.backupCode",defaultMessage:"Backup code"}}),l={"data-1p-ignore":"true","data-lpignore":"true"};function d(e){const t=["totp","sms","backup_code"];return e.sort(((e,s)=>{const o=t.indexOf(e.mfaMethod),r=t.indexOf(s.mfaMethod);return o===r?e.createdAt-s.createdAt:o-r}))}function c(e){switch(e){case"sms":return a.default.formatMessage(n.sms);case"totp":return a.default.formatMessage(n.totp);case"backup_code":return a.default.formatMessage(n.backupCode);default:(0,r.t1)(e)}}async function p(e){const t=await i.authGetLoginConfiguration(e,{});if("success"===t.type){const e=t.data,s="required"!==e.samlSignIn&&e.hasAccount&&e.passwordSignIn,o="required"===e.samlSignIn,r="required"!==e.samlSignIn&&e.hasAccount&&e.mfaOptions.length>0,i=s&&!o?r?"on":"off":"disabled",a=e.mfaOptions.find((e=>"backup_code"===e.mfaMethod));return{hasPassword:s,canConfigurePassword:!o,isSamlEnforced:o,mfaStatus:i,numMfaSettings:e.mfaOptions.length,regenerateBackupCodes:void 0===a&&"on"===i}}throw t.error}},123570:(e,t,s)=>{function o(e){return e?32:18}s.d(t,{f:()=>o})},613630:(e,t,s)=>{s.d(t,{Z:()=>i});var o=s(749085);class r extends o.default{getInitialState(){return{count:0}}}const i=new r},771071:(e,t,s)=>{s.d(t,{Sw:()=>a,ZP:()=>d,jR:()=>n});var o=s(313991),r=s(749085);const i=["en","en-us","en-ca"];function a(e){return"pdf"===e.exportOptions.exportType}function n(){return i.includes(o.SP.toLowerCase())?"Letter":"A4"}class l extends r.default{getInitialState(){return{open:!1,shouldExportComments:!1}}}const d=new l},891694:(e,t,s)=>{s.d(t,{Z:()=>x});s(667294);var o=s(800480),r=s(886628),i=s(724405),a=s(647425),n=s(709291),l=s(531701),d=s(401898),c=s(137810),p=s(174136),u=s(526388),m=s(825464),g=s(44041),f=s(785893);const x=function(e){let{subscriptionTier:t,mobileStyle:s,desktopStyle:x,analyticsName:b,onClick:h}=e;const y=(0,i.Fg)(),v=(0,o.O7)(),{device:M}=v,C=M.isIOS&&M.isNative,w=(0,r.VK)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?l.ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:c.Z.fontWeight.medium};default:return{}}}(t,y)),[t,y]);if(C)return null;let S;return"personal"===t?S=(0,f.jsx)(n.FormattedMessage,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,a.eR)(t)?S=(0,f.jsx)(n.FormattedMessage,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,a.NG)(t)?S=(0,f.jsx)(n.FormattedMessage,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,a.wP)(t)?S=(0,f.jsx)(n.FormattedMessage,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,d.t1)(t),M.isMobile?(0,f.jsx)(p.Z,{mobileStyle:s,children:S}):(0,f.jsx)(u.Z,{delayThreshold:120,placement:m.u.Bottom,renderTooltip:()=>(0,f.jsxs)("div",{style:{maxWidth:500},children:[(0,f.jsx)(n.FormattedMessage,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"}),(0,f.jsx)("br",{}),(0,f.jsx)(n.FormattedMessage,{defaultMessage:"Click to learn more.",id:"upgradeButton.learnMore.tooltip"})]}),originGap:6,render:e=>(0,f.jsx)(p.Z,{desktopStyle:x,innerStyle:w,onClick:e=>function(e,t,s,o,r){g.y(o,{from:t,for:s}),r&&r(e)}(e,b,t,v,h),...e,children:S})})}},854669:(e,t,s)=>{s.d(t,{Z:()=>d});s(667294);var o=s(800480),r=s(526388),i=s(98742),a=s(44041),n=s(891694),l=s(785893);const d=function(e){const t=(0,o.O7)(),{render:s,requireUpgradeToTier:d,analyticsName:c,renderUpgradeTooltip:p,onUpgradeClick:u,alwaysAllowClick:m,tooltipPlacement:g,upgradeButtonDesktopStyle:f,upgradeButtonMobileStyle:x}=e;let b,{onClick:h,renderTooltip:y}=e;return d&&(b=(0,l.jsx)(n.Z,{subscriptionTier:d,analyticsName:c,desktopStyle:{display:"inline-block",pointerEvents:"none",...f},mobileStyle:{display:"inline-block",pointerEvents:"none",...x}}),m||(h=e=>{a.y(t,{from:c,for:d}),u&&u(e)},y=p)),(0,l.jsx)(r.Z,{renderTooltip:y||(()=>null),render:e=>s((0,i.Z)(e,{onClick:h}),b),disableTooltip:!y,placement:g})}},250501:(e,t,s)=>{s.d(t,{g:()=>o});const o=28*s(619584).A0},107189:(e,t,s)=>{s.d(t,{K:()=>i});s(667294);var o=s(745238),r=s(785893);const i=(0,o.IU)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,r.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},882855:(e,t,s)=>{s.d(t,{E:()=>i});s(667294);var o=s(745238),r=s(785893);const i=(0,o.IU)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,r.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},933679:(e,t,s)=>{s.d(t,{j:()=>i});s(667294);var o=s(745238),r=s(785893);const i=(0,o.IU)("lockShield",{viewBox:"0 0 21 25",svg:(0,r.jsx)("path",{d:"M10.418 24.75C10.6289 24.75 10.9453 24.668 11.25 24.5039C17.9766 20.8359 20.3203 19.1484 20.3203 14.8828V6.01172C20.3203 4.62891 19.7812 4.13672 18.6211 3.64453C17.3203 3.09375 12.9258 1.54688 11.6367 1.125C11.2617 0.996094 10.8164 0.914062 10.418 0.914062C10.0312 0.914062 9.58594 1.01953 9.19922 1.125C7.92188 1.47656 3.52734 3.10547 2.22656 3.64453C1.06641 4.125 0.527344 4.62891 0.527344 6.01172V14.8828C0.527344 19.1484 2.87109 20.8242 9.59766 24.5039C9.90234 24.668 10.2188 24.75 10.418 24.75ZM10.418 22.2891C10.2539 22.2891 10.0781 22.2305 9.75 22.0195C4.38281 18.7617 2.71875 17.8711 2.71875 14.4375V6.38672C2.71875 5.97656 2.8125 5.8125 3.12891 5.68359C4.86328 4.98047 8.23828 3.86719 9.80859 3.24609C10.0664 3.15234 10.2539 3.11719 10.418 3.11719C10.5938 3.11719 10.7695 3.15234 11.0273 3.24609C12.6094 3.86719 15.9492 5.05078 17.707 5.68359C18.0352 5.80078 18.1172 5.97656 18.1172 6.38672V14.4375C18.1172 17.8945 16.3945 18.832 11.0977 22.0195C10.7578 22.2305 10.5938 22.2891 10.418 22.2891ZM6.22266 16.7695C6.22266 17.6602 6.62109 18.0703 7.44141 18.0703H13.4062C14.2266 18.0703 14.625 17.6602 14.625 16.7695V12.1992C14.625 11.3906 14.2969 10.9805 13.6406 10.9219V9.58594C13.6406 7.44141 12.3398 5.98828 10.4297 5.98828C8.50781 5.98828 7.21875 7.44141 7.21875 9.58594V10.9102C6.55078 10.9805 6.22266 11.3906 6.22266 12.1992V16.7695ZM8.57812 10.8984V9.46875C8.57812 8.17969 9.31641 7.32422 10.4297 7.32422C11.5312 7.32422 12.2695 8.17969 12.2695 9.46875V10.8984H8.57812Z"})})},829851:(e,t,s)=>{s.d(t,{z:()=>i});s(667294);var o=s(745238),r=s(785893);const i=(0,o.IU)("setPassword",{viewBox:"0 0 31 21",svg:(0,r.jsx)("path",{d:"M29.4746 3.43945L30.1777 2.7168C30.5684 2.32617 30.5781 1.7793 30.1973 1.39844L29.9336 1.14453C29.6016 0.802734 29.0352 0.851562 28.6641 1.22266L27.9609 1.91602L29.4746 3.43945ZM18.2441 13.4883L20.3047 12.5996L28.7227 4.18164L27.209 2.6875L18.8008 11.0957L17.8633 13.0977C17.7656 13.3223 18.0195 13.5859 18.2441 13.4883ZM3.40039 20.0508H23.6543C25.5 20.0508 26.5254 19.0547 26.5254 17.2188V8.88867L24.5918 10.8223V17.0625C24.5918 17.8242 24.1621 18.2637 23.3906 18.2637H3.6543C2.88281 18.2637 2.45312 17.8242 2.45312 17.0625V8.91797C2.45312 8.14648 2.88281 7.7168 3.6543 7.7168H19.6504L21.4375 5.93945H3.40039C1.54492 5.93945 0.519531 6.92578 0.519531 8.77148V17.2188C0.519531 19.0547 1.54492 20.0508 3.40039 20.0508ZM6.06641 14.4453C6.85742 14.4453 7.51172 13.791 7.51172 12.9902C7.51172 12.1895 6.85742 11.5449 6.06641 11.5449C5.25586 11.5449 4.61133 12.1895 4.61133 12.9902C4.61133 13.791 5.25586 14.4453 6.06641 14.4453ZM10.373 14.4453C11.1738 14.4453 11.8184 13.791 11.8184 12.9902C11.8184 12.1895 11.1738 11.5449 10.373 11.5449C9.57227 11.5449 8.91797 12.1895 8.91797 12.9902C8.91797 13.791 9.57227 14.4453 10.373 14.4453ZM14.6797 14.4453C15.4805 14.4453 16.1348 13.791 16.1348 12.9902C16.1348 12.1895 15.4805 11.5449 14.6797 11.5449C13.8789 11.5449 13.2344 12.1895 13.2344 12.9902C13.2344 13.791 13.8789 14.4453 14.6797 14.4453Z"})})},916001:(e,t,s)=>{s.d(t,{r:()=>i});s(667294);var o=s(745238),r=s(785893);const i=(0,o.IU)("sidebarSettings",{viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 11.15C10.6352 11.15 11.15 10.6352 11.15 10C11.15 9.3649 10.6352 8.85002 10 8.85002C9.3649 8.85002 8.85002 9.3649 8.85002 10C8.85002 10.6352 9.3649 11.15 10 11.15ZM10 12.35C11.2979 12.35 12.35 11.2979 12.35 10C12.35 8.70216 11.2979 7.65002 10 7.65002C8.70216 7.65002 7.65002 8.70216 7.65002 10C7.65002 11.2979 8.70216 12.35 10 12.35Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66313 13.92L9.29337 15.7942C9.30705 15.835 9.3452 15.8624 9.38815 15.8624H10.6119C10.6548 15.8624 10.693 15.835 10.7066 15.7942L11.3369 13.92L11.8486 13.6609C11.9847 13.592 12.1165 13.5157 12.2435 13.4325L12.7244 13.1173L14.6647 13.509C14.7068 13.5175 14.7496 13.4982 14.7711 13.461L15.3829 12.4012C15.4044 12.364 15.3997 12.3173 15.3713 12.2851L14.0625 10.8013L14.0938 10.2287C14.0979 10.1531 14.1 10.0769 14.1 10C14.1 9.92309 14.0979 9.8468 14.0938 9.77119L14.0625 9.19865L15.3713 7.71477C15.3997 7.68257 15.4044 7.63582 15.3829 7.59862L14.7711 6.53886C14.7496 6.50166 14.7068 6.48233 14.6647 6.49083L12.7243 6.8826L12.2434 6.56746C12.1164 6.48424 11.9847 6.40796 11.8487 6.33909L11.3369 6.07998L10.7066 4.20568C10.693 4.16497 10.6548 4.13755 10.6119 4.13755L9.38815 4.13755C9.3452 4.13755 9.30705 4.16497 9.29337 4.20568L8.6631 6.08L8.15134 6.33911C8.01535 6.40796 7.88361 6.48424 7.75665 6.56744L7.27577 6.88258L5.33531 6.4908C5.29321 6.4823 5.25039 6.50162 5.22891 6.53882L4.61706 7.59858C4.59558 7.63578 4.60026 7.68253 4.62867 7.71473L5.93757 9.19866L5.90625 9.77121C5.90211 9.84681 5.90001 9.92309 5.90001 10C5.90001 10.0769 5.90211 10.1531 5.90625 10.2287L5.93756 10.8012L4.62867 12.2851C4.60026 12.3173 4.59559 12.3641 4.61706 12.4013L5.22892 13.461C5.25039 13.4982 5.29322 13.5176 5.33531 13.5091L7.27565 13.1173L7.75654 13.4325C7.88354 13.5157 8.01533 13.592 8.15137 13.6609L8.66313 13.92ZM6.98912 14.6034C7.15941 14.715 7.33626 14.8174 7.51897 14.9099L7.96638 16.2405C8.1717 16.8511 8.74396 17.2624 9.38815 17.2624H10.6119C11.2561 17.2624 11.8283 16.8511 12.0336 16.2405L12.481 14.91C12.6638 14.8174 12.8406 14.715 13.0109 14.6034L14.3876 14.8813C15.0191 15.0088 15.6614 14.7189 15.9835 14.161L16.5953 13.1012C16.9174 12.5433 16.8474 11.8421 16.4212 11.359L15.4917 10.3052C15.4972 10.2041 15.5 10.1024 15.5 10C15.5 9.89756 15.4972 9.79578 15.4917 9.69472L16.4212 8.64087C16.8474 8.15776 16.9174 7.45651 16.5954 6.89862L15.9835 5.83886C15.6614 5.28097 15.0191 4.99103 14.3876 5.11852L13.0108 5.3965C12.8405 5.28493 12.6637 5.18255 12.4811 5.09007L12.0336 3.75947C11.8283 3.14887 11.2561 2.73755 10.6119 2.73755H9.38815C8.74396 2.73755 8.1717 3.14886 7.96638 3.75946L7.51894 5.09008C7.33629 5.18256 7.1595 5.28493 6.98928 5.39648L5.61238 5.11849C4.98092 4.991 4.33858 5.28093 4.01648 5.83882L3.40462 6.89858C3.08253 7.45647 3.15261 8.15772 3.57874 8.64083L4.50834 9.69474C4.50281 9.79579 4.50001 9.89757 4.50001 10C4.50001 10.1024 4.50281 10.2041 4.50833 10.3052L3.57875 11.359C3.15261 11.8421 3.08253 12.5434 3.40463 13.1013L4.01648 14.161C4.33858 14.7189 4.98092 15.0089 5.61237 14.8814L6.98912 14.6034Z"})]})})}}]);