"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22709],{921130:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(800480),o=i(559054),n=i(401898),a=i(454642);function s(){const e=(0,r.O7)(),[{status:t,error:i,value:s}]=(0,o.r5)((async()=>{const t=await a.getUserOrganizations(e,{});if("success"===t.type)return t.data;if("failed"===t.type)throw t.error;return(0,n.t1)(t)}),[e]);return{organizationsInfo:(null==s?void 0:s.organizationsInfo)??[],loading:"pending"===t||"idle"===t,error:i}}},982041:(e,t,i)=>{i.d(t,{Z:()=>m});i(667294);var r=i(800480),o=i(886628),n=i(724405),a=i(248780),s=i(249902),l=i(709291),d=i(573063),c=i(58261),g=i(526388),u=i(304708),h=i(548779),p=i(825464),f=i(80444),x=i(997156),v=i(966324),b=i(785893);function m(e){let{from:t,onClick:i,iconStyle:m}=e;const S=(0,r.O7)(),y=(0,l.useIntl)(),w=(0,o.VK)((()=>f.default.state.currentSpaceStore),[]),j=(0,o.VK)((()=>f.default.state.currentUserRootStore),[]),M=(0,o.VK)((()=>(0,h.Cx)(w)),[w]),k=(0,o.VK)((()=>(0,u.b9)({environment:S,spaceStore:w,userRootStore:j})),[S,w,j]),I=(0,n.yK)((e=>({shortcutLabel:{color:e.mediumInvertedTextColor},button:{width:28,height:28,borderRadius:4},icon:{width:24,height:24,fill:e.regularTextColor,...m},iconDisabled:{opacity:.4},hovered:{background:e.newSidebarItemSelectedBackground}})),[m]);return M?"sidebar_new_page_button"===t&&k?(0,b.jsx)(d.Z,{icon:a.l,ariaLabel:y.formatMessage(v.newPageMessages.label),onClick:e=>{x.Z.open()},style:I.button,iconStyle:{...I.icon,...I.iconDisabled}}):null:(0,b.jsx)(g.Z,{renderTooltip:()=>(0,b.jsxs)(b.Fragment,{children:[y.formatMessage(v.newPageMessages.tooltip),S.device.isNative&&(0,b.jsx)("div",{children:(0,b.jsx)(c.Z,{style:I.shortcutLabel,name:"newPage"})})]}),originGap:6,placement:p.u.Right,render:e=>(0,b.jsx)(d.Z,{...e,icon:a.l,ariaLabel:y.formatMessage(v.newPageMessages.label),onClick:e=>{w&&(v.quickAddPage({environment:S,from:t,event:e}),"sidebar_private_pane"===t&&s.j({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})),i&&i()},style:I.button,iconStyle:I.icon,hoveredStyle:I.hovered})})}},522709:(e,t,i)=>{i.d(t,{_S:()=>q,ZP:()=>Q});var r=i(667294),o=i(800480),n=i(886628),a=i(724405),s=i(749085),l=i(380503),d=i(614720),c=i(838745),g=i(165452),u=i(164921),h=i(231945),p=i(39849),f=i(921130),x=i(882855),v=i(237240),b=i(137810),m=i(548779),S=i(224646),y=i(819034),w=i(756496),j=i(731278),M=i(314694),k=i(646783),I=i(785893);const Z=function(e){const{showIcon:t}=e,i=(0,a.Fg)(),r=(0,a.yK)((e=>{const i=Math.ceil(60),r=Math.floor(85),o=`${Math.floor(Math.random()*(r-i+1))+i}%`;return{placeholderPageStyle:{height:28,display:"flex",alignItems:"center",width:"100%",padding:t?"0 15px":"0 0px"},placeholderTextWrapStyle:{flexGrow:1,marginLeft:t?10:0,height:28,display:"flex",alignItems:"center"},placeholderTextStyle:{height:4,background:e.buttonHoveredBackground,width:o}}}),[t]);return(0,I.jsxs)("div",{style:r.placeholderPageStyle,children:[t&&(0,k.w)({width:16,height:16,fill:i.buttonHoveredBackground}),(0,I.jsx)("div",{style:r.placeholderTextWrapStyle,children:(0,I.jsx)("div",{style:r.placeholderTextStyle})})]})},R={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const C=function(e){const t=(0,a.Fg)(),i=(0,o.O7)(),{device:s}=i,l=(0,n.VK)((()=>"store"===e.type?(0,m.rn)(i,e.spaceStore):e.spaceName),[i,e]),d=(0,n.VK)((()=>(0,S.BH)(i)),[i]);return(0,r.useEffect)((()=>{"store"===e.type&&e.spaceStore.getValue()}),[e]),(0,I.jsxs)(M.Z,{style:{overflow:"hidden",...e.isMobile&&{fontSize:14,padding:0,marginRight:12},...!e.isMobile&&{paddingLeft:10,paddingRight:10},...d&&{paddingLeft:8,paddingRight:8},...e.style?e.style:{}},left:l?(0,I.jsx)(K,{title:l,icon:"store"===e.type?void 0:e.spaceIcon,isMobile:e.isMobile,spaceStore:"store"===e.type?e.spaceStore:void 0}):(0,I.jsx)(B,{}),disableMobileBorder:!0,children:[!l&&(0,I.jsx)(V,{}),l&&(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:e.activeUserEmailAddress?"space-between":"start"},className:"notranslate",children:[(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:6,marginTop:s.isAndroid?3:0,...R},children:[(0,I.jsx)("div",{style:{color:t.regularTextColor,fontWeight:b.Z.fontWeight.medium,...R,lineHeight:d?"20px":"auto"},children:l}),(0,I.jsx)("div",{style:{color:t.mediumTextColor,fontSize:11,lineHeight:d?"16px":"12px",fontWeight:b.Z.fontWeight.regular,...R},children:e.activeUserEmailAddress})]}),e.showExpand&&(0,I.jsx)("div",{style:{flexGrow:0,flexShrink:0,width:10,height:10,marginLeft:d?2:0,fill:t.mediumIconColor},children:d?(0,x.E)():(0,v.s)()})]})]})};function B(){return(0,I.jsx)("div",{style:{opacity:.25},children:(0,I.jsx)(w.Z,{size:20,title:void 0})})}function V(){return(0,I.jsx)(Z,{showIcon:!1})}function K(e){let{title:t,icon:i,isMobile:r,spaceStore:s}=e;const l=(0,a.Fg)(),d=(0,o.O7)(),c=(0,n.VK)((()=>s?(0,m.Wd)(d,s):i?{icon:i,pointer:{table:"space",id:"undefined"}}:void 0),[s,d,i]),g=(0,n.VK)((()=>s?(0,m.rn)(d,s):t),[s,d,t]),u=(0,n.VK)((()=>(0,S.BH)(d)),[d]),h=(0,n.VK)((()=>y.Z.getUnreadMentionsCountForOtherSpaces()>0&&u),[u]);return(0,I.jsxs)("div",{style:{position:"relative"},children:[h&&(0,I.jsx)(L,{}),(0,I.jsx)(j.Z,{disabled:!0,icon:c,isEmptyPage:!1,title:g,size:r?24:22,style:{marginTop:1,color:l.regularTextColor,fontWeight:b.Z.fontWeight.medium}})]})}function L(){const e=(0,a.yK)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",right:-3,width:8,height:8,borderRadius:4,border:`1px solid ${e.newSidebarBackground}`}})),[]);return(0,I.jsx)("div",{style:e.unreadBadge})}var U=i(622165),T=i(843250),_=i(448451),P=i(80444),z=i(430278),E=i(485974),H=i(228517),O=i(587244),W=i(2679),A=i(966324),F=i(982041),N=i(997852),D=i(478861);let q=function(e){return e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile",e}({});const G={[q.Regular]:l.Aj-8,[q.DesktopMac]:l.br,[q.Mobile]:"auto"},$={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"},J=s.default.createClass(!1,{name:"SidebarSwitcherIsHoveredStore"});const Q=function(e){let{shouldShowUnexpandButton:t,shouldShowCreatePageButton:i,disabled:r,format:s,buttonStyle:l,redirectURL:x,disableLoginLink:v,onSpaceClick:b,hideEmail:m}=e;const w=(0,o.O7)(),j=(0,n.qz)(void 0,J),M=(0,n.qz)(void 0,z.Z),k=(0,n.qz)(void 0,E.Z),{device:Z}=w,{currentSpaceStore:R,currentUserStore:B}=(0,n.VK)((()=>{const{currentSpaceStore:e,currentUserStore:t}=P.default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),V=w.currentUser.loggedInUserIds,K=(0,n.VK)((()=>{if(!m)return V.length>1?null==B?void 0:B.getEmail():void 0}),[V,B,m]),L=(0,n.VK)((()=>y.Z.getUnreadMentionsCountForOtherSpaces()),[]),q=(0,n.VK)((()=>j.state),[j]),Q=(0,n.VK)((()=>(0,S.BH)(w)),[w]),Y=(0,n.VK)((()=>W.default.isTutorialStepActive("create_page_sidebar")&&i),[i]),{organizationsInfo:ee}=(0,f.Z)(),te=ee.length>0,ie=(0,a.yK)((e=>({hoveredStyle:{background:e.newSidebarItemSelectedBackground},unexpand:{borderRadius:4,width:28,height:28,marginRight:4},unexpandHover:{fill:e.regularTextColor,background:e.newSidebarItemSelectedBackground},rightButtons:{display:"inline-flex",marginRight:2}})),[]),re=async()=>A.quickAddPage({environment:w,from:"home_checklist"});if(!R||!B)return null;const oe=Boolean(r)||Y;return(0,I.jsx)(h.ZP,{popupType:Z.isMobile?h.Z4.SlideUp:h.Z4.Popup,buttonPopupStore:N.Z,renderOrigin:()=>(0,I.jsxs)(u.Z,{style:{...$,height:G[s],marginLeft:4,marginRight:4,marginTop:Z.isMobile?0:4,width:"calc(100% - 8px)",borderRadius:4,marginBottom:K?Z.isMobile?0:8:0,padding:0,...l},mobileFeedback:Z.isMobile,onClick:()=>function(e){N.Z.setState({...N.Z.state,open:!0}),c.ai(e),e.currentUser.loggedInUserIds.forEach((t=>{D.Z.getSpaceViewStores(e,t).forEach((i=>{const r=i.getSpaceId();r&&(g.h({environment:e,spaceId:r,userId:t}),H.I({environment:e,spaceId:r,userId:t}))}))}))}(w),disabled:oe,className:T.rli,hovered:q,hoveredStyle:Q?ie.hoveredStyle:void 0,ignoreLocalHoverState:!0,onMouseEnter:()=>j.setState(!0),onMouseLeave:()=>j.setState(!1),children:[(0,I.jsx)(C,{isMobile:X(s),spaceStore:R,activeUserEmailAddress:K,showExpand:!oe,type:"store",style:{marginLeft:0}}),(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",marginRight:L||Q?0:12},children:[Q&&(0,I.jsxs)("div",{style:ie.rightButtons,children:[t&&(0,I.jsx)(U.V,{style:ie.unexpand,hoveredStyle:ie.unexpandHover}),i&&(0,I.jsx)(O.N,{step:"create_page_sidebar",isFullWidth:!1,onNextButtonClick:re,wrapperStyle:{display:"flex"},children:(0,I.jsx)(F.Z,{from:"sidebar_new_page_button"})})]}),!Q&&t&&(0,I.jsx)(U.V,{}),!Q&&(0,I.jsx)(_.k2,{type:"otherSpaces",color:p.N.Red,style:{marginLeft:10,marginRight:10}})]})]}),originGap:0,disableMutationObserver:!0,forceInitialInbound:!0,style:Z.isMobile?{}:{width:320,overflow:"hidden"},render:e=>(0,I.jsx)(d.Rv,{parent:e,redirectURL:x,disableLoginLink:v,onSpaceClick:b,loginStore:k,loginPermissionsStore:M,organizationsInfo:te?ee:void 0})})};function X(e){return e===q.Mobile}},430278:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(749085);class o extends r.default{getInitialState(){return{contacts:!1}}}const n=o},248780:(e,t,i)=>{i.d(t,{l:()=>n});i(667294);var r=i(745238),o=i(785893);const n=(0,r.IU)("createPage",{viewBox:"0 0 24 24",svg:(0,o.jsx)("g",{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M9.944 14.721c.104.094.216.12.336.079l1.703-.688 6.844-6.844-1.406-1.398-6.836 6.836-.711 1.68c-.052.13-.029.242.07.335zm8.102-9.484l1.414 1.406.515-.523a.917.917 0 00.282-.633.76.76 0 00-.258-.61l-.25-.25a.702.702 0 00-.578-.187.975.975 0 00-.617.297l-.508.5zm-9.453.127a3.85 3.85 0 00-3.85 3.85v6.5a3.85 3.85 0 003.85 3.85h6.5a3.85 3.85 0 003.85-3.85V12.95a.85.85 0 10-1.7 0v2.764a2.15 2.15 0 01-2.15 2.15h-6.5a2.15 2.15 0 01-2.15-2.15v-6.5a2.15 2.15 0 012.15-2.15h3.395a.85.85 0 000-1.7H8.593z",clipRule:"evenodd"})})})}}]);