"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[43617],{750187:(e,t,r)=>{r.d(t,{c:()=>Z,Z:()=>A});r(21703);var o=r(667294),i=r(800480),n=r(886628),a=r(724405),s=r(399036),l=r(653965),d=r(401898),c=r(619584),u=r(582356),p=r(727714),h=r(709291),y=r(307032),m=r(800893),g=r(863296),f=r(95477),v=r(319385),b=r(762878),x=r(13555),w=r(785893);const P=(0,h.defineMessages)({linkCopied:{defaultMessage:"Link copied. Share it with others who may find this useful.",id:"ai.gtmFavoriteActions.linkCopied"},share:{defaultMessage:"Share as AI favorite",id:"ai.gtmFavoriteActions.share"},add:{defaultMessage:"Add to AI favorites",id:"ai.gtmFavoriteActions.add"}});function S(e){const{blockId:t}=e,r=(0,i.O7)(),n=(0,h.useIntl)(),a=(0,o.useCallback)((()=>{(0,b.importGtmFavorite)({environment:r,importArgs:{name:"aiGtmFavoriteImport",blockId:t}})}),[t,r]),s=(0,o.useCallback)((()=>{const e=`${f.default.domainBaseUrl}/ai-gtm/${(0,y.cj)(t)}`;m.RD({environment:r,stringValue:e,copiedMessage:P.linkCopied})}),[t,r]);return(0,w.jsxs)("div",{style:{marginTop:12,marginBottom:12},children:[(0,w.jsx)(g.Z,{onClick:s,icon:p.N,children:n.formatMessage(P.share)}),r.currentUser.isLoggedIn()&&(0,w.jsx)(g.Z,{onClick:a,style:{marginLeft:12},icon:u.l,children:n.formatMessage(P.add)})]})}var C=r(128651),k=r(135314),j=r(846010),I=r(334017),V=r(850478),N=r(487167),M=r(841883),L=r(912867),K=r(65091);const R=5,Z=4;function A(e){const{collectionStore:t,schema:r,store:u,format:p,propertyIds:h,propertyGroupId:y,variant:m,customization:g,pagePropertiesStore:f}=e,b=(0,i.O7)(),[P,A]=(0,k.e)(),B=(0,n.qz)(void 0,C.Z),E=(0,a.yK)((e=>({pageProperties:{width:"100%",fontSize:14},dragHandle:{marginLeft:-(V.C$+10),marginRight:6},hidePropertiesButton:{margin:"0 0 10px"},showMoreButton:{margin:0},addPropertyButton:{margin:"4px 0 0"},moreProperties:{border:`1px solid ${"dark"===e.mode?e.accentColors.gray[300]:e.accentColors.gray[75]}`,borderRadius:4,padding:"8px 6px"}})),[]),$=(0,n.VK)((()=>"pinned"===m||Boolean(u.isAssociatedCollectionAPageTree())),[u,m]),z=(0,j.y)();let F=(0,N.nd)({store:u,format:p,schema:r,collectionStore:t,propertyIds:h,propertyGroupId:z?y:void 0});const W=(0,o.useMemo)((()=>{const e={};for(const t of F)e[t.property]=t;return e}),[F]);g&&(F=function(e,t){const{hideEmptyProperties:r,neverShowEmptyPropertiesIfMoreThanNProperties:o,neverShowNotionSystemProperties:i,sortNonEmptyPropertiesFirst:n}=t;r&&(e=e.map((e=>({...e,visibility:e.hasValue?e.visibility:"hide"}))));i&&(e=e.filter((e=>!(s.S4(e.property)||"show"!==e.visibility&&e.property.startsWith("notion://")))));void 0!==o&&e.length>o&&(e=e.filter((e=>e.hasValue)));n&&(e=l.MR(e,(e=>!e.hasValue)));return e}(F,g));const O=(0,n.VK)((()=>f.state.forceShowProperties),[f]),[T,G]=(0,o.useMemo)((()=>{if((0,c.z4)(m))return l.uK(F,(e=>{var t;return!!(null===(t=r[e.property])||void 0===t?void 0:t.type)&&function(e){if("section"===e.visibility)return!1;if("hide"===e.visibility)return!1;if("hide_if_empty"===e.visibility&&!e.hasValue)return!1;return!0}(e)}));if(z&&"pinned"===m){if(!h)return[[],[]];const e=h.map((e=>{var t;const o=r[e];if(o)return{property:e,visibility:"show",hasValue:(null===(t=W[e])||void 0===t?void 0:t.hasValue)??!1,name:o.name}})).filter(d.$K);return[e.slice(0,Z),e.slice(Z)]}throw new Error("Pinned variant is only supported in page layouts")}),[z,F,W,h,r,m]),_=function(e){const t=(0,n.VK)((()=>{if(!v.default.checkGate({gateName:"ai_favorites"}))return!1;const t=(0,x.OF)();return!!t&&t.spaceId===e.getSpaceId()&&t.collectionId===e.id}),[e]);return t}(t),D=T.concat(G),[H,U]=(0,o.useState)({open:!1,query:"",hide:null==g?void 0:g.hideSearch}),{paddingLeft:X,paddingRight:q,width:J}=e,Q=(0,n.VK)((()=>I.Z.state.isOpen??!1),[]),Y=Math.min(R,T.length)*L.Uv,ee="pinned"!==m&&A<Y;let te;return null!=g&&g.dontRenderIfNoPropertiesDefaultShown&&0===T.length?null:(te=!$||b.device.isMobile||ee?(0,w.jsxs)("div",{style:null!=g&&g.assistantEditsPadding?{}:{paddingBottom:8},children:[(0,w.jsx)(M.Z,{...e,showHiddenProperties:O,mergedProperties:$?D:F,propertySearchState:H}),(0,w.jsx)(K.ZP,{...e,mergedProperties:$?D:F,propertySearchState:H,setPropertySearchState:U})]}):(0,w.jsx)(L.ZP,{...e,rowLength:R,compactProperties:T,hiddenProperties:G,variant:m}),(0,w.jsx)("div",{style:E.pageProperties,onMouseEnter:()=>{B.setState({...B.state,mouseEntered:!0})},onMouseLeave:()=>{B.setState({...B.state,mouseEntered:!1})},ref:P,children:(0,w.jsxs)("div",{style:{width:J,maxWidth:"100%",padding:$?"pinned"===m?`0 0 ${Q?0:"10px"} 0`:"10px 0":null!=g&&g.assistantEditsPadding?void 0:"16px 0 8px 0",margin:"pinned"===m?`0 auto ${Q?0:"20px"} auto`:"0 auto",...X?{paddingLeft:X}:{},...q?{paddingRight:q}:{}},children:[te,_&&(0,w.jsx)(S,{blockId:u.id})]})}))}},494043:(e,t,r)=>{r.d(t,{Nx:()=>R,Pb:()=>K,Vc:()=>k,Vw:()=>A,Xg:()=>C,a3:()=>$,bj:()=>Z,dp:()=>E,uI:()=>z,us:()=>M,w3:()=>j});var o=r(294184),i=r.n(o),n=r(667294),a=r(724405),s=r(831103),l=r(973420),d=r(60217),c=r(785893);const u="layout-wide",p="layout-wide-right-margin-expanded",h="layout-side-peek",y="layout-center-peek",m="layout-home",g="layout-form",f="layout-home-phone",v="layout-phone",b="layout-tablet",x="layout-template-preview",w="layout-chat",P="layout-layout-editor",S="layout-layout-editor-wide";function C(e){let{children:t,type:r,gap:o,withBottomPadding:n,style:a}=e;const s=(0,d.n1)(r);return(0,c.jsx)("div",{className:i()("layout",{[u]:"wide"===r,[p]:"wide-right-margin-expanded"===r,[h]:"side-peek"===r,[y]:"center-peek"===r,[m]:"home"===r,[f]:"home-phone"===r,[g]:"form"===r,[v]:"phone"===r,[b]:"tablet"===r,[x]:"template-preview"===r,[w]:"chat"===r,[P]:"layout-editor"===r,[S]:"layout-editor-wide"===r}),style:{paddingBottom:n?s:void 0,gap:o,...a},children:t})}const k="layout-content",j="layout-full",I="layout-margin-left",V="layout-margin-right",N="layout-nested-grid",M="hide-scrollbar",L="layout-column";function K(e){return(0,c.jsx)("div",{className:i()(k,e.className),style:e.style,children:e.children})}function R(e){return(0,c.jsx)("div",{className:j,style:e.style,children:e.children})}function Z(e){return(0,c.jsx)("div",{className:I,style:e.style,children:e.children})}function A(e){return(0,c.jsx)("div",{className:V,style:e.style,children:e.children})}const B=(0,n.forwardRef)((function(e,t){return(0,c.jsx)("div",{className:i()(N,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function E(e){let{items:t,style:r}=e;const[o,i]=n.useState(0),d=(0,n.useRef)([]),u=(0,a.yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},tab:"centered"===r?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:"centered"===r?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[r]),p=(0,n.useId)(),h=(0,n.useCallback)((e=>`${p}-tab-${e}`),[p]),y=(0,n.useCallback)((e=>`${p}-tabpanel-${e}`),[p]),m=(0,n.useCallback)((e=>{let r;var n;("ArrowLeft"===e.key?(e.preventDefault(),r=(o+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),r=(o+1)%t.length),void 0!==r)&&(i(r),null===(n=d.current[r])||void 0===n||n.focus())}),[o,t.length]);return(0,c.jsx)(s.Z,{name:"PageLayoutTabs",children:(0,c.jsxs)(B,{children:[(0,c.jsx)(K,{children:(0,c.jsx)("div",{role:"tablist",children:(0,c.jsx)(l.X2,{justifyContent:"centered"===r?"center":"flex-start",children:t.map(((e,t)=>{var r;return(0,c.jsx)("button",{ref:e=>{e&&(d.current[t]=e)},id:h(t),role:"tab","aria-controls":y(t),"aria-selected":t===o,tabIndex:t===o?void 0:-1,onKeyDown:m,style:{...u.tab,...t===o&&u.tabSelected},onClick:e=>{e.stopPropagation(),i(t)},children:(0,c.jsxs)(l.X2,{gap:4,alignItems:"center",children:[null===(r=e.icon)||void 0===r?void 0:r.call(e,u.icon),e.label&&(0,c.jsx)("div",{style:u.label,children:e.label})]})},e.key)}))})})}),(0,c.jsx)(B,{id:y(o),role:"tabpanel","aria-labelledby":h(o),children:t[o]?t[o].children:null})]})})}function $(e){return(0,c.jsx)("div",{className:i()(L,e.className),style:{"--min-column-width":`${e.minWidth}px`,...e.style},children:e.children})}function z(e){return(0,c.jsxs)($,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},343617:(e,t,r)=>{r.d(t,{V:()=>b});r(667294);var o=r(886628),i=r(668709),n=r(750187),a=r(296994),s=r(450627),l=r(99340),d=r(80444),c=r(400807),u=r(619671),p=r(985526),h=r(282136),y=r(813023),m=r(846010),g=r(494043),f=r(785893);function v(e){const{store:t,format:r,collectionStore:i,disabled:a,blockPropertyValueOverlayStore:s,isInPeekRenderer:l,variant:d,propertyIds:c,customization:u,pagePropertiesStore:p}=e,h=(0,o.VK)((()=>i.getSchema()),[i]),y=(0,o.VK)((()=>t.isNonEditableState()),[t]);return(0,f.jsx)(n.Z,{store:t,collectionStore:i,schema:h,format:r,disabled:a,locked:y,width:"100%",blockPropertyValueOverlayStore:s,isInPeekRenderer:l,propertyIds:c,variant:d,customization:u,pagePropertiesStore:p})}function b(e){const{store:t,context:r,disabled:n,variant:b,propertyIds:x,customization:w,wrapper:P}=e,S=(0,m.y)(),C=(0,l.PE)(t,n),k=(0,o.VK)((()=>c.Z.getMode(t)),[t]),j=(0,o.VK)((()=>{var e;return t.id===(null===(e=d.default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.id)?p.m.getNewMainEditorPagePropertiesStore():new p.p}),[t]),I=(0,o.VK)((()=>{if(t.isCollectionViewPageWithContent())return{type:"hidden"};const e=t.getAssociatedCollectionStore();if(!e)return{type:"hidden"};const r=(0,s.y6)(t);return r?{type:"visible",store:t,format:r,collectionStore:e}:{type:"hidden"}}),[t]),V=(0,o.VK)((()=>{const e=t.getAssociatedCollectionStore();return Boolean(null==e?void 0:e.getFormat().property_groups)}),[t]);if("hidden"===I.type)return null;const N=r===h.S.PeekView;if(V&&"pinned"!==b&&(null==w||!w.doNotShowPropertyGroups)&&S)return(0,f.jsx)(a.fe,{...e});return(P||(e=>(0,f.jsx)(g.Pb,{className:"layout-content-with-divider",children:e})))((0,f.jsx)(i.p,{allowSelectionWithin:!0,children:(0,f.jsx)(v,{...I,disabled:!C||"suggest"===k,isInPeekRenderer:N,blockPropertyValueOverlayStore:N?y.Z:u.Z,propertyIds:x,variant:b,customization:w,pagePropertiesStore:j})}))}},582356:(e,t,r)=>{r.d(t,{l:()=>n});r(667294);var o=r(745238),i=r(785893);const n=(0,o.IU)("import",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})}}]);