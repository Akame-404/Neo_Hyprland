"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44500],{183583:(e,t,a)=>{a.r(t),a.d(t,{SUGGESTED_ACTIONS_PER_CATEGORY_LIMIT:()=>I,SUGGESTED_ASSISTANT_ACTIONS_LIMIT:()=>c,arbitraryNotionSkillToAssistantSurfaceAction:()=>_,assistantSurfaceActionValidators:()=>S,clientSkillToAssistantSurfaceAction:()=>A,filterActionsWithLimitPerCategory:()=>V,filterAndRankAssistantSurfaceActionsForContext:()=>T,filterAssistantSurfaceActionsForContext:()=>w,getScoreForBooster:()=>x,getScoreForBoosters:()=>P,rankAssistantSurfaceActionsForContext:()=>C,rankItemsForContext:()=>M});a(757658);var i=a(653965),n=a(401898),s=a(510102),r=a(268056),o=a(489086),l=a(521273);const c=5,u=(0,n.AO)((e=>"selectionState"in e&&"textSelectionState"in e?{true:e}:{false:e}));function d(e){const{selectionState:t,textSelectionState:a}=e;if("editing"===a.mode)return(0,o.lV)(a);return t.stores.map((e=>e.getTitleValue())).join("\n")}const p=(0,n.AO)((e=>g(e)&&"automationButtonEditor"===e.entrypoint?{true:e}:{false:e})),m=(0,n.AO)((e=>"assistant"===e.type?{true:e}:{false:e})),g=(0,n.AO)((e=>"entrypoint"===e.type?{true:e}:{false:e}));function h(e){return"pageStore"in e&&void 0!==e.pageStore&&!e.pageStore.isType("personal_home_page")}function f(e){if(u(e)){const t=0===e.selectionState.stores.length,a="empty"===e.textSelectionState.mode||(0,r.iG)(e.textSelectionState.multiSelection);return t||a}return!0}function y(e){return h(e)&&!k(e)}function b(e){return h(e)&&!f(e)}function k(e){if(!("pageStore"in e))return!1;const t=e.pageStore;if(!t)return!1;const a=t.getContentStores();return 0===a.length||a.every((e=>e.isEmptyTitle()&&!e.hasContent()))}function v(e){if(!("pageStore"in e))return!1;const t=e.pageStore;if(!t)return!1;return t.getContentStores().length>10}const S={isWriterEntrypoint:function(e){return!!m(e)&&s.FP[e.surface].isWriter},isFullPageEntrypoint:function(e){return m(e)&&"fullPage"===e.surface},isCornerEntrypoint:function(e){return m(e)&&"corner"===e.surface},isEditingAutomationButton:p,isAssistantSurface:m,entrypointSupportsParameterization:function(e){return m(e)?s.FP[e.surface].surfaceSupportsParameterization:g(e)?p(e):void(0,n.t1)(e)},isRichTextMenuEntrypoint:function(e){return g(e)&&"richTextMenu"===e.entrypoint},isPageStartEntrypoint:function(e){return g(e)&&"pageStart"===e.entrypoint},isPageEndEntrypoint:function(e){return g(e)&&"pageEnd"===e.entrypoint},isPageAvailable:h,isPageEditable:function(e){return"pageStore"in e&&void 0!==e.pageStore&&e.pageStore.canEdit()},isSelectionEmpty:f,isSelectionShort:function(e){return!(!u(e)||!b(e))&&d(e).length<=40},isSelectionLong:function(e){return!!u(e)&&d(e).length>40},isSelectionMultiline:function(e){return!!u(e)&&d(e).trim().includes("\n")},isPageTitleEmpty:function(e){if(!("pageStore"in e))return!1;const t=e.pageStore;return!!t&&t.isEmptyTitle()},isPageEmpty:k,isPageFilled:y,isPageLong:v,isPageShortOrEmpty:function(e){return h(e)&&(k(e)||!v(e))},isCollection:function(e){var t;return!(!h(e)||!("pageStore"in e))&&Boolean(null===(t=e.pageStore)||void 0===t?void 0:t.isCollectionView())},hasSelection:b,hasContentfulPageOrSelection:function(e){return y(e)||b(e)},selectionContainsBlockType:function(e){return function(t){return!!u(t)&&t.selectionState.stores.some((t=>t.isType(e)))}},assistantModeIsAtMost:function(e){return()=>l.Z.modeIsAtMost(e)},isAssistantMode:function(e){return()=>l.Z.isMode(e)},isDeviceMobile:function(e){return!p(e)&&e.isMobile},isTutorialBoosted:function(e){return!(!m(e)||"corner"!==e.surface&&"fullPage"!==e.surface)&&void 0===e.assistantTutorialDismissedAt},surfaceSupportsTutorialAction:function(e){return m(e)?s.FP[e.surface].surfaceSupportsTutorialAction:!g(e)&&(0,n.t1)(e)},and:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>t.every((t=>t(e)))},or:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>t.some((t=>t(e)))},not:function(e){return t=>!e(t)},never:function(e){return!1}};function A(e){function t(e){return{actionType:"clientSkill",...e}}return Array.isArray(e)?e.map(t):t(e)}function _(e){function t(e){return{actionType:"arbitrary",...e}}return Array.isArray(e)?e.map(t):t(e)}function w(e,t){return e.filter((e=>e.validators.every((e=>e(t)))))}function x(e){const{booster:t,context:a}=e,[i,n]="function"==typeof t?[t,1]:t;return i(a)?n:0}function P(e){const{boosters:t,context:a}=e;return t.reduce(((e,t)=>e+x({booster:t,context:a})),0)}function M(e){const{items:t,getBoosters:a,context:n}=e;return(0,i.Xo)(t,(e=>P({boosters:a(e),context:n})),["desc"])}function C(e,t){return M({items:e,getBoosters:e=>e.boosters??[],context:t})}function T(e,t){return C(w(e,t),t)}const I=2;function V(e){const{actions:t,limitPerCategory:a}=e,i=new Map,n=[];for(const s of t){const{category:e}=s,t=i.get(e)??0;t<a&&(i.set(e,t+1),n.push(s))}return n}},144500:(e,t,a)=>{a.r(t),a.d(t,{clientSkillHasFillableParameters:()=>f,clientSkillHasFreeformFillableParameter:()=>b,clientSkillHasNoParameters:()=>y,clientSkillHasParameters:()=>h,clientSkillIsType:()=>g,clientSkillWithParameterValuesIsFillable:()=>v,clientSkillWithParameterValuesIsType:()=>k,createClientGlobalSkill:()=>_,createClientParameterValuesSkill:()=>A,dangerouslyCreateClientSkillWithParameterValues:()=>S,getAllClientSkills:()=>M,getSkillSectionColor:()=>I,globalChatSections:()=>O,isClientParameterValuesSkill:()=>w,isGlobalClientSkill:()=>x,pageChatSections:()=>N,removeGlobalActionsWithParameterizedEquivalents:()=>$,skillSectionMessages:()=>C,skillSectionTypeGivenSkillCategory:()=>T});a(757658);var i=a(417586),n=a(681532),s=a(993537),r=a(725651),o=a(405829),l=a(709291),c=a(997466),u=a(653965),d=a(215828),p=a(401898),m=a(718942);function g(e,t){return e.skillType===t}function h(e){return!!(0,n.Zf)(e.skillType)&&(e.skillType,!0)}function f(e){return!!(0,n._Y)(e.skillType)&&(e.skillType,!0)}function y(e){return!!(0,n.gZ)(e.skillType)&&(e.skillType,!0)}function b(e){return!!(0,n.iY)(e.skillType)&&(e.skillType,!0)}function k(e,t){return e.clientSkill.skillType===t}function v(e){return!!(0,p.DE)(n.IQ,e.clientSkill.skillType)&&(e.clientSkill.skillType,!0)}function S(e){return{parameterValues:{},clientSkill:e}}function A(e,t){return{key:`${e}_${(0,d.ZP)()}`,type:"with_parameter_values",skillType:e,parameterValues:t,...m.dS[e]}}function _(e){return{key:e,type:"global",skillType:e,...m.dS[e]}}const w=(0,p.AO)((e=>"with_parameter_values"===e.type?{true:e}:{false:e})),x=(0,p.AO)((e=>"global"===e.type?{true:e}:{false:e}));const P={translate:[],change_tone:[],summarize:["c"],chat_key_points:["c"],database_filing:[],new_page_from_template:["c"]};function M(e){const{currentPageRecordPointer:t,config:a}=e,s={...P,...a},r=i._X.map((e=>_(e))),o=u.oA(n.IQ.flatMap((e=>function(e,t){return e[t]}(s,e).map((a=>{let i=a;if("c"===i){if(!t)return;i=t}return A(e,(0,n.Vf)(e,i))})))));return[...r,...o]}const C=(0,l.defineMessages)({searchSection:{defaultMessage:"Find anything you can access",id:"skills.searchSection"},pageSection:{defaultMessage:"Write",id:"skills.pageSection"},writeSection:{defaultMessage:"Draft",id:"skills.writeSection"},writeSectionForGlobalChat:{defaultMessage:"Create and edit pages, tasks",id:"skills.writeSectionForGlobalChat"},editPageSection:{defaultMessage:"Write",id:"skills.editPageSection"},editSelectionSection:{defaultMessage:"Edit",id:"skills.editSelectionSection"},chatSection:{defaultMessage:"Think",id:"skills.chatSection"},createAndWriteIntroAssistantMessage:{defaultMessage:"I can help you create and edit anything, from notes to drafts to pages.",id:"skills.writeSectionIntroMessage"},chatIntroAssistantMessage:{defaultMessage:"What would you like to chat about?",id:"skills.chatSectionIntroMessage"},searchIntroAssistantMessage:{defaultMessage:"Ask me about anything in the workspace. I’ll try to find an answer in the pages you have access to.",id:"skills.searchSectionIntroMessage"}});function T(e){switch(e){case"findSearch":return"search";case"create":return"create";case"thinkAskChat":case"custom":case"notionActions":return"chat";case"writeInsert":return"page";case"edit":return"selection";default:(0,p.t1)(e)}}function I(e,t){let a;return"search"===e?a=t.accentColors.blue:"create"===e||"page"===e||"selection"===e?a=t.accentColors.purple:"chat"===e?a=t.accentColors.green:(0,p.t1)(e),{color:a[500],background:"dark"===t.mode?(0,c.Fq)(a[900],.1):(0,c.Fq)(a[100],.4),hoveredBackground:"dark"===t.mode?(0,c.Fq)(a[900],.2):(0,c.Fq)(a[100],.55),pressedBackground:a[100]}}function V(e){const t=new Set;return e.map((e=>{const a=e.skills.filter((e=>!t.has(e)));for(const i of e.skills)t.add(i);return{...e,skills:a}})).filter((e=>e.skills.length>0))}const q={key:"create",icon:r.R,title:C.writeSectionForGlobalChat,introAssistantMessage:C.createAndWriteIntroAssistantMessage,skills:["draft_outline","draft_template","draft_table","draft_diagram","draft_poem","draft_email"]},D={key:"page",icon:r.R,title:C.editPageSection,introAssistantMessage:C.createAndWriteIntroAssistantMessage,skills:["add_summary","add_key_points","add_action_items","translate","continue_writing"]},E={key:"chat",icon:o.s,title:C.chatSection,introAssistantMessage:C.chatIntroAssistantMessage,skills:["search_qna","brainstorm_ideas","write_code"]},F={key:"search",icon:s.A,title:C.searchSection,introAssistantMessage:C.searchIntroAssistantMessage,skills:["search_qna"]},N=V([F,D,E]),O=V([F,q,E]);function $(e){const{actions:t}=e,a=[];for(const i of t)"arbitrary"===i.actionType?a.push(i):"clientSkill"===i.actionType?"global"===i.type?t.some((e=>e.actionType===i.actionType&&e.skillType===i.skillType&&"with_parameter_values"===e.type))||a.push(i):"with_parameter_values"===i.type?a.push(i):(0,p.t1)(i):(0,p.t1)(i);return a}},718942:(e,t,a)=>{a.d(t,{dS:()=>q,zm:()=>O,K$:()=>$,dr:()=>D,K2:()=>N,if:()=>I});var i=a(930579),n=(a(667294),a(745238)),s=a(785893);const r=(0,n.IU)("aiCode",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M0.0561523 8.12207C0.0561523 8.01823 0.0794271 7.91618 0.125977 7.81592C0.172526 7.71208 0.24056 7.61719 0.330078 7.53125L3.71924 4.48047C3.88395 4.33008 4.06478 4.25846 4.26172 4.26562C4.45866 4.26921 4.62695 4.34798 4.7666 4.50195C4.90625 4.65951 4.96891 4.83854 4.95459 5.03906C4.94027 5.236 4.85254 5.40609 4.69141 5.54932L1.85547 8.12207L4.69141 10.6948C4.85254 10.8381 4.94027 11.0081 4.95459 11.2051C4.96891 11.402 4.90625 11.5811 4.7666 11.7422C4.62695 11.8962 4.45866 11.9767 4.26172 11.9839C4.06478 11.9875 3.88395 11.9141 3.71924 11.7637L0.330078 8.70752C0.24056 8.62516 0.172526 8.53385 0.125977 8.43359C0.0794271 8.32975 0.0561523 8.22591 0.0561523 8.12207ZM6.48535 13.332C6.27409 13.2712 6.12549 13.153 6.03955 12.9775C5.95719 12.8057 5.94824 12.6123 6.0127 12.3975L8.61768 3.45459C8.68571 3.229 8.80387 3.07145 8.97217 2.98193C9.14046 2.88883 9.32666 2.87093 9.53076 2.92822C9.73844 2.98551 9.88704 3.1001 9.97656 3.27197C10.0697 3.44385 10.0858 3.62826 10.0249 3.8252L7.40381 12.8057C7.34294 13.0169 7.22656 13.1709 7.05469 13.2676C6.88281 13.3678 6.69303 13.3893 6.48535 13.332ZM15.9385 8.12207C15.9421 8.22591 15.9206 8.32975 15.874 8.43359C15.8275 8.53385 15.7594 8.62516 15.6699 8.70752L12.2808 11.7637C12.116 11.9141 11.9334 11.9875 11.7329 11.9839C11.536 11.9767 11.3695 11.8962 11.2334 11.7422C11.0902 11.5811 11.0257 11.402 11.04 11.2051C11.0544 11.0081 11.1421 10.8381 11.3032 10.6948L14.1445 8.12207L11.3032 5.54932C11.1421 5.40609 11.0544 5.236 11.04 5.03906C11.0257 4.83854 11.0902 4.65951 11.2334 4.50195C11.3695 4.34798 11.536 4.26921 11.7329 4.26562C11.9334 4.25846 12.116 4.33008 12.2808 4.48047L15.6699 7.53125C15.7594 7.61719 15.8275 7.71208 15.874 7.81592C15.9206 7.91618 15.9421 8.01823 15.9385 8.12207Z"})}),o=(0,n.IU)("aiDiagram",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M2.24414 12.2754C1.17773 12.2754 0.52832 11.6328 0.52832 10.5869V8.29004C0.52832 7.24414 1.17773 6.60156 2.24414 6.60156H7.40527V5.65137H2.24414C1.17773 5.65137 0.52832 5.00879 0.52832 3.96289V1.66602C0.52832 0.620117 1.17773 -0.0224609 2.24414 -0.0224609H13.749C14.8154 -0.0224609 15.4648 0.620117 15.4648 1.66602V3.96289C15.4648 5.00879 14.8154 5.65137 13.749 5.65137H8.60156V6.60156H13.749C14.8154 6.60156 15.4648 7.24414 15.4648 8.29004V10.5869C15.4648 11.6328 14.8154 12.2754 13.749 12.2754H8.60156V13.1846H9.66797C10.2012 13.1846 10.3857 13.7041 10.0576 14.1074L8.41016 16.1309C8.19141 16.3906 7.8291 16.3975 7.61035 16.1309L5.94922 14.1074C5.60742 13.6973 5.80566 13.1846 6.35254 13.1846H7.39844V12.2754H2.24414ZM2.36035 4.39355H13.6396C13.9883 4.39355 14.207 4.1748 14.207 3.8125V1.81641C14.207 1.46094 13.9883 1.23535 13.6396 1.23535H2.36035C2.00488 1.23535 1.78613 1.46094 1.78613 1.81641V3.8125C1.78613 4.1748 2.00488 4.39355 2.36035 4.39355ZM2.36035 11.0176H13.6396C13.9883 11.0176 14.207 10.7988 14.207 10.4365V8.44043C14.207 8.08496 13.9883 7.85938 13.6396 7.85938H2.36035C2.00488 7.85938 1.78613 8.08496 1.78613 8.44043V10.4365C1.78613 10.7988 2.00488 11.0176 2.36035 11.0176Z"})});var l=a(941886);const c=(0,n.IU)("aiFillTemplate",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M6.04492 3.59277C5.66406 3.59277 5.4292 3.35156 5.4292 2.93896V2.27246C5.4292 1.85986 5.66406 1.61865 6.04492 1.61865H6.58447C6.62891 0.882324 7.24463 0.285645 8 0.285645C8.75537 0.285645 9.37109 0.882324 9.41553 1.61865H9.95508C10.3359 1.61865 10.5708 1.85986 10.5708 2.27246V2.93896C10.5708 3.35156 10.3359 3.59277 9.95508 3.59277H6.04492ZM8 2.23438C8.31104 2.23438 8.55859 1.97412 8.55859 1.66943C8.55859 1.36475 8.31104 1.11084 8 1.11084C7.68896 1.11084 7.44141 1.36475 7.44141 1.66943C7.44141 1.97412 7.68896 2.23438 8 2.23438ZM4.62939 15.7993C3.28369 15.7993 2.56641 15.0757 2.56641 13.7109V4.10693C2.56641 2.76758 3.26465 2.01221 4.57227 2.01221H4.71826C4.69287 2.09473 4.68652 2.18359 4.68652 2.27246V2.86279C4.68652 2.99609 4.69922 3.12305 4.73096 3.23096H4.604C4.06445 3.23096 3.78516 3.58008 3.78516 4.11963V13.6919C3.78516 14.2632 4.09619 14.5806 4.68652 14.5806H11.3135C11.9038 14.5806 12.2148 14.2632 12.2148 13.6919V9.57861L13.4336 8.35986V13.7109C13.4336 15.0757 12.7163 15.7993 11.3706 15.7993H4.62939ZM12.2148 5.10352V4.11963C12.2148 3.58008 11.9355 3.23096 11.396 3.23096H11.269C11.3008 3.12305 11.3135 2.99609 11.3135 2.86279V2.27246C11.3135 2.18359 11.3071 2.09473 11.2817 2.01221H11.4277C12.6528 2.01221 13.3574 2.65967 13.4146 3.75146V3.9292C13.3257 3.99902 13.2495 4.06885 13.1733 4.14502L12.2148 5.10352ZM14.7031 5.82715L13.7319 4.84961L14.189 4.40527C14.4238 4.16406 14.7856 4.13867 15.0015 4.34814L15.1729 4.51953C15.4141 4.76074 15.4077 5.10986 15.1602 5.36377L14.7031 5.82715ZM7.65088 12.1177C7.51123 12.1812 7.34619 12.0098 7.40967 11.8701L8.0127 10.5752L13.2432 5.34473L14.2207 6.31592L8.98389 11.5464L7.65088 12.1177ZM4.85156 6.72852C4.85156 6.48096 5.06104 6.27783 5.30225 6.27783H10.6978C10.793 6.27783 10.8945 6.30322 10.9644 6.354L10.1392 7.17285H5.30225C5.06104 7.17285 4.85156 6.96973 4.85156 6.72852ZM4.85156 8.96924C4.85156 8.72803 5.05469 8.5249 5.30225 8.5249H8.78711L7.89844 9.41992H5.30225C5.04834 9.41992 4.85156 9.22314 4.85156 8.96924ZM5.30225 11.7876C5.06104 11.7876 4.85156 11.5845 4.85156 11.3433C4.85156 11.0957 5.05469 10.8989 5.30225 10.8989H6.10205C6.34961 10.8989 6.55273 11.0957 6.55273 11.3433C6.55273 11.5845 6.34961 11.7876 6.10205 11.7876H5.30225Z"})});var u=a(427245),d=a(52897),p=a(707500),m=a(831157),g=a(188607),h=a(825879),f=a(112970),y=a(591856),b=a(917948),k=a(742696),v=a(993537),S=a(920669),A=a(595633),_=a(725651),w=a(747453),x=a(11751),P=a(983303),M=a(709291),C=a(997466),T=a(183583);const I=(0,M.defineMessages)({summarize:{defaultMessage:"Summarize",id:"skills.summarize"},fillTitle:{defaultMessage:"Fill page title",id:"skills.fillTitle"},chatKeyPoints:{defaultMessage:"Find key points in",id:"skills.keyPoints"},chatActionItems:{defaultMessage:"Find action items",id:"skills.chatActionItems"},brainstormIdeas:{defaultMessage:"Brainstorm ideas",id:"skills.brainstormIdeas"},writeCode:{defaultMessage:"Get help with code",id:"skills.writeCode"},searchQnA:{defaultMessage:"Ask a question",id:"skills.searchQnA"},pageQnA:{defaultMessage:"Ask a question about this page",id:"skills.pageQnA"},fixSpellingGrammar:{defaultMessage:"Fix spelling & grammar",id:"skills.fixSpellingGrammar"},addSummary:{defaultMessage:"Add a summary",id:"skills.addSummary"},addKeyPoints:{defaultMessage:"Add key points",id:"skills.addKeyPoints"},addActionItems:{defaultMessage:"Add action items",id:"skills.addActionItems"},custom:{defaultMessage:"Custom AI action",id:"skills.custom"},draftOutline:{defaultMessage:"Draft an outline",id:"skills.draftOutline"},draftTemplate:{defaultMessage:"Draft a template",id:"skills.draftTemplate"},draftTable:{defaultMessage:"Add a table",id:"skills.draftTable"},draftDiagram:{defaultMessage:"Add a diagram",id:"skills.draftDiagram"},draftPoem:{defaultMessage:"Draft a poem",id:"skills.draftPoem"},draftEmail:{defaultMessage:"Draft an email",id:"skills.draftEmail"},draftMeetingAgenda:{defaultMessage:"Draft a meeting agenda",id:"skills.draftMeetingAgenda"},continueWriting:{defaultMessage:"Continue writing",id:"skills.continueWriting"},translate:{defaultMessage:"Translate",id:"skills.translate"},improveWriting:{defaultMessage:"Improve writing",id:"skills.improveWriting"},improveFormatting:{defaultMessage:"Improve formatting",id:"skills.improveFormatting"},makeShorter:{defaultMessage:"Make shorter",id:"skills.makeShorter"},makeLonger:{defaultMessage:"Make longer",id:"skills.makeLonger"},changeTone:{defaultMessage:"Change tone",id:"skills.changeTone"},simplifyLanguage:{defaultMessage:"Simplify language",id:"skills.simplifyLanguage"},explainThis:{defaultMessage:"Explain",id:"skills.explainThis"},databaseFiling:{defaultMessage:"File a new page in",id:"skills.databaseFiling"},newPageFromTemplate:{defaultMessage:"Fill template",id:"skills.newPageFromTemplate"}}),V=(0,M.defineMessages)({searchQnADefaultAssistantMessage:{defaultMessage:"Ask me about anything in the workspace. I’ll try to find an answer in the pages you have access to.",id:"skills.searchQnADefaultAssistantMessage"},brainstormIdeasDefaultAssistantMessage:{defaultMessage:"What topic would you like to brainstorm? I’ll help you come up with ideas.",id:"skills.brainstormIdeasDefaultAssistantMessage"},writeCodeDefaultAssistantMessage:{defaultMessage:"What code do you want to write? I’ll help you write it.",id:"skills.writeCodeDefaultAssistantMessage"},pageQnADefaultAssistantMessage:{defaultMessage:"Ask me about anything on this page. I’ll try to find an answer.",id:"skills.pageQnADefaultAssistantMessage"},draftOutlineDefaultAssistantMessage:{defaultMessage:"What do you want an outline about? I’ll help you draft it.",id:"skills.draftOutlineDefaultAssistantMessage"},draftTemplateDefaultAssistantMessage:{defaultMessage:"For what do you wish to draft a template? I’ll help you draft it.",id:"skills.draftTemplateDefaultAssistantMessage"},draftTableDefaultAssistantMessage:{defaultMessage:"What do you want a table about? I’ll help you draft it.",id:"skills.draftTableDefaultAssistantMessage"},draftDiagramDefaultAssistantMessage:{defaultMessage:"What do you want the diagram to show? I’ll help you draft it.",id:"skills.draftDiagramDefaultAssistantMessage"},draftPoemDefaultAssistantMessage:{defaultMessage:"What kind of a poem do you want to write? I’ll help you draft it.",id:"skills.draftPoemDefaultAssistantMessage"},draftEmailDefaultAssistantMessage:{defaultMessage:"What email do you want to draft? I’ll help you draft it.",id:"skills.draftEmailDefaultAssistantMessage"},draftMeetingAgendaDefaultAssistantMessage:{defaultMessage:"What is your meeting about? I’ll help you draft it.",id:"skills.draftMeetingAgendaDefaultAssistantMessage"},databaseFilingDefaultAssistantMessage:{defaultMessage:"What do you want to add to this database? I’ll help you file it.",id:"skills.databaseFilingDefaultAssistantMessage"},newPageFromTemplateDefaultAssistantMessage:{defaultMessage:"What should this template be about? You can provide a brief description or add related documents for reference by at-mentioning them.",id:"skills.newPageFromTemplateDefaultAssistantMessage"}}),q={summarize:{displayName:I.summarize,assistantMessage:void 0,icon:y.Y,category:"thinkAskChat",validators:[T.assistantSurfaceActionValidators.entrypointSupportsParameterization],boosters:[T.assistantSurfaceActionValidators.isPageLong,T.assistantSurfaceActionValidators.isSelectionLong,T.assistantSurfaceActionValidators.isCornerEntrypoint,T.assistantSurfaceActionValidators.isFullPageEntrypoint,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection]},chat_key_points:{displayName:I.chatKeyPoints,assistantMessage:void 0,icon:b.O,category:"thinkAskChat",validators:[T.assistantSurfaceActionValidators.entrypointSupportsParameterization],boosters:[T.assistantSurfaceActionValidators.isPageLong,T.assistantSurfaceActionValidators.isSelectionLong]},chat_action_items:{displayName:I.chatActionItems,assistantMessage:void 0,icon:f.O,category:"thinkAskChat",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isAssistantSurface,T.assistantSurfaceActionValidators.not(T.assistantSurfaceActionValidators.isWriterEntrypoint),T.assistantSurfaceActionValidators.hasContentfulPageOrSelection))],boosters:[T.assistantSurfaceActionValidators.isPageLong,T.assistantSurfaceActionValidators.isSelectionLong]},add_summary:{displayName:I.addSummary,assistantMessage:void 0,icon:y.Y,category:"writeInsert",validators:[T.assistantSurfaceActionValidators.isWriterEntrypoint,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection,T.assistantSurfaceActionValidators.isPageEditable],boosters:[T.assistantSurfaceActionValidators.isPageLong,T.assistantSurfaceActionValidators.isSelectionLong]},add_key_points:{displayName:I.addKeyPoints,assistantMessage:void 0,icon:b.O,category:"writeInsert",validators:[T.assistantSurfaceActionValidators.isWriterEntrypoint,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection,T.assistantSurfaceActionValidators.isPageEditable],boosters:[T.assistantSurfaceActionValidators.isPageLong,T.assistantSurfaceActionValidators.isSelectionLong]},add_action_items:{displayName:I.addActionItems,assistantMessage:void 0,icon:f.O,category:"writeInsert",validators:[T.assistantSurfaceActionValidators.isWriterEntrypoint,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection,T.assistantSurfaceActionValidators.isPageEditable],boosters:[T.assistantSurfaceActionValidators.isPageLong,T.assistantSurfaceActionValidators.isSelectionLong]},search_qna:{displayName:I.searchQnA,assistantMessage:V.searchQnADefaultAssistantMessage,icon:v.A,category:"findSearch",validators:[T.assistantSurfaceActionValidators.isAssistantSurface],boosters:[T.assistantSurfaceActionValidators.isCornerEntrypoint,T.assistantSurfaceActionValidators.isFullPageEntrypoint]},fill_title:{displayName:I.fillTitle,assistantMessage:void 0,icon:P.c,category:"edit",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageAvailable,T.assistantSurfaceActionValidators.isPageEditable,T.assistantSurfaceActionValidators.isPageTitleEmpty,T.assistantSurfaceActionValidators.not(T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isPageEmpty,T.assistantSurfaceActionValidators.isCollection)),T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isPageStartEntrypoint,T.assistantSurfaceActionValidators.isCornerEntrypoint)))],boosters:[[T.assistantSurfaceActionValidators.isPageTitleEmpty,5],[T.assistantSurfaceActionValidators.isPageStartEntrypoint,5],T.assistantSurfaceActionValidators.isPageEndEntrypoint]},brainstorm_ideas:{displayName:I.brainstormIdeas,assistantMessage:V.brainstormIdeasDefaultAssistantMessage,icon:h.b,category:"thinkAskChat",validators:[],boosters:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageEndEntrypoint,T.assistantSurfaceActionValidators.isPageEmpty,T.assistantSurfaceActionValidators.isFullPageEntrypoint))]},write_code:{displayName:I.writeCode,assistantMessage:V.writeCodeDefaultAssistantMessage,icon:r,category:"thinkAskChat",validators:[T.assistantSurfaceActionValidators.not(T.assistantSurfaceActionValidators.isPageEndEntrypoint)],boosters:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.selectionContainsBlockType("code"))]},page_qna:{displayName:I.pageQnA,assistantMessage:V.pageQnADefaultAssistantMessage,icon:v.A,category:"findSearch",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageAvailable,T.assistantSurfaceActionValidators.isPageFilled))],boosters:[T.assistantSurfaceActionValidators.isCornerEntrypoint]},fix_spelling_grammar:{displayName:I.fixSpellingGrammar,assistantMessage:void 0,icon:u.U,category:"edit",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageEditable,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection))],boosters:[T.assistantSurfaceActionValidators.isSelectionLong,T.assistantSurfaceActionValidators.isSelectionMultiline]},draft_outline:{displayName:I.draftOutline,assistantMessage:V.draftOutlineDefaultAssistantMessage,icon:_.R,category:"create",validators:[],boosters:[T.assistantSurfaceActionValidators.isPageEmpty,[T.assistantSurfaceActionValidators.isFullPageEntrypoint,-4]]},draft_template:{displayName:I.draftTemplate,assistantMessage:V.draftTemplateDefaultAssistantMessage,icon:c,category:"create",validators:[T.assistantSurfaceActionValidators.never]},draft_table:{displayName:I.draftTable,assistantMessage:V.draftTableDefaultAssistantMessage,icon:k.t,category:"writeInsert",validators:[T.assistantSurfaceActionValidators.hasContentfulPageOrSelection],boosters:[T.assistantSurfaceActionValidators.isFullPageEntrypoint,T.assistantSurfaceActionValidators.isSelectionLong]},draft_diagram:{displayName:I.draftDiagram,assistantMessage:V.draftDiagramDefaultAssistantMessage,icon:o,category:"writeInsert",validators:[T.assistantSurfaceActionValidators.hasContentfulPageOrSelection],boosters:[T.assistantSurfaceActionValidators.isPageLong,T.assistantSurfaceActionValidators.isFullPageEntrypoint]},draft_poem:{displayName:I.draftPoem,assistantMessage:V.draftPoemDefaultAssistantMessage,icon:_.R,category:"create",validators:[],boosters:[T.assistantSurfaceActionValidators.isPageEmpty,[T.assistantSurfaceActionValidators.isFullPageEntrypoint,-5]]},draft_email:{displayName:I.draftEmail,assistantMessage:V.draftEmailDefaultAssistantMessage,icon:_.R,category:"create",validators:[],boosters:[T.assistantSurfaceActionValidators.isPageEmpty,[T.assistantSurfaceActionValidators.isFullPageEntrypoint,-5]]},draft_meeting_agenda:{displayName:I.draftMeetingAgenda,assistantMessage:V.draftMeetingAgendaDefaultAssistantMessage,icon:_.R,category:"create",validators:[],boosters:[T.assistantSurfaceActionValidators.isPageEmpty,[T.assistantSurfaceActionValidators.isFullPageEntrypoint,-5]]},continue_writing:{displayName:I.continueWriting,assistantMessage:void 0,icon:_.R,category:"edit",validators:[T.assistantSurfaceActionValidators.isPageEditable,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection,T.assistantSurfaceActionValidators.isWriterEntrypoint],boosters:[T.assistantSurfaceActionValidators.isSelectionEmpty,T.assistantSurfaceActionValidators.isSelectionLong,[T.assistantSurfaceActionValidators.isPageLong,5]]},translate:{displayName:I.translate,assistantMessage:void 0,icon:g.Q,category:"thinkAskChat",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.hasContentfulPageOrSelection,T.assistantSurfaceActionValidators.isEditingAutomationButton)]},improve_writing:{displayName:I.improveWriting,assistantMessage:void 0,icon:d.d,category:"edit",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageEditable,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection))],boosters:[[T.assistantSurfaceActionValidators.isWriterEntrypoint,5],T.assistantSurfaceActionValidators.isSelectionLong,[T.assistantSurfaceActionValidators.isRichTextMenuEntrypoint,10]]},improve_formatting:{displayName:I.improveFormatting,assistantMessage:void 0,icon:A.a,category:"edit",validators:[T.assistantSurfaceActionValidators.never],boosters:[]},make_shorter:{displayName:I.makeShorter,assistantMessage:void 0,icon:m.f,category:"edit",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageEditable,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection))],boosters:[T.assistantSurfaceActionValidators.isSelectionMultiline,T.assistantSurfaceActionValidators.isSelectionLong]},make_longer:{displayName:I.makeLonger,assistantMessage:void 0,icon:p.H,category:"edit",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageEditable,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection))],boosters:[T.assistantSurfaceActionValidators.isSelectionShort]},change_tone:{displayName:I.changeTone,assistantMessage:void 0,icon:i.p,category:"edit",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageEditable,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection))],boosters:[T.assistantSurfaceActionValidators.isSelectionLong]},simplify_language:{displayName:I.simplifyLanguage,assistantMessage:void 0,icon:x.t,category:"edit",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.isPageEditable,T.assistantSurfaceActionValidators.hasContentfulPageOrSelection))],boosters:[T.assistantSurfaceActionValidators.isSelectionMultiline,T.assistantSurfaceActionValidators.isSelectionLong]},explain_this:{displayName:I.explainThis,assistantMessage:void 0,icon:l.y,category:"thinkAskChat",validators:[T.assistantSurfaceActionValidators.or(T.assistantSurfaceActionValidators.isEditingAutomationButton,T.assistantSurfaceActionValidators.and(T.assistantSurfaceActionValidators.hasContentfulPageOrSelection,T.assistantSurfaceActionValidators.not(T.assistantSurfaceActionValidators.isWriterEntrypoint),T.assistantSurfaceActionValidators.not(T.assistantSurfaceActionValidators.isSelectionEmpty),T.assistantSurfaceActionValidators.not(T.assistantSurfaceActionValidators.isSelectionLong)))],boosters:[T.assistantSurfaceActionValidators.isSelectionShort,[T.assistantSurfaceActionValidators.isRichTextMenuEntrypoint,10]]},custom:{displayName:I.custom,assistantMessage:void 0,icon:S.y,category:"custom",validators:[T.assistantSurfaceActionValidators.isEditingAutomationButton]},eval_reasoning_test:{displayName:I.explainThis,assistantMessage:void 0,icon:x.t,category:"thinkAskChat",validators:[T.assistantSurfaceActionValidators.never]},eval_page_edit_test:{displayName:I.explainThis,assistantMessage:void 0,icon:x.t,category:"thinkAskChat",validators:[T.assistantSurfaceActionValidators.never]},database_filing:{displayName:I.databaseFiling,assistantMessage:V.databaseFilingDefaultAssistantMessage,icon:w.R,category:"create",validators:[T.assistantSurfaceActionValidators.entrypointSupportsParameterization],boosters:[T.assistantSurfaceActionValidators.isFullPageEntrypoint,T.assistantSurfaceActionValidators.isCornerEntrypoint,T.assistantSurfaceActionValidators.isCollection]},new_page_from_template:{displayName:I.newPageFromTemplate,assistantMessage:V.newPageFromTemplateDefaultAssistantMessage,icon:c,category:"create",validators:[T.assistantSurfaceActionValidators.never],boosters:[T.assistantSurfaceActionValidators.isPageEmpty,T.assistantSurfaceActionValidators.isFullPageEntrypoint,T.assistantSurfaceActionValidators.isCornerEntrypoint]}},D=["edit","writeInsert","create","thinkAskChat","findSearch","custom","notionActions"],E=(0,M.defineMessages)({edit:{id:"skills.categories.edit",defaultMessage:"Edit"},writeInsert:{id:"skill.categories.writeInsert",defaultMessage:"Write"},create:{id:"skill.categories.create",defaultMessage:"Draft"},thinkAskChat:{id:"skill.categories.thinkAskChat",defaultMessage:"Think, ask, chat"},findSearch:{id:"skill.categories.find-search",defaultMessage:"Find, search"},custom:{id:"skill.categories.custom",defaultMessage:"Custom"},notionActions:{id:"skill.categories.notionActions",defaultMessage:"More"}});function F(e,t){return{color:e[500],background:"dark"===t.mode?(0,C.Fq)(e[900],.4):(0,C.Fq)(e[100],.8),hoveredBackground:"dark"===t.mode?(0,C.Fq)(e[900],.6):(0,C.Fq)(e[100],.95),pressedBackground:e[100]}}const N={edit:{label:E.edit,color:e=>F(e.accentColors.purple,e),boosters:[]},writeInsert:{label:E.writeInsert,color:e=>F(e.accentColors.purple,e),boosters:[]},create:{label:E.create,color:e=>F(e.accentColors.purple,e),boosters:[T.assistantSurfaceActionValidators.isPageEmpty]},thinkAskChat:{label:E.thinkAskChat,color:e=>F(e.accentColors.green,e),boosters:[]},findSearch:{label:E.findSearch,color:e=>F(e.accentColors.blue,e),boosters:[]},custom:{label:E.custom,color:e=>F(e.accentColors.blue,e),boosters:[[T.assistantSurfaceActionValidators.isEditingAutomationButton,10]]},notionActions:{label:E.notionActions,color:e=>({color:e.primaryBlack,background:e.grayButtonBackground,hoveredBackground:e.grayButtonHoveredBackground,pressedBackground:e.grayButtonPressedBackground}),boosters:[]}};function O(e){return N[e]}function $(e,t){return(0,T.rankItemsForContext)({items:e,getBoosters:e=>O(e).boosters,context:t})}},510102:(e,t,a)=>{a.d(t,{FP:()=>f,Io:()=>k,JU:()=>b});a(21703);var i,n=a(667294),s=(a(95477),a(785893));const r={fullPage:!0,mobileNative:!0,mobileWeb:!0,commandSearch:!0,mobileSearch:!1,writer:!1,corner:!1,searchPane:!1,mobileWriter:!1},o={mobileNative:!0,mobileWeb:!0,mobileSearch:!0,mobileWriter:!0,fullPage:!1,writer:!1,corner:!1,searchPane:!1,commandSearch:!1},l={writer:!0,mobileWriter:!0,mobileWeb:!1,mobileNative:!1,mobileSearch:!1,fullPage:!1,corner:!1,searchPane:!1,commandSearch:!1},c={corner:!0,searchPane:!0,fullPage:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,commandSearch:!1,writer:!1,mobileWriter:!1},u={corner:!0,searchPane:!0,fullPage:!0,mobileNative:!0,mobileWeb:!0,mobileSearch:!0,commandSearch:!0,writer:!1,mobileWriter:!1},d={corner:!0,searchPane:!0,fullPage:!0,commandSearch:!0,writer:!0,mobileWriter:!0,mobileNative:!1,mobileWeb:!1,mobileSearch:!1},p={corner:!0,searchPane:!0,commandSearch:!0,mobileNative:!0,mobileSearch:!0,mobileWeb:!0,writer:!1,fullPage:!1,mobileWriter:!1},m={corner:!0,writer:!0,mobileWriter:!0,fullPage:!1,searchPane:!1,commandSearch:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1},g={corner:!0,fullPage:!0,searchPane:!0,mobileNative:!0,commandSearch:!0,mobileWeb:!0,mobileSearch:!0,writer:!1,mobileWriter:!1},h={corner:!0,fullPage:!0,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1};class f{constructor(e){this.type=e}get renderAsFullPage(){return r[this.type]}get isQuickSearchMode(){return this.isType("commandSearch")}get isMobile(){return o[this.type]}get isWriter(){return l[this.type]}isType(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.includes(this.type)}get shouldShowExpandToFullPageChat(){return c[this.type]}get shouldShowChatHistory(){return u[this.type]}get canUseCurrentPageContext(){return d[this.type]}get showCloseButton(){return p[this.type]}get surfaceSupportsContextWithSelection(){return m[this.type]}get surfaceSupportsParameterization(){return g[this.type]}get surfaceSupportsTutorialAction(){return h[this.type]}}i=f,f.fullPage=new i("fullPage"),f.corner=new i("corner"),f.searchPane=new i("searchPane"),f.commandSearch=new i("commandSearch"),f.mobileNative=new i("mobileNative"),f.writer=new i("writer"),f.mobileWeb=new i("mobileWeb"),f.mobileSearch=new i("mobileSearch"),f.mobileWriter=new i("mobileWriter");const y=n.createContext(void 0);function b(e){return(0,s.jsx)(y.Provider,{value:e.surface,children:e.children})}function k(){const e=n.useContext(y);return e||f.corner}y.displayName="AssistantSurfaceContext"},495940:(e,t,a)=>{a.d(t,{B5:()=>m,CC:()=>A,ST:()=>q,Se:()=>P,WC:()=>y,ZK:()=>h,c8:()=>k,dn:()=>u,eT:()=>c,mI:()=>V,pX:()=>T,t:()=>g,v:()=>I,x:()=>D,yD:()=>d});var i=a(467266),n=a.n(i),s=a(307032),r=a(401898),o=a(117397),l=a(192034);const c={default:"default",gray:"gray",brown:"brown",orange:"orange",yellow:"yellow",teal:"green",blue:"blue",purple:"purple",pink:"pink",red:"red",gray_background:"gray-background",brown_background:"brown-background",orange_background:"orange-background",yellow_background:"yellow-background",teal_background:"green-background",blue_background:"blue-background",purple_background:"purple-background",pink_background:"pink-background",red_background:"red-background"},u=Object.fromEntries(Object.entries(c).map((e=>{let[t,a]=e;return[a,t]}))),d=Object.values(c),p=["mention-page","mention-database","mention-person","mention-assistant","mention-date","mention-datetime","mention-date-range","mention-datetime-range"],m=["b","i","code","s","u","a","h",...p],g={b:{attributes:{},inline:m,text:!0,isToken:!1},i:{attributes:{},inline:m,text:!0,isToken:!1},code:{attributes:{},inline:m,text:!0,isToken:!1},s:{attributes:{},inline:m,text:!0,isToken:!1},u:{attributes:{},inline:m,text:!0,isToken:!1},a:{attributes:{href:{required:!0,values:!0,description:"link URL. Do not link to any URLs that are not already in the current context.",mappingMode:"href_counter"},type:{required:!1,values:l.Y,description:"universal source type"},"external-id":{required:!1,values:!0,description:"ID for loadable external resource",mappingMode:"external_id_counter"}},inline:m,text:!0,isToken:!1},h:{attributes:{color:{required:!0,values:d,description:"text color"}},inline:m,text:!0,isToken:!1},"mention-page":{attributes:{"page-id":{required:!0,values:!0,description:"ID of page",mappingMode:"block_counter"}},inline:[],text:!0,isToken:!0},"mention-database":{attributes:{"database-id":{required:!0,values:!0,description:"ID of database",mappingMode:"collection_counter"}},inline:[],text:!0,isToken:!0},"mention-person":{attributes:{"person-id":{required:!0,values:!0,description:"ID of person",mappingMode:"person_counter"},"person-name":{required:!1,values:!0,description:"Name of person"}},inline:[],text:!0,isToken:!0},"mention-assistant":{attributes:{},inline:[],text:!0,isToken:!0},"mention-date":{attributes:{date:{required:!0,values:!0,description:"Date in ISO 8601 (YYYY-MM-DD) format"}},inline:[],text:!1,isToken:!1},"mention-datetime":{attributes:{date:{required:!0,values:!0,description:"Date in ISO 8601 (YYYY-MM-DD) format"},time:{required:!0,values:!0,description:"Time in ISO 8601 (HH:MM) format"}},inline:[],text:!1,isToken:!1},"mention-date-range":{attributes:{"start-date":{required:!0,values:!0,description:"Start date in ISO 8601 (YYYY-MM-DD) format"},"end-date":{required:!0,values:!0,description:"End date in ISO 8601 (YYYY-MM-DD) format"}},inline:[],text:!1,isToken:!1},"mention-datetime-range":{attributes:{"start-date":{required:!0,values:!0,description:"Start date in ISO 8601 (YYYY-MM-DD) format"},"end-date":{required:!0,values:!0,description:"End date in ISO 8601 (YYYY-MM-DD) format"},"start-time":{required:!0,values:!0,description:"Start time in ISO 8601 (HH:MM) format"},"end-time":{required:!0,values:!0,description:"End time in ISO 8601 (HH:MM) format"}},inline:[],text:!1,isToken:!1},option:{attributes:{option:{values:!0,description:"Option name",required:!0}},inline:[],text:!1,isToken:!1},"option-category":{attributes:{category:{values:!0,description:"Status category",required:!0}},inline:[],text:!1,isToken:!1},"schema-option":{attributes:{option:{values:!0,description:"Option name",required:!0}},inline:[],text:!1,isToken:!1},"schema-option-category":{attributes:{category:{values:!0,description:"Status category",required:!0}},inline:["schema-option"],text:!1,isToken:!1}},h={"property-title":{text:!0,inline:p,attributes:{}},"property-text":{text:!0,inline:m,attributes:{}},"property-url":{text:!0,inline:[],attributes:{}},"property-email":{text:!0,inline:[],attributes:{}},"property-phone-number":{text:!0,inline:[],attributes:{}},"property-person":{text:!1,inline:["mention-person"],attributes:{}},"property-date":{text:!1,inline:["mention-date","mention-date-range","mention-datetime","mention-datetime-range"],attributes:{}},"property-created-time":{text:!1,inline:["mention-date","mention-datetime"],attributes:{}},"property-last-edited-time":{text:!1,inline:["mention-date","mention-datetime"],attributes:{}},"property-created-by":{text:!1,inline:["mention-person"],attributes:{}},"property-last-edited-by":{text:!1,inline:["mention-person"],attributes:{}},"property-checkbox":{text:!1,inline:[],attributes:{checked:{values:["true","false"],description:'checked state, either "true" or "false"',required:!0}}},"property-select":{text:!1,inline:["option"],attributes:{}},"property-multi-select":{text:!1,inline:["option"],attributes:{}},"property-relation":{text:!1,inline:["mention-page"],attributes:{"database-id":{values:!0,description:"The database ID the relation points to",required:!1,mappingMode:"collection_counter"}}},"property-status":{text:!1,inline:["option"],attributes:{}},"property-number":{text:!1,inline:[],attributes:{number:{values:!0,description:"value",required:!1}}}},f=(0,r.Yd)(h),y={"schema-property-title":{propertyTagName:"property-title",inline:[],attributes:{}},"schema-property-text":{propertyTagName:"property-text",inline:[],attributes:{}},"schema-property-url":{propertyTagName:"property-url",inline:[],attributes:{}},"schema-property-email":{propertyTagName:"property-email",inline:[],attributes:{}},"schema-property-phone-number":{propertyTagName:"property-phone-number",inline:[],attributes:{}},"schema-property-person":{propertyTagName:"property-person",inline:[],attributes:{limit:{values:["1","Infinity"],description:"The number of options that can be added",required:!0}}},"schema-property-date":{propertyTagName:"property-date",inline:[],attributes:{}},"schema-property-created-time":{propertyTagName:"property-created-time",inline:[],attributes:{}},"schema-property-last-edited-time":{propertyTagName:"property-last-edited-time",inline:[],attributes:{}},"schema-property-created-by":{propertyTagName:"property-created-by",inline:[],attributes:{}},"schema-property-last-edited-by":{propertyTagName:"property-last-edited-by",inline:[],attributes:{}},"schema-property-checkbox":{propertyTagName:"property-checkbox",inline:[],attributes:{}},"schema-property-select":{propertyTagName:"property-select",inline:["schema-option"],attributes:{}},"schema-property-multi-select":{propertyTagName:"property-multi-select",inline:["schema-option"],attributes:{}},"schema-property-relation":{propertyTagName:"property-relation",inline:["mention-page"],attributes:{limit:{values:["1","Infinity"],description:"The number of options that can be added",required:!0},"database-id":{values:!0,description:"The database ID the relation points to",required:!0,mappingMode:"collection_counter"},"synced-property-name":{required:!1,values:!0,description:"The symmetric relation property name in the database this relation points to"}}},"schema-property-status":{propertyTagName:"property-status",inline:["schema-option-category"],attributes:{}},"schema-property-number":{propertyTagName:"property-number",inline:[],attributes:{format:{values:!0,description:"Number format",required:!1}}}},b={is:{text:!1,inline:["mention-date"],attributes:{}},">":{text:!1,inline:["mention-date"],attributes:{}},"<":{text:!1,inline:["mention-date"],attributes:{}},"≥":{text:!1,inline:["mention-date"],attributes:{}},"≤":{text:!1,inline:["mention-date"],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},k={"property-title":{is:{text:!0,inline:[],attributes:{}},contains:{text:!0,inline:[],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-text":{is:{text:!0,inline:[],attributes:{}},contains:{text:!0,inline:[],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-url":{is:{text:!0,inline:[],attributes:{}},contains:{text:!0,inline:[],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-email":{is:{text:!0,inline:[],attributes:{}},contains:{text:!0,inline:[],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-phone-number":{is:{text:!0,inline:[],attributes:{}},contains:{text:!0,inline:[],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-person":{contains:{text:!1,inline:["mention-person"],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-date":b,"property-created-time":b,"property-last-edited-time":b,"property-created-by":{contains:{text:!1,inline:["mention-person"],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-last-edited-by":{contains:{text:!1,inline:["mention-person"],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-checkbox":{is:{text:!1,inline:[],attributes:{checked:{values:["true","false"],description:'checked state, either "true" or "false"',required:!0}}}},"property-select":{is:{text:!1,inline:["option"],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-multi-select":{contains:{text:!1,inline:["option"],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-relation":{contains:{text:!1,inline:["mention-page"],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-status":{is:{text:!1,inline:["option","option-category"],attributes:{}},"is empty":{text:!1,inline:[],attributes:{}}},"property-number":{is:{text:!1,inline:[],attributes:{number:{values:!0,description:"value",required:!0}}},">":{text:!1,inline:[],attributes:{number:{values:!0,description:"value",required:!0}}},"<":{text:!1,inline:[],attributes:{number:{values:!0,description:"value",required:!0}}},"≥":{text:!1,inline:[],attributes:{number:{values:!0,description:"value",required:!0}}},"≤":{text:!1,inline:[],attributes:{number:{values:!0,description:"value",required:!0}}},"is empty":{text:!1,inline:[],attributes:{}}}},v=["Count all"],S=["Count values","Count unique values","Count empty","Count not empty","Percent empty","Percent not empty","Show unique values"],A={"Count all":"count","Count values":"count_values","Count unique values":"unique","Count empty":"empty","Count not empty":"not_empty","Percent empty":"percent_empty","Percent not empty":"percent_not_empty","Show unique values":"show_unique","Count checked":"checked","Count unchecked":"unchecked","Percent checked":"percent_checked","Percent unchecked":"percent_unchecked","Count per group":"count_per_group","Percent per group":"percent_per_group",Sum:"sum",Average:"average",Median:"median",Min:"min",Max:"max",Range:"range","Earliest date":"earliest_date","Latest date":"latest_date","Date range":"date_range"},_={basic:[...v,...S],date:[...v,...S,"Earliest date","Latest date","Date range"],status:[...v,...S,"Count per group","Percent per group"],number:[...v,...S,"Sum","Average","Median","Min","Max","Range"],checkbox:[...v,"Count checked","Count unchecked","Percent checked","Percent unchecked"]};function w(e){return`the name of the ${e} property being aggregated`}function x(e){return`the method of aggregation for the ${e} property`}const P={"aggregation-property-title":{attributes:{name:{required:!0,values:!0,description:w("title")},aggregation:{values:_.basic,required:!0,description:x("title")}}},"aggregation-property-text":{attributes:{name:{required:!0,values:!0,description:w("text")},aggregation:{values:_.basic,required:!0,description:x("text")}}},"aggregation-property-url":{attributes:{name:{required:!0,values:!0,description:w("url")},aggregation:{values:_.basic,required:!0,description:x("url")}}},"aggregation-property-email":{attributes:{name:{required:!0,values:!0,description:w("email")},aggregation:{values:_.basic,required:!0,description:x("email")}}},"aggregation-property-phone-number":{attributes:{name:{required:!0,values:!0,description:w("phone_number")},aggregation:{values:_.basic,required:!0,description:x("phone_number")}}},"aggregation-property-date":{attributes:{name:{values:!0,required:!0,description:w("date")},aggregation:{values:_.date,required:!0,description:x("date")}}},"aggregation-property-created-time":{attributes:{name:{values:!0,required:!0,description:w("created-time")},aggregation:{values:_.date,required:!0,description:x("created-time")}}},"aggregation-property-last-edited-time":{attributes:{name:{values:!0,required:!0,description:w("last-edited-time")},aggregation:{values:_.date,required:!0,description:x("last-edited-time")}}},"aggregation-property-person":{attributes:{name:{values:!0,required:!0,description:w("person")},aggregation:{values:_.basic,required:!0,description:x("person")}}},"aggregation-property-created-by":{attributes:{name:{values:!0,required:!0,description:w("created-by")},aggregation:{values:_.basic,required:!0,description:x("created-by")}}},"aggregation-property-last-edited-by":{attributes:{name:{values:!0,required:!0,description:w("last-edited-by")},aggregation:{values:_.basic,required:!0,description:x("last-edited-by")}}},"aggregation-property-checkbox":{attributes:{name:{values:!0,required:!0,description:w("checkbox")},aggregation:{values:_.checkbox,required:!0,description:x("checkbox")}}},"aggregation-property-select":{attributes:{name:{values:!0,required:!0,description:w("select")},aggregation:{values:_.basic,required:!0,description:x("select")}}},"aggregation-property-multi-select":{attributes:{name:{values:!0,required:!0,description:w("multi-select")},aggregation:{values:_.basic,required:!0,description:x("multi-select")}}},"aggregation-property-relation":{attributes:{name:{values:!0,required:!0,description:w("relation")},aggregation:{values:_.basic,required:!0,description:x("relation")}}},"aggregation-property-number":{attributes:{name:{values:!0,required:!0,description:w("number")},aggregation:{values:_.number,required:!0,description:x("number")}}},"aggregation-property-status":{attributes:{name:{values:!0,required:!0,description:w("status")},aggregation:{values:_.status,required:!0,description:x("status")},group:{values:!0,required:!0,description:"then name of the status group being aggregated when aggregation is 'Count per group' or 'Percent per group'. For other aggregations, just provide any group name."}}}},M=["hr","embed","h1","h2","h3","database","math-block","code-block","child-page","link-page","child-database","link-database","database-views","text","page","synced-block","synced-block-reference","uli","oli","toggle","quote","callout","todo","columns","table"],C={required:!1,values:d,description:"color for the block"},T={hr:{title:!1,content:[],attributes:{},properties:[],schemas:[]},embed:{title:!1,content:[],attributes:{color:C},properties:[],schemas:[]},h1:{title:!0,content:[],attributes:{color:C},properties:[],schemas:[]},h2:{title:!0,content:[],attributes:{color:C},properties:[],schemas:[]},h3:{title:!0,content:[],attributes:{color:C},properties:[],schemas:[]},database:{title:!1,content:[],attributes:{},properties:["property-title"],schemas:f},"math-block":{title:!0,content:[],attributes:{},properties:[],schemas:[]},"code-block":{title:!0,content:[],attributes:{language:{required:!1,values:o.A$,description:"language of code"}},properties:[],schemas:[]},"child-page":{title:!1,content:[],attributes:{"page-id":{required:!0,values:!0,description:"ID of page, to be used in <load>",mappingMode:"block_counter"},"database-id":{required:!1,values:!0,description:"The ID of the database this page is within, if there is one",mappingMode:"collection_counter"},"has-content":{required:!1,values:["true","false"],description:'"true" if the page has content, "false" otherwise'}},properties:f,schemas:[]},"link-page":{title:!1,content:[],attributes:{"page-id":{required:!0,values:!0,description:"ID of page, to be used in <load>",mappingMode:"block_counter"},"database-id":{required:!1,values:!0,description:"The ID of the database this page is within, if there is one",mappingMode:"collection_counter"}},properties:f,schemas:[]},"child-database":{title:!1,content:[],attributes:{"database-id":{required:!0,values:!0,description:"ID of database. Make sure to use the value of this attribute as the id in query-database.",mappingMode:"block_counter"}},properties:["property-title"],schemas:f},"database-views":{title:!1,content:[],attributes:{},properties:["property-title"],schemas:f},"link-database":{title:!1,content:[],attributes:{"database-id":{required:!0,values:!0,description:"ID of database",mappingMode:"collection_counter"}},properties:["property-title"],schemas:f},text:{title:!0,content:M,attributes:{color:C},properties:[],schemas:[]},page:{title:!1,content:M,attributes:{"database-id":{required:!1,values:!0,description:"ID of the database this page belongs to. Use this to look up the schema for the page",mappingMode:"collection_counter"},"page-font":{required:!1,values:["default","serif","mono"],description:"Font used for the page"},"page-width":{required:!1,values:["default","full-width"],description:"Width of the page"},"page-font-size":{required:!1,values:["default","small"],description:"Font size for the page"}},properties:f,schemas:[]},uli:{title:!0,content:M,attributes:{color:C},properties:[],schemas:[]},oli:{title:!0,content:M,attributes:{color:C},properties:[],schemas:[]},toggle:{title:!0,content:M,attributes:{color:C,size:{required:!1,values:["h1","h2","h3"],description:"size of the toggle header, if the toggle is a header"}},properties:[],schemas:[]},quote:{title:!0,content:M,attributes:{color:C},properties:[],schemas:[]},todo:{title:!0,content:M,attributes:{checked:{required:!0,values:["true","false"],description:'checked state, either "true" or "false"'},color:C},properties:[],schemas:[]},callout:{title:!0,content:M,attributes:{color:C},properties:[],schemas:[]},"synced-block":{title:!1,content:M,attributes:{},properties:[],schemas:[]},"synced-block-reference":{title:!1,content:M,attributes:{"synced-block-id":{required:!0,values:!0,description:"The ID of the <synced-block> node that this references",mappingMode:"block_counter"}},properties:[],schemas:[]},columns:{title:!1,content:["column"],attributes:{},properties:[],schemas:[]},column:{title:!1,content:M,attributes:{},properties:[],schemas:[]},table:{title:!1,content:["tr"],attributes:{"header-row":{required:!1,values:["true","false"],description:'whether first <tr> is row header, either "true" or "false"'},"header-column":{required:!1,values:["true","false"],description:'whether first <td> in every <tr> is column header, either "true" or "false"'}},properties:[],schemas:["property-text"]},tr:{title:!1,content:[],attributes:{},properties:["property-text"],schemas:[]},"ai-block":{title:!0,content:M,attributes:{},properties:["property-text"],schemas:[]}},I=Object.freeze((0,r.Yd)({text:!0,toggle:!0,quote:!0,embed:!0,callout:!0,uli:!0,oli:!0,todo:!0,h1:!0,h2:!0,h3:!0}));function V(e){return(0,s.Ul)(n()(e))}const q=(0,r.AO)((e=>"collectionView"===e.type?{true:e}:{false:e}));(0,r.AO)((e=>"block"===e.type?{true:e}:{false:e}));const D=(0,r.AO)((e=>"synced-block-reference"===e||"ai-block"===e||"database-views"===e?{true:e}:{false:e}))},342091:(e,t,a)=>{a.d(t,{KT:()=>p,ds:()=>o,p1:()=>d,ry:()=>r});a(21703),a(757658);var i=a(653965),n=a(401898),s=a(495940);const r="\x3c!--<selection>--\x3e",o="\x3c!--</selection>--\x3e";function l(e){const{node:t,selection:a,path:d,onlyAllowPropertyTypes:p,namespace:m}=e;if(d.includes(t))throw new Error("Circular reference detected!");const g=[...d,t],h=[];if("text"===t.type)for(const i of t.value)h.push(i);else{let e="";e+=`<${t.tagName}`;for(const[a,i]of Object.entries(t.attributes||{}))void 0!==i&&(e+=` ${a}="${i}"`);const d=`</${t.tagName}>`;if("block"===t.type){const s="block"===t.type&&"block"===(null==a?void 0:a.type)&&a.blockIds.includes(t.attributes.id),f="block"===t.type&&"text"===(null==a?void 0:a.type)&&(a.start.blockId===t.attributes.id||a.end.blockId===t.attributes.id);s&&h.push(r);if(0===t.text.length&&0===Object.values(t.properties).length&&0===Object.values(t.schemas).length&&0===t.children.length&&!f)h.push(`${e}/>`);else{h.push(`${e}>`);const s=[];if(t.text)for(const e of t.text){const t=l({node:e,selection:a,path:g,onlyAllowPropertyTypes:p,namespace:m});for(const e of t)s.push(e)}let f,y;"text"===(null==a?void 0:a.type)&&a.start.blockId===t.attributes.id&&(f=a.start.index),"text"===(null==a?void 0:a.type)&&a.end.blockId===t.attributes.id&&(y=a.end.index);for(let e=0;e<s.length;e++){const t=s[e];let i="";(0,n.$K)(a)&&e===f&&(i+=r),(0,n.$K)(a)&&e===y&&(i+=o),i+=t,h.push(i)}if((0,n.$K)(a)&&f===s.length&&h.push(r),(0,n.$K)(a)&&y===s.length&&h.push(o),"end_to_end"!==m&&"tr"===t.tagName){i.MR(Object.values(t.properties),(e=>Number(e.attributes.name))).forEach(((e,i)=>{const n=t.parent&&"table"===t.parent.tagName?t.parent:void 0,s=n&&n.attributes["header-row"],r=n&&"table"===n.tagName&&n.attributes["header-column"],o=n&&0===n.children.indexOf(t),c=s&&0===i||r&&o?"th":"td";h.push(`<${c}>`),h.push(...e.children.flatMap((e=>l({node:e,selection:a,path:g,onlyAllowPropertyTypes:p,namespace:m})))),h.push(`</${c}>`)}))}else{const e=function(e){const{tagName:t,properties:a}=e;if("tr"===t)return a;const i=[];for(const n of a){const e=u(n),a="page"===t;("property-title"===n.tagName||!e||a&&i.length<c)&&i.push(n)}return i}({tagName:t.tagName,properties:Object.values(t.properties)});for(const t of e)p&&!p.includes(t.tagName)||h.push(...l({node:t,selection:a,path:g,onlyAllowPropertyTypes:p,namespace:m}))}for(const e of Object.values(t.schemas))h.push(...l({node:e,selection:a,path:g,onlyAllowPropertyTypes:p,namespace:m}));if(t.children)for(const e of t.children){const t=l({node:e,selection:a,path:g,onlyAllowPropertyTypes:p,namespace:m});for(const e of t)h.push(e)}h.push(d)}(0,n.$K)(a)&&s&&h.push(o)}else if("collection"===t.type){h.push(`${e}>`);for(const e of Object.values(t.properties))p&&!p.includes(e.tagName)||h.push(...l({node:e,selection:a,path:g,onlyAllowPropertyTypes:p,namespace:m}));for(const e of Object.values(t.schemas))h.push(...l({node:e,selection:a,path:g,onlyAllowPropertyTypes:p,namespace:m}));h.push(d)}else{const i=(0,n.AO)((e=>"collection"===e.type||"collectionView"===e.type?{true:e}:{false:e}));if(i(t)||0===t.children.length)h.push(`${e}/>`);else{const r=[];if(!i(t)&&t.children)for(const e of t.children){const t=l({node:e,selection:a,path:g,onlyAllowPropertyTypes:p,namespace:m});for(const e of t)r.push(e)}if(r.length<=1||(0,n.qg)(s.t,t.tagName)&&s.t[t.tagName].isToken)h.push(`${e}>${r.join("")}${d}`);else for(let t=0;t<r.length;t++){const a=r[t];0===t?h.push(`${e}>${a}`):t===r.length-1?h.push(a+d):h.push(a)}}}}return h}const c=20;function u(e){return"property-checkbox"!==e.tagName&&("property-number"===e.tagName?!e.attributes.number:0===e.children.length)}function d(e){const{node:t,selection:a,onlyAllowPropertyTypes:i,namespace:n}=e;return l({node:t,selection:a,path:[],onlyAllowPropertyTypes:i,namespace:n}).join("")}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i="";if(t){i+="\n";for(let e=0;e<a;e++)i+="\t"}if("text"===e.type)i+=e.value;else{i+=`<${e.tagName}`;for(const[t,a]of Object.entries(e.attributes||{}))i+=` ${t}="${a}"`;if(e.children&&e.children.length>0){i+=">";for(const n of e.children)i+=p(n,t,a+1);if(t){i+="\n";for(let e=0;e<a;e++)i+="\t"}i+=`</${e.tagName}>`}else i+="/>"}return i}},417586:(e,t,a)=>{a.d(t,{dM:()=>L,Fq:()=>W,_X:()=>O});a(21703);var i=a(76233);const n={type:"custom",version:1,getInstructions:e=>{var t;const a=null===(t=e.parameterValues)||void 0===t?void 0:t.instructions;return a?a.some((e=>(0,i.km_)(e)))?a:(0,i.QaF)(a):""},requiresInput:!0};var s=a(401898);function r(e){const{outputType:t,namespace:a}=e;return`\n\tHelp me draft a ${t}.\n\n\tYour step-by-step instructions depend on whether the current page is empty or not:\n\n\t### If empty, or has minimal content that's related\n\tIf the current page is empty, you MUST EDIT the current page to draft the ${t}.\n\tIf the current page doesn't have a title, you MUST EDIT the current page to add a title using <property-title name="Title">{Title of page}</property-title>.\n\n\t### If not empty, or has unrelated content\n\tUse ${"end_to_end"!==a?"<create-page>":"<create>"} to draft a new page.\n\tWhen creating a new page, remember to give your <page> a title using <property-title name="Title">{Title of page}</property-title>.\n\n\tIf the ${t} relies on information from the workspace, you may perform a SEARCH first. Consider what kinds of information an ideal ${t} would contain, and use the search results to inform your draft the user would find beautiful and useful.\n\t`}const o={type:"draft_email",version:1,getInstructions:e=>{let{namespace:t}=e;return g([r({outputType:"email",namespace:t}),"Start with a header to create a subject line.","Use text blocks to create the body of the email.","Emails may only contain plain text, so you may only use headers and text blocks.","Remember to include a greeting and a closing."])},requiresInput:!0},l={type:"draft_outline",version:1,getInstructions:e=>{let{namespace:t}=e;return g([r({outputType:"outline",namespace:t}),"Remember to write an outline rather than a complete piece of work. The user will use your outline for their own writing.","Create a hierarchical list of points and subpoints related to the topic using only headers, list items, and text blocks."])},requiresInput:!0},c={type:"draft_meeting_agenda",version:1,getInstructions:e=>{let{namespace:t}=e;return g([r({outputType:"meeting agenda",namespace:t}),"This meeting agenda document will be shared with all attendees before the meeting.","Perform the following actions in order:","If you need clarification on the user's request, CHAT to ask for more information.",'If the user\'s agenda topic requires additional context, SEARCH for information. Use "lookback" and "latest" params to ensure you are fetching the most recent information.',"If you find a similar meeting in the search results, consider using it as a reference to draft the new agenda by copying its structure.","CREATE the meeting agenda in a new page using "+("end_to_end"!==t?"<create-page>":"<create>"),"end_to_end"!==t?"Remember to cite relevant pages.":"Remember to cite relevant pages using <mention-page page-id={page id}>.","","Formatting guidelines:","This is a concise outline document and should be easy to skim. Do not add introductory fluff or unnecessary details.","The page should include these sections using headers. Beneath each section you should add details using <uli>.","Background: summary of the most recent information","Relevant pages: an unordered list of relevant pages with citations","Discussion topics: an unordered list of discussion topics to cover in the meeting (don't include time estimates)","Action items: one blank todo item","Feel free to add any other relevant sections."])},requiresInput:!0},u={type:"draft_template",version:1,getInstructions:e=>{let{namespace:t}=e;return g([r({outputType:"template",namespace:t}),"A template is a pre-formatted document that can be used as a starting point for a new document.",..."end_to_end"!==t?["It should contain well-formatted sections (denoted by headings) and placeholders for information that will be filled in later."]:["It should contain well-formatted sections (denoted by headings <h1> and subheadings <h2>) and placeholders for information that will be filled in later.","You can make the template more visually appealing by using <callout> and <columns> blocks"]])},requiresInput:!0},d={type:"draft_table",version:1,getInstructions:e=>{let{namespace:t}=e;return`\n\t\t\t${r({outputType:"table",namespace:t})}\n\t\t\tBefore creating the table, consider the user's requested topic and which columns would be most relevant and useful.\n\t\t\tCreate between 3-5 columns and at least 3 rows, but as many as is useful.\n\t\t\tKeep each cell concise and to the point to save visual space.\n\t\t\tBe sure to fill in the entire table with relevant information.\n\t\t\t`},requiresInput:!0},p={type:"draft_diagram",version:1,getInstructions:e=>{let{namespace:t}=e;return`\n\t\t\t${r({outputType:"Mermaid diagram",namespace:t})}\n\t\t\tBefore creating the diagram, consider the user's requested topic and which elements would be most relevant and useful.\n\t\t\tWrite the diagram in Mermaid syntax within a code block.\n\t\t\t`},requiresInput:!0},m={type:"draft_poem",version:1,getInstructions:e=>{let{namespace:t}=e;return`\n\t\t\t${r({outputType:"poem",namespace:t})}\n\t\t\tBefore creating the poem, consider the user's requested topic and the tone they are looking for.\n\t\t\t`},requiresInput:!0};function g(e){return[[e.join("\n")]]}function h(e){let{mode:t,style:a}=e;const{selection:n,pageOrTopic:r}=e;t||(t="chat"),a||(a="prose");const o=r?Array.isArray(r)?[['"'],...r,['"']]:[i.YCD(i.$0A(r.id,r.spaceId))]:F(n)?[["my selected text"]]:[["the current page"]];if(!o)throw new Error("Expected summary target");const l="chat"===t?[...i.TPx("Respond with a short summary of "),...o,...i.TPx(" using chat.\n")].filter(s.$K):"insert"===t?[...i.TPx("Add a short summary of "),...o,...i.TPx(` ${n?"directly after the user's selection.":"to an appropriate location"} in the current page.\n`),,].filter(s.$K):(0,s.t1)(t),c=[...i.TPx("- Output in the same language as "),...o,...i.TPx(".\n")];return[...l,...g(["Content guidelines:","- Capture just the key conclusions and takeaways.",'- Never introduce the document with phrases like "This document..."; instead, simply restate the document\'s content concisely.',"- Use clear, concise language. Avoid verbosity and repetition.","- If the user cites a topic or idea, perform a search to find out more about that topic.","Formatting guidelines:\n"]),...c,...g(["- Emphasize 2-3 key words or phrases by bolding them.","- "+("prose"===a?"Output no more than one paragraph.":"Output no more than 5 bullet points."),"- Do not link to the page."]),...g(["Step-by-step instructions:","1. Only if the user asked for a summary of a topic or idea rather than a specific page, you may choose to perform a search first to find out more about that topic.","chat"===t?`2. Respond via CHAT with a short summary of ${o}. Remember to attribute information you summarize by citing the correct blocks.`:`2. Perform an EDIT where you insert a short summary of ${o} to the current page.`])]}function f(e){const t=F(e.selection)?"my selected text":"the current page";return`${"insert"===e.mode?`Write a short summary of ${t}.\n\t\t\t${e.selection?"Add it directly after the user's selection.":"Add it to an appropriate location in the current page."}`:`Respond via chat with a short summary of ${t}.`}\n\t\t\tContent guidelines:\n\t\t\tCapture just the key conclusions and takeaways.\n\t\t\tNever introduce the document with phrases like "This document..."; instead, simply restate the document's content concisely.\n\t\t\tUse clear, concise language. Avoid verbosity and repetition.\n\n\t\t\tFormatting guidelines:\n\t\t\tOutput in the same language as ${t}.\n\t\t\tEmphasize 2-3 key words or phrases by bolding them.\n\t\t\t${"prose"===e.style?"Output no more than one paragraph.":"Format your response as a bulleted list. Output no more than 5 bullet points."}\n\n\t\t\tStep-by-step instructions:\n\t\t\t${"chat"===e.mode?`Respond via CHAT with a short summary of ${t}.`:`Perform an EDIT where you insert a short summary of ${t} to the current page in a callout block. You must use the callout block around your entire output, with the first line in the callout set to an appropriate title followed by rest of the summary in text block lines.`}\n\t\t\t`}function y(e){if("insert"===e.mode&&!e.selection)throw new Error("Selection is required for insert mode");return`Your goal is try to find and extract action items by reading all the text in the current page.\n\n\tRules for finding action items:\n\tOnly include action items that explicitly reference a specific task or action to be taken in the future.\n\tDo not include action items that are implied but not directly stated.\n\tDo not include action items that are already completed.\n\tUnanswered questions that are explicitly stated should be considered action items.\n\n\tHow to format action items:\n\tUse todo blocks.\n\tThe title of the action item should be rephrased to be a single clear, concise statement of the task to be done. You do not need a period at the end of the title.\n\tIf the action item has a clear due date, include it at the end of the todo block using a "mention-date" tag.\n\tIf the action item has one or more people responsible and this person is unambiguously present in the context via ID, include them at the end of the todo block using a "mention-person" tag.\n\tMentions should have a single whitespace between them and other text or mentions. Make sure to place a space between the title and the mention, and between each mention.\n\tAction items should be in the same order as they appear in the text.\n\tUse the same language as the page.\n\t${"chat"===e.mode?"Make sure to include a citation to the specific block that the action item was found in.":"Do not include any citations or links"}\n\n\tStep-by-step instructions:\n\tIf you found action items:\n\t${"chat"===e.mode?"\n\t\t\tRespond via CHAT with all the action items in your message. Do not try to edit the document, only respond via CHAT.\n\t\t\t":"\n\t\t\tIf there is already a section on the page for action items or similar, EDIT the page to insert them there, making sure not to add duplicates.\n\t\t\tOtherwise, EDIT the page to insert all action items into the page directly after the user's selection.\n\t\t\t"}\n\tIf you did not find any action items, respond via CHAT saying so.`}const b={type:"add_summary",version:1,getInstructions:e=>f({mode:"insert",style:"prose",selection:e.selection}),requiresCurrentPage:!0,requiresInput:!1},k={type:"summarize",version:1,getInstructions:e=>{var t;return h({mode:e.parameterValues.summarizeMode,style:e.parameterValues.summarizeStyle,selection:e.selection,pageOrTopic:null===(t=e.parameterValues)||void 0===t?void 0:t.pageOrTopic})},requiresCurrentPage:!1,requiresInput:!1},v={type:"chat_key_points",version:1,getInstructions:e=>{var t;return h({mode:e.parameterValues.summarizeMode,style:e.parameterValues.summarizeStyle,selection:e.selection,pageOrTopic:null===(t=e.parameterValues)||void 0===t?void 0:t.pageOrTopic})},requiresCurrentPage:!1,requiresInput:!1},S={type:"add_key_points",version:1,getInstructions:e=>f({mode:"insert",style:"list",selection:e.selection}),requiresCurrentPage:!0,requiresInput:!1},A={type:"add_action_items",version:1,getInstructions:e=>y({mode:"insert",selection:e.selection}),requiresCurrentPage:!0,requiresInput:!1},_={type:"chat_action_items",version:1,getInstructions:e=>y({mode:"chat",selection:e.selection}),requiresCurrentPage:!0,requiresInput:!1},w={type:"translate",version:1,getInstructions:e=>{const t=F(e.selection),a="\n\t\tContent guidelines:\n\t\tDo not simply translate word-for-word; make sure the translation is accurate and idiomatic, and follows the tone and register of formality expressed by the author in the original text, and appropriate for the current document type.\n\t\tIf the original text contains idiomatic expressions, translate them into equivalent idiomatic expressions in the target language rather than translating them literally.\n\t\tFor any company jargon, names, trademarks, or other proper nouns, ensure that they are translated consistently and can be referenced back to the original text.\n\n\t\tFormatting guidelines:\n\t\tMake sure to preserve all inline formatting and block structure. Every block should retain its original type without exception, so that the translation may be inserted directly into the document.\n\t\tDo not skip any content; if some content should logically not be translate (like code or links), you should still include them in the translation unchanged.\n\t\t";return e.selection?`\n\t\t\t\tRespond with a translated version of ${F(e.selection)?"the user's selected text only":"the section around the user's cursor/selection"} in ${e.parameterValues.language}.\n\t\t\t\tRespond with the translation only, with no additional commentary.\n\n\t\t\t\t${a}\n\n\t\t\t\tStep-by-step instructions:\n\t\t\t\tYou may only respond via CHAT with the translated text. Do not search, edit, or attempt any other action.\n\t\t\t`:`\n\t\t\t\tInsert a copy of the entire page (including all blocks) translated to ${e.parameterValues.language} at the end of the page.\n\t\t\t\tInsert the translation only, with no additional commentary.\n\n\t\t\t\t${a}\n\n\t\t\t\tStep-by-step instructions:\n\t\t\t\tYou may only EDIT the current ${t?"selection":"page"}. Do not chat, search, or attempt to take any other action.\n\t\t\t`},requiresCurrentPage:!0,requiresInput:!1},x={type:"improve_writing",version:1,getInstructions:e=>{const t=F(e.selection);return`Revise ${t?"the user's selected text only":"the entire page"} to improve its writing quality.\n\n\t\t\t\tInstructions:\n\t\t\t\tFix spelling and grammar.\n\t\t\t\tImprove clarity and conciseness.\n\t\t\t\tImprove the ordering of concepts to make it more clear and readable.\n\t\t\t\tSplit up run-on sentences.\n\t\t\t\tReduce repetition.\n\t\t\t\tReplace overly complex words with simpler ones.\n\t\t\t\tUse active voice when possible.\n\t\t\t\tOutput in the same language as the text you are rewriting.\n\n\t\t\t\tImportant: You must make revisions that are different from the original text.\n\n\t\t\t\tStep-by-step instructions:\n\t\t\t\tYou may only EDIT the current ${t?"selection":"page"}. Do not chat, search, or attempt to take any other action.\n\t\t\t`},requiresCurrentPage:!0,requiresInput:!1},P={type:"fix_spelling_grammar",version:1,getInstructions:e=>{const t=F(e.selection),a=t?"the user's selected text":"the entire page";return`Make any necessary edits to ${a} to fix all spelling and grammar mistakes.\n\n\t\tDetailed guidelines:\n\t\tFix spelling mistakes.\n\t\tFix grammar mistakes, rephrasing the text if necessary so it is grammatically correct.\n\t\tDo not fix mistakes if the user's text is intentionally written in a non-standard way (e.g. for creative effect or as in elision for brevity).\n\t\tDo not make purely stylistic or editorial changes. Only fix spelling and grammar mistakes that are objectively incorrect; do not change the user's voice or tone.\n\t\tModify ${a} by only editing blocks. Do not chat or create a new page.\n\t\tIf there are no spelling or grammar mistakes, respond via chat saying so and compliment the user briefly in a kind, humorous, and tasteful way. The short compliment must be no more than a few words.\n\n\t\tStep-by-step instructions:\n\t\tLook at the given content and determine whether there are any spelling or grammar mistakes.\n\t\tIf there are mistakes, you may only EDIT the current ${t?"selection":"page"}.\n\t\tIf there are no mistakes, respond via CHAT.\n\t\t`},requiresCurrentPage:!0,requiresInput:!1};function M(e){const{mode:t,selection:a}=e,i=F(a);return`Revise ${i?"the user's selected text":"the entire page"} to be ${t}, while still preserving the key ideas.\n\n\tFor any given span of text, there always exists a ${t} version that satisfies the following guidelines. You must discover and implement this version.\n\n\tContent guidelines:\n\tYou must make revisions that are different from the original text.\n\tDo not editorialize or add new detail. Only rephrase to make the text ${t}. Keep the same tone.\n\t${i?"- Only include the selected content; do not incorporate any surrounding context.":""}\n\n\tFormatting guidelines:\n\tOutput in the same language as the text you are rewriting.\n\tPreserve the original text's structure and formatting. If the original text had inline formatting, preserve them in corresponding locations in the new text.\n\tAs appropriate, try to preserve the original text's wording, paragraph structure, and line breaks.\n\tIf the original selection or page contains lists, tables, or other structured content, reproduce those structures in the new text.\n\tYou may not modify page properties. You can only edit blocks in the page body.\n\tYou may not search for information or or create a new page.\n\t${"longer"===t?"Do not trivially repeat text to make it longer. Instead, add new information or expand on existing ideas.":""}\n\n\tStep-by-step instructions:\n\tYou may only EDIT the current ${i?"selection":"page"}. Do not chat, search, or attempt to take any other action.\n\t`}const C={type:"make_shorter",version:1,getInstructions:e=>M({mode:"shorter",selection:e.selection}),requiresCurrentPage:!0,requiresInput:!1},T={type:"make_longer",version:1,getInstructions:e=>M({mode:"longer",selection:e.selection}),requiresCurrentPage:!0,requiresInput:!1},I={type:"change_tone",version:1,getInstructions:e=>{const t=F(e.selection);return`You are an assistant that revises text with a specific tone.\n\t\t\t\tEdit ${t?"the user's selection":"the entire page"} using a revised tone that is more ${e.parameterValues.tone}${"professional"===e.parameterValues.tone?", but not overly formal":""}.\n\n\t\t\t\tContent guidelines:\n\t\t\t\tYou must make revisions that are different from the original text, even if you feel the original text is already in a ${e.parameterValues.tone} tone.\n\t\t\t\tDo not add new information or change the meaning of the text. Only change the tone.\n\n\t\t\t\tFormatting guidelines:\n\t\t\t\tOutput in the same language as the text you are rewriting.\n\t\t\t\tPreserve the original text's overall structure, just change the tone.\n\n\t\t\t\tStep-by-step instructions:\n\t\t\t\tYou may only EDIT the current ${t?"selection":"page"}.\n\t\t\t`},requiresCurrentPage:!0,requiresInput:!1},V={type:"simplify_language",version:1,getInstructions:e=>`Revise ${F(e.selection)?"the user's selected text only":"the entire page"} to be simpler to understand for most people.\n\n\t\tOutput in the same language as the text you are rewriting.\n\t\tImportant: You must make revisions that are different from the original text.\n\t\t`,requiresCurrentPage:!0,requiresInput:!1},q={type:"database_filing",version:1,getInstructions:e=>[...[...i.TPx("You are an Assistant that helps the user add content into the "),i.YCD(i.JB(e.parameterValues.collection.id,e.parameterValues.collection.spaceId)),...i.TPx(" database.\n")],...g(["Perform the following actions in order:","1. Use <load id={database id}> to load the schema of the user's specified database.","2. Infer the schema values to fill out based on the user's message. Refer to the database description for additional instructions if applicable.",`3. Use ${"end_to_end"!==e.namespace?"<create-page>":"<insert-inside>"} to insert a new page into the database containing the user's message. Include a detailed summary of the user's information inside of the page.`,"",..."end_to_end"!==e.namespace?['<create-page in="{database id}"><page><property-title name={property name}></property-title><text>{detailed summary of user\'s provided information}</text></page></create-page>']:['<insert-inside id="{database id}"><page><property-title name={property name}></property-title><text>{detailed summary of user\'s provided information}</text></page></insert-inside>'],"You may assign reasonable default property values, but do not make any assumptions.","You are not allowed to search for information.","Leave a property blank if the user has not provided a value for it.","You must capture all the information the user has provided.","You may file multiple entries in the database if the user has provided multiple distinct pieces of information."])],requiresInput:!0},D={type:"new_page_from_template",version:1,getInstructions:e=>[...[...i.TPx("You are an Assistant that helps the user fill out a new page based on the"),i.YCD(i.$0A(e.parameterValues.template.id,e.parameterValues.template.spaceId)),...i.TPx(" template.\n")],...g(["Load the template first, then ask the user for the information needed to fill out the page in the following form:","1. The user would have provided a brief description of the new page, or a list of related documents.","2. Then, load all related documents if provided, or do a search based on the description if provided.","3. After Step 2, you should have enough background information for reference.","4. Go through each section of the template one by one:","4.1. For each section, fill it with the initial background information if possible, then ask the user to either confirm or to provide more details.",`5. Repeat Step 4 until all sections are filled. Then, use ${"end_to_end"!==e.namespace?"<create-page>":"<create>"} to create the new page.`])],requiresInput:!0},E={type:"improve_formatting",version:1,getInstructions:e=>{const t=F(e.selection);return`\n\t\t\tYou are a print and digital designer with impeccable aesthetic taste tasked with improving the formatting of the user's text to add structure, hierarchy, and readability.\n\t\t\tImprove the structure and presentation of the ${t?"selected content":"page"} to look nicer and be easier to read.\n\n\t\t\tContent guidelines:\n\t\t\tYou may not add or remove wording; repeat the exact text with only stylistic formatting changed.\n\t\t\tDo not change the ordering of the text.\n\n\t\t\tStep-by-step instructions:\n\t\t\tYou may only EDIT the current ${t?"selection":"page"}. Do not chat, search, or attempt to take any other action.\n\t\t`},requiresCurrentPage:!0,requiresInput:!1};function F(e){return Boolean(e&&("block"===e.type||"text"===e.type&&e.start.index!==e.end.index))}var N=a(342091);const O=["search_qna","summarize","chat_key_points","chat_action_items","page_qna","fix_spelling_grammar","fill_title","add_summary","add_key_points","add_action_items","continue_writing","translate","improve_writing","make_shorter","make_longer","change_tone","simplify_language","brainstorm_ideas","write_code","draft_outline","draft_template","draft_table","draft_diagram","draft_poem","draft_email","draft_meeting_agenda","eval_reasoning_test","eval_page_edit_test","custom","explain_this","database_filing","new_page_from_template","improve_formatting"],$={search_qna:{type:"search_qna",version:1,requiresInput:!0,getInstructions:()=>"\n\t\tAnswer the user's question.\n\n\t\tContent guidelines:\n\t\tProvide a clear, concise answer to the user's question.\n\t\tThe more specific and detailed the question, the more detailed and specific your answer should be.\n\t\tMake sure to properly cite and reference the information you provide.\n\n\t\tStep-by-step instructions:\n\t\tFirst perform a SEARCH to find the information needed to answer the user's question in the user's workspace.\n\t\tRespond via CHAT with the answer to the user's question.\n\t\t"},summarize:k,chat_key_points:v,chat_action_items:_,page_qna:{type:"page_qna",version:1,getInstructions:()=>"Respond via chat to attempt to answer my question about the page. Do not search.",requiresCurrentPage:!0,requiresInput:!0},fix_spelling_grammar:P,fill_title:{type:"fill_title",version:1,getInstructions:e=>"Edit this page to set the title only based on the current page content. Use set-property.",requiresCurrentPage:!0,requiresInput:!1},add_summary:b,add_key_points:S,add_action_items:A,continue_writing:{type:"continue_writing",version:1,getInstructions:()=>"You are an expert editor helping a user write by offering seamless continuations of their sentence, paragraph, or document. Your goal is to provide a natural continuation of the user's writing, as if the original text was never interrupted at all.\n\n\t\tInsert a continuation of the content on the page directly after the user's selection on the page, even if the selection is in-line with existing text.\n\t\tIf the selection is in a block with existing content, insert your continuation directly after the end of that selection inside the block, then creating any new blocks thereafter.\n\t\tIf the selection is in an empty block, continue the content that comes above the block, starting in the selected block.\n\n\t\tThe continuation MUST be seamless. The user should not be able to tell where their writing ends and yours begins.\n\t\tUse the same language as the page.\n\t\tUse the same formatting, structure, and tone as the user's writing. For example, if the user's writing is in a list, continue the list. If the user's writing contained highlights, continue with highlights.\n\n\t\tIf your continuation is short, the user will have a chance to ask for more. So do not write too much.\n\t\tInserted content must flow naturally into the content that follows, so avoid abrupt transitions at the end of your continuation.\n\t\tDo not search or ask for more information.\n\n\t\tStep-by-step instructions:\n\t\tYou must always continue the user's writing with an EDIT. Do not chat back or create a new page.\n\t\t",requiresCurrentPage:!0,requiresInput:!1},translate:w,improve_writing:x,make_shorter:C,make_longer:T,change_tone:I,simplify_language:V,improve_formatting:E,brainstorm_ideas:{type:"brainstorm_ideas",version:1,getInstructions:e=>{let{namespace:t}=e;return`Help me brainstorm ideas on this topic.\n\nContent guidelines:\nUnless specified by the user, brainstorm ideas based on the general topic of the input page or user's message, not on specific details.\nProvide a variety of at least 10 ideas, including both common and creative suggestions. No idea is too outlandish.\nIf the user did not provide enough context (e.g. the message or linked page is short or vague), you should ask clarifying questions to help generate ideas. You should also offer to perform a search, but do not search without explicit confirmation from the user.\n\nFormatting guidelines:\nOutput in the same language as the input page or user's message.\nUse ${"end_to_end"!==t?"<create-page>":"<create>"} to display the ideas in a new page. Remember to give your page a title using <property-title name="Title">{Title of page}</property-title>.\n`},requiresInput:!0},write_code:{type:"write_code",version:1,getInstructions:e=>{let{namespace:t}=e;return`Use ${"end_to_end"!==t?"<create-page>":"<create>"} help me write code in a new page. Do not search for information.`},requiresInput:!0},draft_outline:l,draft_template:u,draft_table:d,draft_diagram:p,draft_poem:m,draft_email:o,draft_meeting_agenda:c,eval_reasoning_test:{type:"eval_reasoning_test",version:1,getInstructions:()=>`\n\t\t\tYour task is to rigorously analyze and evaluate all statements in a previous assistant response.\n\n\t\t\tBreak down the response into individual statements, where each expresses a single claim. If there is a sentence in the response with multiple distinct claims, break it down into separate statements. If there are no statements, you can write "None".\n\n\t\t\tEvaluate each statement according to each of the 4 criteria, then based on this, give an overall evaluation for each. The overall evaluation should only pass if all the criteria pass for that statement. In particular, if there are ANY mistakes in relevance, evidence, or citations, the overall evaluation should fail for that statement.\n\t\t\tEvaluate each statement independently of the others.\n\t\t\tUse English.\n\n\t\t\tStructure your output exactly like this, replacing the text in curly brackets:\n\t\t\t${"\n\t\t\t\t\t<chat>\n\t\t\t\t\t<h1>Summary of user request:</h1>\n\t\t\t\t\t<text>{Summarize the user's original request, which you will see inside <user><chat>...</chat></user> tags.}</text>\n\t\t\t\t\t<h1>Factual statements:</h1>\n\t\t\t\t\t<uli>\n\t\t\t\t\t\t{Quote the statement surrounded by double quotes. Do not include citations here.}\n\t\t\t\t\t\t<oli>Relevance: {Is the statement directly relevant to the user's original request? Provide explicit reasoning.}</oli>\n\t\t\t\t\t\t<oli>General knowledge: {Should the statement be considered general knowledge? General knowledge doesn't need to be supported by the context or citations. Provide explicit reasoning.}</oli>\n\t\t\t\t\t\t<oli>Evidence: {Is the statement directly supported by evidence from the context? Make sure to carefully check for ANY incorrect assumptions, however minor. You should be extremely nitpicky here. In particular, consider that different elements of the context may have no relation to each other or to the user's original request unless explicitly confirmed by evidence. General knowledge statements do not need to be supported by the context. Provide explicit reasoning. Include citations to the context if applicable.}</oli>\n\t\t\t\t\t\t<oli>Citation: {Is the statement supported by directly relevant citations in the response? Statements that use evidence from the context require a citation somewhere after them in the response. Note that it does not necessarily need to be in the same sentence, as long as it is after the statement anywhere in the response. General knowledge statements do not need citations. Provide explicit reasoning. Include citations to the context if applicable.}</oli>\n\t\t\t\t\t\t<text>{PASS if all of the above criteria passed, FAIL otherwise.}</text>\n\t\t\t\t\t</uli>\n\t\t\t\t\t{Continue for ALL factual statements in the response...}\n\t\t\t\t</chat>\n\t\t\t".split("\n").map((e=>e.trim())).filter(Boolean).join("")}\n\t\t\t`,requiresInput:!1},eval_page_edit_test:{type:"eval_page_edit_test",version:1,getInstructions:()=>`\n\t\t\tA user has made a request to edit a page. You are a researcher who is helping to evaluate this edit.\n\n\t\t\tInside <before-excerpt>...</before-excerpt>, you'll find an excerpt of the page before the edit.\n\t\t\tInside <after-excerpt>...</after-excerpt>, you'll find an excerpt of the page after the edit.\n\t\t\tNote that the excerpts are not guaranteed to contain the entire page. You should only focus on the parts of the page that were shown, not the parts that may have been cut off.\n\n\t\t\tIf the user made a selection, you will find a region of the before page that contains the user's selection inside <before-user-selection>...</before-user-selection>. The user's selection will be denoted by ${N.ry}...${N.ds}. When you're evaluating the edit, consider whether the edit was made in the correct location given the context of the user's request and the selection. If the user has not made a selection, you will not find this region.\n\n\t\t\tInside <request>...</request>, you'll find the user's request.\n\n\t\t\tUse English.\n\n\t\t\tStructure your output exactly like this, replacing the text in curly brackets:\n\t\t\t${"\n\t\t\t\t\t<chat>\n\t\t\t\t\t<h1>Summary of user request:</h1>\n\t\t\t\t\t<text>{Summarize the user's original request.}</text>\n\t\t\t\t\t<h1>Summary of the relevant parts of the before state of the page:</h1>\n\t\t\t\t\t<oli>{1...}</oli>\n\t\t\t\t\t<oli>{2...}</oli>\n\t\t\t\t\t{Continue for all relevant parts of the after state of the page...}\n\t\t\t\t\t<h1>Summary of the relevant parts of the after state of the page:</h1>\n\t\t\t\t\t<oli>{1...}</oli>\n\t\t\t\t\t<oli>{2...}</oli>\n\t\t\t\t\t{Continue for all relevant parts of the after state of the page...}\n\t\t\t\t\t<h1>Evaluation:</h1>\n\t\t\t\t\t<oli>Location: {Was the request edited in the correct location? Make sure to consider the user's selection, if any. Provide explicit reasoning.}</oli>\n\t\t\t\t\t<oli>Correctness: {Did the edit successfully and completely accomplish the request? Provide explicit reasoning.}</oli>\n\t\t\t\t\t<text>{PASS if all of the above criteria passed, FAIL otherwise.}</text>\n\t\t\t\t</chat>\n\t\t\t".split("\n").map((e=>e.trim())).filter(Boolean).join("")}\n\t\t\t`,requiresInput:!1},custom:n,explain_this:{type:"explain_this",version:1,getInstructions:()=>"Provide a brief explanation of the selected text.\n\nYou must perform a search on the selection first, except when the selection is fully explainable using only information in the current context.\nThen, respond via chat with a brief explanation of the selected text. Use clear, concise language.",requiresCurrentPage:!0,requiresInput:!1},database_filing:q,new_page_from_template:D};function Y(e){const t=$[e];if(!t)throw new Error(`No skill found for type: ${e}`);return t}function L(e){const{skillType:t,parameterValues:a,selection:i,namespace:n}=e;return Y(t).getInstructions({parameterValues:a,selection:i,namespace:n})}function W(e){if(void 0!==e)return Y(e)}},681532:(e,t,a)=>{a.d(t,{IQ:()=>S,OD:()=>y,S8:()=>u,Vf:()=>b,Vz:()=>M,Zf:()=>_,_Y:()=>w,aB:()=>C,gZ:()=>P,hw:()=>d,iY:()=>x,qC:()=>p,sI:()=>f,vu:()=>c});var i=a(709291),n=a(401898),s=a(687205),r=a(76233),o=a(417586);const l=(0,i.defineMessages)({summarizePageParameter:{id:"parameters.summarize.page",defaultMessage:"Page"},translateLanguageParameter:{id:"parameters.translate.language",defaultMessage:"Language"},changeToneToneParameter:{id:"parameters.changeTone.tone",defaultMessage:"Tone"},customNameParameter:{id:"parameters.custom.name",defaultMessage:"Name"},customInitialUserPromptParameter:{id:"parameters.custom.initialUserPrompt",defaultMessage:"Initial User Prompt"},customInstructionsParameter:{id:"parameters.custom.instructions",defaultMessage:"Instructions"},summarizeModeParameter:{id:"parameters.summarize.mode",defaultMessage:"Mode"},summarizeStyleParameter:{id:"parameters.summarize.style",defaultMessage:"Style"},databaseFilingDatabaseParameter:{id:"parameters.databaseFiling.database",defaultMessage:"Database"},newPageFromTemplateTemplateParameter:{id:"parameters.newPageFromTemplate.template",defaultMessage:"Template"},pageOrTopicPlaceholder:{id:"parameters.pageOrTopicPlaceholder.text",defaultMessage:"Select a page..."},templatePlaceholder:{id:"parameters.templatePlaceholder.text",defaultMessage:"Select a template..."},databasePlaceholder:{id:"parameters.databasePlaceholder.text",defaultMessage:"Select a database..."},languagePlaceholder:{id:"parameters.languagePlaceholder.text",defaultMessage:"Choose a language..."},tonePlaceholder:{id:"parameters.tonePlaceholder.text",defaultMessage:"Choose a tone..."}}),c=[{key:"english",name:s.Dr.translateEnglish},{key:"korean",name:s.Dr.translateKorean},{key:"chinese",name:s.Dr.translateChinese},{key:"japanese",name:s.Dr.translateJapanese},{key:"spanish",name:s.Dr.translateSpanish},{key:"russian",name:s.Dr.translateRussian},{key:"french",name:s.Dr.translateFrench},{key:"portuguese",name:s.Dr.translatePortuguese},{key:"german",name:s.Dr.translateGerman},{key:"italian",name:s.Dr.translateItalian},{key:"dutch",name:s.Dr.translateDutch},{key:"indonesian",name:s.Dr.translateIndonesian},{key:"filipino",name:s.Dr.translateFilipino},{key:"vietnamese",name:s.Dr.translateVietnamese}];function u(e){return c.find((t=>t.key===e))}const d=[{key:"professional",name:s.Dr.changeToneProfessional},{key:"casual",name:s.Dr.changeToneCasual},{key:"straightforward",name:s.Dr.changeToneStraightforward},{key:"confident",name:s.Dr.changeToneConfident},{key:"friendly",name:s.Dr.changeToneFriendly}];function p(e){return d.find((t=>t.key===e))}const m={search_qna:{},summarize:{pageOrTopic:{name:l.summarizePageParameter,type:"blockOrText",optional:!1,isUserVisible:!0,placeholder:l.pageOrTopicPlaceholder},summarizeMode:{name:l.summarizeModeParameter,type:"summarizeMode",optional:!1,isUserVisible:!1},summarizeStyle:{name:l.summarizeStyleParameter,type:"summarizeStyle",optional:!1,isUserVisible:!1}},chat_key_points:{pageOrTopic:{name:l.summarizePageParameter,type:"blockOrText",optional:!1,isUserVisible:!0,placeholder:l.pageOrTopicPlaceholder},summarizeMode:{name:l.summarizeModeParameter,type:"summarizeMode",optional:!1,isUserVisible:!1},summarizeStyle:{name:l.summarizeStyleParameter,type:"summarizeStyle",optional:!1,isUserVisible:!1}},chat_action_items:{},page_qna:{},fix_spelling_grammar:{},fill_title:{},add_summary:{},add_key_points:{},add_action_items:{},continue_writing:{},translate:{language:{name:l.translateLanguageParameter,type:"language",optional:!1,isUserVisible:!0,placeholder:l.languagePlaceholder}},improve_writing:{},improve_formatting:{},make_shorter:{},make_longer:{},change_tone:{tone:{name:l.changeToneToneParameter,type:"tone",optional:!1,isUserVisible:!0,placeholder:l.tonePlaceholder}},simplify_language:{},brainstorm_ideas:{},write_code:{},draft_outline:{},draft_template:{},draft_table:{},draft_diagram:{},draft_poem:{},draft_meeting_agenda:{},draft_email:{},eval_reasoning_test:{},eval_page_edit_test:{},custom:{name:{name:l.customNameParameter,type:"string",optional:!1,isUserVisible:!1},initialUserPrompt:{name:l.customInitialUserPromptParameter,type:"textValue",optional:!1,isUserVisible:!1},instructions:{name:l.customInstructionsParameter,type:"textValue",optional:!1,isUserVisible:!1}},explain_this:{},database_filing:{collection:{name:l.databaseFilingDatabaseParameter,type:"collection",optional:!1,isUserVisible:!0,placeholder:l.databasePlaceholder}},new_page_from_template:{template:{name:l.newPageFromTemplateTemplateParameter,type:"block",optional:!1,isUserVisible:!0,placeholder:l.templatePlaceholder}}};function g(e,t){return m[e][t]}const h={translate:{skillType:"translate",fillableParameter:"language",remainingParameters:{}},change_tone:{skillType:"change_tone",fillableParameter:"tone",remainingParameters:{}},summarize:{skillType:"summarize",fillableParameter:"pageOrTopic",remainingParameters:{summarizeMode:"chat",summarizeStyle:"prose"}},chat_key_points:{skillType:"chat_key_points",fillableParameter:"pageOrTopic",remainingParameters:{summarizeMode:"chat",summarizeStyle:"list"}},database_filing:{skillType:"database_filing",fillableParameter:"collection",remainingParameters:{}},new_page_from_template:{skillType:"new_page_from_template",fillableParameter:"template",remainingParameters:{}}};function f(e){const t=h[e];return{...t,parameterDefinition:g(t.skillType,t.fillableParameter)}}function y(e){const{skillType:t,parameterValues:a}=e,i=h[t];return{type:g(i.skillType,i.fillableParameter).type,value:a[i.fillableParameter]}}function b(e,t){return{...h[e].remainingParameters,[h[e].fillableParameter]:t}}const k=["change_tone","custom","summarize","chat_key_points","translate","database_filing","new_page_from_template"],v=["search_qna","chat_action_items","page_qna","fix_spelling_grammar","fill_title","add_summary","add_key_points","add_action_items","continue_writing","improve_writing","improve_formatting","make_shorter","make_longer","simplify_language","brainstorm_ideas","write_code","draft_outline","draft_template","draft_table","draft_diagram","draft_poem","draft_email","draft_meeting_agenda","eval_reasoning_test","eval_page_edit_test","explain_this"],S=["translate","change_tone","summarize","chat_key_points","database_filing","new_page_from_template"],A=["summarize","chat_key_points"];function _(e){return!!(0,n.DE)(k,e)}function w(e){return!!(0,n.DE)(S,e)}function x(e){return!!(0,n.DE)(A,e)}function P(e){return!!(0,n.DE)(v,e)}function M(e){return(0,o.Fq)(e).requiresInput??!1}function C(e){const{skillType:t,parameterValues:a}=e;if(!t)return!1;if(!o._X.includes(t))return!1;if("custom"===t){if(!a)return!1;const{instructions:e}=a;return void 0!==e&&(0,r.QaF)(e).trim().length>0}if(w(t)){if(!a)return!1;if(!y({skillType:t,parameterValues:a}).value)return!1}return!0}},192034:(e,t,a)=>{a.d(t,{WM:()=>s,Y:()=>i});const i=["slack","googleDrive"],n=[{regex:/https:\/\/(?<workspace>[\w-]+)\.slack\.com\/archives\/(?<channel>[^\/]+)\/p(?<timestamp>\d+)(\?thread_ts=(?<thread_ts>\d+\.\d+)&cid=(?<cid>[^\/]+))?/,type:"slack"}];function s(e){var t;return null===(t=n.find((t=>t.regex.test(e))))||void 0===t?void 0:t.type}},993537:(e,t,a)=>{a.d(t,{A:()=>s});a(667294);var i=a(745238);const n=(0,a(785893).jsx)("path",{d:"M1.25293 6.82031C1.25293 3.75098 3.74805 1.25586 6.81738 1.25586C9.88672 1.25586 12.3818 3.75098 12.3818 6.82031C12.3818 8.0166 11.9922 9.12402 11.3428 10.0195L14.4668 13.1504C14.6514 13.3418 14.7471 13.5947 14.7471 13.8682C14.7471 14.4355 14.3301 14.873 13.749 14.873C13.4824 14.873 13.2158 14.7842 13.0244 14.5859L9.87988 11.4414C9.00488 12.0361 7.95898 12.3848 6.81738 12.3848C3.74805 12.3848 1.25293 9.88965 1.25293 6.82031ZM2.70215 6.82031C2.70215 9.08984 4.54102 10.9355 6.81738 10.9355C9.08691 10.9355 10.9326 9.08984 10.9326 6.82031C10.9326 4.55078 9.08691 2.70508 6.81738 2.70508C4.54102 2.70508 2.70215 4.55078 2.70215 6.82031Z"}),s=(0,i.IU)("find",{viewBox:"0 0 16 16",svg:n})},595633:(e,t,a)=>{a.d(t,{a:()=>s});a(667294);var i=a(745238),n=a(785893);const s=(0,i.IU)("paintBrush",{viewBox:"0 0 16 18",svg:(0,n.jsx)("path",{d:"M1.506 16.447c-.593-.592-.891-1.219-.896-1.88-.004-.66.285-1.283.869-1.866.2-.2.455-.403.765-.608.315-.205.643-.406.985-.602.341-.2.665-.392.97-.574.31-.182.563-.353.759-.513L3.529 8.982c-.287-.287-.433-.592-.437-.916 0-.328.141-.633.424-.916l.895-.895c.283-.283.586-.422.91-.417.327 0 .635.143.922.43l5.435 5.449c.291.287.437.592.437.916.005.319-.132.622-.41.909l-.902.902c-.278.278-.581.415-.91.41-.328 0-.633-.143-.915-.43l-1.422-1.429a5.87 5.87 0 0 0-.52.752 84.79 84.79 0 0 0-.574.978c-.196.346-.397.674-.602.984-.2.314-.403.572-.608.772-.583.584-1.205.873-1.866.869-.661-.005-1.288-.306-1.88-.903Zm3.11-8.551c-.164.159-.164.32 0 .485l1.655 1.647a.565.565 0 0 1 .19.465c-.013.173-.095.34-.245.5-.132.136-.353.293-.663.47-.31.179-.661.377-1.053.596a20.55 20.55 0 0 0-1.155.704c-.383.25-.709.51-.978.779-.314.31-.471.645-.471 1.005.004.36.166.702.485 1.025.323.32.663.479 1.018.479.36.004.698-.15 1.012-.465.274-.269.533-.595.78-.978.25-.382.485-.768.704-1.155.218-.392.417-.74.594-1.046.183-.31.34-.53.472-.663.16-.155.326-.237.499-.246.173-.014.33.05.472.192l1.64 1.647c.164.168.326.166.486-.007l.52-.52c.159-.164.16-.325.006-.485L5.621 7.37c-.073-.077-.15-.114-.232-.11-.082 0-.162.04-.24.117l-.533.52ZM3.38 15.4a.783.783 0 0 1-.574-.239.783.783 0 0 1-.24-.574c0-.223.08-.415.24-.574.16-.16.35-.24.574-.24.223 0 .415.08.574.24.16.16.24.35.24.574 0 .223-.08.415-.24.574-.16.16-.35.24-.574.24Zm8.114-2.87-.889-.883 3.22-3.22a.588.588 0 0 0 .192-.423c0-.155-.071-.303-.212-.444l-5.08-5.073a.332.332 0 0 0-.211-.11.262.262 0 0 0-.192.07.425.425 0 0 0-.123.225 259.17 259.17 0 0 0-.417 1.545c-.114.428-.232.813-.355 1.155-.123.342-.28.68-.472 1.012a9.54 9.54 0 0 1-.759 1.107l-.902-.902a16 16 0 0 0 .526-.78 5.2 5.2 0 0 0 .356-.656 5.91 5.91 0 0 0 .26-.731c.082-.274.168-.602.26-.985l.334-1.435c.069-.296.192-.536.37-.718A1.323 1.323 0 0 1 8.73.91c.242.06.46.185.657.376l5.373 5.38c.405.41.61.84.615 1.292.01.451-.185.875-.581 1.272l-3.302 3.301Zm-1.1-3.993c-.083-.077-.076-.164.02-.26a6.96 6.96 0 0 0 .998-1.257c.287-.456.463-.987.527-1.593l1.503 1.497c-.173.219-.41.442-.71.67a7.87 7.87 0 0 1-.944.601 4.435 4.435 0 0 1-.875.37c-.255.072-.428.063-.52-.028Z"})})}}]);