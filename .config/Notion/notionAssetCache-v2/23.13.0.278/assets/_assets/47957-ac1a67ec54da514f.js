"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[47957],{847957:(e,n,i)=>{i.d(n,{YG:()=>D,Ao:()=>V,R7:()=>I,vu:()=>F,_S:()=>P});var t=i(294184),o=i.n(t),s=i(667294),r=i(800480),a=i(706740),l=i(337989),d=i(886628),c=i(724405),u=i(823290),p=i(277744),h=i(898104),b=i(164921),v=i(850478),y=i(475024),M=i(735948),g=i(61766),f=i(312455),x=i(73266),m=i(356666),W=i(709291),S=i(231945),j=i(573063),k=i(953437),C=i(785893);const E=(0,W.defineMessages)({moreLabel:{id:"automationBaseStepElement.moreActionsMenu.title",defaultMessage:"More"}});function L(e){const{actionMenu:n,disabled:i,buttonPopupStore:t}=e,{device:o}=(0,r.O7)(),s=(0,W.useIntl)(),a=(0,c.yK)((e=>({iconButton:{border:`1px solid ${e.regularDividerColor}`,height:26,width:26},icon:{height:14,width:14}})),[]);return(0,C.jsx)(S.ZP,{alignmentToOrigin:S.vR.Center,buttonPopupStore:t,originGap:0,placementToOrigin:S.pO.Bottom,popupType:o.isMobile?k.kQ.SlideUp:k.kQ.Popup,render:()=>n,renderOrigin:e=>(0,C.jsx)(j.Z,{...e,ariaLabel:s.formatMessage(E.moreLabel),disabled:i,disabledFeedback:i,hasBackground:!0,icon:m.o,iconStyle:a.icon,style:a.iconButton})})}const w="automation-list-item-base-step",A="automation-list-item-base-step--disabled",B="automation-list-item-icon",Z="automation-list-item-drag-handle";function P(e){const{actionMenu:n,buttonPopupStore:i,children:t,disabled:a,icon:c,onClick:u,onMouseDown:h,onMouseEnter:b,onMouseLeave:v,subtitle:y,styles:f}=e,{isMobile:m}=(0,r.Fy)(),W=(0,d.qz)(i,g.Z),[S,j]=(0,l.Z)(),[k,E]=(0,M.C)(),B=(0,d.VK)((()=>W.getState()),[W]),Z=!a&&(m||E||j||B.open),P=q({disabled:a,hasActionMenu:Boolean(n),isActionMenuVisible:Z,overrideStyles:f}),D=(0,x.a)(),V=(0,p.lq)(S,k),F=(0,s.useMemo)((()=>({...P.componentWrap,...P.border})),[P.border,P.componentWrap]);return(0,C.jsxs)("div",{className:o()(w,{[A]:a}),onClick:u,onMouseDown:h,onMouseEnter:b,onMouseLeave:v,ref:V,style:F,children:[(0,C.jsxs)("div",{style:P.headerWrap,children:[!D&&c&&(0,C.jsx)("div",{"aria-hidden":"true",style:P.iconContainer,children:(0,C.jsx)("div",{style:P.iconWrap,children:c(P.icon)})}),(0,C.jsx)("div",{style:P.titleWrap,children:t})]}),y&&(0,C.jsx)("div",{style:P.subtitleWrap,children:y}),n&&(0,C.jsx)("div",{style:P.actionMenuWrap,children:(0,C.jsx)(L,{actionMenu:n,buttonPopupStore:W,disabled:a})})]})}function D(e){const{actionMenu:n,buttonPopupStore:i,children:t,disabled:c,icon:u,onBlur:v,onClick:y,onFocus:f,onMouseDown:m,onMouseEnter:W,onMouseLeave:S,styles:j,subtitle:k}=e,{isMobile:E}=(0,r.Fy)(),[B,Z]=(0,a.Z)(),[P,D]=(0,l.Z)(),[V,F]=(0,M.C)(),I=(0,d.qz)(i,g.Z),z=(0,d.VK)((()=>I.getState().open),[I]),K=(0,p.lq)(V,P),R=!c&&(E||F||Z||D||z),N=!c&&F;(0,s.useEffect)((()=>{function e(e){e.state.open||h.sD()}return I.addListener(e),()=>{I.removeListener(e)}}),[I]);const O=q({disabled:c,hasActionMenu:Boolean(n),isActionMenuVisible:R,overrideStyles:j}),T=(0,x.a)();return(0,C.jsxs)("div",{className:o()(w,{[A]:c}),ref:K,style:O.buttonWrap,children:[(0,C.jsxs)(b.Z,{disabled:c,disabledFeedback:c,hovered:N,ignoreLocalHoverState:!0,onBlur:v,onClick:y,onFocus:f,onMouseDown:m,onMouseEnter:W,onMouseLeave:S,ref:B,style:O.componentWrap,children:[(0,C.jsxs)("div",{style:O.headerWrap,children:[!T&&u&&(0,C.jsx)("div",{"aria-hidden":"true",style:O.iconContainer,children:(0,C.jsx)("div",{style:O.iconWrap,children:u(O.icon)})}),(0,C.jsx)("div",{style:O.titleWrap,children:t})]}),k&&(0,C.jsx)("div",{style:O.subtitleWrap,children:k})]}),n&&(0,C.jsx)("div",{style:O.actionMenuWrap,children:(0,C.jsx)(L,{actionMenu:n,buttonPopupStore:I,disabled:c})})]})}function V(e){const{actionMenu:n,buttonPopupStore:i,children:t,disabled:a,forceShowActionMenu:c,onMouseEnter:u,onMouseLeave:b,styles:v}=e,{isMobile:y}=(0,r.Fy)(),[x,m]=(0,l.Z)(),[W,S]=(0,M.C)(),j=(0,d.qz)(i,g.Z),k=(0,d.VK)((()=>j.getState().open),[j]),{currentDraggingActionId:E}=(0,f.i)(),B=(0,p.lq)(W,x),Z=!a&&(c||y||S||m||k);(0,s.useEffect)((()=>{function e(e){e.state.open||h.sD()}return j.addListener(e),()=>{j.removeListener(e)}}),[j]);const P=q({disabled:a,hasActionMenu:Boolean(n),isActionMenuVisible:Z,overrideStyles:v}),D=(0,s.useMemo)((()=>({...P.componentWrap,...P.border,...E?{cursor:"grabbing"}:{}})),[E,P.border,P.componentWrap]);return(0,C.jsxs)("div",{className:o()(w,{[A]:a}),onMouseEnter:u,onMouseLeave:b,ref:B,style:D,children:[n&&(0,C.jsx)("div",{style:P.actionMenuWrap,children:(0,C.jsx)(L,{actionMenu:n,buttonPopupStore:j,disabled:a})}),t]})}function F(e){const{actionRegistryItem:n,children:i,disabled:t,onMouseEnter:o,onMouseLeave:s,styles:r}=e,a=q({disabled:t,hasActionMenu:!1,isActionMenuVisible:!1,overrideStyles:r}),l=(0,x.a)(),d=(0,u.Xp)(n)?n.display:void 0;return(0,C.jsxs)("header",{onMouseEnter:o,onMouseLeave:s,style:a.headerWrap,children:[!l&&d&&(0,C.jsxs)("div",{"aria-hidden":"true",style:a.iconContainer,children:[(0,C.jsx)("div",{className:B,style:a.iconWrap,children:(0,C.jsx)(z,{display:d,hasSideEffects:n.hasSideEffects})}),(0,C.jsx)("div",{className:Z,style:a.iconWrap,children:(0,C.jsx)(v.ZP,{hideClickMessage:!0})})]}),(0,C.jsx)("div",{style:a.titleWrap,children:i})]})}function I(e){const{children:n,disabled:i,styles:t}=e,o=q({disabled:i,hasActionMenu:!1,isActionMenuVisible:!1,overrideStyles:t});return(0,C.jsx)("div",{style:o.bodyWrap,children:n})}function q(e){const{disabled:n,hasActionMenu:i,isActionMenuVisible:t,overrideStyles:o}=e;return(0,c.yK)((e=>({border:{border:`1px solid ${e.stroke.regular}`},buttonWrap:{background:e.cardContentBackground,border:`1px solid ${e.stroke.regular}`,overflow:"hidden",position:"relative"},componentWrap:{background:e.cardContentBackground,display:"flex",flexDirection:"column",gap:14,paddingInline:12,paddingBlock:14,position:"relative",...n?{cursor:"default",pointerEvents:"none"}:{},...null==o?void 0:o.componentWrap},headerWrap:{display:"flex",flexDirection:"row",gap:4,marginInlineEnd:i?38:0,...n?{opacity:.4}:{},...null==o?void 0:o.headerWrap},iconContainer:{marginRight:4,width:24,height:24,position:"relative",flexShrink:0},iconWrap:{display:"flex",justifyContent:"center",width:"100%",height:"100%",position:"absolute",...null==o?void 0:o.iconWrap},icon:{fill:e.text.secondary,height:"auto",width:16,...null==o?void 0:o.icon},titleWrap:{alignSelf:"center",flex:"1 1 auto",fontSize:14,lineHeight:1.285,marginBlockStart:1,minWidth:0,whiteSpace:"pre",...null==o?void 0:o.titleWrap},subtitleWrap:{...null==o?void 0:o.subtitleWrap},bodyWrap:{fontSize:14,...null==o?void 0:o.bodyWrap},actionMenuWrap:{flex:"0 0 auto",height:26,position:"absolute",right:12,top:12,width:26,zIndex:2,...t?{}:y.jy}})),[n,i,t,o])}function z(e){const{display:n,hasSideEffects:i}=e,t=(0,c.yK)((e=>({iconWrap:{width:24,height:24,display:"flex",alignItems:"center",borderRadius:4,background:i?"rgba(35, 131, 226, 0.14)":e.accentColors.gray[50],flexShrink:0},icon:{width:14,height:14,fill:i?e.blueColor:e.accentColors.gray[500],margin:"0 auto"}})),[i]);return(0,C.jsx)("div",{style:t.iconWrap,children:n.icon(t.icon)})}},73266:(e,n,i)=>{i.d(n,{a:()=>s});var t=i(667294),o=i(409015);function s(){const e=(0,t.useContext)(o.Z),{editorWidth:n}=e;return n<500}},735948:(e,n,i)=>{i.d(n,{C:()=>o});var t=i(667294);function o(){const e=(0,t.useRef)(null),[n,i]=(0,t.useState)(!1),o=(0,t.useCallback)((()=>{const n=e.current;n&&i(n.matches(":hover"))}),[]),s=(0,t.useCallback)((n=>{e.current=n,o()}),[o]);return(0,t.useEffect)((()=>{const n=e.current;if(n)return n.addEventListener("mouseenter",o),n.addEventListener("mouseleave",o),()=>{n.removeEventListener("mouseenter",o),n.removeEventListener("mouseleave",o)}}),[o]),[s,n]}}}]);