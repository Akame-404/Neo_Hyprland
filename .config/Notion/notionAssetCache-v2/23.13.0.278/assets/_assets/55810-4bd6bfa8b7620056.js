"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[55810],{718250:(e,t,s)=>{s.d(t,{K:()=>i,O:()=>n});var a=s(745483);function n(e){a.Z.state.openModals.has(e)||(a.Z.state.openModals.add(e),a.Z.emit())}function i(e){a.Z.state.openModals.has(e)&&(a.Z.state.openModals.delete(e),a.Z.emit())}},45257:(e,t,s)=>{s.d(t,{Z:()=>l});s(667294);var a=s(800480),n=s(724405),i=s(542853),o=s(164921),r=s(785893);function l(e){const{icon:t,title:s,on:l,hasDiff:c,wrapStyle:u,innerStyle:g,hideChevron:m}=e,p=(0,n.Fg)(),h=(0,a.O7)();return(0,r.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...u},children:[(0,r.jsxs)(o.Z,{disabled:e.disabled,style:d(Boolean(l),p,g,h.device.isMobile),hoveredStyle:l?{background:p.outlineBlueButtonHoveredBackground}:void 0,pressedStyle:l?{background:p.outlineBlueButtonPressedBackground}:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,s,!m&&(0,i.i)({width:10,marginLeft:4,marginTop:1,fill:l?p.blueColor:p.lightIconColor})]}),c&&(0,r.jsx)("div",{style:{position:"absolute",top:-2,right:-2,background:"dark"===p.mode?p.accentColors.orange[500]:p.accentColors.orange[300],border:`1px solid ${p.contentBackground}`,width:9,height:9,borderRadius:9}})]})}function d(e,t,s,a){return{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:a?28:24,lineHeight:a?"28px":"24px",padding:"0 8px",border:`1px solid ${t.outlineButtonBorder}`,color:t.mediumTextColor,...e&&{color:t.blueColor,border:`1px solid ${t.filterPillBorder}`,background:t.filterPillBackground},...s}}},605851:(e,t,s)=>{s.d(t,{VR:()=>u,ac:()=>c,zq:()=>d});s(667294);var a=s(724405),n=s(213148),i=s(698519),o=s(709291),r=s(785893);function l(e){const{enabled:t,labelIfEnabled:s,labelIfDisabled:n}=e,i=(0,a.yK)((e=>({container:{color:t?e.mediumTextColor:e.lightTextColor}})),[t]);return(0,r.jsxs)("div",{style:i.container,children:[g(t)," ",t?s:n]})}function d(e){const t="none"!==e;return[(0,r.jsx)(l,{enabled:t&&e.read_content,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content."})},"read_content"),(0,r.jsx)(l,{enabled:t&&e.insert_content,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,r.jsx)(l,{enabled:t&&e.update_content,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content."})},"update_content"),(0,r.jsx)(l,{enabled:t&&e.insert_comment,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment."})},"insert_comment"),(0,r.jsx)(l,{enabled:t&&e.read_comment,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments."})},"read_comment")]}function c(e){return[(0,r.jsx)(l,{enabled:e.read_user_without_email,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users."})},"read_user_without_email"),(0,r.jsx)(l,{enabled:e.read_user_with_email,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses."})},"read_user_with_email")]}function u(e){return[(0,r.jsx)(l,{enabled:e.link_preview,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,r.jsx)(l,{enabled:e.synced_database,labelIfEnabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,r.jsx)(o.FormattedMessage,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}function g(e){const t={width:12,display:"inline",verticalAlign:"middle"};return e?(0,i.k)(t):(0,n.U)(t)}},484015:(e,t,s)=>{s.d(t,{_:()=>d});s(667294);var a=s(800480),n=s(186517),i=s(709291),o=s(605851),r=s(828992),l=s(785893);function d(e){const{role:t}=e,s=(0,i.useIntl)(),{device:d}=(0,a.O7)(),c=(0,o.zq)(t);return(0,l.jsx)(r.Z,{...e,title:s.formatMessage((0,n.Gx)(t,void 0).label),shouldWrapCaption:!0,style:d.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,l.jsx)("div",{children:c})})}},646945:(e,t,s)=>{s.d(t,{Z:()=>f});var a=s(667294),n=s(313991),i=s(886628),o=s(724405),r=s(253877),l=s(842875),d=s(531701),c=s(137810),u=s(296994),g=s(628020),m=s(213854),p=s(785893);const h={monthControl:{position:"absolute",top:0,right:0,display:"flex"},selectedRange:{backgroundColor:d.ZP.blueWithAlpha(.15)},active:{backgroundColor:d.ZP.blue,color:d.ZP.white},inactive:{backgroundColor:d.ZP.blueWithAlpha(.43)},disabled:{pointerEvents:"none"},today:{fontWeight:c.Z.fontWeight.regular}};const f=function(e){let{readonly:t,store:s,value:c,validate:f,onUpdate:x,disabled:b,dateTimeStore:y}=e;const v=(0,o.Fg)(),S=(0,a.useRef)(),M=(0,i.VK)((()=>{if(s.state.displayMonth)return s.state.displayMonth.toJSDate();if("starting"===s.getFocus()){if(c.starting)return r.OQ.notionDateToJsDate(c.starting);if(c.ending)return r.OQ.notionDateToJsDate(c.ending)}if("ending"===s.getFocus()){if(c.ending)return r.OQ.notionDateToJsDate(c.ending);if(c.starting)return r.OQ.notionDateToJsDate(c.starting)}if(!S.current){const e=r.Lg((0,l.r)());S.current=r.OQ.notionDateToJsDate(e)}return S.current}),[S,s,c]),j=(0,i.VK)((()=>g.AK.state),[]),C=(0,i.VK)((()=>function(e,t,s){const a=function(e,t,s){if(s)return e=>!0;const a=e=>"ending"===t.getFocus()&&{before:e},n=e=>"starting"===t.getFocus()&&{after:e};if(e.starting&&e.ending){const t=r.OQ.notionDateToJsDate(e.starting),s=r.OQ.notionDateToJsDate(e.ending);return a(t)||n(s)}if(e.starting){return a(r.OQ.notionDateToJsDate(e.starting))}if(e.ending){return n(r.OQ.notionDateToJsDate(e.ending))}return!1}(t,e,s),{hovered:n}=e.state;if(s)return{disabled:a};if(t.starting&&t.ending){const e=r.OQ.notionDateToJsDate(t.starting),s=r.OQ.notionDateToJsDate(t.ending);return{range:{from:e,to:s},start:e,end:s,disabled:a}}if(t.starting){const e=r.OQ.notionDateToJsDate(t.starting);return{range:n&&{from:e,to:n},start:e,end:n,disabled:a,selected:[e,n]}}if(t.ending){const e=r.OQ.notionDateToJsDate(t.ending);return{range:n&&{from:n,to:e},start:n,end:e,disabled:a,selected:[e,n]}}}(s,c,b)),[s,c,b]),w=(0,i.VK)((()=>function(e,t){const s=h,a=function(e){return{disabled:{color:e.lightTextColor},today:{color:d.ZP.white}}}(t),n=e.getFocus(),i=s.selectedRange,o={...s.disabled,...a.disabled},r={...s.today,...a.today};return{range:i,start:"starting"===n?s.active:s.inactive,end:"ending"===n?s.active:s.inactive,disabled:o,today:r}}(s,v)),[s,v]);return(0,p.jsx)(u.yG,{className:"notion-calendar-picker",defaultMonth:M,month:M,numberOfMonths:1,weekStartsOn:j,locale:n.SP,showOutsideDays:!0,fixedWeeks:!0,onDayClick:e=>function(e,t,s,a,n,i,o,l){if(i||l)return;const d=t.getFocus(),c=r.OQ.toPersistedDate(e.valueOf()),u=a(d,{value:c}),g=u.error?u:{value:{[d]:u.value[d]}};n(g),t.setState({...t.state,hovered:void 0}),o&&o.setState({...o.state,hovered:void 0});if(u.error)return;"starting"!==d||s.ending||(t.setState({...t.state,focus:"ending"}),o&&o.setState({...o.state,focus:m.yO.ending}));const p="starting"===d?"ending":"starting";t.setState({...t.state,focus:p}),o&&o.setState({...o.state,focus:m.yO[p]})}(e,s,c,f,x,b,y,t),onDayMouseEnter:e=>function(e,t,s,a,n,i){const o=t.getFocus(),l=r.OQ.jsDateToLuxon(e);if(a||i)return;if("starting"===o&&s.ending&&!s.starting){r.OQ.notionDateToLuxon(s.ending)>=l&&(t.setState({...t.state,hovered:e}),n&&n.setState({...n.state,hovered:e}))}else if("ending"===o&&s.starting&&!s.ending){r.OQ.notionDateToLuxon(s.starting)<=l&&(t.setState({...t.state,hovered:e}),n&&n.setState({...n.state,hovered:e}))}}(e,s,c,b,y,t),onMonthSelected:e=>function(e,t,s){t.setState({...t.state,displayMonth:r.OQ.jsDateToLuxon(e)}),s&&s.setState({...s.state,displayMonth:r.OQ.jsDateToLuxon(e)})}(e,s,y),modifiers:C,modifiersStyles:w,disabled:!!t||void 0})}},585215:(e,t,s)=>{s.d(t,{l:()=>u});s(667294);var a=s(886628),n=s(709291),i=s(516639),o=s(80444),r=s(552275),l=s(312793),d=s(731278),c=s(785893);function u(e){const{group:t,menuListItemProps:s}=e,u=(0,a.VK)((()=>{const e=o.default.state.currentSpaceStore;if(e&&t.icon)return{pointer:{table:e.table,id:e.id},icon:t.icon}}),[t]),g=(0,n.useIntl)(),m=(0,i.kF)({intl:g,group:t});return(0,c.jsx)(r.Z,{...s,icon:u?(0,c.jsx)(d.Z,{disabled:!0,size:22,icon:u,isEmptyPage:!1,title:m}):(0,c.jsx)(l.Z,{size:22}),title:m})}},500255:(e,t,s)=>{s.d(t,{Z:()=>r});s(667294);var a=s(800480),n=s(853465),i=s(573063),o=s(785893);const r=function(e){const t=(0,a.O7)(),s={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:r,disabled:l}=e,{device:d}=t,c=d.isMobile?{...s.removeFilterButton,...s.removeFilterButtonMobile}:s.removeFilterButton;return(0,o.jsx)(i.Z,{icon:n.X,onClick:r,disabled:l,disableBackground:!0,style:c})}},424145:(e,t,s)=>{s.d(t,{Z:()=>h});var a=s(667294),n=s(800480),i=s(886628),o=s(709291),r=s(75472),l=s(165598),d=s(26781),c=s(825464),u=s(526388),g=s(791487),m=s(147082),p=s(785893);const h=function(e){const{origin:t,permissionsInviteStore:s,store:h,handleClickRemoveToken:f,handleInputChange:x,handleInputSubmit:b,defaultRoleForNonBot:y,isTeamsEnabled:v,right:S,focus:M,handleFocus:j}=e,C="share_menu"===t||"add_members"===t,w="add_members"===t,[I,k]=(0,i.AF)(s),z=(0,n.O7)(),{device:T}=z,F=(0,o.useIntl)(),{tokenQuery:R}=I,O=(0,d.S)(h),N=I.inviteTargets.map((e=>{const t="newUser"===e.type?e.value.email:`${e.type}-${e.value.id}`,s=(0,r.OA)(e),n="newUser"===e.type||"existingUser"===e.type?e.value.email:void 0,i=s?O:void 0,l={key:t,target:e,onClickRemove:f,role:I.inviteRole,shouldWrap:C,showInfoIcon:Boolean(i)};return C&&n?(0,p.jsx)(u.Z,{placement:c.u.Top,disableTooltip:w,renderTooltip:()=>s?i||(0,p.jsx)(o.FormattedMessage,{defaultMessage:"{email} will be invited as a guest",id:"ContextualInvite.permissions_invites.guest.tooltip",values:{email:n}}):n,render:s=>(0,a.createElement)("span",{...s,key:t},(0,p.jsx)(g.Z,{...l,backgroundColor:(0,r.gQ)(e)}))},t):(0,a.createElement)(g.Z,{...l,key:t})}));return(0,p.jsx)(m.ZP,{focus:T.isMobile?void 0:M,focusInitial:T.isMobile,focusAfterAnimation:!0,onClick:()=>{T.isMobile||null==j||j()},format:m.UR.Share,value:R,onChange:x,type:"email",tokens:N,disabled:!1,autoComplete:"off",placeholder:C?v?F.formatMessage({defaultMessage:"Add people, groups, or emails…",id:"ContexualInvites.inviteUserModal.searchInput.placeholderWithTeams"}):F.formatMessage({defaultMessage:"Add emails or people",id:"ContexualInvites.inviteUserModal.searchInput.placeholderWithoutBots"}):(0,l.Mm)(h)||(0,l.R$)(h)?F.formatMessage({id:"inviteUserModal.searchInput.placeholder",defaultMessage:"Search name or emails"}):F.formatMessage({id:"permissionsInvite.searchInput.placeholder",defaultMessage:"Search emails, names, or groups"}),onRemoveLastToken:()=>{const e={...I};e.inviteTargets=e.inviteTargets.slice(0,-1),0===e.inviteTargets.length&&(e.isInviteTargetsEmpty=!0,e.inviteRole=y),k(I)},right:S,inputFullWidth:!0,inputAndTokenWrapRightStyle:{paddingTop:z.device.isMobile?0:I.isInviteTargetsEmpty?7:6,paddingBottom:z.device.isMobile||C?0:4},onEmptySubmit:()=>b(),dontShowBorderBottom:T.isAndroid,showBorder:C,...!C&&{style:{padding:"4px 9px"}},...C&&{style:{borderRadius:4,paddingTop:I.isInviteTargetsEmpty?3:0,paddingBottom:0,...M&&{background:"none"}}}})}},943579:(e,t,s)=>{s.d(t,{Z:()=>O});s(757658);var a=s(667294),n=s(800480),i=s(886628),o=s(724405),r=s(266897),l=s(133728),d=s(808843),c=s(307928),u=s(709291),g=s(137810),m=s(891219),p=s(195209),h=s(823586),f=s(75472),x=s(165598),b=s(825464),y=s(429677),v=s(535057),S=s(552275),M=s(632163),j=s(743765),C=s(672495),w=s(526388),I=s(585215),k=s(869507),z=s(197680),T=s(785893);const F=(0,u.defineMessages)({invited_page:{id:"PermissionsInviteSearchRequest.userTooltip.invited_page",defaultMessage:"{userNameAndEmail} is invited to this page already"},invited_space:{id:"PermissionsInviteSearchRequest.userTooltip.invited_space",defaultMessage:"{userNameAndEmail} is invited to this workspace already"},invited_team:{id:"PermissionsInviteSearchRequest.userTooltip.invited_team",defaultMessage:"{userNameAndEmail} is invited to this teamspace already"},not_in_space:{id:"PermissionsInviteSearchRequest.userTooltip.admin",defaultMessage:"Click to invite {userNameAndEmail}"}});function R(e,t){return e.filter(((e,s)=>s<t))}const O=function(e){const{store:t,shouldShowBots:s,shouldShowGroups:O,sectionRenderLimit:N,membersOnly:P,hideUserTypeToken:A,disableInvitedUsers:B,guestsMustBeRequested:D,performSearchRequest:Z}=e,[_,L,U]=(0,i.AF)(e.permissionsInviteStore),V=(0,n.O7)(),{device:q}=V,E=(0,u.useIntl)(),{tokenQuery:W}=_,H=(0,a.useMemo)((()=>f.ZK({environment:{device:q}})),[q]),K=(0,o.yK)((e=>({roleBadge:{...H},invitedBadge:{...H,backgroundColor:e.defaultBadgeBackground}})),[H]),G="invitee",$={request:W,performRequest:e=>Z?Z({query:e,limit:10,environment:V}):p.jL({query:e,sectionLimit:{userLimit:10,botLimit:s?10:0,groupLimit:O?10:0,importContactLimit:0},membersOnly:P,environment:V,intl:E}),render:(e,s,a)=>{if(e)return(0,T.jsx)(k.l,{loading:!a,children:(0,T.jsx)(j.Z,{title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchInput.errorMessage",defaultMessage:"Something went wrong"})})});const n=s&&{...s,importedContacts:(0,f.Bu)(s.inviteUsers,s.importedContacts)},i=n&&(null==W?void 0:W.length)>0,{inviteUsers:o,inviteGroups:p,importedContacts:h=[]}=i?n:(0,f.NN)({currentInviteActors:n,permissionsInviteStore:U,targetStore:t}),P=[...R(o,N),...R(h,10)].map(((e,s)=>{const a="newUser"===e.type?e.value.email:e.value.id,n=(0,f.fR)(e),o=Boolean(i&&(0,f.cm)({permissionsInviteStore:U,userTarget:e,targetStore:t}));return{key:a,render:s=>{const{tooltip:a,userTypeToken:i}=function(e){const{userTarget:t,targetStore:s,isInvited:a,userSpaceRole:n,styles:i,intl:o}=e,r="newUser"!==t.type&&t.value.name?`${t.value.name} (${t.value.email})`:t.value.email,l=n&&"not_in_space"!==n;if(a)return{tooltip:(0,x.Mm)(s)?o.formatMessage(F.invited_space,{userNameAndEmail:r}):(0,x.OY)(s)?o.formatMessage(F.invited_page,{userNameAndEmail:r}):o.formatMessage(F.invited_team,{userNameAndEmail:r}),userTypeToken:(0,T.jsx)("div",{style:{...i.invitedBadge},children:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.userRole.invitedBadge.label",defaultMessage:"Invited"})})};if(l){const e=f.Ji({role:n,intl:o,nameOrEmail:r});return{tooltip:e.tooltip,userTypeToken:(0,T.jsx)("div",{style:{...i.roleBadge},children:e.userRoleBadge})}}return{tooltip:o.formatMessage(F.not_in_space,{userNameAndEmail:r}),userTypeToken:void 0}}({userTarget:e,targetStore:t,userSpaceRole:n,isInvited:o,styles:K,intl:E});return"existingUser"===e.type?(0,T.jsx)(z.Z,{...s,actor:(0,r.dp)(e.value),right:A?void 0:i,tooltip:a,tooltipPlacement:b.u.Left,disabled:B&&o}):(0,T.jsx)(w.Z,{placement:b.u.Left,alignment:b.v.Start,textWrap:!0,render:t=>(0,T.jsx)(S.Z,{...s,...t,icon:(0,d.h)({width:24,height:24}),right:i,title:e.value.email.trim(),disabled:B&&o}),disableTooltip:!a,renderTooltip:()=>a})},action:()=>{if(o)return;if(!_.isInviteTargetsEmpty&&(0,y.ow)(_))return;const t={...e,..."existingUser"===e.type&&{spaceRole:n}};m.hE(V,{subscription_tier:(0,v.zt)(),invite_token_query:W,selected_user_token:e,selected_user_token_rank:s,from:"permission_invite"}),U.setState({..._,inviteTargets:[..._.inviteTargets,t],isInviteTargetsEmpty:!1,tokenQuery:"",inputFocus:G})}}})),Z=R(p,N).map((e=>{const{value:t}=e;return{key:t.id,render:e=>(0,T.jsx)(I.l,{group:t,menuListItemProps:e}),action:()=>{!_.isInviteTargetsEmpty&&(0,y.ow)(_)||U.setState({..._,inviteTargets:[..._.inviteTargets,e],isInviteTargetsEmpty:!1,tokenQuery:"",inputFocus:G})}}})),L=[],q=_.isInviteTargetsEmpty||!(0,y.ow)(_);if(P.length>0&&q&&L.push({key:"user results",render:e=>(0,T.jsx)(k.l,{...e,loading:!a}),items:P}),O&&Z.length>0&&q&&L.push({key:"group results",render:e=>(0,T.jsx)(C.Z,{...e,title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchDropdown.selectGroupTitle",defaultMessage:"Select a group"}),loading:!a}),items:Z}),0===L.length&&q){const e=(0,l.H3)(_.tokenQuery);if((0,l.oH)(e)){const n={type:"newUser",value:{email:e},source:"email"},i=(0,f.Nd)({target:n,permissionsInviteStore:U});if(!i)return;if(i)return(0,T.jsx)(k.l,{loading:!a,children:(0,T.jsx)(j.Z,{title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.userAlreadyInvitedMessage",defaultMessage:"Already inviting {user}.",values:{user:(0,T.jsx)("span",{style:{fontWeight:g.Z.fontWeight.bold},children:(0,f.DF)({intl:E,target:i})})}})})});const o=(s&&s.inviteUsers||[]).find((t=>"existingUser"===t.type&&t.value.email===e));if(o&&"existingUser"===o.type&&(0,f.Zp)({store:t,target:o}))return(0,T.jsx)(k.l,{loading:!a,children:(0,T.jsx)(j.Z,{title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.userAlreadyHasPermissionMessage",defaultMessage:"{user} already has permission.",values:{user:(0,T.jsx)("span",{style:{fontWeight:g.Z.fontWeight.bold},children:(0,c.Nz)(E,o.value)})}})})})}else{if(!_.tokenQuery)return(0,T.jsx)(k.l,{loading:!a,children:(0,T.jsx)(j.Z,{title:(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchPersonDropdown.noSearchResultsMessage",defaultMessage:"Type or paste in emails above, separated by commas."})})});L.push({key:"user results",render:e=>(0,T.jsx)(k.l,{...e,loading:!a,title:D?(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchDropdown.requestPeople",defaultMessage:"Keep typing to request inviting an email"}):(0,T.jsx)(u.FormattedMessage,{id:"inviteUserModal.searchDropdown.addPeople",defaultMessage:"Keep typing to invite email"})}),items:[{key:_.tokenQuery,render:e=>(0,T.jsx)(S.Z,{icon:(0,d.h)({width:24,height:24}),title:_.tokenQuery,...e}),action:()=>{}}]})}}return(0,T.jsx)(M.Z,{type:M.i.Vertical,initialFocus:W.length>0?0:void 0,sections:L})}};return(0,T.jsx)(h.Z,{...$})}},314694:(e,t,s)=>{s.d(t,{Z:()=>u});s(667294);var a=s(800480),n=s(886628),i=s(724405),o=s(439567),r=s(950659),l=s(224646),d=s(785893);function c(){const e=(0,i.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,o.Y)(e.icon)})}function u(e){var t;const s=(0,a.O7)(),o=s.device.isMobile,u=(0,n.VK)((()=>{var t,a;if(o)return s.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(a=e.style)||void 0===a?void 0:a.paddingLeft:10)}),[s.WindowSizeStore,o,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),g=(0,n.VK)((()=>(0,l.BH)(s)),[s]),m=(0,n.VK)((()=>(0,r.MF)(s)),[s]),p=(0,i.yK)((t=>({wrapper:{...o?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:u,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,paddingTop:2,paddingBottom:2,...g&&{height:l.H3,paddingTop:4,paddingBottom:4},...!g&&{marginTop:1,marginBottom:1},...m},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:o?28:22,height:o?24:18,marginLeft:g?void 0:-3,marginRight:g?8:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:o?24:g?l.MY:22,height:o?24:g?l.MY:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!o?"clip":"ellipsis",...e.childrenStyle}})),[o,u,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle,g,m]);return(0,d.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:p.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:p.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:p.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(c,{})]}),(0,d.jsx)("div",{style:p.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:p.right,children:e.right})]})}},760442:(e,t,s)=>{s.d(t,{Z:()=>o});s(667294);var a=s(137810),n=s(847853),i=s(785893);const o=function(e){let{imageURL:t,imageWidth:s,imageHeight:a,caption:o,title:l}=e;if(t){const e=(0,n.D)(t);return(0,i.jsxs)("div",{style:{width:s||200,marginTop:4,marginBottom:4},children:[(0,i.jsx)("div",{style:{width:"100%",height:a||100,borderRadius:4,backgroundImage:`url(${e})`,backgroundSize:"cover",marginBottom:6}}),(0,i.jsx)(r,{caption:o,title:l})]})}return(0,i.jsx)(r,{caption:o,title:l,style:{width:s}})};function r(e){let{style:t,caption:s,title:n}=e;return(0,i.jsxs)("div",{style:{whiteSpace:"normal",lineHeight:1.4,...t},children:[n&&(0,i.jsx)("header",{style:{fontWeight:a.Z.fontWeight.bold,marginBottom:4},children:n}),s]})}},197680:(e,t,s)=>{s.d(t,{Z:()=>x});var a=s(667294),n=s(800480),i=s(886628),o=s(266897),r=s(709291),l=s(401898),d=s(98742),c=s(825464),u=s(552275),g=s(526388),m=s(670301),p=s(45653),h=s(785893);const f=a.forwardRef(((e,t)=>{const{actor:s,userTitle:a,useEmailAsTooltip:f,tooltip:x,tooltipPlacement:b}=e,y=(0,n.O7)(),v=(0,r.useIntl)(),S=(0,i.VK)((()=>s.asActor&&s.isUser()?s.email:void 0),[s]),M=f&&S?S:x,j=y.device.isMobile?24:20;let C;return(0,o.YU)(s)?C=(0,h.jsx)(m.Z,{botValue:null==s?void 0:s.asActor,size:j}):(0,o.$S)(s)?C=(0,h.jsx)(p.Z,{userValue:null==s?void 0:s.asActor,size:j}):(0,o.Iq)(s)?C=(0,h.jsx)(p.Z,{userValue:void 0,size:j}):(0,l.t1)(s),(0,h.jsx)(g.Z,{ref:t,placement:b??c.u.Bottom,alignment:c.v.Start,textWrap:!0,render:t=>(0,h.jsx)(u.Z,{...(0,d.Z)(t,e),icon:C,title:a??(0,o.$4)(v,s),className:"notranslate",right:e.right}),disableTooltip:!M,renderTooltip:()=>M})}));f.displayName="UserMenuItem";const x=f},608319:(e,t,s)=>{s.d(t,{z:()=>V,Z:()=>E});var a=s(667294),n=s(883355),i=s(800480),o=s(886628),r=s(747453),l=s(709291),d=s(653965),c=s(401898),u=s(45257),g=s(475024),m=s(223196),p=s(749085);class h extends p.default{getInitialState(){return{isMenuOpen:!1,inputTemporaryValue:"",indexToReplace:void 0,popupOriginRect:void 0}}}const f=h;var x=s(552275),b=s(489728),y=s(953437),v=s(158297),S=s(672495),M=s(975689),j=s(991642),C=s(568626),w=s(552629),I=s(823586),k=s(460709),z=s(229798),T=s(672087),F=s(478140),R=s(632163),O=s(743765),N=s(840721),P=s(147082),A=s(785893);const B={input:{marginTop:8,marginLeft:8,marginRight:8,boxSizing:"border-box",width:"auto"},menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}};const D=function(e){let{labelText:t,value:s,renderResultMenuItem:n,onConfirm:r,items:l,performRequest:d,onDismiss:c,onChange:u,renderToken:g,onRemove:m,onClear:p,disabled:h}=e;const f=(0,i.O7)(),x=(0,o.qz)(void 0,z.Z),b=(0,o.qz)(void 0,T.Z),y=(0,a.useCallback)(((e,a,i)=>(0,A.jsx)(U,{error:e,data:a,ready:i,labelText:t,value:s,renderResultMenuItem:n,onConfirm:r,menuListStore:x})),[t,s,n,r,x]),v={query:s,current:l};return(0,A.jsx)(F.Z,{...L(f,c,t,s,l,u,g,m,p,h),children:(0,A.jsx)(I.Z,{debounce:100,requestStore:b,request:v,performRequest:d,render:y})})};function Z(e){const{device:t}=e;return t.isMobile}function _(e){let{labelText:t,value:s,items:a,disabled:n,onChange:o,renderToken:r,onRemove:l,onClear:c}=e;const u=(0,i.O7)(),g=a.map((e=>r(e,{onRemove:()=>l(e)})));return(0,A.jsx)(P.ZP,{focus:!Z(u)||void 0,focusAfterAnimation:!0,format:P.UR.FilterValue,tokens:g,placeholder:t.tokenInputPlaceholder,onRemoveLastToken:()=>function(e,t){const s=d.Z$(e);s&&t(s)}(a,l),onClearButtonClick:c,value:s,onChange:o,showClearButton:!0,disabled:Boolean(n),style:B.inputMenu})}function L(e,t,s,a,n,i,o,r,l,d){if(Z(e)){return{menuType:k.og.Modal,title:s.title,right:(0,A.jsx)(N.DoneMenuText,{}),onClickRight:t,header:(0,A.jsx)(_,{labelText:s,value:a,items:n,disabled:d,onChange:i,renderToken:o,onRemove:r,onClear:l})}}return{menuType:k.og.Popup,onClickOutside:t,header:(0,A.jsx)(_,{labelText:s,value:a,items:n,disabled:d,onChange:i,renderToken:o,onRemove:r,onClear:l}),...B.menu}}function U(e){let{error:t,data:s,ready:n,labelText:i,value:r,renderResultMenuItem:d,onConfirm:c,menuListStore:u}=e;const g=(0,o.qz)(u,z.Z),m=(0,a.useCallback)((e=>(0,A.jsx)(S.Z,{...e,title:i.resultSectionTitle,loading:!n})),[i,n]);if(t)return C.log({level:"error",from:i.componentDebugName,type:"requestFailed",error:(0,w.Ui)(t),data:{miscDataToConvertToString:{query:r}}}),(0,A.jsx)(m,{children:(0,A.jsx)(O.Z,{title:(0,A.jsx)(l.FormattedMessage,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!s)return(0,A.jsx)(m,{children:(0,A.jsx)(O.Z,{title:(0,A.jsx)(l.FormattedMessage,{defaultMessage:"Loading…",id:"search.inputMenu.loading.message"})})});if(s&&0===s.length)return(0,A.jsx)(m,{children:(0,A.jsx)(O.Z,{title:(0,A.jsx)(l.FormattedMessage,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const p={key:"results",items:s.map((e=>function(e,t,s){return{key:e,action:()=>s(e),render:s=>t(e,s)}}(e,d,c))),render:m};return(0,A.jsx)(R.Z,{type:R.i.Vertical,store:g,initialFocus:0,sections:[p]})}let V=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});class q extends n.Z{constructor(){super(...arguments),this.animationFrameRef={current:void 0},this.originRef=a.createRef(),this.storeTypes={componentStore:f},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleMenuClose=e=>X(this.stores.componentStore,this.props.onMenuDismiss,e),this.scheduleMeasurement=(e,t)=>{this.animationFrameRef.current=requestAnimationFrame(function(e,t,s){return a=>{if(!s)return;if(!s.current)return;const n=e?e(t.state):t.state;t.setState({...n,popupOriginRect:s.current.getBoundingClientRect()})}}(t,this.stores.componentStore,this.originRef))}}didMount(){window.addEventListener("resize",this.scheduleMeasurement)}willUnmount(){window.removeEventListener("resize",this.scheduleMeasurement),this.animationFrameRef.current&&(cancelAnimationFrame(this.animationFrameRef.current),this.animationFrameRef.current=void 0)}didUpdate(e){(e.items.length!==this.props.items.length||e.mode!==this.props.mode)&&this.scheduleMeasurement()}renderComponent(){const{device:e}=this.environment,{mode:t}=this.props;return e.isMobile?(0,A.jsx)(ne,{searchTokenFilterProps:this.props,componentStore:this.stores.componentStore}):this.renderDesktop(t)}renderDesktop(e){const{title:t,disabled:s}=this.props,{componentStore:{state:a}}=this.stores,n=s||a.isMenuOpen;let i;const o=(()=>e===V.Section?(i=t,this.renderSectionOrigin()):e===V.Button?this.renderButtonOrigin():e===V.Pill?this.renderPillOrigin():void(0,c.t1)(e))();return(0,A.jsxs)(j.Z,{title:i,marginAfter:e===V.Section,style:$(this.environment,this.props.mode).sectionMenuItem,children:[e!==V.Pill&&this.renderFilters({disableFilters:n,showLabel:!1}),o,(0,A.jsx)(y.ZP,{popupType:m.k.Popup,placementToOrigin:y.ZP.Placement.Bottom,alignmentToOrigin:y.ZP.Alignment.Start,open:Y(this.stores.componentStore),originRect:a.popupOriginRect,render:()=>(0,A.jsx)(ae,{searchTokenFilterProps:this.props,componentStore:this.stores.componentStore}),onDismiss:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleMenuClose,keepFocus:!0,preventScaleTransition:!0})]})}renderButtonOrigin(){const{icon:e,title:t,disabled:s,focused:a}=this.props,n=$(this.environment,this.props.mode),i=K(this.theme),o={...n.menuItem,...i.buttonMenuItem};return(0,A.jsx)("div",{ref:this.originRef,style:n.menuItemWrapper,children:(0,A.jsx)(x.Z,{disabled:s||Y(this.stores.componentStore),icon:e(n.icon),title:t,focused:a,onClick:e=>ie(this.scheduleMeasurement,void 0,this.props.onMenuOpen),style:o})})}renderPillOrigin(){const{icon:e,title:t,disabled:s,iconStyles:a}=this.props,n=$(this.environment,this.props.mode),i=this.props.mode===V.Pill&&this.props.hasItemsSelected;return(0,A.jsx)("div",{ref:this.originRef,style:n.menuItemWrapper,children:(0,A.jsx)(u.Z,{on:i,icon:e({...n.icon,...a}),title:(0,A.jsx)("span",{children:t}),onClick:e=>ie(this.scheduleMeasurement,void 0,this.props.onMenuOpen),wrapStyle:{opacity:s?.4:1}})})}renderSectionOrigin(){const{addItemLabel:e,disabled:t}=this.props,s=$(this.environment,this.props.mode),n=K(this.theme);return(0,A.jsxs)(a.Fragment,{children:[(0,A.jsx)("div",{ref:this.originRef,style:s.menuItemWrapper}),(0,A.jsx)(x.Z,{disabled:t||Y(this.stores.componentStore),icon:(0,r.R)(s.iconSmall),title:e,focused:!1,onClick:e=>ie(this.scheduleMeasurement,void 0,this.props.onMenuOpen),style:{...s.appendListItemButton,...n.appendListItemButton}})]})}renderFilters(e){const{items:t,renderFilter:s}=this.props,{device:a}=this.environment,n=t.map(((t,n)=>(0,A.jsx)("li",{children:s(t,{disabled:e.disableFilters,onRemove:()=>G(t,this.props.items,this.props.onChange),onClick:()=>a.isMobile?Q(this.stores.componentStore):ie(this.scheduleMeasurement,n,this.props.onMenuOpen)})},`${t}_${n}`)));return(0,A.jsx)("ul",{style:g.mK,children:n})}}q.displayName="SearchTokenFilter";const E=q;function W(e,t,s){s(t.filter((t=>t!==e)))}function H(e){e([])}function K(e){return{buttonMenuItem:{color:e.mediumTextColor},appendListItemButton:{color:e.lightTextColor}}}function G(e,t,s){W(e,t,s)}function $(e,t){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:g.yv(e,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===t?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}function Q(e){e.setState({...e.state,isMenuOpen:!0})}function Y(e){return e.state.isMenuOpen}function J(e){e.setState({...e.state,inputTemporaryValue:"",indexToReplace:void 0})}function X(e,t,s){J(e),e.setState({...e.state,isMenuOpen:!1,indexToReplace:void 0}),t&&t(s)}function ee(e,t,s,a,n){const{indexToReplace:i}=n.state;"number"==typeof i&&i<t.length?function(e,t,s,a){a(s.slice(0,e).concat(t,s.slice(e+1)))}(i,e,t,s):t.includes(e)&&V.Pill?W(e,t,s):function(e,t,s){const a=t.concat(e);s(d.jj(a))}(e,t,s),a||J(n)}function te(e){let{disableFilters:t,icon:s,title:a,mode:n,componentStore:o}=e;const r=$((0,i.O7)(),n);return(0,A.jsx)(x.Z,{disabled:t,focused:!1,icon:s({...r.icon}),title:a,onClick:e=>Q(o)})}function se(e){let{disableFilters:t,title:s,items:n,renderItemForSummary:o,mode:r,onChange:l,componentStore:d}=e;const c=(0,i.O7)(),u=(0,a.useCallback)((()=>Q(d)),[d]),m=$(c,r),p={...g.mK,...m.summary},h=n.length-1,f=(0,A.jsx)("ul",{style:p,children:n.map(((e,t)=>(0,A.jsx)("li",{style:m.summaryItem,children:(0,A.jsxs)(a.Fragment,{children:[o(e),t!==h&&","," "]})},e)))});return(0,A.jsx)(M.Z,{disabled:t,onClick:u,onClickClear:()=>H(l),label:s,title:f})}function ae(e){let{searchTokenFilterProps:t,componentStore:s}=e;const{items:n,onChange:i,keepInputOnItemConfirm:r,onMenuDismiss:d,renderToken:c,renderFooter:u,allowApplyBatchSelection:g}=t,m=(0,a.useCallback)((e=>ee(e,n,i,r,s)),[n,i,r,s]),p=(0,a.useCallback)((e=>X(s,d,e)),[s,d]),h=(0,a.useCallback)((e=>function(e,t){const{target:s}=e;t.setState({...t.state,inputTemporaryValue:String(s.value)})}(e,s)),[s]),f=(0,o.VK)((()=>s.state),[s]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(D,{...t,value:f.inputTemporaryValue,onChange:h,onDismiss:p,onConfirm:m,onClear:()=>{!function(e){e.setState({...e.state,inputTemporaryValue:""})}(s),H(i)},onRemove:e=>G(e,n,i),renderToken:c}),u&&(0,A.jsxs)(S.Z,{topBorder:!0,style:{padding:6,justifyContent:"space-between",display:"flex"},children:[(0,A.jsx)(b.Z,{onClick:()=>{H(i)},children:(0,A.jsx)(l.FormattedMessage,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),g&&(0,A.jsx)(v.Z,{onClick:()=>{X(s,d,"applyButton")},children:(0,A.jsx)(l.FormattedMessage,{id:"searchTokenFilter.applyButton",defaultMessage:"Apply"})})]})]})}function ne(e){let{searchTokenFilterProps:t,componentStore:s}=e;const{mode:n,onMenuDismiss:i,disabled:r,title:l,items:d,renderItemForSummary:c,onChange:u,icon:g}=t,p=(0,a.useCallback)((e=>X(s,i,e)),[s,i]),h=(0,a.useCallback)((()=>(0,A.jsx)(ae,{searchTokenFilterProps:t,componentStore:s})),[t,s]),f=(0,o.VK)((()=>Y(s)),[s]),x=r||f,b=n===V.Section?(0,A.jsx)(se,{title:l,items:d,renderItemForSummary:c,mode:n,onChange:u,componentStore:s,disableFilters:x}):(0,A.jsx)(te,{icon:g,title:l,mode:n,componentStore:s,disableFilters:x});return(0,A.jsx)(y.ZP,{popupType:m.k.SlideUp,open:f,origin:b,render:h,onDismiss:p,keepFocus:!0})}function ie(e,t,s){s&&s(),e(void 0,(e=>({...e,isMenuOpen:!0,indexToReplace:t})))}},975689:(e,t,s)=>{s.d(t,{Z:()=>c});s(667294);var a=s(800480),n=s(724405),i=s(137810),o=s(552275),r=s(824006),l=s(500255),d=s(785893);const c=function(e){const{disabled:t,label:s,title:i,onClick:r,isToggle:l,isToggleActive:c,onClickClear:m,...p}=e,h=(0,n.Fg)(),f=(0,a.O7)(),x=function(e){return{menuItemLabel:{color:e.lightTextColor}}}(h),b=u(f),y=(0,d.jsx)("span",{style:x.menuItemLabel,children:s});return(0,d.jsx)(o.Z,{focused:!1,...p,inline:l,disabled:t,icon:y,title:i,right:(0,d.jsx)(g,{disabled:!!t,isToggle:!!l,isToggleActive:!!c,onClick:r,onClickClear:m}),onClick:r,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:b.menuItem,desktopIconStyle:b.menuItemLabel})};function u(e){return{menuItem:{background:void 0,minHeight:void 0,fontSize:e.device.isMobile?i.Z.fontSize.UISmall.mobile:i.Z.fontSize.UIRegular.desktop,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}function g(e){let{disabled:t,isToggle:s,isToggleActive:n,onClick:i,onClickClear:o=(()=>{})}=e;const c=u((0,a.O7)()).rightWrapper;return s?(0,d.jsx)("div",{style:c,children:(0,d.jsx)(r.Z,{on:!!n,onClick:i})}):(0,d.jsx)(l.Z,{disabled:t,onClick:o})}},991642:(e,t,s)=>{s.d(t,{Z:()=>i});s(667294);var a=s(672495),n=s(785893);const i=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:s,marginAfter:i,desktopStyle:o,desktopTitleStyle:r,...l}=e,d=(i||o)&&{...i&&t.marginAfter,...o},c=r?{...t.desktopTitleStyle,...r}:t.desktopTitleStyle;return(0,n.jsx)(a.Z,{isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:c,shouldShowBottomDivider:!1,title:s,...l})}},579921:(e,t,s)=>{s.d(t,{v:()=>i});s(667294);var a=s(724405),n=s(785893);function i(e){let{left:t,right:s}=e;const i=(0,a.yK)((e=>({grid:{display:"grid",gridTemplateColumns:"250px 1fr"},leftColumnFixed:{position:"relative",boxSizing:"border-box",maxHeight:"100vh",overflow:"auto"},rightColumn:{position:"relative",background:e.contentBackground,boxSizing:"border-box",maxHeight:"100vh",overflow:"auto"}})),[]);return(0,n.jsxs)("div",{style:i.grid,children:[(0,n.jsx)("div",{style:i.leftColumnFixed,children:t}),(0,n.jsx)("div",{style:i.rightColumn,children:s})]})}},684880:(e,t,s)=>{s.d(t,{g:()=>d,n:()=>c});var a=s(667294),n=s(800480),i=s(184747),o=s(454642),r=s(568117),l=s(785893);const d=(0,a.createContext)({spaceIds:[],teamIdsForSpace:{},setTeamIdsForSpace:function(e,t){},refreshOrganization:async()=>{}});function c(e){let{children:t,organizationId:s}=e;const c=(0,n.O7)(),[u,g]=(0,a.useState)([]),[m,p]=(0,a.useState)({}),{updateCacheWithRecordMap:h}=(0,a.useContext)(r.V);(0,i.Z)((async()=>{const e=await o.getSpacesInOrganization(c,{organizationId:s});"success"===e.type&&(g(e.data.spaceIds),h({data:e.data}))}));const f=(0,a.useCallback)((async()=>{const e=await o.getSpacesInOrganization(c,{organizationId:s});"success"===e.type&&h({data:e.data})}),[c,s,h]);return(0,l.jsx)(d.Provider,{value:{spaceIds:u,teamIdsForSpace:m,setTeamIdsForSpace:(e,t)=>p((s=>({...s,[e]:t}))),refreshOrganization:f},children:t})}d.displayName="OrganizationDataContext"},581909:(e,t,s)=>{s.d(t,{k:()=>d});var a=s(667294),n=s(800480),i=s(886628),o=s(361220),r=s(206258),l=s(568117);function d(e){let{organizationId:t}=e;const s=(0,n.O7)(),{organizationOwnerRecordCache:d}=(0,a.useContext)(l.V);return(0,i.VK)((()=>{if(t)return new r.Om(s,{table:o.V7,id:t},{inMemoryRecordCache:d})}),[s,t,d])}},886631:(e,t,s)=>{s.d(t,{Z:()=>x});s(667294);var a=s(800480),n=s(886628),i=s(724405),o=s(709291),r=s(137810),l=s(950659),d=s(80444),c=s(411066),u=s(661519),g=s(969219),m=s(45653),p=s(582162),h=s(314694),f=s(785893);function x(e){let{renderTopSection:t,items:s}=e;const o=(0,a.O7)(),d=(0,n.VK)((()=>(0,l.G$)({isMobile:!1,environment:o})),[o]),g=(0,i.yK)((e=>({container:{background:e.sidebarBackground,boxShadow:e.sidebarBoxShadow,paddingBlock:4,width:"100%",height:"100vh",display:"flex",flexDirection:"column",gap:2},itemButton:{fontWeight:r.Z.fontWeight.medium,color:e.regularTextColor,...d},itemIcon:{fill:e.mediumIconColor,width:18},selectedItemIcon:{fill:e.regularIconColor,width:18},selectedItemButton:{background:e.buttonHoveredBackground},sidebarItemContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row"},divider:{color:e.lightDividerColor}})),[d]);return(0,f.jsxs)("div",{style:g.container,children:[(0,f.jsx)(b,{}),(0,f.jsx)(u.Z,{size:1,dividerColor:g.divider.color}),t?t():null,s.map((e=>{const t=e.isSelected?{...g.itemButton,...g.selectedItemButton}:g.itemButton,s=e.isSelected?g.selectedItemIcon:g.itemIcon;return(0,f.jsx)(c.Z,{style:t,children:(0,f.jsx)(h.Z,{style:g.sidebarItemContainer,left:e.icon(s),onClick:e.onClick,children:e.name})},e.id)}))]})}function b(){const e=(0,o.useIntl)(),t=(0,i.yK)((e=>({container:{padding:"8px 16px 4px"},iconStyle:{color:e.lightTextColor,fontWeight:500},preamble:{display:"block",fontSize:12,fontWeight:500,color:e.lightTextColor}})),[]),s=(0,n.VK)((()=>d.default.state.currentUserStore),[]),a=(0,n.VK)((()=>{const t=d.default.state.currentUserStore;if(t)return{userName:t.getFullName(e),userEmail:t.getEmail()}}),[e]);return(0,f.jsxs)("div",{style:t.container,children:[(0,f.jsx)("div",{style:t.preamble,children:(0,f.jsx)(o.FormattedMessage,{id:"settingsConsole.sidebar.userSection.loggedInAs",defaultMessage:"Logged in as"})}),s&&a?(0,f.jsx)(g.iP,{useThinTitle:!0,title:a.userName,byline:a.userEmail,iconSize:40,icon:(0,f.jsx)(m.Z,{size:40,userStore:s,iconStyle:t.iconStyle})}):(0,f.jsx)(p.L,{iconSize:40})]})}},800093:(e,t,s)=>{s.d(t,{eT:()=>qr,ow:()=>Er,QV:()=>Wr,GF:()=>Hr});var a=s(667294),n=s(883176),i=s(982114),o=s(169628),r=s(193108),l=s(747409),d=s(418442),c=s(262397),u=s(556996),g=s(916001),m=s(526774),p=s(709291),h=s(800480),f=s(461149),x=s(312066),b=s(401898),y=s(608055),v=s(886628),S=s(724405),M=s(559054),j=s(454642),C=s(547307),w=s(833954),I=s(433929),k=s(636596),z=s(707124),T=s(824006),F=s(166661),R=s(568117),O=s(96915),N=s(732566),P=s(98742),A=s(825464),B=s(526388),D=s(785893);function Z(e){let{children:t,direction:s}=e;const n=a.Children.count(t),i=(0,S.yK)((e=>({container:{display:"grid",gridTemplateColumns:"horizontal"===s?`repeat(${n}, 1fr)`:"1fr",border:`1px solid ${e.stroke.deemphasized}`,borderRadius:O.E.small,overflow:"hidden",margin:"12px 0"}})),[n,s]);return(0,D.jsx)("div",{style:i.container,children:t})}function _(e){let{children:t,onClick:s,tooltipText:n}=e;const[i,o]=(0,a.useState)(!1),r=(0,S.yK)((e=>({container:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",gap:8,borderRight:`1px solid ${e.stroke.deemphasized}`,marginRight:-1,padding:16,userSelect:s?"none":void 0,transition:"background 100ms ease-in-out"},containerHover:{cursor:"pointer",background:e.stroke.deemphasized},arrowContainer:{position:"absolute",right:16,top:"calc(50% - 8px - 8px)",animationName:"slideInFromLeft",animationDuration:"200ms",animationDirection:"forward",animationTimingFunction:"ease-in-out",background:e.stroke.deemphasized,borderRadius:O.E.small,padding:8},arrowIcon:{height:16,width:16,color:e.text.secondary}})),[s]),l=s&&i?{...r.container,...r.containerHover}:r.container;const d={onMouseEnter:function(){s&&o(!0)},onMouseLeave:function(){s&&o(!1)}};return(0,D.jsx)(B.Z,{placement:A.u.Bottom,disableTooltip:!n,renderTooltip:()=>n,render:e=>(0,D.jsxs)("div",{...(0,P.Z)(d,e),style:l,onClick:s,children:[t,i?(0,D.jsx)("div",{style:r.arrowContainer,children:(0,N.k)(r.arrowIcon)}):null]})})}function L(e){let{title:t,byline:s,item:a,padding:n,shouldPaddingOverflowGrid:i,itemStyles:o,styles:r}=e;const l=(0,S.yK)((e=>({settingContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:n},overflowContainer:{marginLeft:n?-1*n:void 0,marginRight:n?-1*n:void 0,width:n?`calc(100% + ${2*n}px`:"100%"},settingLeft:{flex:3,display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",gap:4},settingRight:{flex:1,display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-start"}})),[n]),d=i?{...l.settingContainer,...l.overflowContainer,...r}:{...l.settingContainer,...r};return(0,D.jsxs)("div",{style:d,children:[(0,D.jsxs)("div",{style:l.settingLeft,children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"primary",children:t}),(0,D.jsx)(z.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:s})]}),(0,D.jsx)("div",{style:{...l.settingRight,...o},children:a})]})}var U=s(97608),V=s(781918),q=s(164964),E=s(863296),W=s(164369);function H(e){let{organizationStore:t}=e;const s=(0,h.O7)();return(0,D.jsx)(E.Z,{isRed:!0,onClick:async function(){V.KF(s,{email_domains:t.getEmailDomains()});const{accept:e}=await C.confirmUserActionV2({message:(0,D.jsx)(W.Z,{style:C.dialogStyles.title,children:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.confirmation.message",defaultMessage:"Log out all of your managed accounts?"})}),description:(0,D.jsx)(W.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.confirmation.description",defaultMessage:"You are about to log all of your managed accounts out of their current session, including you. The affected users will need to re-authenticate to log back into Notion."})}),acceptLabel:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.confirmation.acceptLabel",defaultMessage:"Log out all managed accounts"}),cancelLabel:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.confirmation.cancelLabel",defaultMessage:"Cancel"})});e&&(await j.logoutManagedUsers(s,{organizationId:t.id,target:{type:U.J.Domains,emailDomains:t.getEmailDomains()}}),q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.toastMessage.logout.all.success",defaultMessage:"Successfully logged out all managed accounts"})}),V._6(s,{email_domains:t.getEmailDomains()}))},children:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.logoutButton",defaultMessage:"Log out all accounts"})})}function K(e){let{organizationStore:t}=e;const s=(0,h.O7)();return(0,D.jsx)(E.Z,{isRed:!0,onClick:async function(){V.Jo(s,{email_domains:t.getEmailDomains()});const{accept:e}=await C.confirmUserActionV2({message:(0,D.jsx)(W.Z,{style:C.dialogStyles.title,children:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.confirmation.message",defaultMessage:"Reset passwords for your managed accounts?"})}),description:(0,D.jsx)(W.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.confirmation.description",defaultMessage:"You are about to reset the passwords for of your managed accounts, including you. This will also remove any 2-step verification settings they might have and they will be logged out of of their current session.{br}{br}The affected users will need to re-authenticate via their email the next time they attempt to log back into Notion, and they will be prompted to set a new password upon logging in.",values:{br:(0,D.jsx)("br",{})}})}),acceptLabel:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.confirmation.acceptLabel",defaultMessage:"Reset passwords for all managed accounts"}),cancelLabel:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.confirmation.cancelLabel",defaultMessage:"Cancel"})});e&&(await j.resetPasswordsForManagedUsers(s,{organizationId:t.id,target:{type:U.J.Domains,emailDomains:t.getEmailDomains()}}),q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.toastMessage.forcePasswordReset.all.success",defaultMessage:"Successfully reset passwords for all managed accounts"})}),V.aT(s,{email_domains:t.getEmailDomains()}))},children:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.logoutButton",defaultMessage:"Reset all passwords for all accounts"})})}var G=s(419639),$=s(858698),Q=s(816402),Y=s(555422);function J(e){let{organizationStore:t}=e;const s=(0,h.O7)(),{updateCacheWithRecordMap:n}=(0,a.useContext)(R.V),i=(0,a.useMemo)((()=>Object.entries(G.nb).map((e=>{let[t,s]=e;return{key:t,label:(0,D.jsx)(W.Z,{children:(0,Q.hH)(0,s)})}}))),[]),o=(0,v.VK)((()=>{var e;return(0,$.K)(null===(e=t.getManagedUserSettings())||void 0===e?void 0:e.custom_session_duration)??G.gl}),[t]);return(0,D.jsx)(Y.L,{isMobile:!1,disabled:!1,type:"dropdown",currentOption:o,options:i,onSelectOption:async function(e){var a;const i=(null===(a=t.getManagedUserSettings())||void 0===a?void 0:a.custom_session_duration)??G.nb[G.gl],o=G.nb[e];if(void 0===o)return;V.LO(s,{custom_session_duration_ms:i});const{accept:r}=await C.confirmUserActionV2({message:(0,D.jsx)(W.Z,{style:C.dialogStyles.title,children:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.message",defaultMessage:"Confirm change"})}),description:(0,D.jsxs)(W.Z,{isMultiline:!0,isSecondaryColor:!0,children:[(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.description",defaultMessage:"You are about to change the session duration for all of your managed users from <b>{oldDuration}</b> to <b>{newDuration}.</b>",values:{oldDuration:(0,Q.hH)(0,i),newDuration:(0,Q.hH)(0,o),b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,D.jsx)("b",{children:t})}}}),(0,D.jsx)("br",{}),(0,D.jsx)("br",{}),(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.secondDescription",defaultMessage:"This may log some users out of their current session, including you. The affected users will need to re-authenticate to log back into Notion."})]}),acceptLabel:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.acceptLabel",defaultMessage:"Confirm change"}),cancelLabel:(0,D.jsx)(p.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.cancelLabel",defaultMessage:"Cancel"})});if(!r)return;V.l0(s,{new_session_duration_ms:o});const l=await j.updateOrganization(s,{organizationId:t.id,managedUserSettings:{customSessionDuration:(0,$.K)(o)}});"success"===l.type?n(l):C.showErrorMessage((0,w.wf)(I.default.getIntl(),l))},buttonStyle:{marginTop:0,marginBottom:0}})}function X(e){let{organizationStore:t}=e;const s=(0,h.O7)(),n=(0,S.yK)((e=>({number:{borderRadius:O.E.small,height:22,width:40}})),[]),i=(0,v.VK)((()=>t.getEmailDomains()),[t]),o=function(e){const t=(0,h.O7)(),{updateCacheWithRecordMap:s}=(0,a.useContext)(R.V),n=(0,v.VK)((()=>e.getManagedUserSettings()),[e]),[i,o]=(0,a.useState)({prevent_profile_edits:!1,workspace_creation_enum:!1,prevent_members_joining_external_workspace:!1,prevent_granting_support_access:!1});async function r(){o((e=>({...e,prevent_profile_edits:!0})));const a=await j.updateOrganization(t,{organizationId:e.id,managedUserSettings:{preventProfileEdits:!(null!=n&&n.prevent_profile_edits)}});"success"===a.type?s(a):C.showErrorMessage((0,w.wf)(I.default.getIntl(),a)),o((e=>({...e,prevent_profile_edits:!1})))}async function l(){o((e=>({...e,workspace_creation_enum:!0})));const a="admins_only"===(null==n?void 0:n.workspace_creation_enum)?"unrestricted":"admins_only",i=await j.updateOrganization(t,{organizationId:e.id,managedUserSettings:{workspaceCreationEnum:a}});"success"===i.type?s(i):C.showErrorMessage((0,w.wf)(I.default.getIntl(),i)),o((e=>({...e,workspace_creation_enum:!1})))}async function d(){o((e=>({...e,prevent_members_joining_external_workspace:!0})));const a=await j.updateOrganization(t,{organizationId:e.id,managedUserSettings:{preventMembersJoiningExternalWorkspace:!(null!=n&&n.prevent_members_joining_external_workspace)}});"success"===a.type?s(a):C.showErrorMessage((0,w.wf)(I.default.getIntl(),a)),o((e=>({...e,prevent_members_joining_external_workspace:!1})))}async function c(){o((e=>({...e,prevent_granting_support_access:!0})));const a=await j.updateOrganization(t,{organizationId:e.id,managedUserSettings:{preventGrantingSupportAccess:!(null!=n&&n.prevent_granting_support_access)}});"success"===a.type?s(a):C.showErrorMessage((0,w.wf)(I.default.getIntl(),a)),o((e=>({...e,prevent_granting_support_access:!1})))}return{prevent_profile_edits:{value:null==n?void 0:n.prevent_profile_edits,loading:i.prevent_profile_edits,toggle:r},workspace_creation_enum:{value:null==n?void 0:n.workspace_creation_enum,loading:i.workspace_creation_enum,toggle:l},prevent_members_joining_external_workspace:{value:null==n?void 0:n.prevent_members_joining_external_workspace,loading:i.prevent_members_joining_external_workspace,toggle:d},prevent_granting_support_access:{value:null==n?void 0:n.prevent_granting_support_access,loading:i.prevent_granting_support_access,toggle:c}}}(t),r=(0,v.VK)((()=>t.id),[t]),[{status:l,value:d}]=(0,M.r5)((async()=>{const e=await j.getVerifiedUsersCountForOrganization(s,{organizationId:r});if("success"===e.type)return e.data.usersCount;if("failed"===e.type)throw e.error;return(0,b.t1)(e)}),[s,r]);return(0,D.jsxs)("div",{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",as:"p",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.description",defaultMessage:"A managed account is a Notion account using an email address from one of your organization's verified domains. Organization owners can reset passwords, change session duration, and control other permissions for all managed accounts, even if the account is not a member of an organization workspace."})}),(0,D.jsxs)(Z,{direction:"horizontal",children:[(0,D.jsxs)(_,{onClick:()=>{y.c4({environment:s,url:(0,f.a5)({organizationId:t.id,tabRoute:x.C$,properties:{subtab:"managed-accounts"}})})},children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.allManagedAccounts.title",defaultMessage:"All managed accounts"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:"resolved"===l?(0,D.jsx)(F.e,{num:d??0,abbreviateNumber:!1}):(0,D.jsx)(k.Z,{style:n.number})})]}),(0,D.jsxs)(_,{onClick:()=>{y.c4({environment:s,url:(0,f.a5)({organizationId:t.id,tabRoute:x.A4})})},children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.emailDomains.title",defaultMessage:"Verified email domains"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.emailDomains",defaultMessage:"{numEmailDomains, plural, one {1 domain} other {{numEmailDomains} domains}}",values:{numEmailDomains:i.length}})})]})]}),(0,D.jsxs)(Z,{direction:"vertical",children:[(0,D.jsx)(L,{padding:16,title:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.changeProfileInformation.title",defaultMessage:"Allow users to change profile information"}),byline:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.changeProfileInformation.byline",defaultMessage:"Control if managed users can change their preferred name, email address, and profile photo."}),item:(0,D.jsx)(T.Z,{on:!Boolean(o.prevent_profile_edits.value),onClick:o.prevent_profile_edits.toggle,disabled:o.prevent_profile_edits.loading})}),(0,D.jsx)(L,{padding:16,title:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.createNewWorkspaces.title",defaultMessage:"Allow users to create new workspaces"}),byline:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.createNewWorkspaces.byline",defaultMessage:"If this is disabled, only managed accounts who are organization owners can create new workspaces."}),item:(0,D.jsx)(T.Z,{on:"unrestricted"===o.workspace_creation_enum.value,onClick:o.workspace_creation_enum.toggle,disabled:o.workspace_creation_enum.loading})}),(0,D.jsx)(L,{padding:16,title:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.joinExternalWorkspaces.title",defaultMessage:"Allow users to join external workspaces"}),byline:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.joinExternalWorkspaces.byline",defaultMessage:"If this is disabled, only managed accounts who are workspace owners within your organization can join external workspaces."}),item:(0,D.jsx)(T.Z,{on:!Boolean(o.prevent_members_joining_external_workspace.value),onClick:o.prevent_members_joining_external_workspace.toggle,disabled:o.prevent_members_joining_external_workspace.loading})}),(0,D.jsx)(L,{padding:16,title:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.grantSupportAccess.title",defaultMessage:"Allow users to grant support access to accounts"}),byline:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.grantSupportAccess.byline",defaultMessage:"Support access allows Notion's support team to troubleshoot problems or recover content on a user's behalf. Support access is temporary and can be revoked at any time."}),item:(0,D.jsx)(T.Z,{on:!Boolean(o.prevent_granting_support_access.value),onClick:o.prevent_granting_support_access.toggle,disabled:o.prevent_granting_support_access.loading})})]}),(0,D.jsxs)(Z,{direction:"horizontal",children:[(0,D.jsxs)(_,{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"primary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.sessionDuration.title",defaultMessage:"Session duration"})}),(0,D.jsx)(z.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.sessionDuration.byline",defaultMessage:"How long managed accounts are logged in before they need to re-authenticate."})}),(0,D.jsx)(J,{organizationStore:t})]}),(0,D.jsxs)(_,{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"primary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.passwordManagement.title",defaultMessage:"Password management"})}),(0,D.jsx)(z.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.passwordManagement.byline",defaultMessage:"All managed accounts will have to set a new password the next time they log in."})}),(0,D.jsx)(K,{organizationStore:t})]}),(0,D.jsxs)(_,{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"primary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.sessionManagement.title",defaultMessage:"Session management"})}),(0,D.jsx)(z.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.sessionManagement.byline",defaultMessage:"All managed accounts will be logged out, and will need to re-authenticate."})}),(0,D.jsx)(H,{organizationStore:t})]})]})]})}s(757658);var ee=s(815047),te=s(137810),se=s(8874),ae=s(206258),ne=s(166994),ie=s(233602),oe=s(728608),re=s(684880),le=s(657347),de=s(653965);const ce={managedUsers:[],filters:{query:"",multiFactorStatus:void 0,workspaceId:void 0},numPagesLoaded:0,hasNextPage:!0,paginationToken:void 0,loading:!1,error:void 0};var ue=s(222686),ge=s(994273);function me(e){let{selectedAccountStatus:t,setSelectedAccountStatus:s}=e;return(0,D.jsx)(ge.u,{pillTitle:(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.table.filters.accountStatus.title",defaultMessage:"Account status"}),pillIcon:ue.f,selectedItem:t,setSelectedItem:s,items:pe})}const pe=[{key:"notSuspended",value:"notSuspended",title:(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.table.filters.accountStatus.active",defaultMessage:"Active"}),wrapCaption:!0},{key:"suspended",value:"suspended",title:(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.table.filters.accountStatus.suspended",defaultMessage:"Suspended"}),wrapCaption:!0}];var he=s(661519),fe=s(550506),xe=s(218261),be=s(119927),ye=s(679131);function ve(e){let{managedUser:t,onClose:s,removeWorkspaceFromUser:a}=e;const n=Boolean(t),{isAccessGranted:i,toggleDataAccessConsent:o,loading:r}=(0,be.d)({userId:null==t?void 0:t.userId});return(0,D.jsx)(fe.Z,{open:n,onDismiss:s,preventHideChildrenWhileOpening:!0,render:()=>t?(0,D.jsx)(xe.z,{managedUser:t,isAccessGranted:i,toggleDataAccessConsent:o,loadingSupportAccess:r,renderWorkspacesOverview:()=>(0,D.jsx)(Se,{userId:t.userId,workspaces:t.workspaces,removeWorkspaceFromUser:a})}):null})}function Se(e){const{userId:t,workspaces:s,removeWorkspaceFromUser:n}=e,i=(0,S.yK)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:8,marginTop:12}})),[]);return(0,D.jsx)("div",{style:i.container,children:s.map(((e,i)=>(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(ye.U,{userId:t,spaceId:"",workspace:e,removeWorkspaceFromUser:n}),i<s.length-1?(0,D.jsx)(he.Z,{size:8}):null]},e.id)))})}var Me=s(844495),je=s(740394),Ce=s(271291),we=s(53695),Ie=s(969219),ke=s(155255),ze=s(58720),Te=s(252498),Fe=s(582162),Re=s(519981),Oe=s(931278),Ne=s(725651),Pe=s(829851),Ae=s(2356),Be=s(937612);function De(){return(0,S.yK)((e=>({linkButton:{fontWeight:te.Z.fontWeight.medium,fontSize:te.Z.fontSize.UIRegular.desktop,color:e.mediumTextColor},tableHeader:{boxShadow:`inset 0 -1px 0 ${e.tableDividerColor}`}})),[])}var Ze=s(519889),_e=s(820454),Le=s(45653);const Ue=28;function Ve(e){let{userId:t}=e;const s=(0,p.useIntl)(),a=(0,h.O7)(),n=(0,S.yK)((e=>({iconStyle:{color:e.lightTextColor,fontWeight:te.Z.fontWeight.medium}})),[]),i=(0,v.VK)((()=>{const e=new _e.U(a,{table:Ze.KJ,id:t});return{userStore:e,isReady:e.isReady(),userName:e.getDisplayName(s),userEmail:e.getEmail()}}),[a,t,s]);return null!=i&&i.isReady?(0,D.jsx)(Ie.iP,{useThinTitle:!0,title:i.userName,byline:i.userEmail,icon:(0,D.jsx)(Le.Z,{size:Ue,userStore:i.userStore,iconStyle:n.iconStyle}),summaryStyles:{width:`calc(100% - ${Ue+Ie.dI}px)`}}):(0,D.jsx)(qe,{})}function qe(e){const t=(0,S.yK)((()=>({icon:{borderRadius:"100%",height:e.iconSize??Ue,width:e.iconSize??Ue,marginLeft:-4}})),[e.iconSize]);return(0,D.jsx)(Ie.HD,{includeByline:!0,includeIcon:!0,iconStyles:t.icon})}var Ee=function(e){return e.ManagedUser="managed-user",e.Loading="loading",e}(Ee||{});const We={paddingInline:8},He={marginLeft:4,height:14,width:14,opacity:.5},Ke={id:"user",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.table.user",defaultMessage:"Users"}),renderCell:e=>e.type===Ee.ManagedUser?(0,D.jsx)(Ve,{userId:e.managedUser.userId}):(0,D.jsx)(Fe.L,{}),widthData:{width:70},sortable:!1},Ge={id:"access",headerTitle:(0,D.jsx)("span",{style:We,children:(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.table.access",defaultMessage:"Workspaces"})}),renderCell:e=>e.type===Ee.ManagedUser?(0,D.jsx)(ze.m,{workspaceSummaries:e.managedUser.workspaces}):(0,D.jsx)(we.z6,{}),widthData:{width:60},sortable:!1},$e={id:"lastActive",headerTitle:(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.table.lastActive",defaultMessage:"Last active"}),(0,D.jsx)(B.Z,{render:e=>(0,D.jsx)("div",{...e,children:(0,Me.D)(He)}),renderTooltip:()=>(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.table.lastActive.tooltip",defaultMessage:"This may be delayed by several hours."})})]}),renderCell:e=>e.type===Ee.ManagedUser?(0,D.jsx)(ke.B,{lastActiveAt:e.managedUser.lastActiveAt,containerStyle:{opacity:.5}}):(0,D.jsx)(Ce.I,{}),widthData:{width:60},sortable:!1},Qe={id:"menu",headerTitle:null,renderCell:e=>e.type===Ee.ManagedUser?(0,D.jsx)(Te.G,{managedUser:e.managedUser,managedUserActionSections:e.managedUserActionSections}):null,widthData:{width:15},sortable:!1,hasClickableContents:!0},Ye=[Ke,{id:"accountStatus",headerTitle:(0,D.jsx)("span",{style:We,children:(0,D.jsx)(p.FormattedMessage,{id:"organization.managedAccounts.table.accountStatus",defaultMessage:"Account status"})}),renderCell:e=>e.type===Ee.ManagedUser?(0,D.jsx)(tt,{status:e.managedUser.accountStatus}):(0,D.jsx)(Ie.HD,{}),widthData:{width:60},sortable:!1},Ge,$e,Qe],Je=[{id:"1",isClickable:!1,type:Ee.Loading},{id:"2",isClickable:!1,type:Ee.Loading},{id:"3",isClickable:!1,type:Ee.Loading}];function Xe(e){let{organizationStore:t,managedUsersState:s,onOpenDetailsModal:n}=e;const{getManagedUserActionSections:i,onEditDetails:o}=function(e){let{organizationStore:t,managedUsersState:s,onOpenDetailsModal:n}=e;const i=(0,h.O7)(),o=(0,p.useIntl)(),r=(0,a.useCallback)((async e=>{V.rZ(i);const{accept:t}=await C.confirmUserActionV2({message:(0,D.jsx)(W.Z,{style:C.dialogStyles.title,children:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Suspend this user?",id:"identityAndProvisioning.managedUsers.table.menu.action.suspendUser.dialog.title"})}),acceptLabel:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Yes",id:"identityAndProvisioning.managedUsers.table.menu.action.suspendUser.dialog.acceptLabel"}),description:(0,D.jsx)(W.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"This user will not be able to log into Notion and their Notion integrations will stop working. They can be unsuspended at any time from the Managed Users dashboard.",id:"identityAndProvisioning.managedUsers.table.menu.action.suspendUser.dialog.description"})})});if(!t)return;const a=await j.updateUserSuspension(i,{userId:e.userId,suspend:!0});V.rv(i,{suspended_user_id:e.userId}),"failed"===a.type&&C.showErrorMessage((0,w.wf)(I.default.getIntl(),a)),s.updateManagedUserAccountStatus(e.userId,"suspended")}),[i,s]),l=(0,a.useCallback)((async e=>{V.NF(i);const{accept:s}=await C.confirmUserActionV2({message:(0,D.jsx)(W.Z,{style:C.dialogStyles.title,children:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Log out this user?",id:"identityAndProvisioning.managedUsers.table.menu.action.logoutUser.dialog.title"})}),acceptLabel:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Log out user",id:"identityAndProvisioning.managedUsers.table.menu.action.logoutUser.dialog.acceptLabel"}),description:(0,D.jsx)(W.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.logoutUser.dialog.description",defaultMessage:"You are about to log out this user from their current session. They will need to re-authenticate to log back into Notion."})})});if(!s)return;const a=await j.logoutManagedUsers(i,{organizationId:t.id,target:{type:U.J.User,userId:e.userId}});if(V._m(i),"failed"===a.type)return C.showErrorMessage((0,w.wf)(I.default.getIntl(),a)),void q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"managedUsers.toastMessage.logout.failed",defaultMessage:"Failed to logged out user"})});q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"managedUsers.toastMessage.logout.success",defaultMessage:"Successfully logged out user"})})}),[i,t.id]),d=(0,a.useCallback)((async e=>{V.Zm(i);const{accept:s}=await C.confirmUserActionV2({message:(0,D.jsx)(W.Z,{style:C.dialogStyles.title,children:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Reset password for this user?",id:"identityAndProvisioning.managedUsers.table.menu.action.forcePasswordReset.dialog.title"})}),acceptLabel:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.forcePasswordReset.dialog.acceptLabel",defaultMessage:"Reset passwords for user"}),description:(0,D.jsx)(W.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.forcePasswordReset.dialog.description",defaultMessage:"You are about to reset the password for this user. This will also remove any 2-step verification settings they might have and they will be logged out of of their current session.{br}{br}This user will need to re-authenticate via their email the next time they attempt to log back into Notion, and they will be prompted to set a new password upon logging in.",values:{br:(0,D.jsx)("br",{})}})})});if(!s)return;const a=await j.resetPasswordsForManagedUsers(i,{organizationId:t.id,target:{type:U.J.User,userId:e.userId}});if(V.vC(i),"failed"===a.type)return C.showErrorMessage((0,w.wf)(o,a)),void q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"managedUsers.toastMessage.forcePasswordReset.fail",defaultMessage:"Failed to reset password for user"})});q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"managedUsers.toastMessage.forcePasswordReset.success",defaultMessage:"Successfully reset password for user"})})}),[i,o,t.id]),c=(0,a.useCallback)((async e=>{const t=await j.updateUserSuspension(i,{userId:e.userId,suspend:!1});V.Ci(i),"failed"===t.type&&C.deprecatedShowErrorMessage(t.error.message),s.updateManagedUserAccountStatus(e.userId,"notSuspended")}),[i,s]),u=(0,a.useCallback)((async e=>{V.P1(i,{user_status:e.accountStatus});const{accept:t}=await C.confirmUserActionV2({message:(0,D.jsx)(W.Z,{style:C.dialogStyles.title,children:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Delete this user?",id:"identityAndProvisioning.managedUsers.table.menu.action.deleteUser.dialog.title"})}),acceptLabel:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Yes",id:"identityAndProvisioning.managedUsers.table.menu.action.deleteUser.dialog.acceptLabel"}),description:(0,D.jsx)(W.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"This action cannot be undone. This will permanently delete the user's entire account. All private workspaces will be deleted, and they will be removed from all shared workspaces.",id:"identityAndProvisioning.managedUsers.table.menu.action.deleteUser.dialog.description"})})});if(!t)return;const a=await j.deleteManagedUser(i,{userId:e.userId});V.j7(i,{user_status:e.accountStatus}),"failed"===a.type&&C.deprecatedShowErrorMessage(a.error.message),s.removeUserFromManagedUsers(e.userId)}),[i,s]),g=(0,a.useCallback)((e=>n(e,"row_click")),[n]),m=(0,v.VK)((()=>i.currentUser.id),[i]),f={onClick:e=>n(e,"dropdown_menu"),icon:Ne.R,title:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.userDetails",defaultMessage:"Edit details"})},x={onClick:e=>u(e),icon:Be.y,title:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.deleteUser",defaultMessage:"Delete user"}),isDestructive:!0},y={onClick:l,icon:Oe.S,title:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.logout",defaultMessage:"Log out"})},S={onClick:d,icon:Pe.z,title:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.passwordReset",defaultMessage:"Reset password"})},M={onClick:r,icon:Re.V,title:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.suspendUser",defaultMessage:"Suspend user"}),getDisabledState:e=>e.userId===m},k={onClick:e=>c(e),icon:Ae.u,title:(0,D.jsx)(p.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.unSuspendUser",defaultMessage:"Reactivate user"})};return{getManagedUserActionSections:function(e){let t;switch(e.accountStatus){case"notSuspended":t=[[f,y,S],[M,x]];break;case"suspended":t=[[f],[k,x]];break;default:(0,b.t1)(e.accountStatus)}return t},onEditDetails:g}}({organizationStore:t,managedUsersState:s,onOpenDetailsModal:n}),r=s.managedUsers.map((e=>({id:e.userId,type:Ee.ManagedUser,managedUser:e,isClickable:!0,managedUserActionSections:i(e)}))),l=De(),d=(0,S.yK)((e=>(0,je.b)({columnRenderInfo:Ye,theme:e,containerMarginTop:0})),[]);const c=s.loading?[...r,...Je]:r,u=Ye.map((e=>({...e,headerStyle:l.tableHeader})));return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(je.D,{hideHeaderRowPadding:!0,showRowBorders:!0,columnRenderInfo:u,rows:c,onRowClick:function(e){e.type===Ee.ManagedUser&&o(e.managedUser)},renderNoRowsComponent:()=>(0,D.jsx)(et,{loading:s.loading}),styles:d,onLoadMore:s.loadNextPage})})}function et(e){const t=(0,S.yK)((()=>({text:{marginTop:15,marginBottom:40,textAlign:"center"}})),[]);return(0,D.jsx)(W.Z,{isSmall:!0,style:t.text,children:!e.loading&&(0,D.jsx)(p.FormattedMessage,{id:"managedAccounts.table.empty",defaultMessage:"No users found."})})}function tt(e){const t=(0,S.yK)((e=>({label:{paddingLeft:5}})),[]);return"notSuspended"===e.status?(0,D.jsx)(W.Z,{style:t.label,children:(0,D.jsx)(p.FormattedMessage,{id:"organization.managedAccounts.table.accountStatusValue.active",defaultMessage:"Active"})}):(0,D.jsx)(W.Z,{style:t.label,children:(0,D.jsx)(p.FormattedMessage,{id:"organization.managedAccounts.table.accountStatusValue.suspended",defaultMessage:"Suspended"})})}const st=(0,p.defineMessages)({placeholder:{id:"identityProvisioningSettings.managedUsers.searchInput.placeholder",defaultMessage:"Search name, email, or user ID"}});function at(e){let{organizationStore:t}=e;const s=(0,h.O7)(),n=(0,se.S)()||0,i=(0,S.yK)((e=>({link:{fontSize:14,fontWeight:400,color:e.mediumTextColor,textDecoration:"none"},title:{marginTop:21,fontWeight:te.Z.fontWeight.semibold,fontSize:17,display:"flex",justifyContent:"flex-start",alignItems:"center"},byline:{fontSize:14,fontWeight:te.Z.fontWeight.regular,color:e.mediumTextColor,paddingBottom:20},count:{marginLeft:4,opacity:.5,fontWeight:400},tabBarMenu:{margin:"12px 0 0",boxShadow:"none"},filters:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",margin:"0 auto 12px"}})),[]),o=function(e){let{organizationStore:t}=e;const s=(0,h.O7)(),[n,i]=(0,a.useState)(ce),o=(0,a.useRef)(n.filters),r=(0,a.useRef)(!1),l=(0,v.VK)((()=>t.getEmailDomains()),[t]),d=(0,a.useRef)(l.length>0),c=(0,a.useCallback)((async e=>{if(0===l.length)return;let t=n.loading,a=n.error,r=n.hasNextPage,d=n.paginationToken;if(e.restartSearch&&(i((e=>({...ce,filters:e.filters}))),t=ce.loading,a=ce.error,r=ce.hasNextPage,d=ce.paginationToken),r&&!t&&!a){i((e=>({...e,loading:!0}))),o.current=n.filters;try{var c;const e=await j.getManagedUsers(s,{query:n.filters.query,multiFactorStatus:n.filters.multiFactorStatus,workspaceId:n.filters.workspaceId,userStatus:n.filters.managedUserStatus,paginationToken:d,emailDomains:l});if(V.HH(s,{filters:{multiFactorStatus:n.filters.multiFactorStatus,workspaceId:n.filters.workspaceId},query_length:(null===(c=n.filters.query)||void 0===c?void 0:c.length)??0,current_page:d}),"failed"===e.type)throw e.error;const t=e.data.nextPaginationToken,a=e.data.results;i((e=>{const s=[...e.managedUsers],n=new Set(e.managedUsers.map((e=>e.userId)));for(const t of a)n.has(t.userId)||s.push(t);return{...e,managedUsers:s,loading:!1,error:void 0,numPagesLoaded:e.numPagesLoaded+1,paginationToken:t,hasNextPage:Boolean(t)}}))}catch(u){const e=(0,le.t)(u);i((t=>({...t,loading:!1,error:e})))}}}),[s,n.loading,n.error,n.hasNextPage,n.paginationToken,n.filters,l]);(0,a.useEffect)((()=>{!d.current&&!r.current&&l.length>0&&(c({restartSearch:!0}),r.current=!0)}),[l,c]),(0,a.useEffect)((()=>{de.Xy(o.current,n.filters)||c({restartSearch:!0})}),[n.filters,c]);const u=(0,a.useCallback)((()=>c({restartSearch:!1})),[c]),g=(0,a.useCallback)((e=>{i((t=>({...t,filters:{...t.filters,...e}})))}),[]),m=(0,a.useCallback)(((e,t)=>{i((s=>({...s,managedUsers:s.managedUsers.map((s=>s.userId===e?{...s,workspaces:s.workspaces.filter((e=>e.id!==t))}:s))})))}),[]),p=(0,a.useCallback)(((e,t)=>{i((s=>({...s,managedUsers:s.managedUsers.map((s=>s.userId===e?{...s,accountStatus:t}:s))})))}),[]),f=(0,a.useCallback)((e=>{i((t=>({...t,managedUsers:t.managedUsers.filter((t=>t.userId!==e))})))}),[]);return{managedUsers:n.managedUsers,filters:n.filters,loading:n.loading,error:n.error,removeWorkspaceFromUser:m,removeUserFromManagedUsers:f,setFilters:g,hasNextPage:n.hasNextPage,loadNextPage:u,updateManagedUserAccountStatus:p}}({organizationStore:t}),{filters:r,setFilters:l,removeWorkspaceFromUser:d}=o,[c,u]=(0,a.useState)(),g=(0,a.useMemo)((()=>o.managedUsers.find((e=>{let{userId:t}=e;return t===c}))),[c,o.managedUsers]);const m=(0,a.useCallback)(((e,t)=>{V.JX(s,{user_status:e.accountStatus,from:t}),u(e.userId)}),[s,u]),{organizationOwnerRecordCache:p}=(0,a.useContext)(R.V),{spaceIds:f}=(0,a.useContext)(re.g),x=(0,v.VK)((()=>{const e=[];for(const t of f)e.push(new ae.H2(s,{id:t,table:ee.bx},{inMemoryRecordCache:p}));return e.map((e=>{var t;return{id:e.id,name:e.getName(),createdTime:e.getCreatedTime(),memberCount:n,icon:null===(t=e.getIcon())||void 0===t?void 0:t.icon,subscriptionTier:e.getSubscriptionTier()}}))}),[s,p,f,n]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ne.O,{mode:ne.p.Button,query:r.query,setQueryFilter:e=>{l({query:e})},placeholderText:I.default.formatMessage(st.placeholder)}),(0,D.jsxs)("div",{style:i.filters,children:[(0,D.jsx)(oe.O,{selectedSpaceId:r.workspaceId,setSelectedSpaceId:e=>{l({workspaceId:e})},spaceData:x}),(0,D.jsx)(ie.V,{selectedMfaMethod:r.multiFactorStatus,setSelectedMfaMethod:e=>{l({multiFactorStatus:e})}}),(0,D.jsx)(me,{selectedAccountStatus:r.managedUserStatus,setSelectedAccountStatus:e=>{l({managedUserStatus:e})}})]}),(0,D.jsx)(Xe,{organizationStore:t,managedUsersState:o,onOpenDetailsModal:m}),(0,D.jsx)(ve,{managedUser:g,onClose:function(){u(void 0)},removeWorkspaceFromUser:d})]})}var nt=s(427386);function it(e){let{children:t}=e;return(0,D.jsx)(nt.ZP,{getPaddingTopBottom:()=>36,contentPaddingLeftRight:36,maxWidth:1800,children:t})}var ot=s(723189),rt=s(66957);function lt(e){let{children:t,title:s,headerRight:a}=e;const n=ct(),i=t?{marginBottom:0,borderBottom:"none"}:{},o={...n.headingStyle,...i};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(ot.Z,{large:!0,style:o,children:[(0,D.jsx)("h1",{style:n.title,children:s}),a]}),t]})}function dt(e){let{tabConfig:t}=e;const s=ct(),{tabs:a,currentTabName:n,updateTab:i}=t;return(0,D.jsx)(rt.Z,{tabs:a.map((e=>e.tab)),selectedIndex:a.findIndex((e=>e.name===n)),onChange:e=>{i(a[e].name)},style:s.tabContainerStyle,tabStyle:s.tabStyle,tabTitleStyle:s.tabTitleStyle,tabBorderStyle:s.tabBorderStyle})}function ct(){return(0,S.yK)((e=>({headingStyle:{marginBottom:16,paddingBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${e.stroke.deemphasized}`},title:{fontSize:20,fontWeight:te.Z.fontWeight.medium,lineHeight:"150%",display:"flex",alignItems:"center",gap:0,margin:0},tabContainerStyle:{paddingLeft:0,paddingRight:0,marginTop:-6,marginBottom:14,overflow:"visible"},tabStyle:{marginLeft:-8,marginRight:8},tabTitleStyle:{paddingLeft:8,paddingRight:8},tabBorderStyle:{left:8,right:8}})),[])}var ut=s(581909),gt=function(e){return e.Settings="settings",e.ManagedAccounts="managed-accounts",e}(gt||{});const mt=[{name:gt.Settings,tab:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.subTab.settings.title",defaultMessage:"Settings"})},{name:gt.ManagedAccounts,tab:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.subTab.table.title",defaultMessage:"Managed accounts"})}];function pt(e){let{organizationId:t,subtab:s,queryParams:n}=e;const i=(0,h.O7)(),o=(0,a.useMemo)((()=>function(e){switch(e){case gt.Settings:return gt.Settings;case gt.ManagedAccounts:return gt.ManagedAccounts;default:return gt.Settings}}(s)),[s]),r=(0,ut.k)({organizationId:t});if(!r)return null;return(0,D.jsx)(it,{children:(0,D.jsxs)(lt,{title:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.accounts.title",defaultMessage:"Accounts"}),children:[(0,D.jsx)(dt,{tabConfig:{tabs:mt,currentTabName:o,updateTab:function(e){y.c4({environment:i,url:(0,f.a5)({organizationId:t,tabRoute:x.C$,properties:{subtab:e},queryParams:n})})}}}),(0,D.jsx)(ht,{currentTab:o,organizationStore:r})]})})}function ht(e){switch(e.currentTab){case gt.Settings:return(0,D.jsx)(X,{organizationStore:e.organizationStore});case gt.ManagedAccounts:return(0,D.jsx)(at,{organizationStore:e.organizationStore});default:(0,b.t1)(e.currentTab)}}var ft=s(124026),xt=s(536591),bt=s(610662);var yt=s(80444),vt=s(897630),St=s(552275),Mt=s(288359),jt=s(731278),Ct=s(814871);const wt="";function It(e){let{organizationId:t,currentTabRoute:s,currentTabProperties:n,shouldShowOrganizationOption:i,selectedSpaceStore:o}=e;const r=(0,h.O7)(),{spaceIds:l}=(0,a.useContext)(re.g),{itemIcon:d,itemName:c}=function(e){const t=Tt(),{itemIcon:s,itemName:a}=(0,v.VK)((()=>{const s="Organization";return e?{itemIcon:(0,D.jsx)(jt.Z,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,title:e.getName(),size:24,isLarge:!0}),itemName:e.getName()}:{itemIcon:(0,D.jsx)("div",{style:t.organizationIconContainer,children:(0,bt.r)(t.organizationIcon)}),itemName:s}}),[e,t]);return{itemIcon:s,itemName:a}}(o),u=null==o?void 0:o.id,g=(0,S.yK)((e=>({container:{display:"inline-flex",width:"fit-content"},menuItem:{fontSize:"inherit",borderRadius:O.E.default,border:`1px solid ${e.stroke.deemphasized}`,paddingTop:4,paddingBottom:4}})),[]);(0,a.useEffect)((()=>{o&&(yt.default.setState({...yt.default.state,currentSpaceStore:o}),(0,vt.OR)({environment:r,spaceId:o.id}))}),[o,r]);const m=(0,a.useCallback)((e=>{if(!e)return void function(e,t,s){y.c4({environment:e,url:(0,f.a5)({organizationId:t,tabRoute:s})})}(r,t,s);const a=(0,f.a5)({organizationId:t,tabRoute:s,properties:n,queryParams:{"space-id":e}});y.c4({environment:r,url:a})}),[s,n,r,t]),p=(0,a.useMemo)((()=>i?[wt,...l]:l),[l,i]);return(0,D.jsx)("div",{style:g.container,children:(0,D.jsx)(Ct.Z,{items:p,getKey:de.yR,selectedItem:u,onSelect:m,width:300,renderItem:e=>{const t=e.value;return t===wt?(0,D.jsx)(zt,{isSelected:!u,...e}):(0,D.jsx)(kt,{spaceId:t,isSelected:u===t,...e})},renderOrigin:e=>(0,D.jsx)(Mt.Z,{focused:!1,icon:d,title:c,style:g.menuItem,desktopIconStyle:{marginLeft:4,marginRight:0},...e})})})}function kt(e){let{spaceId:t,isSelected:s,...n}=e;const i=(0,h.O7)(),{organizationOwnerRecordCache:o}=(0,a.useContext)(R.V),r=Tt(),{icon:l,name:d}=(0,v.VK)((()=>{const e=new ae.H2(i,{id:t,table:ee.bx},{inMemoryRecordCache:o});return{icon:e.getIcon(),name:e.getName()}}),[t,o,i]);return(0,D.jsx)(St.Z,{title:d,right:s?(0,xt.e)(r.checkIcon):null,icon:(0,D.jsx)(jt.Z,{disabled:!0,icon:l,isEmptyPage:!1,title:d,size:24,isLarge:!0}),...n})}function zt(e){let{isSelected:t,...s}=e;const a=Tt();return(0,D.jsx)(St.Z,{title:"Organization",right:t?(0,xt.e)(a.checkIcon):null,icon:(0,D.jsx)("div",{style:a.organizationIconContainer,children:(0,bt.r)(a.organizationIcon)}),...s})}function Tt(){return(0,S.yK)((e=>({checkIcon:{width:14,height:14},organizationIconContainer:{width:23,height:23,display:"flex",alignItems:"center",justifyContent:"center"},organizationIcon:{width:18,height:18}})),[])}var Ft=s(584169),Rt=s(124697),Ot=s(412714),Nt=s(918514),Pt=s(474523),At=s(588149),Bt=s(421697),Dt=s(93502),Zt=s(835238);function _t(e){let{spaceStore:t}=e;const s=(0,Dt.U)({spaceId:t.id}),a=(0,Bt.x)({spaceStore:t});return(0,D.jsx)(Zt.Z,{spaceStore:t,teamStores:a,contentEngagement:s})}var Lt=s(831303),Ut=s(589426);function Vt(e){let{spaceStore:t,isOrganizationOwner:s}=e;const a=(0,v.VK)((()=>{var e;return null===(e=yt.default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),n=(0,Lt.i)({spaceStore:t,userId:a,isOrganizationOwner:s}),i=(0,Dt.U)({spaceId:t.id});return(0,D.jsx)(Ut.Z,{spaceStore:t,contentEngagement:i,userEngagement:n,onUserTabFilterChange:()=>!1})}var qt=s(966673),Et=s(783726),Wt=s(365552);function Ht(e){let{spaceStore:t,isOrganizationOwner:s}=e;const n=(0,v.VK)((()=>{var e;return null===(e=yt.default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),{usersTabData:i,setFilters:o}=function(e){const t=(0,h.O7)(),[s,n]=(0,a.useState)(),{spaceStore:i}=e,o=(0,a.useRef)(!1),r=(0,qt.D9)(i.id),l=(0,a.useMemo)((()=>void 0!==r&&i.id!==r),[i.id,r]),d=(0,a.useCallback)((async e=>{const{currentSpaceStore:s,nextGraphFilter:a,nextTableFilter:i,nextSort:o}=e,r=await Et.qA({environment:t,spaceStore:s,nextGraphFilter:a,nextTableFilter:i,nextSort:o});n(r)}),[t]);(0,a.useEffect)((()=>{o.current&&!l||(o.current=!0,d({currentSpaceStore:i,nextGraphFilter:null==s?void 0:s.graphFilter,nextTableFilter:null==s?void 0:s.tableFilter,nextSort:null==s?void 0:s.userTableSort}))}),[d,l,i,s]);const c=(0,a.useCallback)((e=>{const{tableFilter:t,graphFilter:a}=e;d({currentSpaceStore:i,nextGraphFilter:a??(null==s?void 0:s.graphFilter),nextTableFilter:t??(null==s?void 0:s.tableFilter),nextSort:null==s?void 0:s.userTableSort})}),[d,s,i]);return{usersTabData:s,setFilters:c}}({spaceStore:t}),r=(0,Bt.x)({spaceStore:t}),l=(0,Lt.i)({spaceStore:t,userId:n,isOrganizationOwner:s});return(0,D.jsx)(Wt.Z,{spaceStore:t,teamStores:r,usersTabData:i,userEngagement:l,onUserTabFilterChange:o})}const Kt=[{name:ft.x.Overview,tab:(0,D.jsx)(p.FormattedMessage,{id:"workspaceAnalyticsTabs.overview.title",defaultMessage:"Overview"})},{name:ft.x.Users,tab:(0,D.jsx)(p.FormattedMessage,{id:"workspaceAnalyticsTabs.members.title",defaultMessage:"Members"})},{name:ft.x.Content,tab:(0,D.jsx)(p.FormattedMessage,{id:"workspaceAnalyticsTabs.content.title",defaultMessage:"Content"})},{name:ft.x.Search,tab:(0,D.jsx)(p.FormattedMessage,{id:"workspaceAnalyticsTabs.search.title",defaultMessage:"Search"})}];function Gt(e){let{spaceStore:t,spacePicker:s,navigateToTab:n,currentTab:i,isOrganizationOwner:o}=e;const r=(0,h.O7)(),l=(0,a.useCallback)((e=>{Rt.nK(r,{tab:e}),n(e)}),[r,n]),d=(0,v.VK)((()=>o||Boolean(null==t?void 0:t.canAdmin())),[t,o]),c=Kt.filter((e=>!(!d&&e.name!==ft.x.Content)));return(0,D.jsxs)(it,{children:[(0,D.jsx)(lt,{title:(0,D.jsx)(Jt,{spaceStore:t,spacePicker:s}),headerRight:(0,D.jsx)(Yt,{}),children:(0,D.jsx)(dt,{tabConfig:{tabs:c,currentTabName:i,updateTab:l}})}),(0,D.jsx)($t,{currentTab:i,spaceStore:t,isOrganizationOwner:o})]})}function $t(e){const{currentTab:t,isOrganizationOwner:s,spaceStore:a}=e;switch(t){case ft.x.Content:return(0,D.jsx)(_t,{spaceStore:a});case ft.x.Overview:return(0,D.jsx)(Vt,{spaceStore:a,isOrganizationOwner:s});case ft.x.Users:return(0,D.jsx)(Ht,{spaceStore:a,isOrganizationOwner:s});case ft.x.Search:return(0,D.jsx)(At.Z,{spaceStore:a});default:(0,b.t1)(t)}}function Qt(){const e=(0,S.yK)((()=>({helpInfo:{marginLeft:4}})),[]);return(0,D.jsx)(B.Z,{placement:A.u.Right,render:t=>(0,D.jsx)(Pt.Z,{...t,href:(0,Nt.UY)("guides.workspaceAnalytics"),analyticsFrom:"workspace_analytics_faq",style:e.helpInfo}),renderTooltip:()=>(0,D.jsx)(p.FormattedMessage,{id:"settings.workspaceAnalytics.dataDisclaimerTooltip",defaultMessage:"Data available from the start date of your Enterprise Plan"})})}function Yt(){const e=(0,h.O7)(),t=(0,a.useCallback)((()=>{Ot.D({environment:e,url:(0,Nt.UY)("guides.workspaceAnalytics")})}),[e]);return(0,D.jsx)(E.Z,{isSmall:!0,onClick:t,icon:Ft.m,children:(0,D.jsx)(p.FormattedMessage,{id:"workspaceAnalytics.title.helpButton",defaultMessage:"Learn more"})})}function Jt(e){let{spaceStore:t,spacePicker:s}=e;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.workspaceAnalytics.title",defaultMessage:"Workspace analytics for "}),s,(0,D.jsx)(Qt,{})]})}function Xt(e){let{spaceId:t,organizationId:s,subtab:n,queryParams:i,tabRoute:o}=e;const r=(0,h.O7)(),{spaceIds:l}=(0,a.useContext)(re.g);(0,a.useEffect)((()=>{!t&&l.length>0&&y.c4({environment:r,url:(0,f.a5)({organizationId:s,tabRoute:o,properties:{subtab:n},queryParams:{...i,"space-id":l[0]}})})}),[r,t,s,l,n,i,o])}function es(e){let{spaceId:t}=e;const s=(0,h.O7)(),{organizationOwnerRecordCache:n}=(0,a.useContext)(R.V),{spaceIds:i}=(0,a.useContext)(re.g);return(0,v.VK)((()=>{if(t&&i.includes(t))return new ae.H2(s,{id:t,table:ee.bx},{inMemoryRecordCache:n})}),[t,i,n,s])}function ts(e){let{spaceId:t,organizationId:s,subtab:a,queryParams:n,tabRoute:i}=e;const o=(0,h.O7)(),r=es({spaceId:t});if(Xt({spaceId:t,organizationId:s,subtab:a,queryParams:n,tabRoute:i}),!r||!t||!s)return null;return(0,D.jsx)(Gt,{spaceStore:r,spacePicker:(0,D.jsx)(It,{organizationId:s,currentTabRoute:x.Zq,currentTabProperties:{subtab:a},selectedSpaceStore:r}),navigateToTab:e=>{y.c4({environment:o,url:(0,f.a5)({organizationId:s,tabRoute:x.Zq,properties:{subtab:e},queryParams:n})})},currentTab:ss(a),isOrganizationOwner:!0})}function ss(e){switch(e){case"content":return ft.x.Content;case"search":return ft.x.Search;case"users":return ft.x.Users;default:return ft.x.Overview}}var as=s(723399),ns=s(881549),is=s(922326),os=s(253877),rs=s(159730),ls=s(980085),ds=s(177420),cs=s(361220),us=s(296994),gs=s(749085);class ms extends gs.default{getInitialState(){return{auditLogPointer:void 0,allUserIds:new Set,allBotIds:new Set,removedUserIds:new Set,removedBotIds:new Set}}isUserOrBotRemoved(e){return Boolean(e&&(this.state.removedUserIds.has(e)||this.state.removedBotIds.has(e)))}}const ps=new ms;class hs extends gs.default{getInitialState(){return{cachedResponses:{}}}getCursor(e,t,s){if(s<=1||!de.Xy(this.state.pointer,e))return;const a=(0,is.r)(t);if(this.state.filterStr!==a)return;const n=this.state.cachedResponses[s-1];return"success"===n.status?null==n?void 0:n.nextCursor:void 0}startLoading(e,t){this.updateResultHelper(e,t,{status:"loading"})}updateLoadedResult(e,t,s){this.updateResultHelper(e,t,{...s,status:"success",loadedAt:Date.now()})}updateError(e,t){this.updateResultHelper(e,t,{status:"error"})}updateResultHelper(e,t,s){const a=(0,is.r)(t);1!==t.pageNum&&de.Xy(this.state.pointer,e)&&this.state.filterStr===a?this.setState({pointer:e,filterStr:a,cachedResponses:{...this.state.cachedResponses,[t.pageNum]:{...s}}}):this.setState({pointer:e,filterStr:a,cachedResponses:{[t.pageNum||1]:{...s}}})}}const fs=new hs,xs=(0,p.defineMessages)({loadCurrentAuditLogError:{id:"auditlog.error.loadCurrentAuditLogError",defaultMessage:"Failed to load audit logs"}});async function bs(e){const{environment:t,request:s,auditLogPointer:a,filters:n}=e,i=await j.searchAuditLog(t,s);if("success"===i.type)fs.updateLoadedResult(a,n,i.data);else if(fs.updateError(a,n),(0,rs.Jx)(i.body)){const e=(0,w.wf)(I.default.getIntl(),i);C.showErrorMessage(e)}else C.showErrorMessage(I.default.formatMessage(xs.loadCurrentAuditLogError))}async function ys(e){const{environment:t,parentStore:s}=e;if(!s)return void ps.reset();const a=ps.getState(),n={id:s.id,table:s.table};if(de.Xy(a.auditLogPointer,n)||ps.reset(),!n)return;let i;if(s.table===ee.bx){const e=await us.FF.searchActions.load();i=await e.searchSpaceActorIds({environment:t,membersOnly:!1})}else if(s.table===cs.V7){var o;i={userIds:(null===(o=s.getModel())||void 0===o?void 0:o.getOwnerIds())||[],botIds:[]}}else(0,b.t1)(s);const r=await async function(e){const{environment:t,auditLogPointer:s}=e;if(s.table===ee.bx){const e=await j.getHistoricalAuditLogUsers(t,{spaceId:s.id});return"success"!==e.type?[]:e.data.results}if(s.table===cs.V7){const e=await j.getHistoricalAuditLogUsers(t,{organizationId:s.id});return"success"!==e.type?[]:e.data.results}(0,b.t1)(s.table)}({environment:t,auditLogPointer:n}),l={auditLogPointer:n,allUserIds:new Set,allBotIds:new Set,removedUserIds:new Set,removedBotIds:new Set};for(const c of i.userIds)l.allUserIds.add(c);for(const c of i.botIds)l.allBotIds.add(c);for(const c of r)(d=c.actorId)!==ds._H.id&&d!==Ze.s$.id&&d!==Ze.el.id||l.allUserIds.has(c.actorId)?c.actorType!==Ze.KJ||l.allUserIds.has(c.actorId)?c.actorType!==ds.cZ||l.allBotIds.has(c.actorId)||(l.allBotIds.add(c.actorId),l.removedBotIds.add(c.actorId)):(l.allUserIds.add(c.actorId),l.removedUserIds.add(c.actorId)):l.allUserIds.add(c.actorId);var d;ps.setState(l)}var vs=s(569651),Ss=s(78931),Ms=s(444763),js=s(165598),Cs=s(423096),ws=s(608319),Is=s(847466);class ks extends Is.e{getInitialState(){return{categorySelections:{organization:Is.j.All},categoryToggleOpen:{organization:!0},searchQuery:void 0,actionSelections:(0,b.Xc)(ls.TQ,(()=>!0)),isMenuOpen:!1,renderOrder:[{category:"organization",orderedActions:ls.dF.organization}]}}}var zs=s(266897),Ts=s(227617),Fs=s(174136),Rs=s(197680);const Os=(0,p.injectIntl)((function(e){const{parentStore:t,auditLogHistoricalUserStore:s,selectedActors:n,onChange:i,intl:o}=e,r=(0,h.O7)(),[l,d]=a.useState(new Set(n.map(Ts.eW))),c=(0,D.jsx)(p.FormattedMessage,{id:"auditlogActorFilter.title",defaultMessage:"User"}),u={title:c,tokenInputPlaceholder:o.formatMessage({defaultMessage:"Search user...",id:"auditlogActorFilter.searchActor.placeholder"}),resultSectionTitle:o.formatMessage({defaultMessage:"Select users",id:"auditlogActorFilter.searchActor.resultsTitle"}),componentDebugName:"SearchActorFilter"};return(0,D.jsx)(ws.Z,{mode:ws.z.Pill,title:c,icon:ue.f,iconStyles:{marginRight:2},items:Array.from(l),hasItemsSelected:(null==n?void 0:n.length)>0,onChange:e=>{d(new Set(e))},renderFooter:!0,allowApplyBatchSelection:!0,keepInputOnItemConfirm:!0,onMenuDismiss:function(e){"applyButton"!==e?function(){const e=n.map(Ts.eW);d(new Set(e))}():function(){const e=Array.from(l).map(Ts.Ij).filter((e=>Boolean(e)));i(e)}()},labelText:u,performRequest:e=>async function(e){let{args:t,auditLogHistoricalUserStore:s,selectedActors:a,environment:n,parentStore:i}=e;const{query:o}=t,{allUserIds:r,allBotIds:l}=s.getState(),d=100,c=await us.FF.searchActions.load(),u=await c.searchActorsById({environment:n,query:o,userIds:[...r],botIds:[...l],store:i}),g=[...u.users.map((e=>`notion_user:${e.id}`)),...u.bots.map((e=>`bot:${e.id}`))];if(o.length>0)return g.slice(0,d);const m=a.map(Ts.eW),p=new Set(m),h=g.filter((e=>!p.has(e)));return[...m,...h].slice(0,Math.max(m.length,d))}({args:e,auditLogHistoricalUserStore:s,selectedActors:n,environment:r,parentStore:t}),renderResultMenuItem:(e,a)=>{var n;const i=function(e,t){const s=(0,Ts.Ij)(e);if(!s)return(0,zs.m3)(void 0);if("notion_user"===s.actorType)return(0,zs.m3)(function(e,t){const s=ae.U6.createChildStore(t,{table:Ze.KJ,id:e});return s.getModel()}(s.actorId,t));return(0,zs.ON)(function(e,t){const s=ae.Qx.createChildStore(t,{table:ds.cZ,id:e});return s.getModel()}(s.actorId,t))}(e,t);return(0,D.jsx)(Ns,{...a,item:e,tempActorSelections:l,showRemovedBadge:s.isUserOrBotRemoved(null===(n=i.asActor)||void 0===n?void 0:n.id),actor:i,intl:o})},renderToken:()=>null,renderFilter:()=>null,renderItemForSummary:()=>null,addItemLabel:null,focused:!1})}));function Ns(e){const{item:t,intl:s,tempActorSelections:n,showRemovedBadge:i,actor:o}=e;return(0,a.createElement)(Rs.Z,{...e,key:t,actor:o,useEmailAsTooltip:!0,checkState:n.has(t),userTitle:(0,D.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,zs.$4)(s,o),i&&(0,D.jsx)(Fs.Z,{children:(0,D.jsx)(p.FormattedMessage,{id:"auditlogActorFilter.removed_user",defaultMessage:"Removed"})})]})})}function Ps(e){let{onChange:t}=e;const s=(0,v.qz)(void 0,ks),a=(0,v.qz)(void 0,ks);return(0,D.jsx)(Ss.Z,{lastSelectionStore:s,componentStore:a,onChange:t})}function As(e){let{onChange:t}=e;const s=(0,v.qz)(void 0,Ms.X),a=(0,v.qz)(void 0,Ms.X);return(0,D.jsx)(Ss.Z,{lastSelectionStore:s,componentStore:a,onChange:t})}const Bs=(0,p.injectIntl)((function(e){const{parentStore:t}=e,[s,a]=(0,v.AF)(is.Z),[n,i,o]=(0,v.AF)(ps);return(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:4},children:[(0,D.jsx)(Cs.Z,{mode:ws.z.Pill,focused:!1,title:(0,D.jsx)(p.FormattedMessage,{id:"auditlogDateFilter.title",defaultMessage:"Date"}),icon:vs.C,value:s.timeRange,showButtons:"footer",onChange:e=>{a({...s,timeRange:e,pageNum:1})}}),(0,D.jsx)(Os,{parentStore:t,auditLogHistoricalUserStore:o,selectedActors:s.actors,onChange:e=>{a({...s,actors:e,pageNum:1})}}),(0,js.R$)(t)?(0,D.jsx)(Ps,{onChange:e=>{a({...s,actions:e,pageNum:1})}}):(0,D.jsx)(As,{onChange:e=>{a({...s,actions:e,pageNum:1})}})]})}));var Ds=s(228971),Zs=s(875553),_s=s(800893),Ls=s(119044),Us=s(433581),Vs=s(858015),qs=s(164921),Es=s(304708),Ws=s(319385),Hs=s(621752);function Ks(e){const{auditLogEntry:t,parentStore:s,id:n}=e,i=(0,p.useIntl)(),o=(0,v.VK)((()=>{if(t.actor.actorType===Ze.KJ){const e=ae.U6.createChildStore(s,{id:t.actor.actorId,table:Ze.KJ});if(e.isDefined()&&!e.getIsDeleted())return{actorStore:e};if(t.actor.email)return{avatar:{name:t.actor.name,email:t.actor.email}}}else if(t.actor.actorType===ds.cZ){const e=ae.Qx.createChildStore(s,{id:t.actor.actorId,table:ds.cZ});return e.isDefined()?{actorStore:e}:{avatar:{name:t.actor.name,email:t.actor.actorId}}}return{actorStore:void 0}}),[s,t]),r=(0,v.VK)((()=>{var e,t;if(o)return(null===(e=o.actorStore)||void 0===e?void 0:e.getDisplayName(i))??(null===(t=o.avatar)||void 0===t?void 0:t.name)}),[o,i]),l=(0,v.VK)((()=>{var e,t;if(o)return(null===(e=o.actorStore)||void 0===e?void 0:e.getDetail())??(null===(t=o.avatar)||void 0===t?void 0:t.email)}),[o]),d=(0,a.useMemo)((()=>{var e;if(t.actor.actorType===Ze.KJ)return(0,Hs.K)(null===(e=t.actor.meta)||void 0===e?void 0:e.spaceRole)}),[t]),c=(0,S.yK)((()=>({container:{display:"block",width:"100%",paddingBlock:6}})),[]),u=(0,a.createRef)();return(0,D.jsx)(B.Z,{disableTooltip:Gs(u.current),renderTooltip:()=>(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{children:r}),(0,D.jsx)("div",{children:l})]}),placement:A.u.Bottom,render:e=>(0,D.jsx)("div",{...e,style:c.container,children:(0,D.jsx)(Hs.Z,{id:n,...o,spaceRole:d})})})}function Gs(e){return!!e&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}const $s={id:"actor",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"auditlog.logTable.userColumn.header",defaultMessage:"User"}),renderCell:e=>{const t=`actor-${e.auditLogEntry.actionName}-${e.id}`;return(0,D.jsx)(Ks,{parentStore:e.parentStore,auditLogEntry:e.auditLogEntry,id:t})},widthData:{width:30},sortable:!1},Qs={id:"event",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"auditlog.logTable.eventColumn.header",defaultMessage:"Event"}),renderCell:e=>{const t=`event-${e.auditLogEntry.actionName}-${e.id}`;return(0,D.jsx)(Us.p,{auditLogEntry:e.auditLogEntry,id:t})},widthData:{width:40},sortable:!1},Ys={id:"dateTimeAndMenu",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"auditlog.logTable.dateColumn.header",defaultMessage:"Date"}),renderCell:e=>{const t=`actor-${e.auditLogEntry.actionName}-${e.id}`,s=`event-${e.auditLogEntry.actionName}-${e.id}`,a=`datetime-${e.auditLogEntry.actionName}-${e.id}`;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(Ls.t,{auditLogEntry:e.auditLogEntry,id:a}),(0,D.jsx)(ea,{auditLogEntry:e.auditLogEntry,ids:{actorColumnId:t,eventColumnId:s,dateTimeColumnId:a}})]})},widthData:{width:25},sortable:!0,shouldShowSortTooltip:!0},Js=[$s,Qs,Ys];function Xs(){return(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"40vh",flexDirection:"column"},children:[(0,D.jsx)("div",{children:(0,D.jsx)(W.Z,{isSecondaryColor:!0,style:{fontWeight:500},children:(0,D.jsx)(p.FormattedMessage,{id:"auditlog.logTable.noResults",defaultMessage:"No results"})})}),(0,D.jsx)(W.Z,{isSecondaryColor:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"auditlog.logTable.noResultsHelpText",defaultMessage:"Try different filters. Logs may take some time to show up."})})]})}function ea(e){const{auditLogEntry:t,ids:s}=e,a=(0,v.VK)((()=>(0,Es.F$)()),[]),n=(0,v.VK)((()=>Ws.default.checkGate({gateName:"audit_log_event_name_column"})?Ds.pz:Ds.C9),[]),i=(0,p.useIntl)(),o=(0,h.O7)(),r=(0,S.Fg)(),l=(0,S.yK)((e=>({container:{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%"},button:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:O.E.small}})),[]);return(0,D.jsx)(B.Z,{delayThreshold:80,placement:A.u.Bottom,render:e=>(0,D.jsx)("div",{style:l.container,...e,children:(0,D.jsx)(qs.Z,{style:l.button,onClick:()=>{var e;_s.RD({environment:o,stringValue:(0,Ds.eA)({auditLogEntry:t,intl:i,getAuditLogEventText:(e=s.eventColumnId,t=>{var s;return null===(s=document.getElementById(e))||void 0===s?void 0:s.textContent}),isTeamGuestsEnabled:a,csvColumnNames:n}),copiedMessage:_s.tq.copiedToClipboard})},children:(0,Zs.U)({width:16,height:16,fill:r.mediumIconColor})})}),renderTooltip:()=>(0,D.jsx)(p.FormattedMessage,{id:"AuditLogSettings.copyAuditLogEvent",defaultMessage:"Copy row"})})}const ta=(0,p.injectIntl)((function(e){const{searchResponse:t,parentStore:s}=e,[n,i]=(0,v.AF)(is.Z),o=t.results||[],r=t.hasMoreResults,l=Boolean(o.length),d=e=>{const t={...n,pageNum:e};i(t)},c=De(),u=(0,S.yK)((e=>(0,je.b)({columnRenderInfo:Js,theme:e,containerMarginTop:0})),[]),g=o.map(((e,t)=>({id:t.toString(),auditLogEntry:e,parentStore:s,isClickable:!1}))),m=(0,a.useCallback)((()=>{const e=n.sortOrder===ls.NQ.CreatedOldest?ls.NQ.CreatedNewest:ls.NQ.CreatedOldest;i({...n,sortOrder:e,pageNum:1})}),[n,i]),h=(0,a.useMemo)((()=>({column:Ys,sortAscending:n.sortOrder===ls.NQ.CreatedOldest})),[n]),f=Js.map((e=>({...e,headerStyle:c.tableHeader})));return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(je.D,{hideHeaderRowPadding:!0,showRowBorders:!0,columnRenderInfo:f,rows:g,sortState:h,onSortStateChanged:m,renderNoRowsComponent:Xs,styles:u}),l?(0,D.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:[(0,D.jsx)(Vs.v,{onClick:()=>{d(n.pageNum-1)},disabled:1===n.pageNum,children:(0,D.jsx)(p.FormattedMessage,{id:"auditlog.logTable.previousPage",defaultMessage:"Previous"})}),(0,D.jsx)(Vs.v,{disabled:!r,onClick:()=>{d(n.pageNum+1)},children:(0,D.jsx)(p.FormattedMessage,{id:"auditlog.logTable.nextPage",defaultMessage:"Next"})})]}):null]})}));function sa(e){let{parentStore:t,spacePicker:s}=e;const n=(0,h.O7)(),[i]=(0,v.AF)(fs),[o]=(0,v.AF)(is.Z),r=(0,is.r)(o)!==i.filterStr?void 0:i.cachedResponses[o.pageNum];return(0,a.useEffect)((()=>{t.id&&async function(e){var t,s;const{environment:a,auditLogPointer:n}=e,i=is.Z.getState();fs.startLoading(n,i);const{sortOrder:o,pageSize:r,pageNum:l}=i,d={limit:r,cursor:fs.getCursor(n,i,l),filters:{timeRange:{starting:i.timeRange.starting?os.OQ.toUnixMs(i.timeRange.starting):void 0,ending:i.timeRange.ending?os.OQ.toUnixMs(i.timeRange.ending):void 0},...(null===(t=i.actors)||void 0===t?void 0:t.length)>0?{actors:i.actors}:void 0,...(null===(s=i.actions)||void 0===s?void 0:s.length)>0?{actions:i.actions}:void 0},sort:o||ls.NQ.CreatedNewest};n.table===ee.bx?await bs({environment:a,request:{...d,spaceId:n.id},auditLogPointer:n,filters:i}):n.table===cs.V7?await bs({environment:a,request:{...d,organizationId:n.id},auditLogPointer:n,filters:i}):(0,b.t1)(n.table)}({environment:n,auditLogPointer:{id:t.id,table:t.table}})}),[n,t,o]),(0,a.useEffect)((()=>{ys({environment:n,parentStore:t})}),[n,t]),(0,D.jsxs)(it,{children:[(0,D.jsx)(lt,{title:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.auditLog.title",defaultMessage:"Audit log for"}),s]})}),(0,D.jsxs)("div",{style:{justifyContent:"space-between",display:"flex",paddingTop:4,paddingBottom:12},children:[(0,D.jsx)(Bs,{parentStore:t}),(0,D.jsx)(as.Z,{parentStore:t})]}),"loading"===(null==r?void 0:r.status)&&(0,D.jsx)(ns.Z,{}),"success"===(null==r?void 0:r.status)&&(0,D.jsx)(ta,{searchResponse:r,parentStore:t})]})}function aa(e){const{organizationId:t,spaceId:s}=e,a=es({spaceId:s}),n=(0,ut.k)({organizationId:t}),i=a||n;return i&&t?(0,D.jsx)(sa,{spacePicker:(0,D.jsx)(It,{shouldShowOrganizationOption:!0,organizationId:t,currentTabRoute:x.FW,selectedSpaceStore:a}),parentStore:i}):null}var na=s(62944);function ia(e){let{spaceStore:t,userStore:s,spacePicker:a,isOrganizationOwner:n}=e;const i=(0,S.yK)((()=>({headingStyle:{marginBottom:14,paddingBottom:0,fontSize:20,fontWeight:te.Z.fontWeight.medium,display:"flex",justifyContent:"space-between",alignItems:"center"},title:{display:"flex",alignItems:"center",gap:0}})),[]);return(0,D.jsxs)(it,{children:[(0,D.jsx)(lt,{title:(0,D.jsxs)("div",{style:i.title,children:[(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.spaceContentSearch.title",defaultMessage:"Content search for "}),a]})}),(0,D.jsx)(na.a,{spaceStore:t,userStore:s,isOrganizationOwner:n},t.id)]})}function oa(e){let{organizationId:t,spaceId:s,tabRoute:a,queryParams:n}=e;const i=(0,v.VK)((()=>yt.default.state.currentUserStore),[]),o=es({spaceId:s});return Xt({organizationId:t,spaceId:s,tabRoute:a,queryParams:n}),o&&i&&t?(0,D.jsx)(ia,{spaceStore:o,userStore:i,spacePicker:(0,D.jsx)(It,{organizationId:t,currentTabRoute:a,selectedSpaceStore:o}),isOrganizationOwner:!0}):null}s(21703);var ra=s(973420),la=s(590965),da=s(937850);function ca(e){const t=(0,h.O7)(),{organizationOwnerRecordCache:s}=(0,a.useContext)(R.V),{spaceIds:n}=(0,a.useContext)(re.g),i=e??n;return(0,v.VK)((()=>i.map((e=>new ae.H2(t,{id:e,table:ee.bx},{inMemoryRecordCache:s})))),[i,s,t])}function ua(e){let{environment:t,shouldSkip:s}=e;const a=ca(),[n]=(0,M.r5)((async()=>{const e=new Set,n=new Set;if(!s&&a.length)return await(0,da.Lc)(a,50,(async s=>{const a=await j.getVisibleUsers(t,{spaceId:s.id});if("failed"!==a.type&&"users"in a.data){a.data.users.filter(la.nB).forEach((t=>e.add(t.userId)));a.data.users.filter(la.FN).forEach((e=>n.add(e.userId)))}})),{memberCount:e.size,guestCount:n.size}}),[t,a,s]);return{state:n}}function ga(e){var t,s;let{organizationStore:a,verifiedUsersCount:n,loading:i}=e;const o=(0,h.O7)(),r=ca(),l=(0,S.yK)((()=>({number:{borderRadius:O.E.small,height:22,width:40}})),[]),{state:d}=ua({environment:o}),c=null===(t=d.value)||void 0===t?void 0:t.guestCount,u=null===(s=d.value)||void 0===s?void 0:s.memberCount,g=(0,v.VK)((()=>a.getEmailDomains().length),[a]);return(0,D.jsxs)("div",{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.title",defaultMessage:"About your organization"})}),(0,D.jsxs)(Z,{direction:"horizontal",children:[(0,D.jsxs)(_,{tooltipText:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.members.tooltip",defaultMessage:"View all organization members"}),onClick:()=>{y.c4({environment:o,url:(0,f.a5)({organizationId:a.id,tabRoute:x.qR,properties:{subtab:"members"}})})},children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.members.title",defaultMessage:"Members"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,b.$K)(u)?(0,D.jsx)(F.e,{num:u,abbreviateNumber:!1}):(0,D.jsx)(k.Z,{style:l.number})})]}),(0,D.jsxs)(_,{tooltipText:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.guests.tooltip",defaultMessage:"View all organization guests"}),onClick:()=>{y.c4({environment:o,url:(0,f.a5)({organizationId:a.id,tabRoute:x.qR,properties:{subtab:"guests"}})})},children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.guests.title",defaultMessage:"Guests"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,b.$K)(c)?(0,D.jsx)(F.e,{num:c,abbreviateNumber:!1}):(0,D.jsx)(k.Z,{style:l.number})})]}),(0,D.jsxs)(_,{tooltipText:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.workspaces.tooltip",defaultMessage:"View all workspaces within your organization"}),onClick:()=>{y.c4({environment:o,url:(0,f.a5)({organizationId:a.id,tabRoute:x.J7})})},children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.workspaces.title",defaultMessage:"Workspaces"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,D.jsx)(F.e,{num:r.length,abbreviateNumber:!1})})]}),(0,D.jsxs)(_,{tooltipText:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.domains.tooltip",defaultMessage:"View the statuses of all the domains within your organization"}),onClick:()=>{y.c4({environment:o,url:(0,f.a5)({organizationId:a.id,tabRoute:x.A4})})},children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.domains.title",defaultMessage:"Verified email domains"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,D.jsx)(F.e,{num:g,abbreviateNumber:!1})})]}),(0,D.jsxs)(_,{tooltipText:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.users.tooltip",defaultMessage:"View all of the managed accounts within your organization"}),onClick:()=>{y.c4({environment:o,url:(0,f.a5)({organizationId:a.id,tabRoute:x.C$,properties:{subtab:"managed-accounts"}})})},children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.about.users.title",defaultMessage:"Managed accounts"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:i?(0,D.jsx)(k.Z,{style:l.number}):(0,D.jsx)(F.e,{num:n??0,abbreviateNumber:!1})})]})]})]})}function ma(e){let{organizationStore:t,activeMembersCount:s,openRequestsCount:a,loading:n}=e;const i=(0,S.yK)((()=>({number:{borderRadius:O.E.small,height:22,width:40}})),[]);return(0,D.jsxs)("div",{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.recentActivity.title",defaultMessage:"Recent activity"})}),(0,D.jsxs)(Z,{direction:"horizontal",children:[(0,D.jsxs)(_,{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.recentActivity.activeMembers.title",defaultMessage:"Active members in last 90 days"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:n?(0,D.jsx)(k.Z,{style:i.number}):(0,b.$K)(s)?(0,D.jsx)(F.e,{num:s,abbreviateNumber:!1}):(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.activity.guests.undefined",defaultMessage:"Unknown"})})]}),(0,D.jsxs)(_,{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.recentActivity.openRequests.title",defaultMessage:"Open requests"})}),(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:n?(0,D.jsx)(k.Z,{style:i.number}):(0,b.$K)(a)?(0,D.jsx)(F.e,{num:a,abbreviateNumber:!1}):(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.home.activity.guests.undefined",defaultMessage:"Unknown"})})]})]})]})}var pa=s(184747),ha=s(772141),fa=s(23124),xa=s(489728);const ba=5,ya=23,va=38,Sa=5,Ma=3;function ja(e){let{organizationId:t,renderHeading:s,spacePageSize:n,hideHeaderSection:i}=e;const o=Ia(),r=De(),l=n??Ma,d=(0,h.O7)(),{spaceIds:c}=(0,a.useContext)(re.g),[u,g]=(0,a.useState)(l),m=c.slice(0,u),b=c.length-m.length;return(0,D.jsxs)("div",{children:[i?null:(0,D.jsxs)(ra.X2,{alignItems:"center",justifyContent:"space-between",children:[s?s():(0,D.jsx)(z.q,{styleName:"Heading-17px/Semibold",as:"h2",children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.workspaces",defaultMessage:"Workspaces"})}),(0,D.jsx)(xa.Z,{onClick:()=>y.c4({environment:d,url:(0,f.a5)({organizationId:t,tabRoute:x.J7})}),style:r.linkButton,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.workspaces.viewAll",defaultMessage:"View all →"})})]}),(0,D.jsxs)("div",{style:o.workpacesBox,children:[m.map(((e,t)=>(0,D.jsx)(Ca,{spaceId:e,rowIndex:t},`workspaceRow-${e}`))),b>0&&(0,D.jsx)("div",{style:{...o.workspaceRow,paddingTop:6,paddingBottom:6},children:(0,D.jsx)(xa.Z,{onClick:()=>g(u+l),style:r.linkButton,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.moreWorkspaces",defaultMessage:"{count, plural, one {+{count} more workspace} other {+{count} more workspaces}}",values:{count:b}})})})]})]})}function Ca(e){let{spaceId:t,rowIndex:s}=e;const n=es({spaceId:t}),i=(0,h.O7)(),o=Ia(),{updateCacheWithRecordMap:r}=(0,a.useContext)(R.V),[l,d]=(0,a.useState)(),[c,u]=(0,a.useState)(!0);(0,pa.Z)((async()=>{const e=await j.getTeamsForOrganizationSpace(i,{spaceId:t});if("success"===e.type){const{teamIds:t}=e.data;r({data:e.data}),d(t.length)}u(!1)}));const[g,m]=(0,a.useState)([]),[f,x]=(0,a.useState)(!0);(0,pa.Z)((async()=>{const e=await j.getVisibleUsers(i,{spaceId:t});if("success"===e.type){let t;t="visibleUsers"in e.data?e.data.visibleUsers:e.data.users,m(t)}x(!1)}));const y=(0,v.VK)((()=>g.filter(la.FN).filter((e=>!e.isTeamGuest&&e.isPageGuest)).length),[g]),{name:S,icon:M,ownerIds:C,memberCount:w}=(0,v.VK)((()=>{const e=g.filter((e=>(0,ha.zz)(e.role))).map((e=>{let{userId:t}=e;return t})),t=g.filter((e=>(0,ha.Jy)(e.role))).length;return{name:null==n?void 0:n.getName(),icon:null==n?void 0:n.getIcon(),ownerIds:e,memberCount:t}}),[g,n]),I=0!==s?o.workspaceRow:{...o.workspaceRow,borderTop:"none"};return(0,D.jsx)("div",{style:I,children:(0,D.jsxs)(fa.rj,{children:[(0,D.jsx)(fa.r8,{row:1,col:1,colEnd:5,children:(0,D.jsxs)(ra.X2,{gap:12,alignItems:"center",grow:1,children:[(0,D.jsx)(jt.Z,{disabled:!0,icon:M,isEmptyPage:!1,title:S,size:va,isLarge:!0}),(0,D.jsxs)(ra.sg,{gap:4,children:[(0,D.jsx)(z.q,{styleName:"Heading-17px/Regular",children:S}),(0,D.jsx)(z.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:w>0?(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.workspace.memberCount",defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",values:{memberCount:w}}):(0,D.jsx)(k.Z,{style:o.byline})})]})]})}),(0,D.jsx)(fa.r8,{row:1,col:5,colEnd:7,children:(0,D.jsxs)(ra.sg,{gap:8,children:[(0,D.jsx)(W.Z,{isSmall:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.workspaceOwners",defaultMessage:"Workspace owners"})}),(0,D.jsx)(ra.X2,{children:f?(0,D.jsx)(k.Z,{style:o.owners}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(F.e,{num:C.length,abbreviateNumber:!1}),(0,D.jsx)(wa,{ownerIds:C})]})})]})}),(0,D.jsx)(fa.r8,{row:1,col:7,children:(0,D.jsxs)(ra.sg,{gap:8,children:[(0,D.jsx)(W.Z,{isSmall:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.members",defaultMessage:"Members"})}),f?(0,D.jsx)(k.Z,{style:o.number}):(0,D.jsx)(F.e,{num:w,abbreviateNumber:!1})]})}),(0,D.jsx)(fa.r8,{row:1,col:8,children:(0,D.jsxs)(ra.sg,{gap:8,children:[(0,D.jsx)(W.Z,{isSmall:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.guests",defaultMessage:"Guests"})}),f?(0,D.jsx)(k.Z,{style:o.number}):(0,b.$K)(y)?(0,D.jsx)(F.e,{num:y,abbreviateNumber:!1}):(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.guests.undefined",defaultMessage:"Unknown"})]})}),(0,D.jsx)(fa.r8,{row:1,col:9,children:(0,D.jsxs)(ra.sg,{gap:8,children:[(0,D.jsx)(W.Z,{isSmall:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.teamspaces",defaultMessage:"Teamspaces"})}),c?(0,D.jsx)(k.Z,{style:o.number}):(0,b.$K)(l)?(0,D.jsx)(F.e,{num:l,abbreviateNumber:!1}):(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.teams.undefined",defaultMessage:"Unknown"})]})})]})})}function wa(e){let{ownerIds:t}=e;const s=Ia(),a=(0,h.O7)(),n=(t??[]).slice(0,Sa),i=(0,v.VK)((()=>n.map((e=>new ae.U6(a,{table:Ze.KJ,id:e},{userId:e})))),[n,a]);return(0,D.jsx)("div",{style:s.ownerAvatars,children:i.map((e=>(0,D.jsx)(Le.Z,{userStore:e,style:s.avatar,size:ya,avatarShouldShowShadow:!0,hasTooltip:!0},e.id)))})}function Ia(){return(0,S.yK)((e=>({workpacesBox:{marginTop:6,borderRadius:O.E.default,border:`1px solid ${e.stroke.deemphasized}`},workspaceRow:{padding:"12px 16px",borderTop:`1px solid ${e.stroke.deemphasized}`},avatar:{width:ya,height:ya,borderRadius:ya,marginRight:-ba,position:"relative"},ownerAvatars:{display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginLeft:4+ba,marginTop:-2,transform:"translateZ(0)"},number:{borderRadius:O.E.small,height:24,width:40},byline:{borderRadius:O.E.small,height:14,width:80},owners:{borderRadius:O.E.small,height:24,width:100}})),[])}function ka(e){let{organizationId:t}=e;const s=(0,h.O7)(),a=(0,ut.k)({organizationId:t}),[{value:n,status:i}]=(0,M.r5)((async()=>{if(!t)throw new Error("Organization ID is not defined.");const e=await j.getHomeContentForOrganization(s,{organizationId:t});if("success"===e.type)return e.data;if("failed"===e.type)throw e.error;(0,b.t1)(e)}),[s,t]),o="pending"===i;return a?(0,D.jsxs)(it,{children:[(0,D.jsx)(lt,{title:(0,D.jsx)(p.FormattedMessage,{id:"organizationHome.title",defaultMessage:"Home"})}),(0,D.jsxs)(ra.sg,{gap:16,children:[(0,D.jsx)(ma,{organizationStore:a,activeMembersCount:null==n?void 0:n.activeMembersCount,openRequestsCount:null==n?void 0:n.openRequestsCount,loading:o}),(0,D.jsx)(ga,{organizationStore:a,verifiedUsersCount:null==n?void 0:n.verifiedUsersCount,loading:o}),(0,D.jsx)(ja,{organizationId:a.id,renderHeading:()=>(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"organizationHome.workspaces.title",defaultMessage:"Workspaces in organization"})})})]})]}):null}var za=s(568785);const Ta=10,Fa=(0,p.defineMessages)({organizationOwnerLabel:{id:"organizationMember.owner.label",defaultMessage:"Organization owner"}});var Ra=s(842875),Oa=s(186517),Na=s(421202),Pa=s(672495),Aa=s(987303);var Ba=s(172263);function Da(){return(0,S.yK)((e=>({containerDivider:{marginBlock:8},verticalContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:12,padding:"6px 12px",minWidth:300,...te.Z.textOverflowStyle},container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",gap:12,overflow:"hidden",padding:"6px 12px"},textContainer:{display:"flex",flexDirection:"column",justifyContent:"center",width:200,...te.Z.textOverflowStyle},name:{fontSize:te.Z.fontSize.UIRegular.desktop,fontWeight:te.Z.fontWeight.regular,color:e.regularTextColor},iconContainer:{alignSelf:"center"},byline:{lineHeight:1.3,fontSize:12,opacity:.5},defaultGroupIconPill:{height:26,width:26,color:e.mediumTextColor,fill:"currentColor"},summaryContainer:{flex:1,overflow:"hidden"},loadingByline:{height:12,width:114,borderRadius:O.E.small},popupRowContainer:{display:"flex",alignItems:"center",gap:8,paddingTop:8,paddingBottom:8,...te.Z.textOverflowStyle},buttonNegativeMargin:{marginLeft:"-8px",paddingLeft:8,paddingRight:8}})),[])}var Za=s(516639),_a=s(274016);var La=s(429369);var Ua=s(356666),Va=s(531701),qa=s(460709),Ea=s(61766),Wa=s(693405),Ha=s(231945),Ka=s(573063),Ga=s(478140),$a=s(632163),Qa=s(953437);const Ya=(0,p.defineMessages)({menuAriaLabel:{defaultMessage:"Open action menu for this user.",id:"organizationMemberActionMenu.ariaLabel"}});function Ja(e){const{organizationMember:t,organizationMemberActionItems:s}=e,a=(0,v.qz)(void 0,Ea.Z),n=(0,p.useIntl)(),i=(0,S.yK)((()=>({destructiveIcon:{fill:Va.ZP.red,color:Va.ZP.red},highlightedIcon:{fill:Va.ZP.blue,color:Va.ZP.blue}})),[]),o=[{key:"memberActions",render:e=>(0,D.jsx)(Pa.Z,{...e}),items:s.map(((e,s)=>({key:s,render:t=>(0,D.jsx)(Wa.Z,{...t,shouldWrapCaption:!0,svg:t=>e.icon("destructive"===e.variant?{...t,...i.destructiveIcon}:"highlighted"===e.variant?{...t,...i.highlightedIcon}:t),title:e.title,caption:e.caption,style:{paddingTop:8,paddingBottom:8,..."destructive"===e.variant?i.destructiveIcon:"highlighted"===e.variant?i.highlightedIcon:{}}}),action:()=>e.onClick(t)})))}];return(0,D.jsx)(Ha.ZP,{popupType:Qa.kQ.Popup,buttonPopupStore:a,renderOrigin:e=>(0,D.jsx)(Ka.Z,{ariaLabel:n.formatMessage(Ya.menuAriaLabel),icon:Ua.o,...e}),render:()=>(0,D.jsx)(Ga.Z,{menuType:qa.og.Popup,children:(0,D.jsx)($a.Z,{style:{width:260},type:$a.i.Vertical,initialFocus:void 0,sections:o,onAccept:()=>{a.setState({open:!1})}})})})}var Xa=s(699884);function en(e){const t=(0,h.O7)(),s=(0,p.useIntl)();return(0,v.VK)((()=>new ae.U6(t,{table:Ze.KJ,id:e}).getDisplayName(s)),[t,s,e])}var tn=s(517781),sn=s(260458),an=s(685740),nn=s(158297);function on(e){let{spaceStores:t,onSubmit:s,title:n,renderItem:i,renderItemRole:o,onDismiss:r,onSelectSpace:l,isDestructive:d}=e;const[c,u]=(0,a.useState)([]),[g,m]=(0,a.useState)(!1),h=(0,v.VK)((()=>t.map((e=>({key:e.id,value:e.id,title:i(e,c.includes(e.id)),role:o?o(e,c.includes(e.id)):void 0})))),[t,i,c,o]),f=(0,S.yK)((e=>({container:{padding:24,width:480,maxHeight:"80vh",overflowY:"auto",borderRadius:O.E.large},icon:{height:32,width:32,fill:e.mediumIconColor,margin:"0px auto 8px"},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",gap:4,marginBlock:4},workspacesList:{marginTop:12,marginBottom:12},footer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:8,marginTop:24},footerButton:{width:"100%",textAlign:"center",alignItems:"center",justifyContent:"center"}})),[]);return(0,D.jsxs)("div",{style:f.container,children:[(0,tn._)(f.icon),(0,D.jsx)("div",{style:f.header,children:(0,D.jsx)(z.q,{styleName:"Heading-17px/Medium",children:n})}),(0,D.jsx)("div",{style:f.workspacesList,children:(0,D.jsx)(rn,{items:h,selectedItems:c,onSelect:e=>{const t=c.includes(e),s=t?[...c.filter((t=>t!==e))]:[...c,e];u(s),null==l||l(e,!t)},shouldRenderRoles:Boolean(o)})}),(0,D.jsxs)("div",{style:f.footer,children:[(0,D.jsx)(nn.Z,{isLarge:!0,isRed:d,style:f.footerButton,disabled:0===c.length||g,onClick:async()=>{m(!0),await s(c),m(!1),r()},children:g?(0,D.jsx)(za.Z,{}):(0,D.jsx)(p.FormattedMessage,{id:"workspaceMultiSelect.save",defaultMessage:"Save changes"})}),(0,D.jsx)(an.Z,{style:f.footerButton,onClick:r,isGray:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"workspaceMultiSelect.cancel",defaultMessage:"Cancel"})})]})]})}function rn(e){const{items:t,selectedItems:s,onSelect:n,shouldRenderRoles:i}=e,o=dn({shouldRenderRoles:i});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{style:o.gridHeaderContainer,children:[(0,D.jsx)("div",{style:o.leftCenterAligned}),(0,D.jsx)(z.q,{styleName:"Caption-12px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"workspaceMultiSelect.menu.orgWorkspaces",defaultMessage:"Organization workspaces"})}),i?(0,D.jsx)(z.q,{styleName:"Caption-12px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"workspaceMultiSelect.menu.role",defaultMessage:"Role"})}):null]}),(0,D.jsx)("div",{style:o.listContainer,children:t.length>0?t.map(((e,o)=>{const r=o===t.length-1;return(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(ln,{item:e,selectedItems:s,onSelect:n,shouldRenderRoles:i}),r?null:(0,D.jsx)(he.Z,{size:1})]},e.key)})):(0,D.jsx)("div",{style:o.emptyContainer,children:(0,D.jsx)(z.q,{styleName:"Body-13px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"workspaceMultiSelect.menu.noWorkspaces",defaultMessage:"No workspaces"})})})})]})}function ln(e){const{item:t,selectedItems:s,onSelect:a,shouldRenderRoles:n}=e,i=dn({shouldRenderRoles:n});return(0,D.jsxs)("div",{style:i.gridItemContainer,onClick:()=>a(t.value),children:[(0,D.jsx)("div",{style:i.leftCenterAligned,children:(0,D.jsx)(sn.Z,{checked:s.includes(t.value),size:14,checkSize:10,onClick:()=>a(t.value)})}),(0,D.jsx)("div",{style:i.leftCenterAligned,children:(0,D.jsx)(z.q,{styleName:"Body-13px/Regular",colorName:"primary",children:t.title})}),n?(0,D.jsx)("div",{style:i.leftCenterAligned,children:t.role}):null]})}function dn(e){return(0,S.yK)((t=>({gridHeaderContainer:{display:"grid",gridTemplateColumns:e.shouldRenderRoles?"24px 3fr 2fr":"24px 3fr",padding:"10px 12px"},gridItemContainer:{display:"grid",gridTemplateColumns:e.shouldRenderRoles?"24px 3fr 2fr":"24px 3fr",padding:"10px 12px",cursor:"pointer"},listContainer:{width:"100%",border:`1px solid ${t.darkDividerColor}`,borderRadius:O.E.small,maxHeight:320,overflowY:"auto"},leftCenterAligned:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},emptyContainer:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:120}})),[e.shouldRenderRoles])}function cn(e){let{organizationStore:t,organizationMember:s,isOpen:n,onDismiss:i,onSubmit:o}=e;const r=(0,h.O7)(),l=(0,p.useIntl)(),d=(0,a.useCallback)((async e=>{if(0===e.length)return;const a=await j.removeUserFromOrganizationSpaces(r,{organizationId:t.id,userId:s.userId,spaceIds:e});"success"===a.type?q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"removeMemberFromWorkspacesModal.toast.successMessage",defaultMessage:"Successfully removed user from {numSpaces, plural, one {{numSpaces} workspace} other {{numSpaces} workspaces}}",values:{numSpaces:e.length}})}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),a))}),[t,r,s]),c=(0,v.VK)((()=>s.spacesInfo.map((e=>e.spaceId))),[s]),u=(0,v.VK)((()=>{const e={};for(const t of s.spacesInfo)e[t.spaceId]=t.role;return e}),[s]),g=ca(c),m=en(s.userId);return(0,D.jsx)(Xa.c,{isOpen:n,onDismiss:i,render:()=>(0,D.jsx)(on,{isDestructive:!0,spaceStores:g,title:(0,D.jsx)(p.FormattedMessage,{id:"removeMemberFromWorkspacesModal.chooseWorkspacesPage.title",defaultMessage:"Remove {userName} from workspaces",values:{userName:m}}),onSubmit:async e=>{await d(e),await o()},onDismiss:i,renderItem:e=>e.getName(),renderItemRole:e=>{const t=u[e.id];return(0,D.jsx)(z.q,{styleName:"Body-13px/Regular",colorName:"secondary",children:l.formatMessage((0,Oa.ZH)(t))})}})})}function un(e){let{spaceId:t,byline:s,isMinimal:a}=e;const n=es({spaceId:t}),i=(0,v.VK)((()=>{if(n)return{name:n.getName(),icon:n.getIcon()}}),[n]);if(!i)return null;return(0,D.jsx)(Ie.iP,{useThinTitle:!0,title:i.name,byline:s,iconSize:28,icon:a?void 0:(0,D.jsx)(jt.Z,{disabled:!0,icon:i.icon,isEmptyPage:!1,size:28,title:i.name,isLarge:!0,emojiSize:24,isRaw:!1}),iconMargin:12,summaryStyles:a?{width:"100%"}:{width:"calc(100% - 40px)"},containerStyles:a?void 0:{paddingLeft:12,paddingRight:12}})}var gn=s(947969),mn=s(207567);function pn(e){let{organizationStore:t,organizationMember:s,isOpen:n,onDismiss:i,onSubmit:o}=e;const{tempSpaceRoles:r,resetTempSpaceRole:l,onUpdateMemberRoles:d,setSpaceRole:c,spaceStores:u}=function(e){let{organizationMember:t,organizationStore:s}=e;const n=(0,h.O7)(),i=(0,v.VK)((()=>t.spacesInfo.map((e=>e.spaceId))),[t]),o=ca(i),r=()=>{const e={};for(const a of i){var s;const n=(null===(s=t.spacesInfo.find((e=>e.spaceId===a)))||void 0===s?void 0:s.role)??"none";e[a]=n}return e},l=(0,a.useRef)(r()),[d,c]=(0,a.useState)(r()),u=(e,t)=>{c((s=>({...s,[e]:t})))},{updateCacheWithRecordMap:g}=(0,a.useContext)(R.V),m=(0,a.useCallback)((async e=>{await(0,da.Lc)(e,10,(async e=>{if(l.current[e]===d[e])return;const a=await j.updateUserRoleInOrganizationSpace(n,{organizationId:s.id,userId:t.userId,newRole:d[e],spaceId:e});"success"===a.type?g({data:a.data}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),a))}))}),[l,d,n,t,s,g]);return{tempSpaceRoles:d,setSpaceRole:u,resetTempSpaceRole:e=>{u(e,l.current[e])},onUpdateMemberRoles:m,spaceStores:o}}({organizationMember:s,organizationStore:t}),g=en(s.userId);return(0,D.jsx)(Xa.c,{isOpen:n,onDismiss:i,render:()=>(0,D.jsx)(on,{spaceStores:u,title:(0,D.jsx)(p.FormattedMessage,{id:"updateMemberRolesModal.chooseWorkspacesPage.title",defaultMessage:"Update {name}'s role in workspaces",values:{name:g}}),onSubmit:async e=>{await d(e),await o()},onSelectSpace:(e,t)=>{t||l(e)},onDismiss:i,renderItem:e=>e.getName(),renderItemRole:(e,t)=>(0,D.jsx)(hn,{spaceStore:e,isSelected:t,setSpaceRoles:c,role:r[e.id]})})})}function hn(e){let{spaceStore:t,isSelected:s,setSpaceRoles:a,role:n}=e;const i=(0,S.yK)((()=>({button:{display:"flex",whiteSpace:"nowrap",height:26,color:Va.ZP.uiGray},container:{display:"flex",gap:10},spaceNameText:{paddingTop:5}})),[]),o=(0,gn.pW)(n);return(0,D.jsx)("div",{style:i.container,children:(0,D.jsx)(mn.ZP,{upgradeButtonName:"organization_settings",disabled:!s,role:o,table:cs.V7,type:"user_permission",isInvite:!0,buttonStyle:i.button,onChange:e=>{const s=(0,gn.Ci)(e);a(t.id,s)}})})}const fn=400,xn=300;var bn=function(e){return e.OrganizationMember="organization-member",e.Loading="loading",e}(bn||{});const yn=[{id:"1",isClickable:!1,type:bn.Loading},{id:"2",isClickable:!1,type:bn.Loading},{id:"3",isClickable:!1,type:bn.Loading}],vn={id:"actor",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.userColumn.header",defaultMessage:"User"}),renderCell:e=>e.type===bn.Loading?(0,D.jsx)(qe,{}):(0,D.jsx)(Ve,{userId:e.organizationMember.userId}),widthData:{widthPercent:28,minWidth:100},sortable:!0,shouldShowSortTooltip:!0},Sn={id:"role",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.roleColumn.header",defaultMessage:"Highest role"}),renderCell:e=>e.type===bn.Loading?(0,D.jsx)(Ie.HD,{}):(0,D.jsx)(zn,{organizationMember:e.organizationMember}),widthData:{widthPercent:14,minWidth:70},sortable:!0,shouldShowSortTooltip:!0},Mn={id:"spaces",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.spacesColumn.header",defaultMessage:"Workspaces"}),renderCell:e=>e.type===bn.Loading?(0,D.jsx)(we.z6,{}):(0,D.jsx)(Tn,{organizationMember:e.organizationMember}),widthData:{widthPercent:20,minWidth:70},sortable:!1},jn={id:"groups",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.groupsColumn.header",defaultMessage:"Groups"}),renderCell:e=>e.type===bn.Loading?(0,D.jsx)(we.z6,{}):(0,D.jsx)(Rn,{organizationMember:e.organizationMember}),widthData:{widthPercent:16,minWidth:50},sortable:!1},Cn={id:"teamspaces",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.teamsColumn.header",defaultMessage:"Teamspaces"}),renderCell:e=>e.type===bn.Loading?(0,D.jsx)(we.z6,{}):(0,D.jsx)(Pn,{organizationMember:e.organizationMember}),widthData:{widthPercent:18,minWidth:50},sortable:!1},wn=[vn,{id:"actions",headerTitle:(0,D.jsx)(D.Fragment,{}),renderCell:e=>e.type===bn.Loading?null:(0,D.jsx)(Ja,{organizationMember:e.organizationMember,organizationMemberActionItems:e.organizationMemberActionItems}),widthData:{widthPercent:4,minWidth:24,maxWidth:24},sortable:!1},Sn,Mn,jn,Cn];function In(e){let{members:t,loading:s,loadNextPage:n,sortState:i,setSortState:o,organizationStore:r,loadPreviousPage:l,hasPreviousPage:d,hasNextPage:u,refreshPage:g}=e;const m=De(),h=(0,S.yK)((e=>(0,je.b)({columnRenderInfo:wn,theme:e,containerMarginTop:0})),[]),f=(0,S.yK)((e=>({buttons:{display:"flex",justifyContent:"flex-end",marginTop:20,gap:12}})),[]),x=wn.map((e=>({...e,headerStyle:m.tableHeader}))),{getOrganizationMemberActionItems:b,modalState:y,setModalState:v}=function(){const[e,t]=a.useState({isOpen:!1}),s=(0,a.useCallback)((e=>{t({isOpen:!0,page:"removeUserFromSpaces",organizationMember:e})}),[]),n=(0,a.useCallback)((e=>{t({isOpen:!0,page:"updateUserSpaceRoles",organizationMember:e})}),[]),i={onClick:s,icon:Re.V,title:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Remove member",id:"organizationMembersTable.actions.removeUser.title"}),caption:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Remove this user's access to any of your organization's workspaces",id:"organizationMembersTable.actions.removeUser.caption"}),variant:"destructive"},o={onClick:n,icon:c.I,title:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Change roles",id:"organizationMembersTable.actions.updateUserRoles.title"}),caption:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Customize this user's roles in your organization's workspaces",id:"organizationMembersTable.actions.updateUserRoles.caption"})};return{getOrganizationMemberActionItems:function(){return[o,i]},modalState:e,setModalState:t}}(),M=t.map((e=>({organizationMember:e,id:e.userId,isClickable:!1,type:bn.OrganizationMember,organizationMemberActionItems:b()}))),j=s?yn:M,C=()=>{v({isOpen:!1})};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(je.D,{columnRenderInfo:x,rows:j,renderNoRowsComponent:()=>(0,D.jsx)(kn,{loading:!1}),styles:h,showRowBorders:!0,sortState:i,onSortStateChanged:o}),(0,D.jsxs)("div",{style:f.buttons,children:[(0,D.jsx)(xa.Z,{onClick:l,disabled:!d,isGray:!d,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.previousButton.title",defaultMessage:"Previous"})}),(0,D.jsx)(xa.Z,{onClick:n,disabled:!u,isGray:!u,isBlue:u,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.nextButton.title",defaultMessage:"Next"})})]}),y.isOpen&&"removeUserFromSpaces"===y.page&&(0,D.jsx)(cn,{onDismiss:C,organizationStore:r,isOpen:y.isOpen,organizationMember:y.organizationMember,onSubmit:g}),y.isOpen&&"updateUserSpaceRoles"===y.page&&(0,D.jsx)(pn,{onDismiss:C,organizationStore:r,isOpen:y.isOpen,organizationMember:y.organizationMember,onSubmit:g})]})}function kn(e){const t=(0,S.yK)((()=>({text:{marginTop:15,marginBottom:40,textAlign:"center"}})),[]);return(0,D.jsx)(W.Z,{isSmall:!0,style:t.text,children:!e.loading&&(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.empty",defaultMessage:"No members found."})})}function zn(e){let{organizationMember:t}=e;const s=(0,p.useIntl)(),a=function(e){if("editor"===e.organizationRole)return Fa.organizationOwnerLabel;const t=e.spacesInfo.length>0?e.spacesInfo[0].role:"none";return(0,Oa.ZH)(t)}(t);return(0,D.jsx)(W.Z,{children:s.formatMessage(a)})}function Tn(e){let{organizationMember:t}=e;return 0===t.spacesInfo.length?(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.spacesColumn.noWorkspaces",defaultMessage:"No workspaces"})}):1===t.spacesInfo.length?(0,D.jsx)(un,{spaceId:t.spacesInfo[0].spaceId,isMinimal:!0}):(0,D.jsx)(Fn,{organizationMember:t})}function Fn(e){let{organizationMember:t}=e;const s=(0,p.useIntl)(),a=Da(),n=t.spacesInfo.map((e=>({key:e.spaceId,action:()=>{},render:t=>(0,D.jsx)(un,{...t,byline:s.formatMessage((0,Oa.ZH)(e.role)),spaceId:e.spaceId})})));return(0,D.jsx)(we.Nz,{title:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.spacesColumn.dropdownTitle",defaultMessage:"{count, plural, one {{count} workspace} other {{count} workspaces}}",values:{count:t.spacesInfo.length}}),items:n,itemMaxWidth:fn,styles:a.buttonNegativeMargin})}function Rn(e){let t,s,{organizationMember:a}=e,n=0;for(const l of a.spacesInfo)n+=l.userGroupIds.length,l.userGroupIds.length&&(t=l.userGroupIds[0],s=l.spaceId);const i=ca(a.spacesInfo.map((e=>e.spaceId))),o=(0,v.VK)((()=>{const e={};for(const t of i){const s=t.getPermissionGroups();e[t.id]=s}return e}),[i]);if(0===n)return(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.groupsColumn.noGroups",defaultMessage:"No groups"})});if(1===n&&t&&s){var r;const e=null===(r=o[s])||void 0===r?void 0:r.find((e=>e.id===t));return(0,D.jsx)(Nn,{group:e,isMinimal:!0})}return(0,D.jsx)(On,{organizationMember:a,spaceStores:i,spacePermissionGroups:o,groupsCount:n})}function On(e){let{organizationMember:t,spacePermissionGroups:s,spaceStores:a,groupsCount:n}=e;const i=[],o=Da(),r=t.spacesInfo.filter((e=>e.userGroupIds.length>0));for(let l=0;l<r.length;l++){const e=r[l],t=a.find((t=>t.id===e.spaceId)),n=s[e.spaceId].filter((t=>e.userGroupIds.includes(t.id))).map((e=>({key:e.id,action:()=>{},render:s=>(0,D.jsx)(Nn,{...s,group:e,spaceStore:t})})));i.push({key:e.spaceId,render:e=>(0,D.jsx)(Pa.Z,{...e,title:(0,D.jsx)(W.Z,{showTooltipWhenTruncated:!0,isSmall:!0,children:(null==t?void 0:t.getName())??(null==t?void 0:t.id)}),topBorder:0!==l,desktopStyle:{paddingLeft:12,paddingRight:12},desktopTitleStyle:{padding:0}}),items:n})}return(0,D.jsx)(Aa.k,{title:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.groupsColumn.dropdownTitle",defaultMessage:"{groupsCount, plural, one {{groupsCount} group} other {{groupsCount} groups}}",values:{groupsCount:n}}),sections:i,itemMaxWidth:fn,itemMinWidth:xn,styles:o.buttonNegativeMargin})}function Nn(e){var t;const{spaceStore:s,group:a,isMinimal:n}=e,i=Da(),o=(0,p.useIntl)();if(!a)return null;const r=(0,Za.kF)({intl:o,group:a});return(0,D.jsx)(Ie.iP,{useThinTitle:!0,title:r,byline:n?void 0:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"{numMembers} {numMembers, plural, one {member} other {members}}",id:"groupsDropdownForMember.numMembers",values:{numMembers:(null===(t=a.user_ids)||void 0===t?void 0:t.length)||0}}),icon:n?void 0:(0,D.jsx)(jt.Z,{disabled:!0,icon:a.icon&&s?{pointer:s.pointer,icon:a.icon}:void 0,size:26,isEmptyPage:!1,title:r,defaultIcon:(0,m.O)(i.defaultGroupIconPill)}),iconSize:26,iconMargin:12,summaryStyles:n?{width:"100%"}:{width:"calc(100% - 38px)"},containerStyles:{width:"auto",overflow:"hidden"}})}function Pn(e){let t,{organizationMember:s}=e,a=0;for(const n of s.spacesInfo)a+=n.userTeamIds.length,n.userTeamIds.length&&(t=n.userTeamIds[0]);return 0===a?(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.teamsColumn.noTeams",defaultMessage:"No teams"})}):1===a&&t?(0,D.jsx)(Bn,{teamId:t,isMinimal:!0}):(0,D.jsx)(An,{organizationMember:s,teamsCount:a})}function An(e){let{organizationMember:t,teamsCount:s}=e;const a=ca(t.spacesInfo.map((e=>e.spaceId))),n=Da(),i=[],o=t.spacesInfo.filter((e=>"none"!==e.role&&e.userTeamIds.length>0));for(let r=0;r<o.length;r++){const e=o[r],t=a.find((t=>t.id===e.spaceId));if("none"===e.role)continue;const s=e.userTeamIds.map((e=>({key:e,action:()=>{},render:t=>(0,D.jsx)(Bn,{...t,teamId:e})})));i.push({key:e.spaceId,render:e=>(0,D.jsx)(Pa.Z,{...e,title:(0,D.jsx)(W.Z,{showTooltipWhenTruncated:!0,isSmall:!0,children:(null==t?void 0:t.getName())??(null==t?void 0:t.id)}),topBorder:0!==r,desktopStyle:{paddingLeft:12,paddingRight:12},desktopTitleStyle:{padding:0}}),items:s})}return(0,D.jsx)(Aa.k,{title:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersTable.teamsColumn.dropdownTitle",defaultMessage:"{teamsCount, plural, one {{teamsCount} teamspace} other {{teamsCount} teamspaces}}",values:{teamsCount:s}}),sections:i,itemMaxWidth:fn,itemMinWidth:xn,styles:n.buttonNegativeMargin})}function Bn(e){let{teamId:t,isMinimal:s}=e;const n=function(e){const t=(0,h.O7)(),{organizationOwnerRecordCache:s}=(0,a.useContext)(R.V);return(0,v.VK)((()=>new ae.zX(t,{id:e,table:La.e0},{inMemoryRecordCache:s})),[e,s,t])}(t),i=(0,v.VK)((()=>n.getName()),[n]);return(0,D.jsx)(Ie.iP,{useThinTitle:!0,title:i,icon:s?void 0:(0,D.jsx)(_a.p,{disabled:!0,store:n}),iconSize:16,iconMargin:8,summaryStyles:s?{width:"100%"}:{width:"calc(100% - 24px)"},containerStyles:{width:"auto",overflow:"hidden"}})}function Dn(e){let{organizationStore:t,organizationGuest:s,isOpen:n,onDismiss:i,onSubmit:o}=e;const r=(0,h.O7)(),l=(0,a.useCallback)((async e=>{if(0===e.length)return;const a=await j.removeUserFromOrganizationSpaces(r,{organizationId:t.id,userId:s.userId,spaceIds:e});"success"===a.type?q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"removeGuestFromWorkspacesModal.toast.successMessage",defaultMessage:"Successfully removed guest from {numSpaces, plural, one {{numSpaces} workspace} other {{numSpaces} workspaces}}",values:{numSpaces:e.length}})}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),a))}),[t,r,s]),d=ca((0,v.VK)((()=>Object.keys(s.guestPages)),[s])),c=en(s.userId);return(0,D.jsx)(Xa.c,{isOpen:n,onDismiss:i,render:()=>(0,D.jsx)(on,{isDestructive:!0,spaceStores:d,title:(0,D.jsx)(p.FormattedMessage,{id:"removeGuestFromWorkspacesModal.chooseWorkspacesPage.title",defaultMessage:"Remove {userName} from workspaces",values:{userName:c}}),onSubmit:async e=>{await l(e),await o()},onDismiss:i,renderItem:e=>e.getName()})})}function Zn(e){let{organizationStore:t,organizationGuest:s,isOpen:n,onDismiss:i,onSubmit:o}=e;const r=(0,h.O7)(),l=(0,a.useCallback)((async e=>{if(0===e.length)return;const a=await j.bulkAddUsersToOrganizationSpaces(r,{organizationId:t.id,existingUserIds:[s.userId],newUserEmails:[],spaceIds:e,role:"member"});"success"===a.type?q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"upgradeGuestToMemberModal.toast.successMessage",defaultMessage:"Successfully upgraded user to a member in {numSpaces, plural, one {{numSpaces} workspace} other {{numSpaces} workspaces}}",values:{numSpaces:e.length}})}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),a))}),[t,r,s]),d=ca((0,v.VK)((()=>Object.keys(s.guestPages)),[s])),c=en(s.userId);return(0,D.jsx)(Xa.c,{isOpen:n,onDismiss:i,render:()=>(0,D.jsx)(on,{spaceStores:d,title:(0,D.jsx)(p.FormattedMessage,{id:"upgradeGuestToMemberModal.chooseWorkspacesPage.title",defaultMessage:"Upgrade {userName} to a member",values:{userName:c}}),onSubmit:async e=>{await l(e),await o()},onDismiss:i,renderItem:e=>e.getName()})})}var _n=function(e){return e.OrganizationGuest="organization-guest",e.Loading="loading",e}(_n||{});const Ln=[{id:"1",isClickable:!1,type:_n.Loading},{id:"2",isClickable:!1,type:_n.Loading},{id:"3",isClickable:!1,type:_n.Loading}],Un={id:"actor",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.userColumn.header",defaultMessage:"User"}),renderCell:e=>e.type===_n.Loading?(0,D.jsx)(qe,{}):(0,D.jsx)(Ve,{userId:e.organizationGuest.userId}),widthData:{widthPercent:30,minWidth:100},sortable:!0,shouldShowSortTooltip:!0},Vn={id:"spaces",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.spacesColumn.header",defaultMessage:"Workspaces"}),renderCell:e=>e.type===_n.Loading?(0,D.jsx)(we.z6,{}):(0,D.jsx)(Gn,{organizationGuest:e.organizationGuest}),widthData:{widthPercent:26,minWidth:70},sortable:!1},qn={id:"pages",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.pagesColumn.header",defaultMessage:"Pages"}),renderCell:e=>e.type===_n.Loading?(0,D.jsx)(we.z6,{}):(0,D.jsx)($n,{organizationGuest:e.organizationGuest}),widthData:{widthPercent:26,minWidth:70},sortable:!1},En={id:"last_active",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.lastActiveColumn.header",defaultMessage:"Last active"}),renderCell:e=>e.type===_n.Loading?(0,D.jsx)(Ce.I,{}):(0,D.jsx)(ke.B,{lastActiveAt:e.organizationGuest.lastActiveTime,isNoActivitySecondaryColor:!0}),widthData:{widthPercent:14,minWidth:70},sortable:!0,shouldShowSortTooltip:!0},Wn=[Un,{id:"actions",headerTitle:(0,D.jsx)(D.Fragment,{}),renderCell:e=>e.type===_n.Loading?null:(0,D.jsx)(Ja,{organizationMember:e.organizationGuest,organizationMemberActionItems:e.organizationGuestActionItems}),widthData:{widthPercent:4,minWidth:24,maxWidth:24},sortable:!1},Vn,qn,En];function Hn(e){let{guests:t,loading:s,organizationStore:n,loadNextPage:i,sortState:o,setSortState:r,refreshPage:l,hasNextPage:d,hasPreviousPage:c,loadPreviousPage:u}=e;const g=De(),m=(0,S.yK)((e=>(0,je.b)({columnRenderInfo:Wn,theme:e,containerMarginTop:0})),[]),h=(0,S.yK)((()=>({buttons:{display:"flex",justifyContent:"flex-end",marginTop:20,gap:12}})),[]),{getOrganizationGuestActionItems:f,modalState:x,setModalState:b}=function(){const[e,t]=a.useState({isOpen:!1}),s=(0,a.useCallback)((e=>{t({isOpen:!0,page:"upgradeToMember",organizationGuest:e})}),[]),n=(0,a.useCallback)((e=>{t({isOpen:!0,page:"removeFromWorkspace",organizationGuest:e})}),[]),i={onClick:s,icon:Ba._,title:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Upgrade to member",id:"organizationGuestsTable.actions.upgradeToMember.title"}),caption:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Convert this guest into a member for certain workspaces",id:"organizationGuestsTable.actions.upgradeToMember.caption"}),variant:"highlighted"},o={onClick:n,icon:Re.V,title:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Remove guest",id:"organizationGuestsTable.actions.removeFromWorkspace.title"}),caption:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"Remove this guest's access to any of your organization's workspaces",id:"organizationGuestsTable.actions.removeFromWorkspace.caption"}),variant:"destructive"};return{getOrganizationGuestActionItems:function(){return[i,o]},modalState:e,setModalState:t}}(),y=t.map((e=>({organizationGuest:e,id:e.userId,isClickable:!1,type:_n.OrganizationGuest,organizationGuestActionItems:f()}))),v=s?Ln:y,M=()=>{b({isOpen:!1})},j=Wn.map((e=>({...e,headerStyle:g.tableHeader})));return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(je.D,{columnRenderInfo:j,rows:v,renderNoRowsComponent:()=>(0,D.jsx)(Kn,{loading:!1}),styles:m,showRowBorders:!0,sortState:o,onSortStateChanged:r}),(0,D.jsxs)("div",{style:h.buttons,children:[(0,D.jsx)(xa.Z,{onClick:u,disabled:!c,isGray:!c,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.previousButton.title",defaultMessage:"Previous"})}),(0,D.jsx)(xa.Z,{onClick:i,disabled:!d,isGray:!d,isBlue:d,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.nextButton.title",defaultMessage:"Next"})})]}),x.isOpen&&"upgradeToMember"===x.page&&(0,D.jsx)(Zn,{onDismiss:M,organizationStore:n,isOpen:x.isOpen,organizationGuest:x.organizationGuest,onSubmit:l}),x.isOpen&&"removeFromWorkspace"===x.page&&(0,D.jsx)(Dn,{onDismiss:M,organizationStore:n,isOpen:x.isOpen,organizationGuest:x.organizationGuest,onSubmit:l})]})}function Kn(e){const t=(0,S.yK)((()=>({text:{marginTop:15,marginBottom:40,textAlign:"center"}})),[]);return(0,D.jsx)(W.Z,{isSmall:!0,style:t.text,children:!e.loading&&(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.empty",defaultMessage:"No guests found."})})}function Gn(e){let{organizationGuest:t}=e;const s=Da(),a=Object.keys(t.guestPages);if(1===a.length)return(0,D.jsx)(un,{spaceId:a[0],isMinimal:!0});const n=a.map((e=>({key:e,action:()=>{},render:t=>(0,D.jsx)(un,{...t,byline:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.spacesColumn.noWorkspaces",defaultMessage:"Guest"}),spaceId:e})})));return(0,D.jsx)(we.Nz,{title:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.spacesColumn.dropdownTitle",defaultMessage:"{count, plural, one {{count} workspace} other {{count} workspaces}}",values:{count:a.length}}),items:n,itemMaxWidth:fn,itemMinWidth:xn,styles:s.buttonNegativeMargin})}function $n(e){let{organizationGuest:t}=e;const s=Da(),n=[],i=Object.keys(t.guestPages),o=Object.values(t.guestPages).flat(),r=function(e){const t=(0,h.O7)(),{organizationOwnerRecordCache:s}=(0,a.useContext)(R.V);return(0,v.VK)((()=>{const a={};for(const n of e)a[n]||(a[n]=new ae.G(t,{id:n,table:Na.iU},{inMemoryRecordCache:s}));return a}),[e,s,t])}(o),l=ca(i);if(1===o.length){const e=r[o[0]];return e?(0,D.jsx)(Qn,{blockStore:e,organizationGuestId:t.userId,isMinimal:!0}):null}for(const[a,d]of i.entries()){const e=l.find((e=>e.id===d)),s=t.guestPages[d].map((e=>{const s=r[e];if(s)return{key:e,action:()=>{},render:e=>(0,D.jsx)(Qn,{blockStore:s,organizationGuestId:t.userId})}})).filter(b.$K);n.push({key:d,render:t=>(0,D.jsx)(Pa.Z,{...t,title:(0,D.jsx)(W.Z,{showTooltipWhenTruncated:!0,isSmall:!0,children:(null==e?void 0:e.getName())??(null==e?void 0:e.id)}),topBorder:0!==a,desktopStyle:{paddingLeft:12,paddingRight:12},desktopTitleStyle:{padding:0}}),items:s})}return(0,D.jsx)(Aa.k,{title:(0,D.jsx)(p.FormattedMessage,{id:"organizationGuestsTable.pagesColumn.dropdownTitle",defaultMessage:"{count, plural, one {{count} page} other {{count} pages}}",values:{count:o.length}}),sections:n,itemMaxWidth:300,styles:s.buttonNegativeMargin})}function Qn(e){let{blockStore:t,organizationGuestId:s,isMinimal:a}=e;const n=(0,p.useIntl)(),i=(0,v.VK)((()=>null==t?void 0:t.getIcon()),[t]),o=(0,v.VK)((()=>{const e=null==t?void 0:t.getModel();if(e&&t)return e.getRenderTitle({getRecordModel:t.getRecordModel,userTimeZone:(0,Ra.r)(),intl:n})}),[t,n]),r=(0,v.VK)((()=>{const e=t.getUserPermissionForId(s);return(null==e?void 0:e.role)??"none"}),[t,s]);return(0,D.jsx)(Ie.iP,{useThinTitle:!0,title:o||(0,D.jsx)(p.FormattedMessage,{id:"baseTable.pageCell.untitledPage",defaultMessage:"Untitled"}),byline:a?void 0:n.formatMessage((0,Oa.kD)(r,Na.iU)),iconSize:20,icon:a?void 0:(0,D.jsx)(jt.Z,{icon:i,size:20,isEmptyPage:!1,disabled:!0}),iconMargin:12,summaryStyles:a?{width:"100%"}:{width:"calc(100% - 32px)"}})}const Yn={guests:[],loading:!1,error:void 0,hasNextPage:!0,cursor:void 0,sortState:{column:Un,sortAscending:!0},filters:{},query:void 0,hasPreviousPage:!1},Jn={columnName:"actor",direction:"ascending"};function Xn(e){return"actor"===e.column.id?{columnName:"actor",direction:e.sortAscending?"ascending":"descending"}:"last_active"===e.column.id?{columnName:"last_active",direction:e.sortAscending?"ascending":"descending"}:Jn}function ei(e){let{spaceStores:t}=e;return(0,v.VK)((()=>t.map((e=>{var t;return{id:e.id,name:e.getName(),subscriptionTier:e.getSubscriptionTier(),icon:null===(t=e.getIcon())||void 0===t?void 0:t.icon}}))),[t])}var ti=s(648524);function si(e){let{selectedEmailDomains:t,setSelectedEmailDomains:s,emailDomains:a}=e;const n=(0,v.VK)((()=>a.map((e=>({key:e,value:e,title:(0,D.jsx)("div",{children:e})})))),[a]);return(0,D.jsx)(ge.F,{pillTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersSubTab.filters.emailDomains.title",defaultMessage:"Verified email domain"}),pillIcon:ti.n,selectedItems:t,setSelectedItems:s,items:n})}var ai=s(373039);function ni(e){let{selectedSpaceIds:t,setSelectedSpaceIds:s,spaceData:a}=e;const n=(0,p.useIntl)(),i=(0,oe.$)(a,n);return(0,D.jsx)(ge.F,{pillTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersSubTab.filters.workspaces.title",defaultMessage:"Workspace"}),pillIcon:ai.K,selectedItems:t,setSelectedItems:s,items:i})}const ii=(0,p.defineMessages)({placeholder:{id:"organizationGuestsSubTab.guestsSearch.placeholder",defaultMessage:"Search by email or name."}});function oi(e){let{organizationStore:t}=e;const s=(0,S.yK)((e=>({filters:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",margin:"0 auto 12px"}})),[]),{guests:n,loading:i,loadNextPage:o,sortState:r,setSortState:l,filters:d,setFilters:c,query:u,setQuery:g,refreshPage:m,loadPreviousPage:p,hasPreviousPage:f,hasNextPage:x}=function(e){let{organizationStore:t}=e;const s=(0,h.O7)(),{updateCacheWithRecordMap:n}=(0,a.useContext)(R.V),[i,o]=(0,a.useState)(Yn),r=(0,a.useRef)(!1),l=(0,a.useRef)(Yn.sortState),d=(0,a.useRef)({}),c=(0,a.useRef)(Yn.query),u=(0,a.useRef)(Yn.cursor),g=(0,a.useCallback)((async e=>{let{cursor:a,sortState:i,filters:r,query:l}=e;try{const e=await j.getGuestsInOrganization(s,{organizationId:t.id,cursor:a,sort:Xn(i),filters:r,query:l});if("success"!==e.type){if("failed"===e.type)throw e.error;return(0,b.t1)(e)}{n({data:e.data});const t=e.data.guests.map((t=>({userId:t.userId,guestPages:t.guestPages,lastActiveTime:e.data.guestToLastActive[t.userId]})));o((s=>({...s,loading:!1,guests:t,cursor:e.data.nextCursor,hasNextPage:e.data.hasNextPage,hasPreviousPage:void 0!==S()})))}}catch(d){const e=(0,le.t)(d);o((t=>({...t,loading:!1,error:e})))}}),[s,t.id,n]),m=(0,a.useCallback)((async e=>{let{restartSearch:s,overridePage:a}=e;if(!t.id)return;let n=i.loading,r=i.error,m=a?a.hasNextPage:i.hasNextPage,p=a?a.cursor:i.cursor;return s&&(o((e=>({...Yn,sortState:e.sortState,filters:e.filters,query:e.query}))),n=Yn.loading,r=Yn.error,m=Yn.hasNextPage,p=Yn.cursor),!m||n||r?void 0:(o((e=>({...e,loading:!0}))),d.current=i.filters,l.current=i.sortState,c.current=i.query,u.current=a?a.cursor:p,g({cursor:p,sortState:i.sortState,filters:i.filters,query:i.query}))}),[t.id,i,g]);(0,a.useEffect)((()=>{!r.current&&Boolean(t.id)&&(m({restartSearch:!0}),r.current=!0)}),[t,m]);const p=(0,a.useCallback)((()=>m({restartSearch:!1})),[m]);(0,a.useEffect)((()=>{de.Xy(l.current,i.sortState)||m({restartSearch:!0})}),[i.sortState,m]),(0,a.useEffect)((()=>{de.Xy(d.current,i.filters)||m({restartSearch:!0})}),[i.filters,m]),(0,a.useEffect)((()=>{de.Xy(c.current,i.query)||m({restartSearch:!0})}),[i.query,m]);const f=(0,a.useCallback)((e=>{o((t=>({...t,filters:{...t.filters,...e}})))}),[]),x=(0,a.useCallback)((e=>{o((t=>({...t,sortState:e})))}),[]),y=(0,a.useCallback)((e=>{o((t=>({...t,query:e})))}),[]),v=(0,a.useCallback)((async()=>g({cursor:u.current,sortState:i.sortState,filters:i.filters,query:i.query})),[g,i]);function S(){if(!u.current)return;const e=u.current.offset-Ta;return e<0?void 0:e}const M=(0,a.useCallback)((async()=>{const e=S();void 0!==e&&await m({restartSearch:!1,overridePage:{cursor:{offset:e},hasNextPage:!0}})}),[m]);return{guests:i.guests,loading:i.loading,error:i.error,loadNextPage:p,hasNextPage:i.hasNextPage,cursor:i.cursor,setSortState:x,sortState:i.sortState,setFilters:f,filters:i.filters,query:i.query,setQuery:y,loadPreviousPage:M,hasPreviousPage:i.hasPreviousPage,refreshPage:v}}({organizationStore:t}),y=ei({spaceStores:ca()}),M=(0,v.VK)((()=>t.getEmailDomains()),[t]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ne.O,{mode:ne.p.Button,query:u,setQueryFilter:g,placeholderText:I.default.formatMessage(ii.placeholder)}),(0,D.jsxs)("div",{style:s.filters,children:[(0,D.jsx)(ni,{selectedSpaceIds:d.spaceIds||[],setSelectedSpaceIds:e=>c({spaceIds:e}),spaceData:y}),(0,D.jsx)(si,{emailDomains:M,selectedEmailDomains:d.emailDomains||[],setSelectedEmailDomains:e=>{c({emailDomains:e})}})]}),(0,D.jsx)(Hn,{guests:n,loading:i,organizationStore:t,loadNextPage:o,sortState:r,setSortState:l,loadPreviousPage:p,hasPreviousPage:f,refreshPage:m,hasNextPage:x})]})}const ri={members:[],filters:{},cursor:void 0,loading:!1,error:void 0,hasNextPage:!0,hasPreviousPage:!1,sortState:void 0,query:void 0};class li extends gs.default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:cs.V7,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}var di=s(195209),ci=s(340400),ui=s(544385),gi=s(424145),mi=s(943579);async function pi(e){const{query:t,environment:s}=e,a=await us.FF.searchActions.load(),{user:n,email:i}=await a.searchEmailUser(s,t),o=[];return n?o.push({type:"existingUser",value:n}):i&&o.push({type:"newUser",value:{email:i},source:"email"}),{inviteUsers:o,inviteBots:[],inviteGroups:[],importedContacts:[]}}function hi(e){return(0,D.jsx)(Ga.Z,{width:500,height:ci.k,menuType:qa.og.Popup,header:(0,D.jsx)(fi,{...e}),tokenInputHeader:!0,children:(0,D.jsx)(mi.Z,{permissionsInviteStore:e.permissionsInviteStore,store:e.organizationStore,defaultRoleForSpaceBot:"editor",shouldShowBots:!1,shouldShowGroups:!1,sectionRenderLimit:10,membersOnly:!1,performSearchRequest:pi})})}function fi(e){const{permissionsInviteStore:t,organizationStore:s,setPermissionsInvitePage:a}=e,n=(0,v.VK)((()=>"invitee"===t.state.inputFocus),[t]),i=(0,v.VK)((()=>t.state.inviteTargets.length>0),[t]),o=(0,h.O7)(),r=(0,S.yK)((()=>({headerRight:{display:"flex",flexDirection:"row",marginLeft:10,marginRight:10,gap:10}})),[]);return(0,D.jsx)(gi.Z,{permissionsInviteStore:t,store:s,handleClickRemoveToken:e=>{di.PV({targetToRemove:e,permissionsInviteStore:t,defaultRoleForNonBot:"read_and_write"})},handleInputChange:async e=>{await di.jC({environment:o,event:e,permissionsInviteStore:t})},handleInputSubmit:async()=>{},origin:"organization_add_members",defaultRoleForNonBot:"read_and_write",isTeamsEnabled:!1,right:(0,D.jsxs)("div",{style:r.headerRight,children:[(0,D.jsx)(xi,{permissionsInviteStore:t}),(0,D.jsx)(ui.Z,{store:s,permissionsInviteStore:t,handleUpgradeClick:()=>{},handleInviteClick:()=>{a("choose_workspaces")},disabled:!i,isLarge:!0})]}),focus:n,handleFocus:()=>{t.setState({...t.state,inputFocus:"invitee"})}})}function xi(e){let{permissionsInviteStore:t}=e;const s=(0,v.VK)((()=>t.state.inviteRole),[t]),a=(0,v.VK)((()=>t.state.table),[t]),n=(0,S.yK)((e=>({button:{display:"flex",whiteSpace:"nowrap",height:26,color:Va.ZP.uiGray,marginTop:2}})),[]);return(0,D.jsx)(mn.ZP,{upgradeButtonName:"organization_settings",disabled:!1,role:s,table:a,type:"user_permission",isInvite:!0,buttonStyle:n.button,onChange:e=>{t.setState({...t.state,inviteRole:e})}})}function bi(e){const{isOpen:t,onDismiss:s,organizationStore:n,permissionsInviteStore:i,refreshPage:o}=e,r=(0,p.useIntl)(),[l,d]=(0,a.useState)("search_members"),{spaceStores:c,onSubmit:u}=function(e){let{permissionsInviteStore:t,organizationStore:s}=e;const n=(0,h.O7)();return{spaceStores:ca(),onSubmit:(0,a.useCallback)((async e=>{const a=t.state.inviteTargets.filter((e=>"existingUser"===e.type)).map((e=>e.value.id)).filter(b.$K),i=t.state.inviteTargets.filter((e=>"newUser"===e.type&&"email"===e.source)).map((e=>e.value.email)),o=(0,gn.Ci)(t.state.inviteRole);await j.bulkAddUsersToOrganizationSpaces(n,{organizationId:s.id,existingUserIds:a,newUserEmails:i,spaceIds:e,role:o}),q.oV({label:(0,D.jsx)(p.FormattedMessage,{id:"workspacesMultiSelect.toastMessage.addUsers.success",defaultMessage:"Successfully added users to {numWorkspaces, plural, one {{numWorkspaces} workspace} other {{numWorkspaces} workspaces}}.",values:{numWorkspaces:e.length}})})}),[s,n,t])}}({permissionsInviteStore:i,organizationStore:n});return(0,D.jsx)(Xa.c,{isOpen:t,onDismiss:s,render:()=>"search_members"===l?(0,D.jsx)(hi,{organizationStore:n,permissionsInviteStore:i,setPermissionsInvitePage:d}):(0,D.jsx)(on,{spaceStores:c,title:(0,D.jsx)(p.FormattedMessage,{id:"bulkAddUsersToSpaces.chooseWorkspacesPage.title",defaultMessage:"Choose workspaces to invite users to"}),onSubmit:async e=>{await u(e),await o()},onDismiss:s,renderItem:e=>e.getName(),renderItemRole:e=>{const t=(0,gn.Ci)(i.state.inviteRole);return(0,D.jsx)(z.q,{styleName:"Body-13px/Regular",colorName:"secondary",children:r.formatMessage((0,Oa.ZH)(t))})}})})}function yi(e){let{selectedGroups:t,setSelectedGroups:s,groupsData:a}=e;const n=(0,S.yK)((e=>({optionContainer:{display:"flex",flexDirection:"row",alignItems:"center",gap:8},optionTitle:{display:"block"}})),[]),i=(0,v.VK)((()=>a.map((e=>({key:e.id,value:vi(e),title:(0,D.jsxs)("div",{style:n.optionContainer,children:[(0,D.jsx)(jt.Z,{disabled:!0,icon:e.icon?{pointer:{id:e.spaceId,table:ee.bx},icon:e.icon}:void 0,isEmptyPage:!1,size:24,title:e.name,isLarge:!0,emojiSize:24,isRaw:!1}),(0,D.jsx)("div",{style:{paddingTop:4,paddingBottom:4},children:(0,D.jsx)(W.Z,{style:n.optionTitle,children:e.name})})]})})))),[a,n]);return(0,D.jsx)(ge.F,{pillTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersSubTab.filters.groups.title",defaultMessage:"Group"}),pillIcon:m.O,selectedItems:t,setSelectedItems:s,items:i})}function vi(e){return`${e.id}.${e.spaceId}`}function Si(e){const[t,s]=e.split(".");return{id:t,spaceId:s}}var Mi=s(343121);function ji(e){let{setUserRoles:t,selectedUserRoles:s}=e;return(0,D.jsx)(ge.F,{pillTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersSubTab.filters.userRole.title",defaultMessage:"Role"}),pillIcon:Mi.f,selectedItems:s,setSelectedItems:t,items:Ci})}const Ci=[{key:"organizationOwner",value:"organization_owner",title:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembers.table.filters.userRole.organizationOwner",defaultMessage:"Organization owner"}),wrapCaption:!0},{key:"spaceOwner",value:"owner",title:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembers.table.filters.userRole.workspaceOwner",defaultMessage:"Workspace owner"}),wrapCaption:!0},{key:"spaceMembershipAdmin",value:"membership_admin",title:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembers.table.filters.userRole.membershipAdmin",defaultMessage:"Membership admin"}),wrapCaption:!0},{key:"spaceMember",value:"member",title:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembers.table.filters.userRole.member",defaultMessage:"Member"}),wrapCaption:!0}],wi=(0,p.defineMessages)({placeholder:{id:"organizationMemberSubTab.membersSearch.placeholder",defaultMessage:"Search by email or name."}});function Ii(e){var t;let{organizationStore:s}=e;const{loadNextPage:n,members:i,loading:o,setFilters:r,filters:l,sortState:d,setSortState:c,loadPreviousPage:u,hasPreviousPage:g,hasNextPage:m,refreshPage:f,query:x,setQuery:y}=function(e){let{organizationStore:t}=e;const s=(0,h.O7)(),{updateCacheWithRecordMap:n}=(0,a.useContext)(R.V),[i,o]=(0,a.useState)(ri),r=(0,a.useRef)(!1),l=(0,a.useRef)({}),d=(0,a.useRef)(ri.sortState),c=(0,a.useRef)(ri.cursor),u=(0,a.useRef)(ri.query);function g(e){return"actor"===(null==e?void 0:e.column.id)?{columnName:"actor",direction:e.sortAscending?"ascending":"descending"}:"role"===(null==e?void 0:e.column.id)?{columnName:"role",direction:e.sortAscending?"ascending":"descending"}:void 0}const m=(0,a.useCallback)((async e=>{let{cursor:a,filters:i,sortState:r,query:l}=e;try{const e=await j.getMembersInOrganization(s,{organizationId:t.id,cursor:a,filters:i,sort:g(r),query:l});if("success"!==e.type){if("failed"===e.type)throw e.error;return(0,b.t1)(e)}n({data:e.data}),o((t=>({...t,members:e.data.members,loading:!1,error:void 0,cursor:e.data.nextCursor,hasNextPage:e.data.hasNextPage,hasPreviousPage:void 0!==x()})))}catch(d){const e=(0,le.t)(d);o((t=>({...t,loading:!1,error:e})))}}),[s,t.id,n]),p=(0,a.useCallback)((async e=>{let{restartSearch:s,overridePage:a}=e;if(!t.id)return;let n=i.loading,r=i.error,g=a?a.hasNextPage:i.hasNextPage,p=a?a.cursor:i.cursor;s&&(o((e=>({...ri,filters:e.filters,sortState:e.sortState,query:e.query}))),n=ri.loading,r=ri.error,g=ri.hasNextPage,p=ri.cursor),g&&!n&&(r||(o((e=>({...e,loading:!0,members:[]}))),l.current=i.filters,d.current=i.sortState,c.current=a?a.cursor:p,u.current=i.query,await m({cursor:p,filters:i.filters,sortState:i.sortState,query:i.query})))}),[t.id,i,m]);(0,a.useEffect)((()=>{!r.current&&Boolean(t.id)&&(p({restartSearch:!0}),r.current=!0)}),[t,p]),(0,a.useEffect)((()=>{de.Xy(l.current,i.filters)||p({restartSearch:!0})}),[i.filters,p]),(0,a.useEffect)((()=>{de.Xy(d.current,i.sortState)||p({restartSearch:!0})}),[i.sortState,p]),(0,a.useEffect)((()=>{de.Xy(u.current,i.query)||p({restartSearch:!0})}),[i.query,p]);const f=(0,a.useCallback)((()=>p({restartSearch:!1})),[p]);function x(){if(!c.current)return;const e=c.current.offset-Ta;return e<0?void 0:e}const y=(0,a.useCallback)((async()=>{const e=x();void 0!==e&&await p({restartSearch:!1,overridePage:{cursor:{offset:e},hasNextPage:!0}})}),[p]),v=(0,a.useCallback)((e=>{o((t=>({...t,filters:{...t.filters,...e}})))}),[]),S=(0,a.useCallback)((e=>{o((t=>({...t,sortState:e})))}),[]),M=(0,a.useCallback)((()=>m({cursor:c.current,filters:i.filters,sortState:i.sortState,query:i.query})),[m,i]),C=(0,a.useCallback)((e=>{o((t=>({...t,query:e})))}),[]);return{loadNextPage:f,loadPreviousPage:y,members:i.members,filters:i.filters,loading:i.loading,error:i.error,hasNextPage:i.hasNextPage,cursor:i.cursor,setFilters:v,sortState:i.sortState,setSortState:S,hasPreviousPage:i.hasPreviousPage,refreshPage:M,query:i.query,setQuery:C}}({organizationStore:s}),M=ca(),C=ei({spaceStores:M}),w=(0,v.VK)((()=>M.map((e=>e.getPermissionGroups().map((t=>({id:t.id,icon:t.icon,name:t.name,spaceId:e.id}))))).flat()),[M]),k=(0,v.VK)((()=>s.getEmailDomains()),[s]),[z,T]=a.useState(!1),F=(0,S.yK)((e=>({filters:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",margin:"0 auto 12px"},tableHeader:{display:"flex",flexDirection:"row"}})),[]),O=new li;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ne.O,{mode:ne.p.Button,query:x,setQueryFilter:y,placeholderText:I.default.formatMessage(wi.placeholder)}),(0,D.jsxs)("div",{style:F.tableHeader,children:[(0,D.jsxs)("div",{style:F.filters,children:[(0,D.jsx)(ji,{setUserRoles:e=>r({roles:e}),selectedUserRoles:l.roles||[]}),(0,D.jsx)(ni,{selectedSpaceIds:l.spaceIds||[],setSelectedSpaceIds:e=>r({spaceIds:e}),spaceData:C}),(0,D.jsx)(yi,{selectedGroups:(null===(t=l.groups)||void 0===t?void 0:t.map(vi))||[],setSelectedGroups:e=>r({groups:e.map(Si)}),groupsData:w}),(0,D.jsx)(si,{emailDomains:k,selectedEmailDomains:l.emailDomains||[],setSelectedEmailDomains:e=>{r({emailDomains:e})}})]}),(0,D.jsx)(nn.Z,{onClick:()=>{T(!0)},children:(0,D.jsx)(p.FormattedMessage,{id:"organizationMembersSubTab.button.addMembers",defaultMessage:"Add members"})})]}),z&&(0,D.jsx)(bi,{permissionsInviteStore:O,isOpen:z,onDismiss:()=>{T(!1)},organizationStore:s,refreshPage:f}),(0,D.jsx)(In,{members:i,loading:o,loadNextPage:n,sortState:d,setSortState:c,organizationStore:s,loadPreviousPage:u,hasPreviousPage:g,hasNextPage:m,refreshPage:f})]})}var ki=function(e){return e.Members="members",e.Guests="guests",e}(ki||{});const zi=(0,p.defineMessages)({membersWithoutCount:{id:"settingsConsole.people.members.title",defaultMessage:"Members"},membersWithCount:{id:"settingsConsole.people.members.titleWithNumMembers",defaultMessage:"Members <gray>{numMembers}</gray>"},guestsWithoutCount:{id:"settingsConsole.people.guests.title",defaultMessage:"Guests"},guestsWithCount:{id:"settingsConsole.people.guests.titleWithNumMembers",defaultMessage:"Guests <gray>{numGuests}</gray>"}});function Ti(e){const{organizationId:t,subtab:s}=e,n=(0,h.O7)(),i=(0,a.useMemo)((()=>function(e){switch(e){case ki.Members:return ki.Members;case ki.Guests:return ki.Guests;default:return ki.Members}}(s)),[s]),o=(0,ut.k)({organizationId:t}),{state:r}=ua({environment:n}),l=[{name:ki.Members,tab:(0,D.jsx)(Ri,{name:ki.Members,peopleCountState:r})},{name:ki.Guests,tab:(0,D.jsx)(Ri,{name:ki.Guests,peopleCountState:r})}];if(!o)return null;return(0,D.jsxs)(it,{children:[(0,D.jsx)(lt,{title:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.people.title",defaultMessage:"People"}),children:(0,D.jsx)(dt,{tabConfig:{tabs:l,currentTabName:i,updateTab:function(e){y.c4({environment:n,url:(0,f.a5)({organizationId:t,tabRoute:x.qR,properties:{subtab:e}})})}}})}),(0,D.jsx)(Fi,{currentTab:i,organizationStore:o})]})}function Fi(e){const{organizationStore:t}=e;switch(e.currentTab){case ki.Members:return(0,D.jsx)(Ii,{organizationStore:t});case ki.Guests:return(0,D.jsx)(oi,{organizationStore:t});default:(0,b.t1)(e.currentTab)}}function Ri(e){let{name:t,peopleCountState:s}=e;const a=(0,p.useIntl)(),n=(0,S.yK)((()=>({membersTabLoading:{display:"flex",gap:5},membersTabCount:{color:"gray",marginLeft:2}})),[]);return t===ki.Members?void 0!==s.value?(0,D.jsx)(z.q,{children:a.formatMessage(zi.membersWithCount,{numMembers:s.value.memberCount,gray:e=>(0,D.jsx)("span",{style:n.membersTabCount,children:e})})}):"pending"===s.status?(0,D.jsxs)("span",{style:n.membersTabLoading,children:[a.formatMessage(zi.membersWithoutCount),(0,D.jsx)(za.Z,{})]}):(0,D.jsx)(z.q,{children:a.formatMessage(zi.membersWithoutCount)}):t===ki.Guests?void 0!==s.value?(0,D.jsx)(z.q,{children:a.formatMessage(zi.guestsWithCount,{numGuests:s.value.guestCount,gray:e=>(0,D.jsx)("span",{style:n.membersTabCount,children:e})})}):"pending"===s.status?(0,D.jsxs)("span",{style:n.membersTabLoading,children:[a.formatMessage(zi.guestsWithoutCount),(0,D.jsx)(za.Z,{})]}):(0,D.jsx)(z.q,{children:a.formatMessage(zi.guestsWithoutCount)}):void(0,b.t1)(t)}var Oi=s(942402);function Ni(e){let{environment:t,settingName:s}=e;const{spaceIds:n}=(0,a.useContext)(re.g),[i]=(0,M.r5)((async()=>{if((0,b.$K)(s)&&"publish-sites"!==s)return;let e=0;return await(0,da.Lc)(n,50,(async s=>{const a=await j.getPublishedPageCountForOrganizationSpace(t,{spaceId:s});"failed"!==a.type&&(e+=a.data.publishedPagesCount)})),e}),[t,n,s]);return{state:i}}function Pi(e){let{onClick:t,children:s,style:a}=e;const n=(0,S.yK)((e=>({icon:{width:18,height:18,fill:e.lightIconColor,marginLeft:6},button:{marginLeft:-6,maxWidth:"max-content"}})),[]),i={...n.button,...a};return(0,D.jsxs)(xa.Z,{isSmall:!0,onClick:t,shouldShrink:!0,style:i,children:[s,(0,Ne.R)(n.icon)]})}var Ai=s(40462);function Bi(e){let{pendingValue:t,config:s,spaceOverrideValues:a,setSpaceOverrideValue:n}=e;const i=Vi(),o=ca(),r=(0,v.VK)((()=>o.filter((e=>s.getValueFromSpaceOrTeam(e)!==t))),[o,s,t]);return 0===r.length?null:(0,D.jsxs)("div",{style:i.affectedSection,children:[(0,D.jsx)(Ui,{spaceCount:r.length}),(0,D.jsx)("div",{style:i.tableContainer,children:(0,D.jsxs)("table",{style:i.table,children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{style:i.tableHeaderRow,children:[(0,D.jsx)("th",{style:{...i.tableHeader,width:"45%"},children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.affectedSpaces.spaceHeader",defaultMessage:"Workspace"})}),(0,D.jsx)("th",{style:{...i.tableHeader,width:"30%"},children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.affectedSpaces.currentSettingHeader",defaultMessage:"Current setting"})}),(0,D.jsx)("th",{style:{...i.tableHeader,width:"25%"},children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.affectedSpaces.newSettingHeader",defaultMessage:"New setting"})})]})}),(0,D.jsx)("tbody",{children:r.map((e=>(0,D.jsx)(Di,{spaceStore:e,config:s,pendingValue:t,spaceOverrideValue:a[e.id],setSpaceOverrideValue:n},e.id)))})]})}),Boolean(s.calloutCaption)&&(0,D.jsx)(z.q,{colorName:"secondary",styleName:"Body-12px/Regular",children:s.calloutCaption})]})}function Di(e){let{spaceStore:t,config:s,pendingValue:a,spaceOverrideValue:n,setSpaceOverrideValue:i}=e;const o=Vi(),r=(0,v.VK)((()=>s.getValueFromSpaceOrTeam(t)),[t,s]);return(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{style:o.tableEntry,children:(0,D.jsx)(Zi,{spaceStore:t})}),(0,D.jsx)("td",{style:o.tableEntry,children:(0,D.jsx)(_i,{currentSpaceValue:r,config:s})}),(0,D.jsx)("td",{style:o.tableEntry,children:(0,D.jsx)(Li,{pendingOrgValue:a,currentSpaceValue:r,config:s,spaceOverrideValue:n,setOverrideValue:e=>i({value:e,spaceId:t.id})})})]})}function Zi(e){let{spaceStore:t}=e;const{name:s,icon:a}=(0,v.VK)((()=>({name:t.getName(),icon:t.getIcon()})),[t]);return(0,D.jsxs)(ra.X2,{gap:12,alignItems:"center",children:[(0,D.jsx)(jt.Z,{disabled:!0,icon:a,isEmptyPage:!1,title:s,size:26,isLarge:!0}),(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",children:s})]})}function _i(e){var t;let{currentSpaceValue:s,config:a}=e;const n=null===(t=a.getOptions().find((e=>{let{key:t}=e;return t===s})))||void 0===t?void 0:t.label;return(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",children:n})}function Li(e){let{pendingOrgValue:t,currentSpaceValue:s,config:a,spaceOverrideValue:n,setOverrideValue:i}=e;const o=Vi(),r=a.getOptions().map((e=>e.key===t?{...e,caption:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.matchOrgSetting",defaultMessage:"Match organization setting"})}:e.key===s?{...e,caption:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.keepSpaceSetting",defaultMessage:"Keep current workspace and teamspace settings"})}:e));return(0,D.jsxs)(ra.X2,{gap:2,alignItems:"center",children:[!(0,b.$K)(n)&&(0,Ai.o)(o.organizationicon),(0,D.jsx)(Y.L,{isMobile:!1,disabled:!1,type:"dropdown",currentOption:n??t,options:r,onSelectOption:e=>{i(e===t?void 0:e)},buttonStyle:o.newValueSelect,menuStyle:{width:300}})]})}function Ui(e){let{spaceCount:t}=e;const s=Vi();return(0,D.jsxs)("div",{style:s.callout,children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.callout",defaultMessage:"This change affects {spaceCount, plural, one {1 workspace} other {{spaceCount} workspaces}}. Their current settings will be replaced with the organization settings",values:{spaceCount:t}})}),(0,D.jsx)(z.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.calloutDescription",defaultMessage:"If you need some workspaces to have different settings, you can customize them in the <b>By workspace</b> view",values:{b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,D.jsx)("b",{children:t})}}})})]})}function Vi(){return(0,S.yK)((e=>({affectedSection:{width:"100%"},callout:{display:"flex",flexDirection:"column",width:"100%",padding:"10px 12px",backgroundColor:e.accentColors.uiBlue[100],borderRadius:O.E.default,gap:4},tableContainer:{maxHeight:300,overflow:"auto",background:e.contentBackground,border:`1px solid ${e.stroke.deemphasized}`,borderRadius:O.E.default,marginTop:8,marginBottom:8},table:{width:"100%",borderCollapse:"separate"},tableHeaderRow:{position:"sticky",top:0,background:e.contentBackground},tableHeader:{fontWeight:te.Z.fontWeight.medium,textAlign:"left",fontSize:te.Z.fontSize.UISmall.desktop,color:e.text.secondary,paddingLeft:12,paddingTop:8,paddingBottom:8,borderBottom:`1px solid ${e.stroke.deemphasized}`},tableEntry:{paddingLeft:12,paddingTop:8,paddingBottom:8},organizationicon:{width:14,height:14,fill:e.icon.secondary},newValueSelect:{marginTop:4,marginBottom:4,fontWeight:te.Z.fontWeight.medium}})),[])}function qi(e){return"none"===e||"everyone"!==e&&void(0,b.t1)(e)}function Ei(e){return!0===e?"no":!1===e?"yes":void(0,b.t1)(e)}function Wi(e){return!0===e?"none":!1===e?"everyone":void(0,b.t1)(e)}function Hi(e){return!0===e?"wo_only":!1===e?"everyone":void(0,b.t1)(e)}const Ki={settingName:"publish-sites",formattedName:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.publishSites.title",defaultMessage:"Publish Sites"}),teamSettingName:"disable_public_access",calloutCaption:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.publishSites.calloutCaption",defaultMessage:"All existing sites will remain public. You can change that in Content search."}),getDescription:e=>{let{publishedSitesCount:t,type:s}=e;return"space"===s?(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.publishSites.space.description",defaultMessage:"Pages can be published to the web, and visible to people outside the workspace. This workspace has {publishedSitesCount, plural, one {1 published site} other {{formattedPublishedSitesCount} published sites}}",values:{publishedSitesCount:t,formattedPublishedSitesCount:(0,b.$K)(t)&&t>10?"10+":t}}):"organization"===s?(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.publishSites.organization.description",defaultMessage:"Pages can be published to the web, and visible to people outside the workspace. Your organization has {publishedSitesCount, plural, one {1 published site} other {{publishedSitesCount} published sites}}",values:{publishedSitesCount:t}}):void(0,b.t1)(s)},getOptions:po,getValueFromSpaceOrTeam:e=>Wi(e.getDisablePublicAccess()),getValueFromOrganization:e=>{const t=e.getDisablePublicAccess();if(void 0!==t)return Wi(t)},formatValueToSave:e=>({disable_public_access:qi(e)}),formatUndefinedToSave:()=>({disable_public_access:null})},Gi={settingName:"export-pages",formattedName:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.exportPages.title",defaultMessage:"Export Pages"}),teamSettingName:"disable_export",getDescription:()=>(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.exportPages.description",defaultMessage:"Pages can be exported as Markdown, CSV, or PDF"}),getOptions:po,getValueFromSpaceOrTeam:e=>Wi(e.getDisableExport()),getValueFromOrganization:e=>{const t=e.getDisableExport();if(void 0!==t)return Wi(t)},formatValueToSave:e=>({disable_export:qi(e)}),formatUndefinedToSave:()=>({disable_export:null})},$i={settingName:"duplicate-pages",formattedName:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.duplicatePages.title",defaultMessage:"Duplicate pages to other workspaces"}),getDescription:()=>(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.duplicatePages.description",defaultMessage:"Pages can be duplicated to other workspaces using the <b>Move to</b> or <b>Duplicate to</b> actions",values:{b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,D.jsx)("b",{children:t})}}}),getOptions:po,getValueFromSpaceOrTeam:e=>Wi(e.getDisableMoveToSpace()),getValueFromOrganization:e=>{const t=e.getDisableMoveToSpace();if(void 0!==t)return Wi(t)},formatValueToSave:e=>({disable_move_to_space:qi(e)}),formatUndefinedToSave:()=>({disable_move_to_space:null})};function Qi(e,t){return(0,D.jsx)(Oi.Z,{onClick:()=>t(x.qR,{subtab:"guests"}),children:e})}function Yi(e){let{store:t,guestRequestStore:s}=e;return Ji({disableGuests:t.getDisableGuests(),enableGuestInviteRequests:s.getEnableGuestInviteRequest()})}function Ji(e){let{disableGuests:t,enableGuestInviteRequests:s}=e;return!1===t?"everyone":!0===t&&!0===s?"request":!0===t?"wo_only":void(0,b.t1)(t)}const Xi={settingName:"guest-invites",formattedName:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.guestInvites.title",defaultMessage:"Guest Invites"}),teamSettingName:"disable_guests",calloutCaption:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.guestInvites.calloutCaption",defaultMessage:"All existing guest will remain in the workspaces. You can remove them in the guest management table."}),getDescription:e=>{let{guestCount:t,type:s,handleNavigate:a}=e;return"space"===s?(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.guestInvites.space.description",defaultMessage:"This workspace currently has <gueststablink>{guestCount, plural, one {1 guest} other {{guestCount} guests}}</gueststablink>",values:{gueststablink:e=>Qi(e,a),guestCount:t}}):"organization"===s?(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.guestInvites.organization.description",defaultMessage:"Your organization currently has <gueststablink> {guestCount, plural, one {1 guest} other {{guestCount} guests}}</gueststablink>",values:{gueststablink:e=>Qi(e,a),guestCount:t}}):void(0,b.t1)(s)},getOptions:()=>[{key:"everyone",label:io},{key:"request",label:no},{key:"wo_only",label:ro}],getValueFromSpaceOrTeam:e=>Yi({store:e,guestRequestStore:e}),getValueFromOrganization:e=>{const t=e.getDisableGuests(),s=e.getEnableGuestInviteRequest();if(void 0!==t&&void 0!==s)return Ji({disableGuests:t,enableGuestInviteRequests:s})},formatValueToSave:e=>"wo_only"===e?{disable_guests:!0,enable_guest_invite_requests:!1}:"request"===e?{disable_guests:!0,enable_guest_invite_requests:!0}:"everyone"===e?{disable_guests:!1,enable_guest_invite_requests:!1}:void(0,b.t1)(e),formatUndefinedToSave:()=>({disable_guests:null,enable_guest_invite_requests:null})},eo={settingName:"member-requests",formattedName:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.memberRequests.title",defaultMessage:"Member requests"}),getDescription:()=>(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.memberRequests.description",defaultMessage:"Existing members can request to add new members",values:{b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,D.jsx)("b",{children:t})}}}),getOptions:function(){return[{key:"yes",label:go},{key:"no",label:mo}]},getValueFromSpaceOrTeam:e=>Ei(e.getDisableMembershipRequests()),getValueFromOrganization:e=>{const t=e.getDisableMembershipRequests();if(void 0!==t)return Ei(t)},formatValueToSave:e=>"yes"===e?{disable_membership_requests:!1}:"no"===e?{disable_membership_requests:!0}:void(0,b.t1)(e),formatUndefinedToSave:()=>({disable_membership_requests:null})},to={settingName:"join-requests",formattedName:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.joinRequests.title",defaultMessage:"Join requests"}),getDescription:()=>(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.joinRequests.description",defaultMessage:"Anyone with a teamspace invite link can request to join the workspace",values:{b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,D.jsx)("b",{children:t})}}}),getOptions:function(){return[{key:"everyone",label:io},{key:"wo_only",label:ro}]},getValueFromSpaceOrTeam:e=>Hi(e.getDisableExternalMembershipRequests()),getValueFromOrganization:e=>{const t=e.getDisableExternalMembershipRequests();if(void 0!==t)return Hi(t)},formatValueToSave:e=>{return{disable_external_membership_requests:(t=e,"wo_only"===t||"everyone"!==t&&void(0,b.t1)(t))};var t},formatUndefinedToSave:()=>({disable_external_membership_requests:null})},so={settingName:"restrict-integrations",formattedName:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.integrationRestrictions.title",defaultMessage:"Members can add integrations"}),getDescription:e=>{let{type:t}=e;return"space"===t?(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.integrationRestrictions.space.description",defaultMessage:"Set whether members can add any integrations, only approved connections, or approved connections and integrations built by Notion."}):"organization"===t?(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.integrationRestrictions.organization.description",defaultMessage:"Set whether members can add any integrations, or only approved connections."}):void(0,b.t1)(t)},getOptions:()=>[{key:"approved_only",label:lo},{key:"approved_or_built_by_notion",label:co},{key:"no_restrictions",label:uo}],getValueFromSpaceOrTeam:e=>e.getIntegrationRestrictions()??"no_restrictions",getValueFromOrganization:e=>e.getIntegrationRestrictions(),formatValueToSave:e=>({integration_restrictions:e}),formatUndefinedToSave:()=>({integration_restrictions:null})},ao=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.letSpaceOwnersDecide",defaultMessage:"Let workspace owners decide"}),no=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.byRequest",defaultMessage:"By request only"}),io=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.everyone",defaultMessage:"Everyone"}),oo=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.noOne",defaultMessage:"No one"}),ro=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.workspaceOwnersOnly",defaultMessage:"Workspace owners only"}),lo=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.onlyApproved",defaultMessage:"Only from approved list"}),co=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.approvedOrNotion",defaultMessage:"From approved list or built by Notion"}),uo=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.noRestrictions",defaultMessage:"No restrictions"}),go=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.yes",defaultMessage:"Yes"}),mo=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.setting.value.no",defaultMessage:"No"});function po(){return[{key:"everyone",label:io},{key:"none",label:oo}]}const ho=["publish-sites","export-pages","duplicate-pages","guest-invites","member-requests","join-requests","restrict-integrations"],fo={[Ki.settingName]:Ki,[Gi.settingName]:Gi,[$i.settingName]:$i,[Xi.settingName]:Xi,[eo.settingName]:eo,[to.settingName]:to,[so.settingName]:so};function xo(e){return fo[e]}const bo="setting-name";function yo(e){let{headerMessage:t,store:s,getItem:a,messageArgs:n}=e;const i=(0,js.R$)(s);return(0,D.jsxs)(ra.sg,{gap:16,children:[t&&(0,D.jsx)(z.q,{colorName:"secondary",styleName:"Body-14px/Regular",children:t}),(0,D.jsx)(he.Z,{size:1}),(0,D.jsx)(vo,{store:s,getItem:a,messageArgs:n,shouldShowHoverStyles:i}),(0,D.jsx)(he.Z,{size:1}),(0,D.jsx)(So,{store:s,getItem:a,messageArgs:n,shouldShowHoverStyles:i}),(0,D.jsx)(he.Z,{size:1}),(0,D.jsx)(Mo,{store:s,getItem:a,messageArgs:n,shouldShowHoverStyles:i})]})}function vo(e){let{store:t,getItem:s,messageArgs:a,shouldShowHoverStyles:n}=e;return(0,D.jsxs)(ra.sg,{gap:12,children:[(0,D.jsx)(z.q,{styleName:"Heading-17px/Medium",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.publishingExporting.title",defaultMessage:"Publishing & exporting content"})}),(0,D.jsx)(jo,{config:Ki,messageArgs:a,getItem:s,shouldShowHoverStyles:n}),(0,D.jsx)(jo,{config:Gi,messageArgs:a,getItem:s,shouldShowHoverStyles:n}),(0,D.jsx)(jo,{config:$i,messageArgs:a,getItem:s,shouldShowHoverStyles:n})]})}function So(e){let{store:t,getItem:s,messageArgs:a,shouldShowHoverStyles:n}=e;return(0,D.jsxs)(ra.sg,{gap:12,children:[(0,D.jsxs)(ra.sg,{gap:8,children:[(0,D.jsx)(z.q,{styleName:"Heading-17px/Medium",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.invitations.title",defaultMessage:"Inviting members & guests"})}),(0,D.jsx)(z.q,{colorName:"secondary",styleName:"Body-14px/Regular",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.invitations.description",defaultMessage:"You can make certain features request-only. Requests can be approved by a workspace or organization owner. You can view all requests <requestslink>here</requestslink>",values:{requestslink:e=>(0,D.jsx)(Oi.Z,{onClick:()=>!1,children:e})}})})]}),(0,D.jsx)(jo,{config:Xi,messageArgs:a,getItem:s,shouldShowHoverStyles:n}),(0,D.jsx)(jo,{config:eo,messageArgs:a,getItem:s,shouldShowHoverStyles:n}),(0,D.jsx)(jo,{config:to,messageArgs:a,getItem:s,shouldShowHoverStyles:n})]})}function Mo(e){let{store:t,getItem:s,messageArgs:a,shouldShowHoverStyles:n}=e;return(0,D.jsxs)(ra.sg,{gap:12,children:[(0,D.jsx)(z.q,{styleName:"Heading-17px/Medium",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.integrations.title",defaultMessage:"Integrations"})}),(0,D.jsx)(jo,{config:so,messageArgs:a,getItem:s,shouldShowHoverStyles:n})]})}function jo(e){let{config:t,messageArgs:s,getItem:n,itemStyles:i,shouldShowHoverStyles:o}=e;const[r,l]=(0,a.useState)(!1),d=(0,S.yK)((e=>({container:{borderRadius:O.E.small},containerHover:{background:e.surface.wash}})),[]),c=r&&o?{...d.container,...d.containerHover}:d.container;return(0,D.jsx)("div",{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:(0,D.jsx)(L,{padding:8,shouldPaddingOverflowGrid:!0,title:t.formattedName,byline:t.getDescription(s),item:n({config:t,isHovered:r}),itemStyles:i,styles:c})})}function Co(e){const t=Io(),{organizationStore:s,config:a,messageArgs:n,pendingValue:i,setPendingValue:o}=e,r="unset",l=a.getOptions(),d=[{key:r,label:ao},...l],c=(0,b.$K)(i)?i:r;return(0,D.jsxs)("div",{style:t.settingSection,children:[(0,D.jsx)(wo,{organizationStore:s}),(0,D.jsx)("div",{style:t.settingOutline,children:(0,D.jsx)(jo,{config:a,messageArgs:n,getItem:()=>(0,D.jsx)(Y.L,{isMobile:!1,disabled:!1,type:"dropdown",currentOption:c,options:d,onSelectOption:e=>o(e===r?void 0:e),buttonStyle:t.dropdownButton,menuStyle:{width:300}}),itemStyles:t.dropdown})})]})}function wo(e){let{organizationStore:t}=e;const s=Io(),a=(0,v.VK)((()=>t.getName()),[t]);return(0,D.jsxs)("div",{style:s.heading,children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.heading",defaultMessage:"What should the organization setting be?"})}),(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.headingDescription",defaultMessage:"This will be applied to all workspaces in {organizationName}",values:{organizationName:a}})})]})}function Io(){return(0,S.yK)((e=>({heading:{width:"100%",display:"flex",flexDirection:"column",gap:4},settingSection:{width:"100%",display:"flex",flexDirection:"column",gap:12},settingOutline:{paddingLeft:12,paddingRight:12,border:`1px solid ${e.stroke.deemphasized}`,borderRadius:O.E.default},dropdown:{minWidth:280},dropdownButton:{marginTop:4,marginBottom:4,marginLeft:50,fontWeight:te.Z.fontWeight.medium}})),[])}function ko(e){const{isOpen:t,onClosed:s}=e;return(0,D.jsx)(fe.Z,{open:t,showCloseIcon:!0,onDismiss:s,onClosed:s,preventHideChildrenWhileOpening:!0,render:()=>(0,D.jsx)(zo,{...e})})}function zo(e){let{config:t,organizationStore:s,messageArgs:n,onClosed:i}=e;const o=(0,S.yK)((e=>({modal:{padding:20,width:760,display:"flex",alignItems:"center",flexDirection:"column",gap:24},buttonSection:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:8},submitButton:{width:"100%"}})),[]),r=(0,h.O7)(),{updateCacheWithRecordMap:l}=(0,a.useContext)(R.V),d=(0,v.VK)((()=>t.getValueFromOrganization(s)),[s,t]),[c,u]=(0,a.useState)({}),[g,m]=(0,a.useState)(d);(0,a.useEffect)((()=>{m(d)}),[d]);const[f,x]=(0,a.useState)(!1);return(0,D.jsxs)("div",{style:o.modal,children:[(0,D.jsx)(z.q,{styleName:"Heading-17px/Semibold",children:t.formattedName}),(0,D.jsx)(Co,{config:t,organizationStore:s,messageArgs:n,pendingValue:g,setPendingValue:e=>{m(e),u({})}}),(0,b.$K)(g)&&g!==d&&(0,D.jsx)(Bi,{organizationStore:s,config:t,pendingValue:g,spaceOverrideValues:c,setSpaceOverrideValue:e=>u((t=>({...t,[e.spaceId]:e.value})))}),(0,D.jsxs)("div",{style:o.buttonSection,children:[(0,D.jsx)(nn.Z,{onClick:async function(){if(f||g===d)return;x(!0);const e=[];for(const s of Object.keys(c)){const a=c[s];(0,b.$K)(a)&&a!==g&&e.push({spaceId:s,settings:t.formatValueToSave(a)})}const a=await j.updateOrganizationSettings(r,{organizationId:s.id,settings:void 0===g?t.formatUndefinedToSave():t.formatValueToSave(g),spaceOverrides:e});"success"===a.type?l({data:a.data}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),a)),x(!1),i()},isLarge:!0,style:o.submitButton,disabled:g===d||f,children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.submit",defaultMessage:"Change organization setting"})}),(0,D.jsx)(xa.Z,{onClick:i,isGray:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.editModal.cancel",defaultMessage:"Cancel"})})]})]})}function To(e){var t;let{organizationStore:s,config:n,messageArgs:i}=e;const{refreshOrganization:o}=(0,a.useContext)(re.g),r=n.getOptions(),l=(0,v.VK)((()=>n.getValueFromOrganization(s)),[s,n]),[d,c]=(0,a.useState)(!1),u=null===(t=r.find((e=>e.key===l)))||void 0===t?void 0:t.label,g=ao;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(Pi,{onClick:()=>{o(),c(!0)},style:{marginLeft:20},children:u?(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",children:u}):(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:g})}),(0,D.jsx)(ko,{organizationStore:s,config:n,isOpen:d,onClosed:()=>c(!1),messageArgs:i})]})}function Fo(e){var t;let{organizationStore:s}=e;const{spaceIds:n}=(0,a.useContext)(re.g),i=(0,h.O7)(),o=()=>{y.c4({environment:i,url:(0,f.a5)({organizationId:s.id,tabRoute:x.J7})})},r=e=>y.c4({environment:i,url:(0,f.a5)({organizationId:s.id,tabRoute:x.HI,properties:{subtab:or.OrganizationSettings},queryParams:{[bo]:e}})}),l=(0,v.VK)((()=>null==s?void 0:s.getName()),[s]),{state:d}=ua({environment:i}),{state:c}=Ni({environment:i}),u={type:"organization",guestCount:null===(t=d.value)||void 0===t?void 0:t.guestCount,publishedSitesCount:c.value,handleNavigate:(e,t)=>y.c4({environment:i,url:(0,f.a5)({organizationId:s.id,tabRoute:e,properties:t})})},g=(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.description",defaultMessage:"Organization owners can enforce certain security settings for {workspaceCount, plural, one {the <workspaceslink>1 workspace</workspaceslink>} other {all <workspaceslink>{workspaceCount} workspaces</workspaceslink>}} in {organizationName}. Once a setting is enforced, workspace owners will not be able to change it. <guidelink>Learn more</guidelink>.",values:{workspaceCount:n.length,workspaceslink:e=>(0,D.jsx)(Oi.Z,{onClick:o,children:e}),organizationName:l,guidelink:e=>(0,D.jsx)(Oi.Z,{href:"",external:!0,children:e})}});return(0,D.jsx)(yo,{headerMessage:g,store:s,getItem:e=>{let{config:t,isHovered:a}=e;return(0,D.jsx)(Ro,{organizationStore:s,config:t,isHovered:a,navigateToSummaryView:r,messageArgs:u})},messageArgs:u})}function Ro(e){let{organizationStore:t,config:s,isHovered:a,navigateToSummaryView:n,messageArgs:i}=e;const o=(0,S.yK)((e=>({inspectButton:{background:e.buttonBackground}})),[]);return(0,D.jsxs)(ra.X2,{gap:4,alignItems:"center",children:[a?(0,D.jsx)(E.Z,{style:o.inspectButton,onClick:()=>n(s.settingName),children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSettings.inspect",defaultMessage:"Inspect"})}):null,(0,D.jsx)(To,{organizationStore:t,config:s,messageArgs:i})]})}function Oo(e){let{linkText:t,onClick:s,children:n,shouldPaddingOverflowGrid:i}=e;const[o,r]=(0,a.useState)(!1),l=(0,S.yK)((e=>({container:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"4px 8px",borderRadius:O.E.small},overflowContainer:{marginLeft:-8,marginRight:-8,width:"calc(100% + 16px"},containerHover:{cursor:"pointer",background:e.surface.wash},arrowIcon:{height:14,width:14,color:e.icon.secondary},link:{display:"flex",flexDirection:"row",alignItems:"center",gap:4,padding:8,visibility:"hidden"},linkHover:{visibility:"visible"}})),[]);let d=o?{...l.container,...l.containerHover}:l.container;d=i?{...d,...l.overflowContainer}:d;const c=o?{...l.link,...l.linkHover}:l.link;return(0,D.jsxs)("div",{style:d,onClick:s,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[n,(0,D.jsxs)("div",{style:c,children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",as:"span",children:t}),(0,N.k)(l.arrowIcon)]})]})}function No(e){let{spaceStore:t,description:s}=e;const{name:a,icon:n}=(0,v.VK)((()=>({name:t.getName(),icon:t.getIcon()})),[t]);return(0,D.jsxs)(ra.X2,{gap:12,alignItems:"center",children:[(0,D.jsx)(jt.Z,{disabled:!0,icon:n,isEmptyPage:!1,title:a,size:26,isLarge:!0}),(0,D.jsxs)("div",{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",children:a}),s?(0,D.jsx)(z.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:s}):null]})]})}function Po(e){let{organizationStore:t}=e;const{refreshOrganization:s}=(0,a.useContext)(re.g);(0,pa.Z)((()=>{s()}));const n=ca(),i=(0,v.VK)((()=>t.getName()),[t]);return(0,D.jsxs)(ra.sg,{gap:12,children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSecuritySpaces.description",defaultMessage:"Choose a workspace and view all of its security settings. As an organization owner, you can also edit the security settings for any workspace in {organizationName}",values:{organizationName:i}})}),(0,D.jsx)(ra.sg,{gap:4,children:n.map((e=>(0,D.jsx)(Ao,{spaceStore:e,organizationId:t.id},e.id)))})]})}function Ao(e){let{spaceStore:t,organizationId:s}=e;const a=(0,h.O7)();return(0,D.jsx)(Oo,{linkText:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.organizationSecuritySpaces.viewSecuritySettingsLink",defaultMessage:"View security settings"}),onClick:()=>{return e=t.id,void y.c4({environment:a,url:(0,f.a5)({organizationId:s,tabRoute:x.HI,properties:{subtab:or.ByWorkspace},queryParams:{"space-id":e}})});var e},shouldPaddingOverflowGrid:!0,children:(0,D.jsx)(No,{spaceStore:t})},t.id)}function Bo(e){const t=(0,h.O7)(),{organizationOwnerRecordCache:s,updateCacheWithRecordMap:n}=(0,a.useContext)(R.V),{teamIdsForSpace:i,setTeamIdsForSpace:o}=(0,a.useContext)(re.g),r=(0,a.useMemo)((()=>i[e]),[i,e]),l=void 0===r,d=(0,a.useRef)(!1);return(0,M.r5)((async()=>{if(!l||d.current)return;d.current=!0;const s=await j.getTeamsForOrganizationSpace(t,{spaceId:e});"success"===s.type&&(n({data:s.data}),o(e,s.data.teamIds)),d.current=!1}),[t,n,e,o,l]),(0,v.VK)((()=>(r??[]).map((e=>new ae.zX(t,{id:e,table:La.e0},{inMemoryRecordCache:s})))),[r,s,t])}function Do(e){let{selectedSettingName:t,organizationId:s}=e;const a=(0,h.O7)(),n=(0,S.yK)((e=>({container:{display:"inline-flex",width:"fit-content"},menuItem:{fontSize:"inherit",borderRadius:O.E.default,border:`1px solid ${e.stroke.deemphasized}`,paddingTop:4,paddingBottom:4}})),[]);return(0,D.jsx)("div",{style:n.container,children:(0,D.jsx)(Ct.Z,{items:[...ho],getKey:de.yR,selectedItem:t,onSelect:e=>y.c4({environment:a,url:(0,f.a5)({organizationId:s,tabRoute:x.HI,properties:{subtab:or.OrganizationSettings},queryParams:{[bo]:e}})}),width:300,renderItem:e=>{const s=e.value;return(0,D.jsx)(Zo,{settingName:s,isSelected:t===s,...e})},renderOrigin:e=>(0,D.jsx)(Mt.Z,{focused:!1,title:xo(t).formattedName,style:n.menuItem,...e})})})}function Zo(e){let{settingName:t,isSelected:s,...a}=e;const n=xo(t).formattedName;return(0,D.jsx)(St.Z,{title:n,right:s?(0,xt.e)({width:14,height:14}):null,...a})}var _o=s(933679),Lo=s(743765),Uo=s(462385);function Vo(e){let{teamStores:t,spaceStore:s,settingName:a}=e;const n=Ho(),i=(0,v.VK)((()=>Wo(a,s,s)),[s,a]),o=(0,v.VK)((()=>t.filter((e=>{if(e.getParentId()!==s.id)return!1;return Wo(a,e,s)!==i}))),[t,s,i,a]),r=o.length;return 0===r?null:(0,D.jsx)(Ha.ZP,{popupType:Ha.Z4.Popup,renderOrigin:e=>(0,D.jsx)(Uo.Z,{style:n.badge,hoveredStyle:n.badgeHovered,...e,children:(0,D.jsx)(z.q,{styleName:"Body-12px/Medium",colorName:"uiBluePrimary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.customizedTeamSetting.badge",defaultMessage:"Customized in {customizedCount, plural, one {1 teamspace} other {{customizedCount} teamspaces}}",values:{customizedCount:r}})})}),render:()=>(0,D.jsx)(qo,{teamsWithCustomizations:o,spaceStore:s,settingName:a})})}function qo(e){let{teamsWithCustomizations:t,spaceStore:s,settingName:n}=e;const i=Ho(),o=(0,h.O7)(),{updateCacheWithRecordMap:r}=(0,a.useContext)(R.V);async function l(e,t){const s=await j.updateOrganizationTeamSettings(o,{teamId:e,settings:t});"success"===s.type?r({data:s.data}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),s))}const d=t.map((e=>({key:e.id,action:()=>!1,render:()=>(0,D.jsx)(Eo,{teamStore:e,spaceStore:s,settingName:n,handleTeamSettingUpdate:l},e.id)})));return(0,D.jsxs)(Ga.Z,{menuType:qa.og.Popup,minWidth:400,paddingTop:8,children:[(0,D.jsx)(Lo.Z,{title:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.customizedTeamSetting.customTeamspaceSetting",defaultMessage:"Custom teamspace settings"})}),(0,D.jsx)($a.Z,{style:i.teamMenuList,type:$a.i.Vertical,initialFocus:0,sections:[{key:"teams",render:e=>(0,D.jsx)(Pa.Z,{...e}),items:d}]})]})}function Eo(e){let{teamStore:t,spaceStore:s,settingName:a,handleTeamSettingUpdate:n}=e;const i=Ho(),{name:o,icon:r}=(0,v.VK)((()=>({name:t.getName(),icon:t.getIcon()})),[t]),l=(0,v.VK)((()=>function(e,t){if("disable_guests"===e){const e=Xi.getOptions();return t.getEnableGuestInviteRequest()?e.filter((e=>{let{key:t}=e;return"wo_only"!==t})):e.filter((e=>{let{key:t}=e;return"request"!==t}))}if("disable_export"===e)return Gi.getOptions();if("disable_public_access"===e)return Ki.getOptions();(0,b.t1)(e)}(a,s)),[a,s]),d=(0,v.VK)((()=>Wo(a,t,s)),[s,t,a]);return(0,D.jsx)(Y.Z,{isMobile:!1,type:"dropdown",title:(0,D.jsxs)("div",{style:i.teamName,children:[(0,D.jsx)(jt.Z,{disabled:!0,icon:r,isEmptyPage:!1,title:o,size:20}),(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",children:o})]}),currentOption:d,options:l,onSelectOption:e=>{const s=function(e){let{settingName:t,settingValue:s}=e;if("disable_guests"===t){if("none"===s)return;return Xi.formatValueToSave(s)}if("disable_export"===t){if("request"===s||"wo_only"===s)return;return Gi.formatValueToSave(s)}if("disable_public_access"===t){if("request"===s||"wo_only"===s)return;return Ki.formatValueToSave(s)}(0,b.t1)(t)}({settingName:a,settingValue:e});s&&n(t.id,s)},buttonStyle:i.dropdownButton})}function Wo(e,t,s){return"disable_guests"===e?Yi({store:t,guestRequestStore:s}):"disable_export"===e?Gi.getValueFromSpaceOrTeam(t):"disable_public_access"===e?Ki.getValueFromSpaceOrTeam(t):void(0,b.t1)(e)}function Ho(){return(0,S.yK)((e=>({badge:{marginLeft:4,marginRight:4,background:"light"===e.mode?Va.ZP.diffBackground:e.accentColors.uiBlue[300],whiteSpace:"nowrap",width:"fit-content",borderWidth:1,borderStyle:"solid",borderColor:"transparent"},badgeHovered:{marginLeft:4,marginRight:4,background:"light"===e.mode?Va.ZP.diffBackground:e.accentColors.uiBlue[300],whiteSpace:"nowrap",width:"fit-content",borderColor:e.accentColors.uiBlue[300]},teamMenuList:{marginLeft:12,marginRight:12,marginBottom:4},teamName:{display:"flex",alignItems:"center",userSelect:"none",gap:6,marginTop:4,marginBottom:4},dropdownButton:{marginTop:4,marginBottom:4}})),[])}function Ko(e){let{spaceStore:t,organizationStore:s,config:n,teamStores:i}=e;const o=$o(),r=(0,h.O7)(),{updateCacheWithRecordMap:l}=(0,a.useContext)(R.V),d=n.getOptions(),c=(0,v.VK)((()=>n.getValueFromSpaceOrTeam(t)),[t,n]),u=(0,v.VK)((()=>n.getValueFromOrganization(s)),[s,n]);return(0,D.jsxs)(ra.X2,{gap:2,alignItems:"center",children:[n.teamSettingName&&(0,D.jsx)(Vo,{spaceStore:t,teamStores:i,settingName:n.teamSettingName}),u&&u===c&&(0,D.jsx)(Go,{organizationStore:s}),(0,D.jsx)(Y.L,{isMobile:!1,disabled:!1,type:"dropdown",currentOption:c,options:d,onSelectOption:async e=>{const s=n.formatValueToSave(e);await async function(e){const s=await j.updateOrganizationSpaceSettings(r,{spaceId:t.id,settings:e});"success"===s.type?l({data:s.data}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),s))}(s)},buttonStyle:o.dropdownButton,menuStyle:{width:300}})]})}function Go(e){let{organizationStore:t}=e;const s=$o(),a=(0,v.VK)((()=>t.getName()),[t]);return(0,D.jsx)(B.Z,{textWrap:!0,style:s.tooltip,renderTooltip:()=>(0,D.jsxs)(ra.sg,{gap:4,children:[(0,D.jsx)("div",{children:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"This setting is managed by {organizationName}",id:"settingsConsole.security.workspace.orgControlledSetting.tooltipHeader",values:{organizationName:a}})}),(0,D.jsx)("div",{style:s.tooltipDescription,children:(0,D.jsx)(p.FormattedMessage,{defaultMessage:"By default, all workspaces will use the organization's setting. Organization owners can still customize this, but workspace owners cannot.",id:"settingsConsole.security.workspace.orgControlledSetting.tooltipContent"})})]}),placement:A.u.Bottom,render:e=>(0,D.jsx)("div",{...e,children:(0,_o.j)(s.lockedIcon)})})}function $o(){return(0,S.yK)((e=>({lockedIcon:{width:14,height:14,fill:e.icon.tertiary},dropdownButton:{marginTop:4,marginBottom:4,fontWeight:te.Z.fontWeight.medium},tooltip:{minWidth:350},tooltipDescription:{color:e.accentColors.translucentGray[800]}})),[])}function Qo(e){let{settingName:t,organizationStore:s}=e;const{refreshOrganization:n}=(0,a.useContext)(re.g);(0,pa.Z)((()=>{n()}));const i=xo(t);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(lt,{title:(0,D.jsx)(er,{settingName:t,organizationId:s.id})}),(0,D.jsxs)(ra.sg,{gap:16,children:[(0,D.jsx)(Yo,{organizationStore:s,config:i}),(0,D.jsx)(Jo,{organizationStore:s,config:i})]})]})}function Yo(e){var t;let{organizationStore:s,config:a}=e;const n=tr(),i=(0,h.O7)(),{state:o}=ua({environment:i,shouldSkip:"guest-invites"!==a.settingName}),{state:r}=Ni({environment:i,settingName:a.settingName}),l={type:"organization",guestCount:null===(t=o.value)||void 0===t?void 0:t.guestCount,publishedSitesCount:r.value,handleNavigate:(e,t)=>y.c4({environment:i,url:(0,f.a5)({organizationId:s.id,tabRoute:e,properties:t})})};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.perSetting.organizationSetting",defaultMessage:"Organization setting"})}),(0,D.jsx)("div",{style:n.settingOutline,children:(0,D.jsx)(jo,{config:a,messageArgs:l,getItem:e=>{let{config:t}=e;return(0,D.jsx)(To,{organizationStore:s,config:t,messageArgs:l})}})})]})}function Jo(e){let{config:t,organizationStore:s}=e;const a=ca(),n=tr();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(z.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.perSetting.workspaceSettings",defaultMessage:"Workspace settings"})}),(0,D.jsx)("div",{style:{...n.settingOutline,display:"flex",flexDirection:"column",gap:4,paddingTop:4,paddingBottom:4},children:a.map((e=>(0,D.jsx)(Xo,{organizationStore:s,spaceStore:e,config:t},e.id)))})]})}function Xo(e){let{config:t,spaceStore:s,organizationStore:a}=e;const n=Bo(s.id);return(0,D.jsxs)(ra.X2,{alignItems:"center",justifyContent:"space-between",children:[(0,D.jsx)(No,{spaceStore:s}),(0,D.jsx)(Ko,{teamStores:n,spaceStore:s,organizationStore:a,config:t})]})}function er(e){let{settingName:t,organizationId:s}=e;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.perSetting.title",defaultMessage:"Security summary for "}),(0,D.jsx)(Do,{selectedSettingName:t,organizationId:s})]})}function tr(){return(0,S.yK)((e=>({settingOutline:{paddingLeft:12,paddingRight:12,border:`1px solid ${e.stroke.deemphasized}`,borderRadius:O.E.default}})),[])}var sr=s(88893),ar=s(288280);function nr(e){let{organizationStore:t,spaceId:s}=e;const a=(0,h.O7)(),n=es({spaceId:s}),i=Bo(s),o=(0,v.VK)((()=>{const e=ar.subscriptionDataStoreInstance.state;return e?sr.lk(e):void 0}),[]),r=function(e){let{environment:t,spaceId:s}=e;const[a]=(0,M.r5)((async()=>{const e=await j.getPublishedPageCountForOrganizationSpace(t,{spaceId:s});if("failed"!==e.type)return e.data.publishedPagesCount}),[t,s]);return a.value}({environment:a,spaceId:s});return n?(0,D.jsx)(lt,{title:(0,D.jsx)(ir,{spaceStore:n,organizationId:t.id}),children:(0,D.jsx)(yo,{store:n,getItem:e=>{let{config:s}=e;return(0,D.jsx)(Ko,{spaceStore:n,organizationStore:t,teamStores:i,config:s})},messageArgs:{type:"space",guestCount:o,publishedSitesCount:r,handleNavigate:(e,n)=>y.c4({environment:a,url:(0,f.a5)({organizationId:t.id,tabRoute:e,properties:n,queryParams:{"space-id":s}})})}})}):null}function ir(e){let{spaceStore:t,organizationId:s}=e;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.workspace.title",defaultMessage:"Security settings for "}),(0,D.jsx)(It,{organizationId:s,currentTabRoute:x.HI,currentTabProperties:{subtab:or.ByWorkspace},selectedSpaceStore:t})]})}let or=function(e){return e.OrganizationSettings="organization-settings",e.ByWorkspace="by-workspace",e}({});const rr=[{name:or.OrganizationSettings,tab:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.subTab.organizationSettings.title",defaultMessage:"Organization Settings"})},{name:or.ByWorkspace,tab:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.subTab.byWorkspace.title",defaultMessage:"By Workspace"})}];function lr(e){let{organizationId:t,subtab:s,queryParams:n}=e;const i=(0,h.O7)(),o=(0,a.useMemo)((()=>function(e){if("by-workspace"===e)return or.ByWorkspace;return or.OrganizationSettings}(s)),[s]),r=(0,ut.k)({organizationId:t}),l=n["space-id"],d=(0,b.qg)(fo,n[bo])?n[bo]:void 0;if(!r)return null;const c=e=>{y.c4({environment:i,url:(0,f.a5)({organizationId:t,tabRoute:x.HI,properties:{subtab:e}})})};return o===or.ByWorkspace&&l?(0,D.jsx)(cr,{spaceId:l,organizationStore:r,navigateToTab:c}):o===or.OrganizationSettings&&d?(0,D.jsx)(dr,{organizationStore:r,navigateToTab:c,settingName:d}):(0,D.jsx)(ur,{currentTab:o,organizationStore:r,navigateToTab:c})}function dr(e){let{organizationStore:t,settingName:s,navigateToTab:a}=e;const n=De();return(0,D.jsxs)(it,{children:[(0,D.jsx)(xa.Z,{onClick:()=>a(or.OrganizationSettings),style:n.linkButton,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSecurity.organization.backToAllSetting",defaultMessage:"← All organization settings"})}),(0,D.jsx)(Qo,{settingName:s,organizationStore:t})]})}function cr(e){let{organizationStore:t,spaceId:s,navigateToTab:a}=e;const n=De();return(0,D.jsxs)(it,{children:[(0,D.jsx)(xa.Z,{onClick:()=>a(or.ByWorkspace),style:n.linkButton,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSecurity.workspace.backToAll",defaultMessage:"← All workspaces"})}),(0,D.jsx)(nr,{organizationStore:t,spaceId:s})]})}function ur(e){let{currentTab:t,organizationStore:s,navigateToTab:a}=e;return(0,D.jsx)(it,{children:(0,D.jsxs)(lt,{title:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.security.title",defaultMessage:"Security"}),children:[(0,D.jsx)(dt,{tabConfig:{tabs:rr,currentTabName:t,updateTab:a}}),(0,D.jsx)(gr,{currentTab:t,organizationStore:s})]})})}function gr(e){switch(e.currentTab){case or.OrganizationSettings:return(0,D.jsx)(Fo,{organizationStore:e.organizationStore});case or.ByWorkspace:return(0,D.jsx)(Po,{organizationStore:e.organizationStore});default:(0,b.t1)(e.currentTab)}}var mr=s(984619),pr=s(543145),hr=s(685567),fr=s(100719);const xr=10;function br(e){const{organizationStore:t,workspaceOwnerIdsBySpaceId:s,spaceStores:n,handleClose:i}=e,{updateCacheWithRecordMap:o}=(0,a.useContext)(R.V),r=vr(),l=(0,h.O7)(),d=(0,p.useIntl)(),c=null==t?void 0:t.id,u=(0,v.VK)((()=>(null==t?void 0:t.getOwnerIds())??[]),[t]),[g,m]=(0,a.useState)(u),[f,x]=(0,a.useState)(xr),[y,S]=(0,a.useState)(""),M=Object.values(s).flat(),k=(0,de.jj)([...g,...M]),T=(0,a.useMemo)((()=>{const e={};for(const[t,a]of Object.entries(s))for(const s of a)e[s]||(e[s]=[]),e[s].push(t);return e}),[s]),F=(0,v.VK)((()=>n.reduce(((e,t)=>({...e,[t.id]:t.getName()??""})),{})),[n]),O=k.length,[N,P]=(0,a.useState)(!1),A=(0,a.useCallback)((async()=>{if(P(!0),!c||0===g.length)return P(!1),void i();const e=await j.updateOrganization(l,{organizationId:c,ownerIds:g});"success"===e.type?o({data:e.data}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),e)),P(!1),i()}),[c,g,i,l,o]),B=(0,v.VK)((()=>k.map((e=>new ae.U6(l,{table:Ze.KJ,id:e},{userId:e})))),[k,l]),Z=(0,v.VK)((()=>g.map((e=>B.find((t=>t.id===e)))).filter(b.$K)),[g,B]),_=(0,a.useCallback)((e=>{S(e.target.value)}),[]);const L=(0,a.useCallback)((e=>{const t=g.includes(e)?[...g.filter((t=>t!==e))]:[...g,e];m(t),S("")}),[g,m]),U=(0,v.VK)((()=>Z.map((e=>(0,D.jsx)(yr,{showRemoveButton:!0,intl:d,userStore:e,onClickRemove:()=>{const t=g.filter((t=>t!==e.id));m(t)}},e.id)))),[g,Z,m,d]),V=(0,v.VK)((()=>B.map((e=>{var s;const a=e.getFullName(d)??e.getEmail(),n=(T[e.id]??[]).map((e=>F[e]));if(a&&(a.toLocaleLowerCase().includes(y)||null!==(s=e.getEmail())&&void 0!==s&&s.toLocaleLowerCase().includes(y)))return{key:e.id,action:()=>L(e.id),render:s=>(0,D.jsx)(St.Z,{...s,icon:(0,D.jsx)(sn.Z,{checked:g.includes(e.id),onClick:()=>L(e.id),size:16}),focused:!1,title:(0,D.jsxs)("div",{style:r.optionContainer,children:[(0,D.jsx)(Le.Z,{userStore:e,size:24,style:r.optionAvatar}),(0,D.jsxs)("div",{style:{paddingTop:4,paddingBottom:4},children:[(0,D.jsx)(W.Z,{style:r.optionTitle,children:a}),(0,D.jsx)(W.Z,{style:r.optionCaption,children:n.length>0?(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.workspaceOwner",defaultMessage:(0,p.plural)("count",{one:"Workspace owner of {workspaceName}","=2":"Workspace owner of {workspaceName}, {secondWorkspaceName}","=3":"Workspace owner of {workspaceName}, {secondWorkspaceName}",other:"Workspace owner of {workspaceName}, {secondWorkspaceName} +{extraCount} more"}),values:{workspaceName:n[0],secondWorkspaceName:n[1],count:n.length,extraCount:n.length-2}}):(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.notWorkspaceOwner",defaultMessage:"Not currently a workspace owner of any {organizationName} workspaces",values:{organizationName:null==t?void 0:t.getName()}})})]})]})})}})).filter(b.$K)),[d,g,r.optionAvatar,r.optionCaption,r.optionContainer,r.optionTitle,L,B,y,T,t,F]),q={key:"userOptions",items:V.slice(0,f),render:e=>(0,D.jsx)(Pa.Z,{...e,title:null,loading:!1})};return(0,D.jsxs)("div",{style:r.container,children:[(0,D.jsxs)("div",{style:r.section,children:[(0,D.jsx)(z.q,{styleName:"Caption-12px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.inputTitle",defaultMessage:"Organization owners"})}),(0,D.jsx)(fr.Z,{focus:!0,overflowHorizontally:!0,value:y,style:r.inputContainer,inputStyle:r.input,placeholder:d.formatMessage({id:"updateOrganizationOwnersModal.searchForWorkspaceOwners",defaultMessage:"Search for workspace owners"}),onChange:_,onRemoveLastToken:()=>{const e=g.slice(0,-1);m(e)},tokens:U}),(0,D.jsx)(z.q,{styleName:"Caption-12px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.inputDescription",defaultMessage:"Type to search for someone"})})]}),(0,D.jsxs)("div",{style:r.section,children:[(0,D.jsx)(z.q,{styleName:"Caption-12px/Medium",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.inputBylineTitle",defaultMessage:"Existing workspace owners"})}),(0,D.jsx)("div",{style:r.menuContainer,children:V.length>0?(0,D.jsxs)(Ga.Z,{menuType:qa.og.Popup,header:null,height:240,children:[(0,D.jsx)($a.Z,{type:$a.i.Vertical,initialFocus:0,sections:[q]}),(0,D.jsx)(pr.Z,{onChange:function(e){e<5&&f<O&&x(f+xr)}})]}):(0,D.jsx)(W.Z,{isSecondaryColor:!0,style:r.noResultsMessage,children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.menu.noResultsMessage",defaultMessage:"No workspace owners found"})})})]}),(0,D.jsxs)(Pa.Z,{topBorder:!1,style:r.footer,children:[(0,D.jsx)(nn.Z,{isLarge:!0,style:r.footerButton,disabled:0===g.length,onClick:A,children:N?(0,D.jsx)(za.Z,{}):(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.save",defaultMessage:"Update organization owners"})}),(0,D.jsx)(xa.Z,{style:r.footerButton,onClick:i,isGray:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.cancel",defaultMessage:"Cancel"})})]})]})}function yr(e){const{userStore:t,intl:s,showRemoveButton:a,onClickRemove:n}=e,i=vr(),o=(0,v.VK)((()=>t.getFullName(s)??t.getEmail()),[t,s]);return o?(0,D.jsx)(hr.Z,{isSingle:!0,format:mr.lo.Inline,showRemoveButton:Boolean(a),onClickRemove:n,style:a?i.pillContainerWithRemoveButton:i.pillContainer,value:(0,D.jsxs)("div",{style:i.pillContents,children:[(0,D.jsx)(Le.Z,{userStore:t,size:18}),(0,D.jsx)(W.Z,{style:i.pillText,children:o})]})},t.id):(0,D.jsx)(k.Z,{style:i.loadingToken})}function vr(){return(0,S.yK)((e=>({optionContainer:{display:"flex",flexDirection:"row",alignItems:"center"},optionAvatar:{marginRight:8},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:24,width:"100%",marginTop:24},section:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:8,width:"100%"},menuContainer:{width:"100%",border:`1px solid ${e.outlineButtonBorder}`,borderRadius:O.E.small},footer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:8},footerButton:{width:"100%",textAlign:"center",alignItems:"center",justifyContent:"center"},inputContainer:{margin:"0px auto",width:"100%",padding:4,height:38,flexWrap:"nowrap",overflowX:"scroll",overflowY:"hidden",border:`1px solid ${e.outlineButtonBorder}`,boxShadow:"none",borderRadius:O.E.default},input:{height:28},pillContainer:{padding:"4px 8px 4px 8px",background:e.modalBackground,border:`1px solid ${e.outlineButtonBorder}`,borderRadius:O.E.small,height:28,margin:0,marginRight:4},pillContainerWithRemoveButton:{padding:"4px 4px 4px 8px",background:e.modalBackground,border:`1px solid ${e.outlineButtonBorder}`,borderRadius:O.E.small,height:28,margin:0,marginRight:4},pillContents:{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:2},pillText:{marginLeft:4},noResultsMessage:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textAlign:"center",height:240},optionTitle:{display:"block"},optionCaption:{display:"block",color:e.mediumTextColor,fontSize:12,lineHeight:"15px"},loadingToken:{position:"relative",display:"inline-block",height:28,borderRadius:O.E.small,width:120,marginRight:O.E.small}})),[])}var Sr=s(521213),Mr=s(374194);function jr(e){let{isOpen:t,handleClose:s,currentOrganizationName:a,organizationId:n}=e;return(0,D.jsx)(fe.Z,{open:t,onDismiss:s,showCloseIcon:!0,preventHideChildrenWhileOpening:!0,render:()=>(0,D.jsx)(Cr,{currentOrganizationName:a,handleClose:s,organizationId:n})})}function Cr(e){let{currentOrganizationName:t,handleClose:s,organizationId:n}=e;const i=(0,S.yK)((e=>({modalBody:{padding:20,minWidth:300,display:"flex",alignItems:"center",flexDirection:"column"},nameInput:{marginTop:24,marginBottom:24},icon:{height:36,width:36,fill:e.mediumIconColor,marginBottom:8},submitButton:{marginBottom:8,width:"100%"}})),[]),o=(0,h.O7)(),{updateCacheWithRecordMap:r}=(0,a.useContext)(R.V),[l,d]=(0,a.useState)(t),[c,u]=(0,a.useState)(!1),g=(0,a.useCallback)((e=>{d(e.target.value)}),[]),m=(0,a.useCallback)((async e=>{if(!e)return;u(!0);const t=await j.updateOrganization(o,{organizationId:n,name:e});"success"===t.type?r({data:t.data}):C.showErrorMessage((0,w.wf)(I.default.getIntl(),t)),u(!1),s()}),[s,o,n,r]);return(0,D.jsxs)("div",{style:i.modalBody,children:[(0,Sr.T)(i.icon),(0,D.jsx)(z.q,{styleName:"Heading-17px/Medium",colorName:"primary",children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationNameModal.title",defaultMessage:"Change organization name"})}),(0,D.jsx)(Mr.Z,{value:l,onChange:g,style:i.nameInput}),(0,D.jsx)(nn.Z,{onClick:()=>m(l),isLarge:!0,disabled:!l,style:i.submitButton,children:c?(0,D.jsx)(za.Z,{}):(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationNameModal.changeName",defaultMessage:"Change name"})}),(0,D.jsx)(xa.Z,{onClick:s,isGray:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationNameModal.cancel",defaultMessage:"Cancel"})})]})}function wr(e){let{organizationStore:t,handleClose:s,isOpen:a}=e;const n=ca(),{workspaceOwnerIdsBySpaceId:i}=function(e){let{organizationId:t}=e;const s=(0,h.O7)(),[{status:a,error:n,value:i}]=(0,M.r5)((async()=>{if(!t)return{userIdsBySpaceId:{}};const e=await j.getWorkspaceOwnersInOrganization(s,{organizationId:t});if("success"===e.type)return e.data;if("failed"===e.type)throw e.error;return(0,b.t1)(e)}),[s,t]);return{workspaceOwnerIdsBySpaceId:(null==i?void 0:i.userIdsBySpaceId)??{},loading:"pending"===a||"idle"===a,error:n}}({organizationId:null==t?void 0:t.id});return(0,D.jsx)(Xa.c,{isOpen:a,onDismiss:s,render:()=>(0,D.jsx)(Ir,{organizationStore:t,workspaceOwnerIdsBySpaceId:i,spaceStores:n,handleClose:s})})}function Ir(e){let{organizationStore:t,workspaceOwnerIdsBySpaceId:s,spaceStores:a,handleClose:n}=e;const i=(0,S.yK)((e=>({modalBody:{padding:"20px 12px 12px",width:520,display:"flex",alignItems:"center",flexDirection:"column",overflowY:"auto"},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",gap:4,marginBlock:4},icon:{height:32,width:32,fill:e.mediumIconColor,marginBottom:8}})),[]),o=(0,v.VK)((()=>t.getName()),[t]);return(0,D.jsxs)("div",{style:i.modalBody,children:[(0,tn._)(i.icon),(0,D.jsxs)("div",{style:i.header,children:[(0,D.jsx)(z.q,{styleName:"Heading-17px/Medium",colorName:"primary",children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.title",defaultMessage:"Edit organization owners"})}),(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",children:(0,D.jsx)(p.FormattedMessage,{id:"updateOrganizationOwnersModal.byline",defaultMessage:"Organization owners can manage all workspaces and members in {organizationName}",values:{organizationName:o}})})]}),(0,D.jsx)(br,{organizationStore:t,workspaceOwnerIdsBySpaceId:s,spaceStores:a,handleClose:n})]})}function kr(e){let{organizationId:t}=e;const s=(0,ut.k)({organizationId:t}),n=(0,v.VK)((()=>null==s?void 0:s.getName()),[s]),[i,o]=(0,a.useState)(!1);return(0,D.jsxs)(ra.sg,{gap:12,children:[(0,D.jsxs)(ra.sg,{gap:4,children:[(0,D.jsx)(W.Z,{isSmall:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettings.organizationName",defaultMessage:"Organization name"})}),(0,D.jsx)(Pi,{onClick:()=>o(!0),children:n}),(0,D.jsx)(jr,{currentOrganizationName:n,organizationId:t,isOpen:i,handleClose:()=>o(!1)})]}),(0,D.jsxs)(ra.sg,{gap:4,children:[(0,D.jsx)(W.Z,{isSmall:!0,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettings.organizationOwners",defaultMessage:"Organization owners"})}),(0,D.jsx)(ra.X2,{children:(0,D.jsx)(zr,{organizationStore:s})})]})]})}function zr(e){const{organizationStore:t}=e,s=(0,p.useIntl)(),n=(0,h.O7)(),[i,o]=(0,a.useState)(!1),r=(0,S.yK)((()=>({button:{height:"unset",paddingBlock:4},plusMore:{width:32}})),[]),l=(0,v.VK)((()=>(null==t?void 0:t.getOwnerIds())??[]),[t]),d=l.slice(0,5),c=l.slice(5),u=(0,v.VK)((()=>d.map((e=>{const t=new ae.U6(n,{table:Ze.KJ,id:e},{userId:e});return(0,D.jsx)(yr,{userStore:t,intl:s},t.id)}))),[d,n,s]);return t?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(Pi,{onClick:()=>o(!0),style:r.button,children:[u,c.length>0?(0,D.jsx)(W.Z,{style:r.plusMore,isSecondaryColor:!0,children:`+${c.length}`}):null]}),(0,D.jsx)(wr,{organizationStore:t,isOpen:i,handleClose:()=>o(!1)})]}):null}var Tr=s(143169),Fr=s(786249),Rr=s(705478);function Or(e){let{organizationId:t}=e;return(0,D.jsxs)("div",{children:[(0,D.jsx)(z.q,{styleName:"Heading-17px/Medium",as:"h2",children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.title",defaultMessage:"Verified email domains"})}),(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",as:"p",children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.byline",defaultMessage:"Your organization can have multiple email domains. Verify ownership of an email domain to access advanced security features including single-sign on. Once you associate a verified email domain with your organization, you can manage all Notion accounts created using an email address with that email domain."})}),(0,D.jsx)(Dr,{organizationId:t})]})}const Nr={height:53,display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%",gap:4};var Pr=function(e){return e.Domain="domain",e.Loading="loading",e}(Pr||{});const Ar=[{id:"domain",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.domain",defaultMessage:"Email domain"}),renderCell:e=>e.type===Pr.Domain?(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",as:"span",customStyles:Nr,children:`@${e.verification.domain}`}):(0,D.jsx)(Ie.HD,{titleStyles:{width:"100%"}}),widthData:{widthPercent:30,minWidth:80},sortable:!1},{id:"status",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.status",defaultMessage:"Email domain status"}),renderCell:e=>e.type===Pr.Domain?(0,D.jsx)(Fr.zq,{status:Rr.YF.Success}):(0,D.jsx)(Ie.HD,{}),widthData:{widthPercent:24,minWidth:60},sortable:!1},{id:"usersCount",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.usersCount",defaultMessage:"All managed accounts"}),renderCell:e=>e.type===Pr.Domain?(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",as:"span",customStyles:Nr,children:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.usersCount.cellCount",defaultMessage:"{formattedAmount} {usersCount, plural, one {managed account} other {managed accounts}}",values:{usersCount:e.usersCount,formattedAmount:(0,D.jsx)(F.e,{num:e.usersCount,abbreviateNumber:!1})}})}):(0,D.jsx)(Ie.HD,{}),widthData:{widthPercent:24,minWidth:60},sortable:!1},{id:"loginMethod",headerTitle:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod",defaultMessage:"Login methods"}),renderCell:e=>e.type===Pr.Domain?(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",as:"span",customStyles:Nr,children:Zr(e.loginMethod)}):(0,D.jsx)(Ie.HD,{}),widthData:{widthPercent:24,minWidth:60},sortable:!1}],Br=[{id:"1",isClickable:!1,type:Pr.Loading},{id:"2",isClickable:!1,type:Pr.Loading}];function Dr(e){let{organizationId:t}=e;const s=(0,h.O7)(),[{status:a,value:n}]=(0,M.r5)((async()=>{const e=await j.getVerifiedDomainsForOrganization(s,{organizationId:t});if("success"===e.type)return e.data;if("failed"===e.type)throw e.error;return(0,b.t1)(e)}),[s,t]),i=n?n.domainData.map((e=>({id:e.verification.domain,verification:e.verification,usersCount:e.usersCount,loginMethod:e.loginMethod,isClickable:!1,type:Pr.Domain}))):[],o="resolved"!==a?Br:i,r=De(),l=(0,S.yK)((e=>(0,je.b)({columnRenderInfo:Ar,theme:e,containerMarginTop:0})),[]),d=Ar.map((e=>({...e,headerStyle:r.tableHeader})));return(0,D.jsx)(je.D,{hideHeaderRowPadding:!0,showRowBorders:!0,allowHorizontalScroll:!0,columnRenderInfo:d,rows:o,renderNoRowsComponent:()=>null,styles:l})}function Zr(e){switch(e){case Tr.b.ConfiguredSSO:return(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod.methodConfiguredSSO",defaultMessage:"SAML SSO or email"});case Tr.b.EnforcedSSO:return(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod.methodEnforcedSSO",defaultMessage:"Only SAML SSO"});case Tr.b.Standard:return(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod.methodStandard",defaultMessage:"Email"});case Tr.b.NotAvailable:return(0,D.jsx)(p.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod.methodNotAvailable",defaultMessage:"Not yet available"});default:(0,b.t1)(e)}}function _r(e){let{organizationId:t}=e;return t?(0,D.jsxs)(it,{children:[(0,D.jsx)(lt,{title:(0,D.jsx)(p.FormattedMessage,{id:"organizationSettings.title",defaultMessage:"Organization settings"})}),(0,D.jsxs)(ra.sg,{gap:16,children:[(0,D.jsx)(kr,{organizationId:t}),(0,D.jsx)(ja,{organizationId:t}),(0,D.jsx)(Or,{organizationId:t})]})]}):null}function Lr(e){let{organizationStore:t}=e;return(0,D.jsx)(ja,{hideHeaderSection:!0,organizationId:t.id,spacePageSize:10})}function Ur(e){let{organizationId:t}=e;const s=(0,ut.k)({organizationId:t});return s?(0,D.jsxs)(it,{children:[(0,D.jsx)(lt,{title:(0,D.jsx)(p.FormattedMessage,{id:"organizationWorkspaces.title",defaultMessage:"Workspaces"})}),(0,D.jsx)(z.q,{styleName:"Body-14px/Regular",colorName:"secondary",as:"p",children:(0,D.jsx)(p.FormattedMessage,{id:"organizationWorkspaces.byline",defaultMessage:"An organization can have multiple workspaces. You will be able to create new workspaces in your organization or claim existing ones that have been created with a verified email address to expand your organization."})}),(0,D.jsx)(Lr,{organizationStore:s})]}):null}const Vr=["a52b4980-a750-48e6-b4f8-569b7aa437ab","380c46e5-ad8f-41c2-aeb9-5c5707171c42"],qr={home:()=>!0,security:()=>!0,people:()=>!0,accounts:()=>!0,audit_log:e=>{let{organizationId:t}=e;return!Vr.includes(t)},organization_settings:()=>!0,workspaces:()=>!0,analytics:()=>!1,content_search:()=>!1},Er={home:{tab:{icon:u.z,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.home",defaultMessage:"Home"})},scene:e=>(0,D.jsx)(ka,{...e})},security:{tab:{icon:c.I,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.security",defaultMessage:"Security"})},scene:e=>(0,D.jsx)(lr,{subtab:e.properties.subtab,...e})},people:{tab:{icon:m.O,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.people",defaultMessage:"People"})},scene:e=>(0,D.jsx)(Ti,{subtab:e.properties.subtab,...e})},accounts:{tab:{icon:i.p,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.accounts",defaultMessage:"Accounts"})},scene:e=>(0,D.jsx)(pt,{subtab:e.properties.subtab,...e})},audit_log:{tab:{icon:l.N,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.audit_log",defaultMessage:"Audit log"})},scene:e=>(0,D.jsx)(aa,{...e,spaceId:e.queryParams["space-id"]})},content_search:{tab:{icon:r.p,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.contentSearch",defaultMessage:"Content Search"})},scene:e=>(0,D.jsx)(oa,{spaceId:e.queryParams["space-id"],...e})},analytics:{tab:{icon:n.z,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.contentAnalytics",defaultMessage:"Analytics"})},scene:e=>(0,D.jsx)(ts,{spaceId:e.queryParams["space-id"],subtab:e.properties.subtab,...e})},organization_settings:{tab:{icon:g.r,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.organization_settings",defaultMessage:"Organization"})},scene:e=>(0,D.jsx)(_r,{...e})},workspaces:{tab:{icon:o.n,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.organization.tabNames.workspaces",defaultMessage:"Workspaces"})},scene:e=>(0,D.jsx)(Ur,{...e})}},Wr={members:e=>{let{environment:t,currentUserStore:s,workspaceId:a}=e;return!0},security:e=>{let{environment:t,currentUserStore:s,workspaceId:a}=e;return!0}},Hr={members:{tab:{icon:m.O,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.workspace.tabNames.members",defaultMessage:"Members"})},scene:e=>(0,D.jsx)("div",{children:"members"})},security:{tab:{icon:d.H,name:(0,D.jsx)(p.FormattedMessage,{id:"settingsConsole.workspace.tabNames.security",defaultMessage:"Settings"})},scene:e=>(0,D.jsx)("div",{children:"security"})}}},96915:(e,t,s)=>{s.d(t,{E:()=>a});const a={mini:3,small:4,default:6,medium:8,large:12,max:16}},853353:(e,t,s)=>{s.d(t,{Z:()=>d});var a=s(886628),n=s(798165),i=s(165598),o=s(548779),r=s(80444);function l(e,t){return(0,o.Q6)(e)?{isGuestRequestRequired:!0}:t?{isStoreInTeam:!0,teamAllowsGuests:!0,spaceAllowsGuests:!0,isGuestRequestRequired:!1}:{isStoreInTeam:!1,spaceAllowsGuests:!0,isGuestRequestRequired:!1}}const d=function(e){return(0,a.VK)((()=>{if((0,i.R$)(e))return{isStoreInTeam:!1,spaceAllowsGuests:!0,isGuestRequestRequired:!1};if(!(0,i.OY)(e))return(0,o.kt)(e)?l(e,void 0):{isStoreInTeam:!1,spaceAllowsGuests:!0,isGuestRequestRequired:!1};const t=(0,n.VP)(e),s=(0,n.Pj)(e),a=s||r.default.state.currentSpaceStore;if((0,o.kt)(a))return l(a,t);const d=!(null!=s&&s.getDisableGuests());return t?{isStoreInTeam:!0,teamAllowsGuests:!t.getDisableGuests(),spaceAllowsGuests:d,isGuestRequestRequired:!1}:{isStoreInTeam:!1,spaceAllowsGuests:d,isGuestRequestRequired:!1}}),[e])}},26781:(e,t,s)=>{s.d(t,{S:()=>o});s(667294);var a=s(709291),n=s(853353),i=s(785893);function o(e){const t=(0,n.Z)(e);return t.isGuestRequestRequired?(0,i.jsx)(a.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.guestRequestRequired",defaultMessage:"This guest must be approved by a workspace owner first"}):t.isStoreInTeam?t.teamAllowsGuests?void 0:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(a.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.teamDisablesGuestsAlertLine1",defaultMessage:"This teamspace doesn't allow guests."})}),(0,i.jsx)("div",{children:(0,i.jsx)(a.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.teamDisablesGuestsAlertLine2",defaultMessage:"Remove any guests to continue."})})]}):t.spaceAllowsGuests?void 0:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(a.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.spaceDisablesGuestsAlertLine1",defaultMessage:"This workspace doesn't allow guests."})}),(0,i.jsx)("div",{children:(0,i.jsx)(a.FormattedMessage,{id:"contextualInvite.buttonAndTokenTooltip.spaceDisablesGuestsAlertLine2",defaultMessage:"Remove any guests to continue."})})]})}},582787:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(667294),n=s(886628),i=s(433422),o=s(145953),r=s(210228),l=s(503932),d=s(80444);function c(e){let{unpersistedInMemoryRecordCache:t}=e;const s=(0,n.VK)((()=>{var e;return null===(e=d.default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]);return{createAndCommit:(0,a.useCallback)((e=>{let{perform:a}=e;const n=new l.Y({deadlockTimeoutMs:r.DEADLOCK_WARNING_TIMEOUT_MS}),d=a(n),c=o.Ak.create();n.stores.forEach((e=>{const t=e.getRecordModel(e.pointer);t&&c.addModel(t)})),(0,i.FS)({operations:n.operations,recordMap:c,updateOnly:!1});for(const i of c){const{model:e,pointer:a}=i;t.setModelAndRole({pointer:a,userId:s},e,"editor")}return t.emitAll(),{performResult:d,serverCommitResult:Promise.resolve()}}),[t,s])}}},967950:(e,t,s)=>{s.d(t,{B:()=>n,Z:()=>o});var a=s(749085);const n={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range"};class i extends a.default{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const o=i},876150:(e,t,s)=>{s.d(t,{Hv:()=>n,ZP:()=>r,pd:()=>i});var a=s(749085);let n=function(e){return e.StartDate="startDate",e.StartTime="startTime",e.EndDate="endDate",e.EndTime="endTime",e}({}),i=function(e){return e.InvalidDate="Invalid date",e.InvalidTime="Invalid time",e.InvalidRange="Invalid range",e}({});class o extends a.default{getInitialState(){return{focus:n.StartDate,inputIsFocused:!1,inputTemporaryValue:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0},error:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0}}}}const r=o},213854:(e,t,s)=>{s.d(t,{QJ:()=>i,ZP:()=>l,yO:()=>o});var a=s(749085),n=s(876150);const i={[n.Hv.StartDate]:"starting",[n.Hv.StartTime]:"starting",[n.Hv.EndDate]:"ending",[n.Hv.EndTime]:"ending"},o={starting:n.Hv.StartDate,ending:n.Hv.EndDate};class r extends a.default{getInitialState(){return{isOpen:!1,focus:n.Hv.StartDate,temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,showTime:!1}}getFocus(){return this.state.focus}toggleShowTime(){this.setState({...this.state,showTime:!this.state.showTime})}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const l=r},745483:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(749085),n=s(292595);class i extends a.default{getInitialState(){return{openModals:new Set}}}const o=new i,r=o;(0,n.exposeDebugValue)("GlobalModalStore",o)},361254:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(749085);class n extends a.default{getInitialState(){return{open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0}}}const i=n},401903:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(749085),n=s(421202);class i extends a.default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:n.iU,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const o=i},41558:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(749085);class n extends a.default{getInitialState(){return{isOpen:!1,focus:"starting",temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,dateFilterType:"lastEditedTime"}}getFocus(){return this.state.focus}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const i=n},887199:(e,t,s)=>{s.d(t,{h:()=>i,k:()=>n});var a=s(709291);const n=(0,a.defineMessages)({paymentMethodUnverified:{id:"subscriptions.paymentMethodUnverified",defaultMessage:"Your payment is being processed. Please try again when your payment has completed."},otherPaymentMethod:{id:"subscriptions.otherPaymentMethod",defaultMessage:"Other"},adminOnlyAction:{id:"subscriptions.adminOnlyAction",defaultMessage:"Only workspace owners can perform this action."},iosSubscriptionRestriction:{id:"subscriptions.iosSubscriptionRestriction",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."}}),i=(0,a.defineMessages)({trialTitle:{id:"nudges.trial.title",defaultMessage:"Notion for collaboration"},trialDescription:{id:"nudges.trial.description",defaultMessage:"Get 14 days of unlimited content creation with others"},trialCta:{id:"nudges.trial.cta",defaultMessage:"Try it for free"},trialTooltip:{id:"nudges.trial.tooltip",defaultMessage:"Use Notion as much as you want, with as many people as you like. You’ll receive a reminder when your trial is ending, and can cancel anytime."},approachingBlockLimitTitle:{id:"nudges.approachingBlockLimit.title",defaultMessage:"Upgrade to go unlimited"},approachingBlockLimitDescription:{id:"nudges.approachingBlockLimit.description",defaultMessage:"Continue using Notion to collaborate with others"},approachingBlockLimitTooltip:{id:"nudges.approachingBlockLimit.tooltip",defaultMessage:"You’re reaching the maximum number of free blocks given on your plan ({percentageUsed}). You won’t be able to create more content unless you upgrade to the Plus plan."},reachedBlockLimitTitle:{id:"nudges.reachedBlockLimit.title",defaultMessage:"Keep using Notion"},reachedBlockLimitDescription:{id:"nudges.reachedBlockLimit.description",defaultMessage:"{spaceName} has used 100% of the free blocks in the workspace"},reachedBlockLimitCta:{id:"nudges.reachedBlockLimit.cta",defaultMessage:"Upgrade plan"},reachedBlockLimitTooltip:{id:"nudges.reachedBlockLimit.tooltip",defaultMessage:"You’ve reached the maximum number of free blocks for your plan (100%). You won’t be able to create more content unless you upgrade to the Plus plan."}})},44041:(e,t,s)=>{s.d(t,{y:()=>M});s(667294);var a=s(647425),n=s(709291),i=s(286572),o=s(547307),r=s(296994),l=s(433929),d=s(352533),c=s(80444),u=s(992083),g=s(739343),m=s(887199),p=s(735993),h=s(170060),f=s(88893),x=s(535057),b=s(288280),y=s(897630),v=s(864891),S=s(785893);async function M(e,t){var s;i.sA(e,{from:t.from,for_subscription_tier:t.for,addOnFeature:t.addOnFeature});if((0,x.QM)()&&["block_limit_sidebar","block_limit_settings","block_limit_banner"].includes(t.from)&&!t.addOnFeature){if(e.device.isMobileBrowser){const s=await r.FF.payments.load();return void(await s.plans.showPlans({environment:e,from:t.from}))}return(0,h.iZ)(e)?void(0,p.a)({openedFrom:t.from}):void u.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0})}if(!t.addOnFeature&&(0,a.QM)(t.for))return;const M=(0,d.S$)({environment:e})&&"personal"===t.for;if(e.device.isMobileNative){if("ai"===t.addOnFeature){const t=(0,d.Y2)({environment:e})?(0,S.jsx)(n.FormattedMessage,{id:"upsellActions.noIAPForAIWithExternalPurchaseOption",defaultMessage:"Your workspace does not have unlimited AI. Visit on desktop to purchase Notion AI and go unlimited."}):(0,S.jsx)(n.FormattedMessage,{id:"upsellActions.noIAPForAIWithoutExternalPurchaseOption",defaultMessage:"Your workspace does not have unlimited AI. Unfortunately, unlimited AI cannot be purchased on mobile."});return void o.showErrorMessage(t)}if(!M)return}const j=c.default.state.currentSpaceStore;if(!j)return;if(!j.canAdmin())return;await y.bi(e);const C=b.subscriptionDataStoreInstance.state;if(!C)return;if("unsubscribed_admin"!==C.type&&"subscribed_admin"!==C.type)return void(t.dontOpenPlansOnCancel||u.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}));if(f.ri(C))return void o.showErrorMessage(l.default.formatMessage(m.k.paymentMethodUnverified));if(f.ff(C)){const e=(0,S.jsx)(n.FormattedMessage,{id:"upsellActions.referToSalesRep",defaultMessage:"This workspace is part of a managed account. Please contact your account representative to discuss any changes to your subscription."});return void o.showErrorMessage(e)}if(M)return void(e.mobileNative&&j.id&&e.mobileNative.openUpgradeModal(j.id));if("revenueCat"===(null===(s=C.customerData)||void 0===s?void 0:s.activeSubscriptionPlatform)){const e=(0,S.jsx)(n.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void o.showErrorMessage(e)}const w=f.XX(C);if(t.addOnFeature&&(0,g.Fk)(w)){const e=(0,S.jsx)(n.FormattedMessage,{id:"upsellActions.noAddOnPurchaseDuringFreeTrial",defaultMessage:"Unfortunately, additional {addOn, select, ai {AI responses} other {features}} cannot be purchased while a workspace is on a free trial.",values:{addOn:t.addOnFeature}});o.showErrorMessage(e)}else{if(w&&f.MM(C))return t.addOnFeature?void v.af({environment:e,from:t.from,view:"add_ons",addOnFeature:t.addOnFeature,billingInterval:w.interval,pageSection:t.pageSection}):void v.af({environment:e,from:t.from,view:"plans",temporarySubscriptionTier:t.for,billingInterval:w.interval,pageSection:t.pageSection});{const s=(0,h.px)(e,t.for)?"ai_fifty_percent":void 0;y.I0(e,{subscriptionTier:t.for,from:t.from,addOnFeature:t.addOnFeature,coupon:s,isTrial:t.isTrial,dismissMobilePlansModal:t.dismissMobilePlansModal})}}}},735993:(e,t,s)=>{s.d(t,{X:()=>r,a:()=>o});var a=s(471924),n=s(286572),i=s(868187);function o(e){const{openedFrom:t}=e,s=a.Il();i.Z.open({modalId:s,openedFrom:t})}function r(e,t){n.LY(e,{modal_id:t,modal_type:"contextual"}),i.Z.setState({open:!1})}},868187:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(749085);class n extends a.default{getInitialState(){return{open:!1}}open(e){this.setState({open:!0,...e})}}const i=new n},739343:(e,t,s)=>{s.d(t,{Fk:()=>r,U6:()=>d,nx:()=>l});var a=s(730120),n=s(313991),i=s(407057),o=s(95477);function r(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=a.ou.now().toSeconds()}function l(e){const t=function(e){if(!r(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=a.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,i.Yx)(t,"long",n.SP):void 0}function d(e){return e?o.default.trials[e.id].duration:o.default.trials.default.duration}},240745:(e,t,s)=>{s.d(t,{M:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},80721:(e,t,s)=>{s.d(t,{W:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},732566:(e,t,s)=>{s.d(t,{k:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},967220:(e,t,s)=>{s.d(t,{S:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("bot",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.996 16C12.381 16 16 12.38 16 8s-3.627-8-8.012-8C3.611 0 0 3.62 0 8s3.62 8 7.996 8zm0-1.594A6.375 6.375 0 011.61 8a6.366 6.366 0 016.38-6.398A6.393 6.393 0 0114.398 8a6.383 6.383 0 01-6.403 6.406zM4.648 8.518c0 .21.17.364.386.364h2.53l-1.346 3.605c-.202.527.355.813.703.395l4.168-5.176a.515.515 0 00.132-.325c0-.209-.17-.356-.379-.356H8.305l1.346-3.613c.201-.518-.356-.812-.704-.395l-4.16 5.184a.484.484 0 00-.14.317z"})})},213148:(e,t,s)=>{s.d(t,{U:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("close",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M2.89795 13.3428C3.18799 13.6262 3.6626 13.6262 3.93945 13.3494L7.99341 9.29541L12.0474 13.3494C12.3308 13.6262 12.8054 13.6328 13.0889 13.3428C13.3723 13.0593 13.3723 12.5847 13.0955 12.3079L9.0415 8.24731L13.0955 4.19336C13.3723 3.9165 13.3789 3.4353 13.0889 3.15845C12.7988 2.875 12.3308 2.875 12.0474 3.15186L7.99341 7.20581L3.93945 3.15186C3.6626 2.875 3.1814 2.86841 2.89795 3.15186C2.6145 3.44189 2.62109 3.9231 2.89795 4.19336L6.9519 8.24731L2.89795 12.3079C2.62109 12.5781 2.6145 13.0659 2.89795 13.3428Z"})})},964275:(e,t,s)=>{s.d(t,{D:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},950780:(e,t,s)=>{s.d(t,{E:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("editPropertyType",{viewBox:"0 0 16 16 ",svg:(0,n.jsx)("path",{d:"M11.5615 4.84473L12.2998 4.11328C12.6689 3.74414 12.6826 3.34082 12.3545 3.00586L12.0879 2.73926C11.7529 2.4043 11.3428 2.43848 10.9736 2.79395L10.2354 3.52539L11.5615 4.84473ZM3.22168 13.1641L10.9053 5.4873L9.59277 4.16797L1.90918 11.8516L1.23926 13.4512C1.16406 13.6562 1.37598 13.875 1.57422 13.7998L3.22168 13.1641ZM3.92578 13.8066H14.1045C14.4736 13.8066 14.7744 13.499 14.7744 13.1367C14.7744 12.7676 14.4736 12.4668 14.1045 12.4668H5.27246L3.92578 13.8066Z"})})},755964:(e,t,s)=>{s.d(t,{N:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("eyePadded",{viewBox:"0 0 24 24",svg:(0,n.jsx)("path",{d:"M12 17.9912C17.6055 17.9912 21.3857 13.4727 21.3857 12.0713C21.3857 10.6699 17.5986 6.1582 12 6.1582C6.47656 6.1582 2.60742 10.6699 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.2715 7.63184 7.4707 12 7.4707C16.3613 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 13.0283 16.3613 16.6787 12 16.6787ZM12 15.7559C14.0508 15.7559 15.6914 14.0811 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C9.94238 8.39355 8.29492 10.0137 8.30176 12.0713C8.31543 14.0811 9.94238 15.7559 12 15.7559ZM12 13.2607C11.3369 13.2607 10.7969 12.7275 10.7969 12.0713C10.7969 11.415 11.3369 10.8818 12 10.8818C12.6631 10.8818 13.1963 11.415 13.1963 12.0713C13.1963 12.7275 12.6631 13.2607 12 13.2607Z"})})},519981:(e,t,s)=>{s.d(t,{V:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("handWave",{viewBox:"0 0 14 15",svg:(0,n.jsx)("path",{d:"M12.223 12.396c.888-.893 1.406-1.886 1.551-2.98.15-1.098-.08-2.288-.69-3.568l-1.552-3.275a2.264 2.264 0 00-.417-.594 1.28 1.28 0 00-.95-.404c-.36 0-.677.135-.95.404a1.211 1.211 0 00-.335.628c-.05.247-.023.502.082.766l.383.91c.013.031.011.056-.007.074-.023.019-.048.016-.075-.006L5.537.625C5.232.32 4.897.167 4.532.167c-.36-.005-.688.144-.984.444a1.115 1.115 0 00-.219.308 1.13 1.13 0 00-.096.349c-.291-.2-.59-.288-.895-.26-.3.023-.574.157-.82.403a1.278 1.278 0 00-.397.827c-.023.306.057.6.24.882a.876.876 0 00-.602.287c-.278.274-.415.584-.41.93.004.346.148.66.43.943l.458.458a.877.877 0 00-.348.09 1.115 1.115 0 00-.308.218 1.32 1.32 0 00-.37.615 1.29 1.29 0 00.021.684 1.6 1.6 0 00.397.635l4.231 4.232c.78.775 1.6 1.294 2.461 1.559.866.264 1.72.28 2.564.047.843-.232 1.622-.706 2.338-1.421zm-.841-.793c-.579.58-1.197.957-1.853 1.135-.651.178-1.317.15-1.996-.082-.674-.228-1.335-.663-1.982-1.305L1.497 7.297a.452.452 0 01-.143-.308.38.38 0 01.13-.3.403.403 0 01.3-.137c.119 0 .223.045.315.136l2.495 2.489a.45.45 0 00.355.15.476.476 0 00.342-.15.478.478 0 00.164-.349.461.461 0 00-.15-.362l-3.733-3.74a.446.446 0 01-.143-.3.38.38 0 01.13-.301.425.425 0 01.307-.137.45.45 0 01.315.137l3.48 3.486c.104.1.225.148.361.144a.476.476 0 00.342-.15c.1-.1.153-.22.157-.356a.47.47 0 00-.143-.362L2.283 2.799a.477.477 0 01-.143-.315.41.41 0 01.136-.307.39.39 0 01.301-.123c.119.004.223.05.315.136l4.04 4.034a.434.434 0 00.348.15.5.5 0 00.349-.15c.1-.1.153-.22.157-.356a.46.46 0 00-.137-.355L4.218 2.08a.425.425 0 01-.137-.308c0-.113.041-.216.123-.307a.41.41 0 01.308-.123c.114 0 .218.045.314.136L9.64 6.292c.136.141.282.212.437.212a.577.577 0 00.403-.178.71.71 0 00.192-.342c.032-.136.011-.298-.062-.485L9.748 3.25a.52.52 0 01-.014-.37.42.42 0 01.22-.232.362.362 0 01.32 0c.1.05.185.149.253.294l1.586 3.377c.52 1.121.702 2.108.547 2.96-.155.853-.58 1.627-1.278 2.325z"})})},343121:(e,t,s)=>{s.d(t,{f:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("key",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M14.757 4A5.724 5.724 0 009 9.748c0 2.364 1.389 4.456 3.586 5.335V23.6c0 .255.079.483.272.676l1.53 1.477a.578.578 0 00.808-.009l2.769-2.768a.598.598 0 000-.87l-1.591-1.574 2.232-2.232a.602.602 0 00-.017-.861l-2.171-2.18c2.628-1.116 4.087-3.13 4.087-5.511A5.733 5.733 0 0014.757 4zm0 5.344a1.55 1.55 0 01-1.547-1.547c0-.861.685-1.547 1.547-1.547a1.55 1.55 0 011.547 1.547 1.55 1.55 0 01-1.547 1.547z"})})},727714:(e,t,s)=>{s.d(t,{N:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("link",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.69922 10.8945L8.73828 9.84863C7.91797 9.77344 7.34375 9.51367 6.91992 9.08984C5.76465 7.93457 5.76465 6.29395 6.91309 5.14551L9.18262 2.87598C10.3379 1.7207 11.9717 1.7207 13.127 2.87598C14.2891 4.04492 14.2822 5.67188 13.1338 6.82031L11.958 7.99609C12.1768 8.49512 12.2451 9.10352 12.1289 9.62988L14.0908 7.6748C15.7725 6 15.7793 3.62109 14.084 1.92578C12.3887 0.223633 10.0098 0.237305 8.33496 1.91211L5.95605 4.29785C4.28125 5.97266 4.26758 8.35156 5.96289 10.0469C6.36621 10.4434 6.90625 10.7441 7.69922 10.8945ZM8.30078 5.13184L7.26855 6.17773C8.08203 6.25293 8.66309 6.51953 9.08008 6.93652C10.2422 8.09863 10.2422 9.73242 9.08691 10.8809L6.81738 13.1504C5.66211 14.3057 4.03516 14.3057 2.87305 13.1504C1.71094 11.9883 1.71777 10.3545 2.87305 9.20605L4.04199 8.03027C3.83008 7.53125 3.75488 6.92969 3.87109 6.39648L1.91602 8.35156C0.234375 10.0264 0.227539 12.4121 1.92285 14.1074C3.61816 15.8027 5.99707 15.7891 7.67188 14.1143L10.0439 11.7354C11.7256 10.0537 11.7324 7.6748 10.0371 5.98633C9.64062 5.58301 9.10059 5.28223 8.30078 5.13184Z"})})},808843:(e,t,s)=>{s.d(t,{h:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("mailRound",{viewBox:"0 0 17 12",svg:(0,n.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},146392:(e,t,s)=>{s.d(t,{C:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("membersFilled",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M20.31 14.731c2.22 0 4.097-1.967 4.097-4.513 0-2.485-1.887-4.391-4.098-4.391-2.2 0-4.097 1.937-4.087 4.411 0 2.526 1.866 4.493 4.087 4.493zm-11.725.233c1.937 0 3.57-1.724 3.57-3.935 0-2.17-1.653-3.823-3.57-3.823-1.917 0-3.57 1.683-3.56 3.844 0 2.19 1.633 3.914 3.56 3.914zm-5.588 9.21h7.606c-1.085-1.552.082-4.615 2.374-6.42-1.116-.72-2.566-1.248-4.392-1.248-4.533 0-7.464 3.337-7.464 6.085 0 1.004.507 1.582 1.876 1.582zm10.994-.01h12.637c1.673 0 2.251-.508 2.251-1.44 0-2.607-3.316-6.198-8.57-6.198-5.263 0-8.57 3.59-8.57 6.197 0 .933.578 1.44 2.252 1.44z"})})},610662:(e,t,s)=>{s.d(t,{r:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("organization",{viewBox:"0 0 18 16",svg:(0,n.jsx)("g",{children:(0,n.jsx)("path",{d:"M12.097 15.44c.127-.21.223-.432.287-.67.068-.236.102-.487.102-.751V4.12h3.46c.41 0 .73.128.963.383.233.25.349.595.349 1.032v8.484c0 .437-.116.783-.349 1.039-.232.255-.553.382-.964.382h-3.848zm1.975-7.8c0 .16.078.24.233.24h1.12c.156 0 .233-.08.233-.24V6.555c0-.16-.077-.24-.232-.24h-1.121c-.155 0-.233.08-.233.24V7.64zm0 2.68c0 .16.078.24.233.24h1.12c.156 0 .233-.08.233-.24V9.233c0-.155-.077-.232-.232-.232h-1.121c-.155 0-.233.077-.233.232v1.087zm0 2.68c0 .16.078.24.233.24h1.12c.156 0 .233-.08.233-.24v-1.087c0-.16-.077-.24-.232-.24h-1.121c-.155 0-.233.08-.233.24V13zM.735 14.019V2.124c0-.442.117-.788.349-1.039.232-.255.554-.383.964-.383h8.12c.416 0 .74.128.972.383.232.25.348.597.348 1.039v11.895c0 .437-.116.783-.348 1.039-.233.255-.556.382-.971.382H2.048c-.41 0-.732-.127-.964-.382-.232-.256-.349-.602-.349-1.04zm2.953.205h4.895V12.07c0-.16-.05-.287-.15-.383-.096-.095-.233-.143-.41-.143H4.221c-.16 0-.29.048-.39.143a.517.517 0 00-.144.383v2.154zm-.184-9.748c0 .191.091.287.273.287h1.381c.192 0 .287-.096.287-.287V3.163c0-.191-.095-.287-.287-.287h-1.38c-.183 0-.274.096-.274.287v1.313zm3.322 0c0 .191.094.287.28.287H8.48c.192 0 .288-.096.288-.287V3.163c0-.191-.096-.287-.288-.287H7.106c-.186 0-.28.096-.28.287v1.313zM3.504 7.265c0 .196.091.294.273.294h1.381c.192 0 .287-.098.287-.294V5.959c0-.196-.095-.294-.287-.294h-1.38c-.183 0-.274.098-.274.294v1.306zm3.322 0c0 .196.094.294.28.294H8.48c.192 0 .288-.098.288-.294V5.959c0-.196-.096-.294-.288-.294H7.106c-.186 0-.28.098-.28.294v1.306zM3.504 10.06c0 .192.091.288.273.288h1.381c.192 0 .287-.096.287-.288V8.748c0-.196-.095-.294-.287-.294h-1.38c-.183 0-.274.098-.274.294v1.313zm3.322 0c0 .192.094.288.28.288H8.48c.192 0 .288-.096.288-.288V8.748c0-.196-.096-.294-.288-.294H7.106c-.186 0-.28.098-.28.294v1.313z"})})})},222686:(e,t,s)=>{s.d(t,{f:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("person",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},128495:(e,t,s)=>{s.d(t,{v:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("personCircle",{viewBox:"0 0 18 17",svg:(0,n.jsx)("path",{d:"M8.99219 16.6797C10.0964 16.6797 11.1354 16.4688 12.1094 16.0469C13.0833 15.6302 13.9427 15.0495 14.6875 14.3047C15.4323 13.5599 16.0156 12.7005 16.4375 11.7266C16.8594 10.7526 17.0703 9.71354 17.0703 8.60938C17.0703 7.50521 16.8594 6.46615 16.4375 5.49219C16.0156 4.51823 15.4323 3.66146 14.6875 2.92188C13.9427 2.17708 13.0833 1.59375 12.1094 1.17188C11.1354 0.75 10.0938 0.539062 8.98438 0.539062C7.88021 0.539062 6.84115 0.75 5.86719 1.17188C4.89844 1.59375 4.04167 2.17708 3.29688 2.92188C2.55729 3.66146 1.97656 4.51823 1.55469 5.49219C1.13281 6.46615 0.921875 7.50521 0.921875 8.60938C0.921875 9.71354 1.13281 10.7526 1.55469 11.7266C1.97656 12.7005 2.55729 13.5599 3.29688 14.3047C4.04167 15.0495 4.90104 15.6302 5.875 16.0469C6.84896 16.4688 7.88802 16.6797 8.99219 16.6797ZM8.99219 15.0859C8.09635 15.0859 7.25521 14.9193 6.46875 14.5859C5.6875 14.2526 5 13.7891 4.40625 13.1953C3.81771 12.6016 3.35677 11.9141 3.02344 11.1328C2.6901 10.3516 2.52344 9.51042 2.52344 8.60938C2.52344 7.71354 2.6901 6.875 3.02344 6.09375C3.35677 5.30729 3.81771 4.61719 4.40625 4.02344C4.99479 3.42969 5.67969 2.96615 6.46094 2.63281C7.2474 2.29948 8.08854 2.13281 8.98438 2.13281C9.88542 2.13281 10.7266 2.29948 11.5078 2.63281C12.2943 2.96615 12.9844 3.42969 13.5781 4.02344C14.1719 4.61719 14.6354 5.30729 14.9688 6.09375C15.3021 6.875 15.4688 7.71354 15.4688 8.60938C15.4688 9.51042 15.3021 10.3516 14.9688 11.1328C14.6354 11.9141 14.1719 12.6016 13.5781 13.1953C12.9844 13.7891 12.2969 14.2526 11.5156 14.5859C10.7344 14.9193 9.89323 15.0859 8.99219 15.0859ZM14.2031 13.7656L14.1719 13.6328C14.0052 13.2474 13.6849 12.8776 13.2109 12.5234C12.7422 12.1641 12.1484 11.8724 11.4297 11.6484C10.7161 11.4193 9.90365 11.3047 8.99219 11.3047C8.09115 11.3047 7.28125 11.4193 6.5625 11.6484C5.84375 11.8724 5.2474 12.1641 4.77344 12.5234C4.30469 12.8776 3.98698 13.2448 3.82031 13.625L3.78906 13.7656C4.27865 14.2188 4.83333 14.599 5.45312 14.9062C6.07292 15.2188 6.69271 15.4557 7.3125 15.6172C7.9375 15.7786 8.4974 15.8594 8.99219 15.8594C9.49219 15.8594 10.0521 15.7786 10.6719 15.6172C11.2917 15.4557 11.9115 15.2188 12.5312 14.9062C13.151 14.599 13.7083 14.2188 14.2031 13.7656ZM8.99219 10.0156C9.4974 10.0208 9.95312 9.89583 10.3594 9.64062C10.7656 9.38021 11.0885 9.02604 11.3281 8.57812C11.5677 8.125 11.6875 7.61979 11.6875 7.0625C11.6875 6.54167 11.5651 6.0625 11.3203 5.625C11.0807 5.18229 10.7578 4.82812 10.3516 4.5625C9.95052 4.29688 9.4974 4.16406 8.99219 4.16406C8.49219 4.16406 8.03646 4.29688 7.625 4.5625C7.21875 4.82812 6.89583 5.18229 6.65625 5.625C6.41667 6.0625 6.29948 6.54167 6.30469 7.0625C6.3099 7.61979 6.42969 8.1224 6.66406 8.57031C6.90365 9.01302 7.22656 9.36458 7.63281 9.625C8.03906 9.88021 8.49219 10.0104 8.99219 10.0156Z"})})},414734:(e,t,s)=>{s.d(t,{X:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,n.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,n.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},90028:(e,t,s)=>{s.d(t,{j:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("searchInPage",{viewBox:"0 0 12 14",svg:(0,n.jsx)("path",{d:"M2.877 13.365h6.24c.63 0 1.104-.164 1.424-.492.32-.324.48-.8.48-1.43V6.13c0-.274-.015-.504-.046-.691a1.531 1.531 0 00-.182-.522 2.185 2.185 0 00-.387-.498l-3.07-3.123a2.11 2.11 0 00-.48-.38 1.528 1.528 0 00-.51-.183A3.464 3.464 0 005.7.68H2.877c-.629 0-1.104.164-1.424.492-.32.324-.48.8-.48 1.43v8.841c0 .633.16 1.112.48 1.436.32.324.795.486 1.424.486zm.094-1.154c-.282 0-.492-.072-.633-.217-.14-.144-.211-.351-.211-.621V2.678c0-.27.07-.479.21-.627.142-.149.354-.223.64-.223h2.496V5.04c0 .418.101.73.304.938.207.207.52.31.938.31h3.158v5.086c0 .27-.07.477-.21.621-.142.145-.354.217-.64.217H2.971zm3.855-6.938c-.12 0-.209-.027-.263-.082-.051-.054-.077-.142-.077-.263V1.986l3.229 3.287H6.826z"})})},172263:(e,t,s)=>{s.d(t,{_:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("settingsUpgrade",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})})},373039:(e,t,s)=>{s.d(t,{K:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("settingsWorkspace",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M2.3 15.359c0 .819.463 1.327 1.231 1.327H16.43c.768 0 1.231-.508 1.231-1.327V7.507c0-.825-.463-1.333-1.231-1.333h-3.656V4.327C12.774 3.5 12.31 3 11.536 3H3.53C2.763 3 2.3 3.501 2.3 4.327v11.032zm1.25-.248V4.574c0-.216.108-.324.33-.324h7.313c.216 0 .33.108.33.324v10.537c0 .216-.114.324-.33.324H9.81v-1.834c0-.54-.254-.807-.768-.807H6.032c-.514 0-.768.267-.768.807v1.834H3.881c-.223 0-.33-.108-.33-.324zm1.911-8.118h1.213c.146 0 .247-.102.247-.254V5.564c0-.152-.101-.253-.247-.253H5.46c-.152 0-.247.101-.247.253V6.74c0 .152.095.254.247.254zm2.94 0h1.205c.152 0 .254-.102.254-.254V5.564c0-.152-.101-.253-.254-.253H8.4c-.152 0-.247.101-.247.253V6.74c0 .152.095.254.247.254zm4.373 8.366V7.424h3.307c.222 0 .33.115.33.33v7.357c0 .216-.108.324-.33.324h-3.307v-.076zM5.46 9.417h1.213c.146 0 .247-.101.247-.253V7.989c0-.152-.101-.254-.247-.254H5.46c-.152 0-.247.102-.247.254v1.175c0 .152.095.253.247.253zm2.94 0h1.205c.152 0 .254-.101.254-.253V7.989c0-.152-.101-.254-.254-.254H8.4c-.152 0-.247.102-.247.254v1.175c0 .152.095.253.247.253zm5.687.4h1.003a.2.2 0 00.209-.21V8.63c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zM5.46 11.842h1.213c.146 0 .247-.101.247-.254v-1.174c0-.152-.101-.254-.247-.254H5.46c-.152 0-.247.102-.247.254v1.174c0 .153.095.254.247.254zm2.94 0h1.205c.152 0 .254-.101.254-.254v-1.174c0-.152-.101-.254-.254-.254H8.4c-.152 0-.247.102-.247.254v1.174c0 .153.095.254.247.254zm5.687.311h1.003a.2.2 0 00.209-.21v-.977c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zm0 2.336h1.003a.2.2 0 00.209-.21v-.977c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zm-7.846-.552c0-.133.063-.197.197-.197h2.196c.133 0 .197.064.197.197v1.498h-2.59v-1.498z"})})},556996:(e,t,s)=>{s.d(t,{z:()=>i});s(667294);var a=s(745238),n=s(785893);const i=(0,a.IU)("sidebarHome",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.54446 3.06854C9.8066 2.84385 10.1934 2.84385 10.4556 3.06854L15.7064 7.56922C16.0832 7.89219 16.3 8.36369 16.3 8.85996V14.6C16.3 15.5389 15.5389 16.3 14.6 16.3H11.75C11.3634 16.3 11.05 15.9866 11.05 15.6V11.7H8.95001V15.6C8.95001 15.9866 8.63661 16.3 8.25001 16.3H5.40001C4.46113 16.3 3.70001 15.5389 3.70001 14.6V8.85996C3.70001 8.36369 3.91687 7.89219 4.29367 7.56922L9.54446 3.06854ZM10 4.52198L5.20477 8.63218C5.13828 8.68918 5.10001 8.77238 5.10001 8.85996V14.6C5.10001 14.7657 5.23433 14.9 5.40001 14.9H7.55001V11.5C7.55001 10.8373 8.08727 10.3 8.75001 10.3H11.25C11.9128 10.3 12.45 10.8373 12.45 11.5V14.9H14.6C14.7657 14.9 14.9 14.7657 14.9 14.6V8.85996C14.9 8.77238 14.8617 8.68918 14.7952 8.63218L10 4.52198Z"})})}}]);