"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65811],{668995:(e,t,o)=>{o.r(t),o.d(t,{OutlinerDropdownMenuButton:()=>O,useSortActions:()=>W});var i=o(667294),n=o(800480),a=o(886628),s=o(724405),r=o(222109),d=o(356666),l=o(698519),c=o(155159),u=o(269246),p=o(249902),g=o(709291),m=o(62967),h=o(838745),b=o(709953),f=o(210228),M=o(165452),v=o(304708),y=o(460709),x=o(35026),S=o(240745),C=o(908597),k=o(745238),j=o(785893);const w=(0,k.IU)("move",{viewBox:"0 0 16 16",svg:(0,j.jsx)("path",{d:"M1.37891 8.5C1.22266 8.35938 1.14844 8.19531 1.15625 8.00781C1.16406 7.81641 1.24219 7.6543 1.39062 7.52148L3.26562 5.79883C3.41406 5.66602 3.56445 5.60547 3.7168 5.61719C3.86914 5.62891 3.99609 5.69336 4.09766 5.81055C4.20312 5.92773 4.25586 6.07422 4.25586 6.25V7.39258H7.37891V4.25781H6.23633C6.05664 4.25781 5.9082 4.20703 5.79102 4.10547C5.67773 4 5.61523 3.87109 5.60352 3.71875C5.5918 3.56641 5.65234 3.41602 5.78516 3.26758L7.50781 1.39844C7.64453 1.24219 7.80664 1.16211 7.99414 1.1582C8.18164 1.15039 8.3457 1.22656 8.48633 1.38672L10.209 3.26172C10.3457 3.41016 10.4082 3.5625 10.3965 3.71875C10.3887 3.87109 10.3262 4 10.209 4.10547C10.0918 4.20703 9.94141 4.25781 9.75781 4.25781H8.62695V7.39258H11.7441V6.25C11.7441 6.07422 11.7949 5.92773 11.8965 5.81055C12.002 5.69336 12.1309 5.62891 12.2832 5.61719C12.4355 5.60547 12.5879 5.66602 12.7402 5.79883L14.6152 7.52148C14.7676 7.66211 14.8438 7.82617 14.8438 8.01367C14.8438 8.20117 14.7676 8.36523 14.6152 8.50586L12.7402 10.2227C12.5918 10.3594 12.4395 10.4238 12.2832 10.416C12.1309 10.4043 12.002 10.3398 11.8965 10.2227C11.7949 10.1055 11.7441 9.95508 11.7441 9.77148V8.64062H8.62695V11.7695H9.75781C9.94141 11.7695 10.0918 11.8223 10.209 11.9277C10.3262 12.0293 10.3887 12.1562 10.3965 12.3086C10.4082 12.4648 10.3457 12.6172 10.209 12.7656L8.49219 14.6406C8.35156 14.7969 8.1875 14.875 8 14.875C7.8125 14.875 7.64844 14.7969 7.50781 14.6406L5.78516 12.7598C5.65234 12.6152 5.5918 12.4648 5.60352 12.3086C5.61523 12.1562 5.67773 12.0293 5.79102 11.9277C5.9082 11.8223 6.05664 11.7695 6.23633 11.7695H7.37891V8.64062H4.25586V9.77148C4.25586 9.95508 4.20312 10.1055 4.09766 10.2227C3.99609 10.3398 3.86914 10.4043 3.7168 10.416C3.56445 10.4238 3.41211 10.3594 3.25977 10.2227L1.37891 8.5Z"})});var Z=o(693405),I=o(672495),A=o(566418),T=o(80444),B=o(156386);const F=(0,g.defineMessages)({move:{id:"useMoveSidebarAction.title.moveSection",defaultMessage:"Move section"},moveUp:{id:"useMoveSidebarAction.option.moveUp",defaultMessage:"Move up"},moveDown:{id:"useMoveSidebarAction.option.moveDown",defaultMessage:"Move down"}});function R(e){let{type:t,onClose:o}=e;const i=function(e){const{sidebarSection:t,onSelect:o}=e,i=(0,a.VK)((()=>T.default.state.currentSpaceViewStore),[]),n=(0,g.useIntl)(),s=(0,B.f)(),r=(0,A.Q)();if(!i)return[];const d=(0,B.D)({sidebarOrder:s,sidebarState:r}),l=d.indexOf(t),c=0===l,u=l===d.length-1;return["moveUp","moveDown"].map((e=>{const a=F[e];return(0,m.cN)({key:e,displayName:void 0,analyticsName:a.defaultMessage,validators:[],closeParentMenu:!0,action:n=>{let{environment:a}=n;const r=function(e){let{sidebarSection:t,selectedMoveOption:o,sidebarOrder:i,visibleSidebarOrder:n}=e;const a=[...i],s=i.indexOf(t),r=n.indexOf(t);if("moveUp"===o&&r>0){const e=n[r-1];a[i.indexOf(e)]=t,a[s]=e}if("moveDown"===o&&r<n.length-1){const e=n[r+1];a[i.indexOf(e)]=t,a[s]=e}return a}({sidebarSection:t,selectedMoveOption:e,sidebarOrder:s,visibleSidebarOrder:d});f.createAndCommit({userAction:`useMoveSidebarAction.${e}`,environment:a,perform:e=>{b.sW({store:i,data:{sidebar_order:r},transaction:e})}}),h.mv(a,{section:t,previous_order:s,new_order:r,from:"outliner_section_menu"}),o()},render:t=>{const o="moveUp"===e&&c||"moveDown"===e&&u,i="moveUp"===e?C.Z:S.M;return(0,j.jsx)(Z.Z,{...t,disabled:o,disabledFeedback:o,title:n.formatMessage(a),svg:i})}})}))}({sidebarSection:t,onSelect:o}),n=(0,A.Q)(),s=(null==n?void 0:n.shownSidebarSectionCount)??0;return(0,m.MV)({key:"move",displayName:F.move,analyticsName:F.move.defaultMessage,validators:[()=>s>1],svg:w,subActions:()=>[(0,m.$J)({key:"move",render:e=>(0,j.jsx)(I.Z,{...e}),actions:i})]})}var _=o(319385),L=o(869254),U=o(748019),V=o(164921),N=o(231945),P=o(478140);const K=(0,g.defineMessages)({manual:{id:"outlinerDropdownMenuButton.sort.manual",defaultMessage:"Manual"},lastEdited:{id:"outlinerDropdownMenuButton.sort.lastEdited",defaultMessage:"Last edited"}});function O(e){const{type:t,spaceViewStore:o}=e,a=(0,n.O7)(),r=(0,s.yK)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",height:20,width:20,borderRadius:4},icon:{fill:e.mediumIconColor,height:14,width:14}})),[]),l=(0,i.useCallback)((()=>{L.Z.setState({open:!0}),h.Mk(a,{outliner_type:x.iE[t]})}),[a,t]),c=(0,i.useCallback)((()=>{L.Z.setState({open:!1})}),[]);return(0,j.jsx)(N.ZP,{popupType:N.Z4.Popup,alignmentToOrigin:N.vR.Start,renderOrigin:e=>(0,j.jsx)(V.Z,{style:r.button,...e,children:(0,d.o)(r.icon)}),onClick:l,onClose:c,render:e=>(0,j.jsx)(D,{type:t,spaceViewStore:o,onClose:()=>{e.close()}}),originGap:2})}const H=(0,g.defineMessages)({sort:{id:"outlinerDropdownMenu.sort",defaultMessage:"Sort"},truncationLimit:{id:"outlinerDropdownMenu.truncationLimit",defaultMessage:"Show"}});function D(e){const{type:t,spaceViewStore:o,onClose:i}=e,d=(0,n.O7)(),M=(0,g.useIntl)(),S=(0,s.yK)((e=>({rightText:{fontSize:12,color:e.text.secondary}})),[]),C=(0,a.VK)((()=>(0,v.mq)(d)),[d]),k=(0,a.VK)((()=>(0,x.S4)({spaceViewStore:o,type:t})),[o,t]),w=k.sortOption,A=k.truncationLimit,T="shared"===t&&C||"private"===t||"teamspaces"===t,B="private"===t||"shared"===t&&C,F=W({type:t,onSelect:i,spaceViewStore:o,outlinerLocation:"sidebar"}),_=function(e){const{type:t,spaceViewStore:o,onSelect:i}=e,r=(0,n.O7)(),d=(0,s.yK)((()=>({icon:{width:16,height:16},right:{width:16}})),[]),c=(0,a.VK)((()=>(0,x.S4)({type:t,spaceViewStore:o}).truncationLimit),[t,o]);return u.Wy.map((e=>(0,m.cN)({key:e.toString(),displayName:void 0,analyticsName:e.toString(),validators:[],closeParentMenu:!0,action:()=>{f.createAndCommit({userAction:"OutlinerDropdownMenuButton.setTruncationLimit",environment:r,perform:i=>{const n=o.getSettingsStore().getKeyStore("sidebar_section_menu").getKeyStore("truncationLimit").getKeyStore(t);b.sO({transaction:i,store:n,value:e})}}),p.j({name:"update_sidebar_section_option",args:{option:"show",type:t}}),h.hH(r,{outliner_type:x.iE[t],option:e}),i()},render:t=>(0,j.jsx)(Z.Z,{...t,title:(0,j.jsx)(E,{limit:e,withItems:!0}),right:c===e&&(0,l.k)(d.icon),rightStyle:d.right})})))}({type:t,onSelect:i,spaceViewStore:o}),L=R({type:t,onClose:i}),V=[(0,m.MV)({key:"sort",displayName:H.sort,analyticsName:H.sort.defaultMessage,validators:[()=>B],svg:r.T,right:M.formatMessage(K[w]),rightStyle:S.rightText,subActions:()=>[(0,m.$J)({key:"sort",render:e=>(0,j.jsx)(I.Z,{...e}),actions:F})]}),(0,m.MV)({key:"truncationLimit",displayName:H.truncationLimit,analyticsName:H.truncationLimit.defaultMessage,validators:[()=>T],svg:c.J,right:(0,j.jsx)(E,{limit:A}),rightStyle:S.rightText,subActions:()=>[(0,m.$J)({key:"truncationLimit",render:e=>(0,j.jsx)(I.Z,{...e}),actions:_})]}),L],N=[(0,m.$J)({key:"all",render:e=>(0,j.jsx)(I.Z,{...e}),actions:V})];return(0,j.jsx)(P.Z,{menuType:y.og.Popup,minWidth:220,children:(0,j.jsx)(U.Z,{context:{blocks:[],environment:d,publicEditMode:void 0},sections:N,initialFocus:void 0})})}function W(e){const{type:t,spaceViewStore:o,onSelect:i,outlinerLocation:r}=e,d=(0,n.O7)(),c=(0,g.useIntl)(),{currentSpaceStore:u}=(0,a.VK)((()=>T.default.state),[]),v=d.currentUser.id,y=(0,a.VK)((()=>_.default.checkGate({gateName:"sidebar_add_new_pages_to_bottom"})),[]),S=(0,a.VK)((()=>(0,x.S4)({type:t,spaceViewStore:o}).sortOption),[t,o]),C=(0,s.yK)((()=>({icon:{width:16,height:16},right:{width:16}})),[]);return["manual","lastEdited"].map((e=>{const n=K[e];return(0,m.cN)({key:e,displayName:void 0,analyticsName:n.defaultMessage,validators:[],closeParentMenu:!0,action:async()=>{f.createAndCommit({userAction:"OutlinerDropdownMenuButton.setSortOption",environment:d,perform:i=>{const n=o.getSettingsStore().getKeyStore("sidebar_section_menu").getKeyStore("sortOption").getKeyStore(t);b.sO({transaction:i,store:n,value:e})}}),"manual"===e&&"shared"===t&&!y&&v&&u&&await M.l({environment:d,spaceId:u.id,userId:v}),p.j({name:"update_sidebar_section_option",args:{option:"sort",type:t}}),h.NQ(d,{outliner_type:x.iE[t],outliner_location:r,option:e}),i()},render:t=>(0,j.jsx)(Z.Z,{...t,title:c.formatMessage(n),right:S===e&&(0,l.k)(C.icon),rightStyle:C.right})})}))}function E(e){const{limit:t,withItems:o}=e;return t===u.Ng?(0,j.jsx)(g.FormattedMessage,{id:"outlinerDropdownMenuButton.truncationLimit.noTruncation",defaultMessage:"All"}):o?(0,j.jsx)(g.FormattedMessage,{id:"outlinerDropdownMenuButton.truncationLimit",defaultMessage:"{limit} items",values:{limit:t}}):(0,j.jsx)("span",{children:t})}},555064:(e,t,o)=>{o.d(t,{Z:()=>T});var i=o(667294),n=o(800480),a=o(886628),s=o(724405),r=o(151454),d=o(709291),l=o(401898),c=o(587420),u=o(524677),p=o(128651),g=o(98742),m=o(389224),h=o(823376),b=o(48276),f=o(828161),M=o(116746),v=o(966324),y=o(224646),x=o(938676),S=o(436391),C=o(825464),k=o(896049),j=o(188923),w=o(706685),Z=o(58261),I=o(526388),A=o(785893);const T=function(e){let{type:t}=e;const o=(0,n.O7)(),s=(0,a.VK)((()=>(0,y.BH)(o)),[o]),d=(0,a.qz)(void 0,p.Z),M=(0,i.useRef)(!1),Z=(0,i.useCallback)((()=>function(e,t){t.setState({...t.state,mousePressed:!1}),B({isResizing:!1},e)}(t,d)),[t,d]),T=(0,i.useCallback)((()=>function(e,t,o,i){if(!i.current){switch(t){case"page":v.setExpand({environment:e,isExpanded:!x.sidebarExpandedStore.state,from:"sidebar_resizer"}),x.sidebarOpenStore.setState(!1);break;case"update":v.setUpdateExpand({environment:e,isExpanded:!(0,y.Sx)(e),from:"drag"});break;case"peek":c.xv(e,"resizer_click");break;case"secondary_sidebar":h.TN({environment:e});break;default:(0,l.t1)(t)}o.setState({...o.state,mouseEntered:!1})}o.setState({...o.state,mousePressed:!1}),B({isResizing:!1},t)}(o,t,d,M)),[o,t,d]),R=(0,i.useCallback)((e=>function(e,t,o,i){switch(m.clear(t),i.current=!0,o){case"page":v.setWidth({width:F(e.currentX,o,t),environment:t});break;case"update":v.setUpdateWidth({width:F(e.currentX,o,t),environment:t});break;case"peek":v.setPeekWidth({width:F(e.currentX,o,t),environment:t});break;case"secondary_sidebar":f.ZP.setWidth(F(e.currentX,o,t));break;default:(0,l.t1)(o)}}(e,o,t,M)),[o,t]),V=(0,i.useCallback)((()=>function(e,t,o,i){u.ZH({debug:{userAction:"SidebarResizer.handleDragStart"},environment:e}),o.setState({...o.state,mousePressed:!0}),i.current=!1,B({...x.sidebarResizingStore.state,isResizing:!0},t)}(o,t,d,M)),[o,t,d]),{device:N}=o,P=(0,a.VK)((()=>function(e){const t=function(e){switch(e){case"page":return x.sidebarWidthStore.state;case"secondary_sidebar":const t=x.sidebarExpandedStore.state,o=b.l_();return t?x.sidebarWidthStore.state+o:o;case"update":return S.ZP.state.width;case"peek":return j.default.state.preferredSidePeekWidth;default:(0,l.t1)(e)}}(e);switch(e){case"page":case"secondary_sidebar":return t;case"peek":case"update":return window.innerWidth-t;default:(0,l.t1)(e)}}(t)),[t]),K=(0,a.VK)((()=>x.sidebarMouseEnterYStore.state),[]),O=(0,a.VK)((()=>k.Z.state),[]),H=(0,a.VK)((()=>function(e){return{cursor:"col-resize",height:"100%",width:12,marginLeft:"update"===e?-S.ZP.state.width:-6}}(t)),[t]),D=(0,a.VK)((()=>function(e,t){const o=(0,y.in)(t);return{position:"absolute",left:"peek"===e?0:void 0,right:"peek"!==e?0:void 0,width:0,flexGrow:0,zIndex:"peek"===e?r.YO:1,top:o?0:-1,bottom:o?0:-1,pointerEvents:"auto"}}(t,o)),[t,o]);return O||N.isChromebook?null:(0,A.jsx)(I.Z,{renderTooltip:()=>s?(0,A.jsx)(L,{type:t}):(0,A.jsx)(_,{type:t}),originRect:new DOMRect(P,K,0,0),delayThreshold:s?0:500,placement:"page"===t||"secondary_sidebar"===t?C.u.Right:C.u.Left,originGap:10,render:e=>(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{style:D,...(0,g.Z)(e,{onMouseMove:()=>function(e){B({isResizerHovered:!0},e)}(t),onMouseLeave:()=>function(e){B({isResizerHovered:!1},e)}(t),onMouseEnter:U}),children:(0,A.jsx)(w.Z,{onDraggableDragStart:V,onDraggableDragMove:R,onDraggableDragEnd:T,onDraggableDragCancel:Z,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,A.jsx)("div",{style:H,...e})})})})})};function B(e,t){switch(t){case"page":x.sidebarResizingStore.update((t=>({...t,...e})));break;case"update":S.ZP.update((t=>({...t,...e})));break;case"secondary_sidebar":M.Z.update((t=>({...t,...e})));break;case"peek":break;default:(0,l.t1)(t)}}function F(e,t,o){let i;switch(t){case"page":i=e;break;case"secondary_sidebar":i=e-(x.sidebarExpandedStore.state?x.sidebarWidthStore.state:0);break;case"peek":case"update":i=window.innerWidth-e;break;default:(0,l.t1)(t)}const n=function(e){const t=window.innerWidth;switch(e){case"page":return 480;case"update":return Math.min(t/2,y.Nc);case"peek":return t>2*j.sidePeekMinWidth?t/1.5:t;case"secondary_sidebar":return f.o$;default:(0,l.t1)(e)}}(t),a=function(e,t){const o=(0,y.BH)(t);switch(e){case"page":return o?x.SIDEBAR_MIN_WIDTH:x.LEGACY_SIDEBAR_MIN_WIDTH;case"update":return S.AO;case"peek":return j.sidePeekMinWidth;case"secondary_sidebar":return f.um;default:(0,l.t1)(e)}}(t,o);return i>n?n:i<a?a:i}function R(e,t){switch(e){case"page":return(0,y.in)(t);case"update":return(0,y.Sx)(t);case"peek":return j.default.state.open;case"secondary_sidebar":return M.Z.isOpen();default:(0,l.t1)(e)}}function _(e){let{type:t}=e;const o=(0,s.Fg)(),r=(0,n.O7)(),l=(0,a.VK)((()=>R(t,r)),[t,r]),c=o.mediumInvertedTextColor;return(0,A.jsxs)("div",{style:{textAlign:"center"},children:[(0,A.jsx)(d.FormattedMessage,{defaultMessage:"Drag <invertedcolor>to resize</invertedcolor>",id:"sidebarResizer.tooltip.dragMessage",values:{invertedcolor:e=>(0,A.jsx)("span",{style:{color:c},children:e})}}),(0,A.jsxs)(i.Fragment,{children:[(0,A.jsx)("br",{}),(0,A.jsx)(d.FormattedMessage,{defaultMessage:"Click <invertedcolor>to {expanded, select, true {close} other {lock open}}</invertedcolor>",id:"sidebarResizer.clickToToggleSidebar.message",values:{expanded:l,invertedcolor:e=>(0,A.jsx)("span",{style:{color:c},children:e})}})]})]})}function L(e){let{type:t}=e;const o=(0,s.Fg)(),i=(0,n.O7)(),r=(0,a.VK)((()=>R(t,i)),[t,i]),l=o.mediumInvertedTextColor,c=(0,A.jsx)(Z.Z,{name:"toggleSidebar"}),u="secondary_sidebar"===t||"update"===t?(0,A.jsx)(d.FormattedMessage,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage.noShortcut",values:{invertedcolor:e=>(0,A.jsx)("span",{style:{color:l},children:e}),keyboardShortcut:c}}):(0,A.jsx)(d.FormattedMessage,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage",values:{invertedcolor:e=>(0,A.jsx)("span",{style:{color:l},children:e}),keyboardShortcut:c}});return(0,A.jsxs)(A.Fragment,{children:[r?u:(0,A.jsx)(d.FormattedMessage,{defaultMessage:"Lock open <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.lockMessage",values:{invertedcolor:e=>(0,A.jsx)("span",{style:{color:l},children:e}),keyboardShortcut:c}}),(0,A.jsx)("br",{}),(0,A.jsx)(d.FormattedMessage,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"sidebarResizer.tooltip.resizeMessage",values:{invertedcolor:e=>(0,A.jsx)("span",{style:{color:l},children:e}),keyboardShortcut:c}})]})}function U(e){x.sidebarMouseEnterYStore.setState(e.clientY)}},437712:(e,t,o)=>{o.d(t,{A:()=>s});o(667294);var i=o(886628),n=o(724405),a=o(785893);function s(e){let{scrollerStore:t}=e;const o=(0,i.VK)((()=>0===t.state.scrollTop),[t]),s=(0,n.yK)((e=>({border:{flexShrink:0,width:"100%",boxShadow:o?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[o]);return(0,a.jsx)("div",{style:s.border})}},895285:(e,t,o)=>{o.d(t,{PQ:()=>P,ZP:()=>O,aE:()=>K,b8:()=>V});var i=o(667294),n=o(800480),a=o(886628),s=o(724405),r=o(552867),d=o(890334),l=o(670753),c=o(261248),u=o(698519),p=o(355863),g=o(755061),m=o(421202),h=o(709291),b=o(401898),f=o(137810),M=o(519719),v=o(717659),y=o(210228),x=o(552275),S=o(231945),C=o(573063),k=o(478140),j=o(632163),w=o(672495),Z=o(526388),I=o(164369),A=o(212534),T=o(460709),B=o(98742),F=o(424764),R=o(157538),_=o(206258),L=o(785893);const U=(0,h.defineMessages)({changePageNotificationSettings:{defaultMessage:"Change page notification settings",id:"inboxActionsMenu.notificationSettings.tooltipMessage"},markUnread:{defaultMessage:"Mark this notification as unread",id:"inboxActionsMenu.markNotificationAsUnread.tooltipMessage"},markRead:{defaultMessage:"Mark this notification as read",id:"inboxActionsMenu.markNotificationAsRead.tooltipMessage"},archive:{defaultMessage:"Archive this notification",id:"inboxActionsMenu.handleArchive.tooltipMessage"},unarchive:{defaultMessage:"Unarchive",id:"inboxActionsMenu.handleUnarchive.tooltipMessage"}}),V=96;function N(e){const{notification:t,rootStore:o,onArchiveClicked:u,onUnarchiveClicked:b,onMarkAsReadClicked:x,onMarkAsUnreadClicked:k,useInboxRedesign:j}=e,w=(0,n.O7)(),I=(0,n.Fy)(),T=(0,h.useIntl)(),V=(0,a.VK)((()=>!!t&&(0,g.$2)(t.type)),[t]),N=(0,a.VK)((()=>{const e=null==t?void 0:t.navigable_block_id;if(e)return _.G.createChildStore(o,{table:m.iU,id:e})}),[o,t]),O=(0,a.VK)((()=>null==N?void 0:N.getFollowSettingsKey()),[N]),H=(0,a.VK)((()=>{if(!O)return[];if(!N)return[];return F.Z({followSettingsKey:O,environment:w,blockStore:N,from:"inbox"})}),[O,w,N]),D=(0,a.VK)((()=>V&&H.length>0),[V,H]),W=(0,i.useCallback)((e=>{t&&(0,A.ZP)({event:e,context:A.Af.NotificationClick,callback:()=>{u(),y.createAndCommit({userAction:"InboxActionsMenu.handleArchive",environment:w,perform:e=>{v.aZ({notification:t,rootStore:o,transaction:e})}})}})}),[w,t,u,o]),E=(0,i.useCallback)((e=>{t&&(0,A.ZP)({event:e,context:A.Af.NotificationClick,callback:()=>{b(),y.createAndCommit({userAction:"Activity.handleUnarchive",environment:w,perform:e=>{v.E1({notificationId:t.id,visited:!1,rootStore:o,transaction:e})}})}})}),[w,t,b,o]),z=(0,i.useCallback)((e=>{t&&(0,A.ZP)({event:e,context:A.Af.NotificationClick,callback:()=>{t.read?k():x(),y.createAndCommit({userAction:"InboxActionsMenu.toggleNotificationReadStatus",environment:w,perform:e=>{v.$h({notification:t,rootStore:o,transaction:e,read:!t.read})}})}})}),[w,t,x,k,o]),G=(0,i.useCallback)((()=>{O&&N&&t&&M.Z8({environment:w,notificationId:t.id,pageId:N.pointer.id,isCurrentlyFollowing:(0,R.Z)(O).following,from:"inbox"})}),[w,N,O,t]),$=(0,s.yK)((e=>({container:{...j?{display:"flex",height:"min-content",padding:2,borderWidth:I.isMobile?0:1,borderStyle:"solid",borderColor:e.stroke.regular,background:e.buttonGroupBackground,borderRadius:6,boxShadow:I.isMobile?void 0:"0px 2px 4px 0px rgba(22, 29, 27, 0.02)"}:{display:"flex",height:"min-content",background:e.buttonGroupBackground,boxShadow:e.lightBoxShadow,borderRadius:4,padding:2}},button:{...j&&{height:I.isMobile?30:22,width:I.isMobile?30:22}},inboxIconBase:{fill:e.icon.secondary},iconStyle:{fill:e.mediumIconColor,padding:I.isMobile?1:2},readIcon:{width:I.isMobile?22+(j?5:0):22,height:I.isMobile?22+(j?5:0):22},archiveIcon:{width:I.isMobile?22+(j?5:0):22,height:I.isMobile?22+(j?5:0):22},ellipsisIcon:{width:I.isMobile?22+(j?5:0):22,height:I.isMobile?22+(j?5:0):22},headerLabel:{paddingLeft:16,paddingRight:16,paddingTop:10,fontWeight:f.Z.fontWeight.semibold}})),[I,j]),Q=K();if(j&&t.visited)return(0,L.jsx)("div",{style:$.container,children:(0,L.jsx)(Z.Z,{renderTooltip:()=>T.formatMessage(U.unarchive),render:e=>(0,L.jsx)(C.Z,{ariaLabel:T.formatMessage(U.unarchive),style:$.button,icon:p.s,iconStyle:{...$.iconStyle,...$.inboxIconBase},onClick:E,...e})})});const J=(0,L.jsx)(Z.Z,{renderTooltip:()=>T.formatMessage(t.read?U.markUnread:U.markRead),render:e=>(0,L.jsx)(C.Z,{ariaLabel:T.formatMessage(t.read?U.markUnread:U.markRead),style:$.button,icon:t.read?c.F:l.F,iconStyle:{...$.iconStyle,...$.readIcon,...j&&{height:22,width:22,...$.inboxIconBase}},onClick:z,...e})},"markUnread"),X=(0,L.jsx)(Z.Z,{renderTooltip:()=>T.formatMessage(U.archive),render:e=>(0,L.jsx)(C.Z,{ariaLabel:T.formatMessage(U.archive),style:$.button,icon:r.H,iconStyle:{...$.iconStyle,...$.archiveIcon,...j&&{height:22,width:22,...$.inboxIconBase}},onClick:W,...e})},"archive"),Y=D?(0,L.jsx)(Z.Z,{renderTooltip:()=>(0,L.jsx)(h.FormattedMessage,{...U.changePageNotificationSettings}),render:e=>(0,L.jsx)(S.ZP,{style:Q.popup,popupType:I.isMobile?S.Z4.SlideUp:S.Z4.Popup,alignmentToOrigin:S.vR.Start,placementToOrigin:S.pO.Bottom,render:e=>(0,L.jsx)(P,{blockStore:N,notification:t,handlers:{handleUnarchive:E,handleArchive:W,toggleNotificationReadStatus:z},closePopup:()=>e.close()}),renderOrigin:t=>(0,L.jsx)(C.Z,{ariaLabel:T.formatMessage(U.changePageNotificationSettings),style:$.button,icon:d.O,iconStyle:{...$.iconStyle,...$.archiveIcon,...j&&{height:18,width:18,...$.inboxIconBase}},...e,...(0,B.Z)(t,{onClick:()=>G()})})})},"pageNotificationSettings"):void 0;return(0,L.jsx)("div",{style:$.container,children:[J,X,Y]})}function P(e){const{blockStore:t,notification:o,handlers:i,closePopup:d}=e,{handleArchive:g,handleUnarchive:m,toggleNotificationReadStatus:f}=i,M=(0,n.O7)(),v=(0,n.Fy)(),y=(0,h.useIntl)(),S=(0,a.VK)((()=>null==t?void 0:t.getFollowSettingsKey()),[t]),C=(0,a.VK)((()=>{if(!S)return[];if(!t)return[];return F.Z({followSettingsKey:S,environment:M,blockStore:t,from:"inbox"})}),[S,M,t]),Z=K(),A=(0,s.yK)((()=>({iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",...Z.icon},icon:{height:24,width:24}})),[Z.icon]);return(0,L.jsx)(k.Z,{menuType:T.og.Popup,height:v.isMobile?"50vh":void 0,minWidth:250,maxWidth:v.isMobile?"100vw":void 0,scrollerStyle:Z.menuScroller,header:!v.isMobile&&(0,L.jsx)(I.Z,{style:Z.header,isSmall:!v.isMobile,isSecondaryColor:!v.isMobile,children:(0,L.jsx)(h.FormattedMessage,{id:"UpdateSidebarTabUpdatesHeader.pageNotificationSettings.label",defaultMessage:"Page notification settings"})}),children:(0,L.jsx)(j.Z,{type:j.i.Vertical,sections:[...v.isMobile?[{key:"Actions title",render:()=>(0,L.jsx)(I.Z,{style:Z.header,isSmall:!v.isMobile,isSecondaryColor:!v.isMobile,children:(0,L.jsx)(h.FormattedMessage,{id:"inbox.actionsSectionTitle.label",defaultMessage:"Actions"})}),items:[]},{key:"Actions",render:e=>(0,L.jsx)(w.Z,{...e,topBorder:!1,style:Z.sectionMenuItem}),items:["markAsReadOrUnread","archive"].map(((e,t)=>{const i=t===C.length-1,n=v.isMobile&&i;return{key:e,render:t=>"archive"===e?(0,L.jsx)(x.Z,{...t,style:{...Z.buttonMenuItem,...n&&Z.transparentButtonMenuItemBorder},pressedStyle:Z.buttonMenuItemPressed,icon:o.visited?(0,p.s)(Z.icon):(0,r.H)(Z.icon),title:y.formatMessage(o.visited?U.unarchive:U.archive),titleStyle:Z.title}):"markAsReadOrUnread"===e?(0,L.jsx)(x.Z,{...t,style:{...Z.buttonMenuItem,...n&&Z.transparentButtonMenuItemBorder},pressedStyle:Z.buttonMenuItemPressed,icon:o.read?(0,L.jsx)("div",{style:A.iconContainer,children:(0,c.F)(A.icon)}):(0,L.jsx)("div",{style:A.iconContainer,children:(0,l.F)(A.icon)}),title:y.formatMessage(o.read?U.markUnread:U.markRead),titleStyle:Z.title}):void(0,b.t1)(e),action:t=>{let{event:i}=t;"markAsReadOrUnread"===e?f(i):"archive"===e?o.visited?m(i):g(i):(0,b.t1)(e),d()}}}))}]:[],...v.isMobile?[{key:"Page notification settings title",render:()=>(0,L.jsx)(I.Z,{style:Z.subheader,isSmall:!v.isMobile,isSecondaryColor:!v.isMobile,children:(0,L.jsx)(h.FormattedMessage,{id:"inbox.notifyMeForSectionTitle.label",defaultMessage:"Notify me for"})}),items:[]}]:[],{key:"Page notification settings",render:e=>(0,L.jsx)(w.Z,{...e,topBorder:!1,style:Z.sectionMenuItem}),items:C.map(((e,t)=>{const o=t===C.length-1,i=v.isMobile&&o;return{key:e.action.analyticsName,render:t=>(0,L.jsx)(x.Z,{...t,style:{...Z.buttonMenuItem,...i&&Z.transparentButtonMenuItemBorder},pressedStyle:Z.buttonMenuItemPressed,title:e.title,titleStyle:Z.title,right:e.isSelectedOption?(0,u.k)(Z.checkIcon):void 0}),action:()=>{e.action.action({environment:M,blocks:[],lazyDependencies:{markdownLinkifyIt:void 0,tinyMceMicrosoftWordPasteFilter:void 0},publicEditMode:void 0}),d()}}}))}],initialFocus:void 0,onAccept:()=>d()})})}function K(){const e=(0,n.Fy)();return(0,s.yK)((t=>({popup:{...e.isMobile&&{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden"}},menuScroller:e.isMobile?{background:t.surface.wash}:{},header:e.isMobile?{display:"flex",justifyContent:"center",alignItems:"center",fontSize:16,fontWeight:f.Z.fontWeight.semibold,background:t.surface.wash,height:45}:{paddingLeft:16,paddingRight:16,paddingTop:10,fontWeight:f.Z.fontWeight.semibold},subheader:e.isMobile?{display:"flex",justifyContent:"start",alignItems:"center",fontSize:15,fontWeight:f.Z.fontWeight.medium,background:t.surface.wash,height:45,color:t.text.secondary,paddingLeft:16,paddingRight:16}:{paddingLeft:16,paddingRight:16,paddingTop:10,fontWeight:f.Z.fontWeight.semibold},sectionMenuItem:e.isMobile?{overflow:"hidden",background:t.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:t.stroke.deemphasized,padding:void 0}:{},buttonMenuItem:e.isMobile?{backgroundColor:t.surface.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:t.stroke.deemphasized}:{},buttonMenuItemPressed:{background:t.buttonPressedBackground},transparentButtonMenuItemBorder:{borderBottomColor:"transparent"},title:e.isMobile?{fontSize:16}:{},icon:{...e.isMobile?{height:24,width:24}:{height:20,width:20}},checkIcon:{...e.isMobile?{height:20,width:20}:{height:16,width:16}}})),[e])}const O=i.memo(N)},97889:(e,t,o)=>{o.d(t,{p:()=>R});o(757658);var i=o(667294),n=o(800480),a=o(886628),s=o(724405),r=o(552867),d=o(745238),l=o(785893);const c=(0,d.IU)("archiveRead",{viewBox:"0 0 20 20",svg:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M15.207 17.223a.758.758 0 0 1-.605-.29l-2.016-2.44a.793.793 0 0 1-.149-.235.656.656 0 0 1-.042-.235c0-.184.06-.337.183-.457a.643.643 0 0 1 .469-.183c.208 0 .381.084.52.254l1.624 2.011 3.192-5.043a.79.79 0 0 1 .25-.257.63.63 0 0 1 .324-.079c.188 0 .342.06.465.18.122.12.183.271.183.453a.686.686 0 0 1-.035.211.995.995 0 0 1-.11.227l-3.636 5.566a.7.7 0 0 1-.617.317Z"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M4.627 15.91c.374.364.914.546 1.62.546h6.015l-.823-.997a2.467 2.467 0 0 1-.213-.288H6.302c-.287 0-.508-.075-.663-.226-.15-.155-.226-.376-.226-.663V7.727h9.16v4.79c.055.054.107.111.156.172l.004.005.234.29L15 13l.056.056.864-1.364V7.675c.25-.063.457-.182.622-.359.26-.278.39-.647.39-1.107v-.998c0-.465-.13-.834-.39-1.107-.255-.274-.613-.41-1.073-.41H4.53c-.45 0-.809.136-1.073.41-.264.273-.396.642-.396 1.107v.998c0 .46.127.83.382 1.107.168.176.377.296.63.358v6.629c0 .706.184 1.242.553 1.606Zm11.287-1.404-.723 1.142-.34-.42-.435 1.162c.385-.084.7-.246.943-.488.337-.328.522-.794.555-1.396Zm-8.518-4.148a.538.538 0 0 0 .396.158h4.416a.538.538 0 0 0 .554-.568V9.73a.532.532 0 0 0-.158-.403.536.536 0 0 0-.396-.15H7.792a.56.56 0 0 0-.403.15c-.1.1-.15.235-.15.403v.22c0 .168.052.305.157.41Zm7.813-3.869H4.791c-.16 0-.276-.036-.349-.11-.068-.077-.102-.193-.102-.348V5.39c0-.16.034-.276.102-.349.073-.073.19-.11.349-.11h10.418c.16 0 .273.037.342.11.068.073.102.19.102.349v.642c0 .155-.034.271-.102.349-.069.073-.183.11-.342.11Z",clipRule:"evenodd"})]})});var u=o(890334),p=o(670753),g=o(709291),m=o(401898),h=o(519719),b=o(717659),f=o(552275),M=o(231945),v=o(573063),y=o(478140),x=o(632163),S=o(672495),C=o(526388),k=o(164369),j=o(460709),w=o(98742),Z=o(48276),I=o(819034),A=o(825464),T=o(304761),B=o(641549),F=o(895285);function R(){const e=(0,n.Fy)(),t=(0,g.useIntl)(),o=(0,a.VK)((()=>{const e=B.Fz(),{currentTab:t,isCurrentTabEmpty:o}=T.ZP.state;if("all_updates"===e||"archived_only"===e||"mentions"!==t||o)return;const{containsUnreadNotifications:i,containsBothReadAndUnreadNotifications:n}=T.ZP.state;return{containsUnreadNotifications:i,containsBothReadAndUnreadNotifications:n,showOnlyUnreadNotifications:"unread_only"===e}}),[]),i=(0,Z.dc)(),r=(0,s.yK)((t=>({popup:{...e.isMobile&&{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden"}},ellipsisIcon:{...i.icon,...e.isMobile&&{fill:t.icon.primary}}})),[e,i]);if(!o)return null;const d=t.formatMessage({defaultMessage:"More actions",id:"inbox.ellipsisButton.tooltip"});return(0,l.jsx)(M.ZP,{style:r.popup,popupType:e.isMobile?M.Z4.SlideUp:M.Z4.Popup,renderOrigin:e=>{let{onClick:o}=e;return(0,l.jsx)(C.Z,{renderTooltip:()=>d,placement:A.u.Bottom,alignment:A.v.Start,delayThreshold:0,originGap:6,render:e=>(0,l.jsx)(v.Z,{ariaLabel:t.formatMessage(V.moreActionsButtonAriaLabel),icon:u.O,iconStyle:r.ellipsisIcon,style:i.button,onClick:o,...e})})},render:e=>(0,l.jsx)(_,{...o,closePopup:e.close}),alignmentToOrigin:M.vR.Start,originGap:2})}function _(e){const{containsUnreadNotifications:t,containsBothReadAndUnreadNotifications:o,showOnlyUnreadNotifications:a,closePopup:s}=e,r=(0,n.O7)(),d=(0,n.Fy)(),c=["markAllAsRead"];a?c.push("archiveUnread"):(c.push("archiveAll"),o&&c.push("archiveRead"));const u=(0,i.useCallback)((()=>{h.Xf(r),b.go(r)}),[r]),p=(0,i.useCallback)((e=>{let t="none";"archiveAll"===e?t="none":"archiveUnread"===e?t="unread":"archiveRead"===e&&(t="read"),h.zD(r,{readFilter:t}),b.rG(r,"mentions",t)}),[r]),f=(0,F.aE)();return(0,l.jsx)(y.Z,{menuType:j.og.Popup,height:d.isMobile?"50vh":void 0,maxWidth:d.isMobile?"100vw":void 0,header:d.isMobile?(0,l.jsx)(k.Z,{style:f.header,isSmall:!d.isMobile,isSecondaryColor:!d.isMobile,children:(0,l.jsx)(g.FormattedMessage,{id:"inbox.moreActionsMenu.header",defaultMessage:"Actions"})}):void 0,minWidth:250,scrollerStyle:f.menuScroller,children:(0,l.jsx)(x.Z,{type:x.i.Vertical,sections:[{key:"inbox global actions",render:e=>(0,l.jsx)(S.Z,{...e,topBorder:0!==e.index,style:f.sectionMenuItem}),items:c.map(((e,o)=>({key:e,render:i=>{const n=o===c.length-1,a=d.isMobile&&n;return"archiveAll"===e||"archiveRead"===e||"archiveUnread"===e?(0,l.jsx)(U,{...i,archiveActionType:e,showTransparentButtonMenuItemDivider:a}):"markAllAsRead"===e?(0,l.jsx)(L,{...i,showTransparentButtonMenuItemDivider:a,containsUnreadNotifications:t}):void(0,m.t1)(e)},action:()=>{s(),"archiveAll"===e||"archiveUnread"===e||"archiveRead"===e?p(e):"markAllAsRead"===e?u():(0,m.t1)(e)}})))}],initialFocus:void 0,onAccept:()=>s()})})}const L=i.forwardRef(((e,t)=>{const{containsUnreadNotifications:o,showTransparentButtonMenuItemDivider:i,...n}=e,s=(0,a.VK)((()=>I.Z.getUnreadCountForCurrentSpace().mentions>0),[]),r=!(o||s),d=(0,F.aE)();return(0,l.jsx)(C.Z,{placement:A.u.Left,disableTooltip:!r,renderTooltip:()=>(0,l.jsx)(g.FormattedMessage,{defaultMessage:"All notifications have been marked as read.",id:"updatesModal.spaceUpdatesTab.markAllReadButton.disabledTooltip"}),render:e=>(0,l.jsx)(f.Z,{...(0,w.Z)(n,e),ref:t,icon:(0,p.F)(d.icon),title:(0,l.jsx)(g.FormattedMessage,{defaultMessage:"Mark all as read",id:"updatesModal.spaceUpdates.mentionsTab.markAllReadButtonTitle"}),titleStyle:d.title,disabled:r,disabledFeedback:r,style:{...d.buttonMenuItem,...i&&d.transparentButtonMenuItemBorder}})})}));L.displayName="InboxMarkReadButtonMenuItem";const U=i.forwardRef(((e,t)=>{const{archiveActionType:o,showTransparentButtonMenuItemDivider:i,...n}=e,a=(0,F.aE)(),s="archiveRead"===o;return(0,l.jsx)(f.Z,{...n,ref:t,icon:s?c(a.icon):(0,r.H)(a.icon),title:(()=>{switch(o){case"archiveAll":return(0,l.jsx)(g.FormattedMessage,{defaultMessage:"Archive all",id:"updatesModal.spaceUpdatesTab.archiveAll.tooltip"});case"archiveUnread":return(0,l.jsx)(g.FormattedMessage,{defaultMessage:"Archive unread",id:"updatesModal.spaceUpdatesTab.archiveUnread.tooltip"});case"archiveRead":return(0,l.jsx)(g.FormattedMessage,{defaultMessage:"Archive read",id:"updatesModal.spaceUpdatesTab.archiveRead.tooltip"});default:(0,m.t1)(o)}})(),titleStyle:a.title,style:{...a.buttonMenuItem,...i&&a.transparentButtonMenuItemBorder}})}));U.displayName="InboxArchiveButtonMenuItem";const V=(0,g.defineMessages)({moreActionsButtonAriaLabel:{defaultMessage:"More actions",id:"inbox.button.moreActionsButtonAriaLabel"}})},881150:(e,t,o)=>{o.d(t,{$:()=>_});var i=o(667294),n=o(800480),a=o(886628),s=o(724405),r=o(821197),d=o(206637),l=o(709291),c=o(231945),u=o(573063),p=o(526388),g=o(641549),m=o(48276),h=o(825464),b=o(895285),f=o(552867),M=o(745238),v=o(785893);const y=(0,M.IU)("clock",{viewBox:"0 0 20 20",svg:(0,v.jsx)("path",{d:"M6.541 10.919a.53.53 0 0 1-.39-.157.53.53 0 0 1-.157-.39c0-.155.053-.283.157-.383a.53.53 0 0 1 .39-.157h2.905V5.895c0-.15.053-.278.158-.383a.521.521 0 0 1 .382-.158.53.53 0 0 1 .39.158.521.521 0 0 1 .157.383v4.477a.53.53 0 0 1-.157.39.53.53 0 0 1-.39.157H6.541Zm3.452 6.207a6.789 6.789 0 0 1-2.727-.554 7.124 7.124 0 0 1-2.256-1.524 7.277 7.277 0 0 1-1.525-2.256 6.788 6.788 0 0 1-.553-2.727c0-.967.184-1.876.553-2.728a7.241 7.241 0 0 1 3.773-3.78 6.788 6.788 0 0 1 2.728-.554c.971 0 1.882.184 2.735.554.852.369 1.604.88 2.256 1.53a7.136 7.136 0 0 1 1.53 2.25c.37.852.554 1.761.554 2.728 0 .966-.184 1.875-.553 2.727a7.218 7.218 0 0 1-3.787 3.78 6.789 6.789 0 0 1-2.728.554Zm0-1.395c.789 0 1.525-.145 2.208-.437a5.678 5.678 0 0 0 1.805-1.217 5.68 5.68 0 0 0 1.217-1.804c.291-.684.437-1.42.437-2.208a5.55 5.55 0 0 0-.437-2.202 5.66 5.66 0 0 0-3.029-3.028 5.567 5.567 0 0 0-2.208-.438c-.784 0-1.52.146-2.208.438A5.6 5.6 0 0 0 5.98 6.052a5.715 5.715 0 0 0-1.21 1.811 5.55 5.55 0 0 0-.437 2.202c0 .788.146 1.524.438 2.208a5.735 5.735 0 0 0 1.21 1.804 5.598 5.598 0 0 0 4.013 1.654Z"})});var x=o(261248),S=o(659078),C=o(698519),k=o(137810),j=o(552275),w=o(478140),Z=o(632163),I=o(672495),A=o(164369),T=o(460709),B=o(519719),F=o(966353);function R(e){const{closePopup:t}=e,o=(0,n.O7)(),r=(0,n.Fy)(),d=(0,a.VK)((()=>g.Fz()),[]),c=(0,i.useCallback)((e=>function(e,t){F.ZP.setState({...F.ZP.state,filter:t}),B.bE(e,{tab:t})}(o,e)),[o]),u=(0,s.yK)((e=>({menuScroller:r.isMobile?{background:e.sidebarBackground}:{},header:r.isMobile?{display:"flex",justifyContent:"center",alignItems:"center",fontSize:16,fontWeight:k.Z.fontWeight.semibold,background:e.sidebarBackground,height:40,paddingLeft:16,paddingRight:16}:{display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16,paddingTop:10,fontWeight:k.Z.fontWeight.semibold},sectionMenuItem:r.isMobile?{overflow:"hidden",background:e.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.deemphasized,padding:void 0}:{},buttonMenuItem:r.isMobile?{backgroundColor:e.surface.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.stroke.deemphasized}:{},buttonMenuItemPressed:{background:e.buttonPressedBackground},transparentButtonMenuItemBorder:{borderBottomColor:"transparent"},title:r.isMobile?{fontSize:16}:{},iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",...r.isMobile&&{height:20}},icon:{...r.isMobile?{height:24,width:24}:{height:20,width:20}}})),[r]),p=(0,b.aE)(),m=[{type:"unread_and_read",title:(0,v.jsx)(l.FormattedMessage,{id:"inboxFilterMenu.readAndUnreadOption.label",defaultMessage:"Unread & read"}),icon:S.W},{type:"unread_only",title:(0,v.jsx)(l.FormattedMessage,{id:"inboxFilterMenu.unreadOption.label",defaultMessage:"Unread"}),icon:x.F},{type:"archived_only",title:(0,v.jsx)(l.FormattedMessage,{id:"inboxFilterMenu.archivedOption.label",defaultMessage:"Archived"}),icon:f.H},{type:"all_updates",title:(0,v.jsx)(l.FormattedMessage,{id:"inboxFilterMenu.allUpdatesOption.label",defaultMessage:"All workspace updates"}),icon:y}];return(0,v.jsx)(w.Z,{menuType:T.og.Popup,height:r.isMobile?"50vh":void 0,minWidth:250,maxWidth:r.isMobile?"100vw":void 0,scrollerStyle:p.menuScroller,header:(0,v.jsx)(A.Z,{style:p.header,isSmall:!r.isMobile,isSecondaryColor:!r.isMobile,children:(0,v.jsx)(l.FormattedMessage,{id:"inbox.filterOptionsMenu.headerMobile",defaultMessage:"Filter"})}),children:(0,v.jsx)(Z.Z,{type:Z.i.Vertical,sections:[{key:"inbox filters",render:e=>(0,v.jsx)(I.Z,{...e,topBorder:0!==e.index,style:p.sectionMenuItem}),items:m.map(((e,o)=>{const i=e.type===d,n=o===m.length-1,a=r.isMobile&&n;return{key:e.type,render:t=>(0,v.jsx)(j.Z,{...t,style:{...p.buttonMenuItem,...a&&p.transparentButtonMenuItemBorder},pressedStyle:p.buttonMenuItemPressed,title:e.title,titleStyle:p.title,icon:(0,v.jsx)("div",{style:u.iconContainer,children:e.icon(u.icon)}),right:i?(0,C.k)(p.checkIcon):void 0}),action:()=>{t(),c(e.type)}}}))}],initialFocus:void 0,onAccept:()=>t()})})}function _(){const e=(0,n.Fy)(),t=(0,l.useIntl)(),o=(0,a.VK)((()=>g.Fz()),[]),i=(0,m.dc)(),f=(0,s.yK)((t=>({button:e.isMobile?{}:i.button,icon:{...i.icon,...e.isMobile&&{fill:t.icon.primary,width:18,height:18},..."unread_and_read"!==o?{fill:t.blueColor}:{}}})),[e.isMobile,o,i.button,i.icon]),M=(0,b.aE)(),y=t.formatMessage({defaultMessage:"Filter notifications",id:"inbox.filterButton.tooltip"});return(0,v.jsx)(c.ZP,{style:M.popup,popupType:e.isMobile?c.Z4.SlideUp:c.Z4.Popup,renderOrigin:t=>{let{onClick:o}=t;return(0,v.jsx)(p.Z,{renderTooltip:()=>y,placement:h.u.Bottom,alignment:h.v.Start,delayThreshold:0,originGap:6,render:t=>(0,v.jsx)(u.Z,{ariaLabel:y,icon:e.isMobile?d.I:r.Q,iconStyle:f.icon,onClick:o,style:f.button,...t})})},render:e=>(0,v.jsx)(R,{closePopup:e.close}),alignmentToOrigin:c.vR.Start,originGap:2})}},910601:(e,t,o)=>{o.d(t,{Q:()=>d});o(667294);var i=o(886628),n=o(709291),a=o(401898),s=o(641549),r=o(785893);function d(){const e=(0,i.VK)((()=>(0,s.Fz)()),[]);switch(e){case"unread_and_read":return(0,r.jsx)(n.FormattedMessage,{id:"inbox.unreadAndUnreadFilter.title",defaultMessage:"Inbox"});case"unread_only":return(0,r.jsx)(n.FormattedMessage,{id:"inbox.unreadOnlyFilter.title",defaultMessage:"Unread"});case"archived_only":return(0,r.jsx)(n.FormattedMessage,{id:"inbox.archivedFilter.title",defaultMessage:"Archived"});case"all_updates":return(0,r.jsx)(n.FormattedMessage,{id:"inbox.allUpdatesFilter.title",defaultMessage:"All workspace updates"});default:return(0,a.t1)(e)}}},424764:(e,t,o)=>{o.d(t,{t:()=>S,Z:()=>y});o(667294);var i=o(371663),n=o(698519),a=o(709291),s=o(401898),r=o(62967),d=o(57883),l=o(519719),c=o(709953),u=o(210228);function p(e){const{environment:t,key:o,selectedKey:i,following:n,followSettings:a,navigableBlockId:s,userId:r,spaceId:p,from:g}=e;u.createAndCommit({userAction:"UpdateSidebarFollowControl.setFollowing",environment:e.environment,canUndo:!1,perform:t=>{c.Ue({environment:e.environment,table:d.t0,args:{following:n,followSettings:a,navigableBlockId:s,userId:r,spaceId:p},inMemoryRecordCache:e.environment.defaultRecordCache.inMemoryRecordCache,transaction:t})}}),n?l.RJ(t,{from:"page_updates"}):l.ub(t,{from:"page_updates"}),i!==o&&l.kL(t,{from:g,navigableBlockId:s,oldSetting:i,newSetting:o})}var g=o(164964),m=o(693405),h=o(164369),b=o(80444),f=o(157538),M=o(785893);const v=(0,a.defineMessages)({repliesAndMentions:{id:"pageNotificationSettings.repliesAndMentions.displayName",defaultMessage:"Mentions"},comments:{id:"pageNotificationSettings.comments.displayName",defaultMessage:"Comments"},allUpdates:{id:"pageNotificationSettings.allUpdates.displayName",defaultMessage:"All"},importantUpdates:{id:"pageNotificationSettings.importantUpdates.displayName",defaultMessage:"Important"}});function y(e){const{followSettingsKey:t,environment:o,blockStore:n,from:s}=e,r=x({key:"none",selectedKey:t,title:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.repliesAndMentions.label",defaultMessage:"Replies and @mentions"}),displayName:v.repliesAndMentions,environment:o,blockStore:n,from:s}),d=x({key:"comments",selectedKey:t,title:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.allComments.label",defaultMessage:"All comments"}),displayName:v.comments,environment:o,blockStore:n,from:s}),l=x({key:"all",selectedKey:t,title:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.allUpdates.label",defaultMessage:"All updates"}),caption:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.simpleAllUpdates.caption",defaultMessage:"All comments and property changes"}),displayName:v.allUpdates,environment:o,blockStore:n,from:s}),c=n.getAssociatedCollectionStore();if(!c)return[d,r];const u=c.getDatabaseType();if(u===i.iS){return[l,x({key:"important",selectedKey:t,title:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.importantUpdatesTasks.label",defaultMessage:"Important updates"}),caption:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.importantUpdatesTasks.caption",defaultMessage:"All comments and changes to Status, Assignee, or Due Date"}),displayName:v.importantUpdates,environment:o,blockStore:n,from:s}),r]}if(u===i.wW){return[l,x({key:"important",selectedKey:t,title:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.importantUpdatesProjects.label",defaultMessage:"Important updates"}),caption:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.importantUpdatesProjects.caption",defaultMessage:"All comments and changes to Status or Date"}),displayName:v.importantUpdates,environment:o,blockStore:n,from:s}),r]}return[l,x({key:"comments",selectedKey:t,title:(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.onlyCommentsAllComments.label",defaultMessage:"All comments"}),displayName:v.comments,environment:o,blockStore:n,from:s}),r]}function x(e){const{key:t,title:o,caption:i,selectedKey:a,environment:s,blockStore:d,from:l,displayName:c}=e,u=S({key:t,userSelectedKey:a}),v={icon:{width:14,height:14},rightWrapper:i?{alignSelf:"flex-start",paddingTop:2}:{}};return{action:(0,r.cN)({key:t,displayName:c,analyticsName:t,validators:[],closeParentMenu:!0,action:()=>{const{currentUserRootStore:e}=b.default.state;if(e){const{following:o,followSettings:i}=(0,f.Z)(t),n=e.id,r=d.id,c=d.getSpaceId();p({environment:s,following:o,followSettings:i,navigableBlockId:r,spaceId:c,userId:n,from:l,key:t,selectedKey:a}),"inbox"!==l&&"more_menu"!==l||g.d4({item:{label:C(t)},undoFunc:()=>{const{following:e,followSettings:o}=(0,f.Z)(a);p({environment:s,following:e,followSettings:o,navigableBlockId:r,spaceId:c,userId:n,from:l,key:t,selectedKey:a})}})}},render:e=>(0,M.jsx)(m.Z,{...e,title:(0,M.jsx)(h.Z,{children:o}),caption:i,shouldWrapCaption:!0,right:u?(0,n.k)(v.icon):(0,M.jsx)("div",{style:v.icon}),rightStyle:v.right})}),title:o,isSelectedOption:u}}function S(e){const{key:t,userSelectedKey:o}=e;return"important"===o||"comments"===o?"important"===t||"comments"===t:t===o}function C(e){switch(e){case"none":return(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.subscribedRepliesAndMentionsSuccess.snackbarMessage",defaultMessage:"Subscribed to replies and @mentions"});case"comments":return(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.subscribedAllCommentsSuccess.snackbarMessage",defaultMessage:"Subscribed to all comments"});case"important":return(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.subscribedImportantUpdatesSuccess.snackbarMessage",defaultMessage:"Subscribed to important updates"});case"all":return(0,M.jsx)(a.FormattedMessage,{id:"GetNotifiedDropdown.subscribedAllUpdatesSuccess.snackbarMessage",defaultMessage:"Subscribed to all updates"});default:(0,s.t1)(e)}}},930737:(e,t,o)=>{o.d(t,{A:()=>ce});o(757658);var i=o(667294),n=o(800480),a=o(886628),s=o(724405),r=o(709291),d=o(401898),l=o(137810),c=o(375071),u=o(573063),p=o(526388),g=o(510102),m=o(48276),h=o(252193),b=o(828344),f=o(365147),M=o(785893);const v=(0,r.defineMessages)({newChatPlusIcon:{id:"assistantFullPageChat.newChat.ariaLabel",defaultMessage:"New chat"}});function y(){const e=(0,r.useIntl)(),t=(0,n.O7)(),o=(0,g.Io)(),i=m.dc();return(0,M.jsx)(p.Z,{renderTooltip:()=>e.formatMessage(v.newChatPlusIcon),render:n=>(0,M.jsx)(u.Z,{...n,icon:c.f,iconStyle:i.icon,style:i.button,ariaLabel:e.formatMessage(v.newChatPlusIcon),onClick:()=>{!function(e){const{environment:t,assistantSurface:o}=e;(0,f.N0)({environment:t,assistantSurface:o,action:()=>{(0,h.clearActiveAssistantSession)({environment:t}),(0,b.trackAIChatTranscriptHistoryNewChatCreated)(t,{source:o.type})}})}({environment:t,assistantSurface:o})}})})}var x=o(843250),S=o(97889),C=o(881150),k=o(910601),j=o(982041),w=o(424042),Z=o(823376),I=o(109867);const A=(0,r.defineMessages)({newTeamPlusIcon:{id:"sidebarTeamBrowser.newTeam.button",defaultMessage:"New teamspace"}});function T(){const e=(0,r.useIntl)(),t=m.dc(),o=(0,i.useCallback)((()=>I.lo("team_browser")),[]);return(0,M.jsx)(p.Z,{renderTooltip:()=>e.formatMessage(A.newTeamPlusIcon),render:i=>(0,M.jsx)(u.Z,{...i,icon:c.f,iconStyle:t.icon,style:t.button,ariaLabel:e.formatMessage(A.newTeamPlusIcon),onClick:o})})}var B=o(934700),F=o(224646);const R=30;function _(e){const t=(0,n.O7)(),o=(0,n.Fy)(),{isElectron:i,isElectronMac:r}=o,{isShowingTabBar:d,isUnifiedTitleBarEnabled:l}=(0,a.VK)((()=>{var e;return{isShowingTabBar:Boolean(w.Z.state.isShowingTabBar),isUnifiedTitleBarEnabled:Boolean(null===(e=w.Z.state.preferences)||void 0===e?void 0:e.isUnifiedTitleBarEnabled)}}),[]),c=(0,a.VK)((()=>(0,F.in)(t)),[t]),u=!d&&!c&&(l?i:r),p=(0,s.yK)((()=>({container:{...(0,B.X)({drag:!0}),flexShrink:0,height:R,width:"100%"}})),[]);return u?(0,M.jsx)("div",{style:p.container}):null}var L=o(294184),U=o.n(L),V=o(745238);const N=(0,V.IU)("hamburgerMenuRound",{viewBox:"0 0 20 20",svg:(0,M.jsx)("path",{d:"M17.266 5.758H2.734a.713.713 0 0 1-.523-.219A.719.719 0 0 1 2 5.023a.737.737 0 0 1 .734-.75h14.532c.209 0 .383.073.523.22.14.145.211.322.211.53 0 .204-.07.378-.21.524a.71.71 0 0 1-.524.21ZM17.266 10.742H2.734a.713.713 0 0 1-.523-.219.719.719 0 0 1-.211-.515.737.737 0 0 1 .734-.75h14.532c.209 0 .383.073.523.219.14.145.211.322.211.53 0 .204-.07.378-.21.524a.71.71 0 0 1-.524.211ZM17.266 15.727H2.734a.713.713 0 0 1-.523-.22.719.719 0 0 1-.211-.515c0-.208.07-.385.21-.531a.713.713 0 0 1 .524-.219h14.532c.209 0 .383.073.523.219.14.146.211.323.211.531 0 .203-.07.378-.21.524a.71.71 0 0 1-.524.21Z"})});var P=o(58261),K=o(966324),O=o(825464);function H(e){const{style:t}=e,o=(0,n.O7)(),i=(0,r.useIntl)(),d=(0,a.VK)((()=>{const e=w.Z.state.isShowingTabBar;return!(0,F.in)(o)&&!e}),[o]),l=(0,m.dc)(),c=(0,s.yK)((e=>({button:{...l.button,...t,marginLeft:-7},keyboardShortcut:{color:e.mediumInvertedTextColor}})),[l,t]),g=i.formatMessage({defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"});return d?(0,M.jsx)(p.Z,{renderTooltip:()=>(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{children:g}),(0,M.jsx)(P.Z,{style:c.keyboardShortcut,name:"toggleSidebar"})]}),placement:O.u.Bottom,alignment:O.v.Start,delayThreshold:0,originGap:6,render:e=>(0,M.jsx)(u.Z,{ariaLabel:g,icon:N,iconStyle:l.icon,style:c.button,onClick:()=>K.setExpand({environment:o,isExpanded:!0,from:"topbar_sidebar_button"}),className:U().openSidebarButton,...e})}):null}var D=o(97439),W=o(207525),E=o(838745),z=o(717659),G=o(623063),$=o(641549),Q=o(304761),J=o(116746);function X(e){const{type:t}=e,o=(0,n.O7)(),{peekModeTooltipMessage:l,panelModeTooltipMessage:c}=function(e){const t=(0,r.useIntl)(),o={peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockInbox.tooltip",defaultMessage:"Lock inbox pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeInbox.tooltip",defaultMessage:"Close inbox pane"})};switch(e){case"inbox":case"none":return o;case"assistant":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockChatHistory.tooltip",defaultMessage:"Lock chat history open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeChatHistory.tooltip",defaultMessage:"Close chat history"})};case"private_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockPrivate.tooltip",defaultMessage:"Lock private pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closePrivate.tooltip",defaultMessage:"Close private pane"})};case"shared_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockShared.tooltip",defaultMessage:"Lock shared pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeShared.tooltip",defaultMessage:"Close shared pane"})};case"teams":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockTeams.tooltip",defaultMessage:"Lock teamspaces pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeTeams.tooltip",defaultMessage:"Close teamspaces pane"})};default:(0,d.t1)(e)}}(t),g=(0,a.VK)((()=>J.Z.state.isMouseEntered),[]),h=(0,i.useCallback)((()=>{const e=Z.bP();switch("peek"===e&&Z.TN({environment:o}),t){case"inbox":const i={tab:(0,$.Fz)(),unread_notifications_count:z.aY(),sessionId:Q.ZP.state.sessionId,...(0,F.UF)({environment:o})};return void E.Bf(o,{view_type:e,section:t,...i});case"private_pages":case"shared_pages":case"assistant":case"teams":return void E.Bf(o,{view_type:e,section:t,...(0,F.UF)({environment:o})});case"none":return;default:(0,d.t1)(t)}}),[o,t]),b=(0,a.VK)((()=>J.Z.state.mode),[]),f=m.dc(),v=(0,s.yK)((e=>({icon:{transform:"rotate(180deg)",...f.icon}})),[f]),y="peek"===b?l:c,x="panel"===b?W.t:D.D;return(0,M.jsx)(p.Z,{renderTooltip:()=>y,placement:O.u.Bottom,alignment:O.v.Start,delayThreshold:0,originGap:6,render:e=>(0,M.jsx)(G.Z,{isVisible:!0,enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},animationStyle:{opacity:g?1:0},render:()=>(0,M.jsx)(u.Z,{...e,ariaLabel:y,onClick:h,icon:x,iconStyle:v.icon,style:f.button})})})}const Y=(0,V.IU)("sortSidebar",{viewBox:"0 0 20 20",svg:(0,M.jsx)("path",{d:"M5.40625 3.26855C5.57031 3.09082 5.76855 3.00195 6.00098 3.00195C6.2334 3.00195 6.43164 3.09082 6.5957 3.26855L10.041 6.7959C10.2005 6.95996 10.2803 7.15365 10.2803 7.37695C10.2803 7.60938 10.2051 7.80078 10.0547 7.95117C9.90885 8.09701 9.72201 8.16992 9.49414 8.16992C9.26628 8.16992 9.07943 8.09473 8.93359 7.94434L7.53223 6.48828L6.75977 5.58594L6.80078 6.95996V15.3271C6.80078 15.5596 6.72559 15.751 6.5752 15.9014C6.4248 16.0563 6.2334 16.1338 6.00098 16.1338C5.76855 16.1338 5.57487 16.0563 5.41992 15.9014C5.26953 15.751 5.19434 15.5596 5.19434 15.3271V6.95996L5.24902 5.58594L4.46289 6.48828L3.06836 7.94434C2.91797 8.09473 2.73112 8.16992 2.50781 8.16992C2.27539 8.16992 2.08398 8.09701 1.93359 7.95117C1.78776 7.80078 1.71484 7.60938 1.71484 7.37695C1.71484 7.15365 1.79688 6.95996 1.96094 6.7959L5.40625 3.26855ZM14.5938 15.874C14.4251 16.0518 14.2246 16.1383 13.9922 16.1338C13.7643 16.1338 13.5684 16.0472 13.4043 15.874L9.96582 12.3398C9.7972 12.1758 9.71289 11.9821 9.71289 11.7588C9.71289 11.5218 9.78809 11.3304 9.93848 11.1846C10.0889 11.0387 10.2803 10.9658 10.5127 10.9658C10.7314 10.9658 10.916 11.041 11.0664 11.1914L12.4678 12.6406L13.2471 13.5498L13.1924 12.1758V3.80859C13.1924 3.57617 13.2676 3.38477 13.418 3.23438C13.5729 3.07943 13.7666 3.00195 13.999 3.00195C14.2314 3.00195 14.4229 3.07943 14.5732 3.23438C14.7236 3.38477 14.7988 3.57617 14.7988 3.80859V12.1758L14.751 13.5498L15.5371 12.6406L16.9316 11.1914C17.0775 11.041 17.262 10.9658 17.4854 10.9658C17.7178 10.9658 17.9069 11.0387 18.0527 11.1846C18.2031 11.3304 18.2783 11.5218 18.2783 11.7588C18.2783 11.9821 18.1963 12.1758 18.0322 12.3398L14.5938 15.874Z"})});var q=o(231945),ee=o(80444),te=o(62967),oe=o(748019),ie=o(478140),ne=o(672495),ae=o(164369),se=o(668995),re=o(460709);function de(e){const{type:t,spaceViewStore:o,onClick:i}=e,a=(0,n.O7)(),d=(0,s.yK)((e=>({header:{display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16,paddingTop:10,fontSize:12,lineHeight:"16px",fontWeight:l.Z.fontWeight.semibold,color:e.mediumTextColor}})),[]),c=(0,se.useSortActions)({type:t,spaceViewStore:o,onSelect:i,outlinerLocation:"pane"}),u=[(0,te.$J)({key:"sort",render:e=>(0,M.jsx)(ne.Z,{...e}),actions:c})];return(0,M.jsxs)(ie.Z,{menuType:re.og.Popup,children:[(0,M.jsx)(ae.Z,{style:d.header,children:(0,M.jsx)(r.FormattedMessage,{id:"secondarySidebar.sortMenu.headerLabel",defaultMessage:"Sort"})}),(0,M.jsx)(oe.Z,{context:{blocks:[],environment:a,publicEditMode:void 0},sections:u,initialFocus:void 0})]})}function le(e){let{type:t}=e;const o=(0,r.useIntl)(),i=(0,a.VK)((()=>ee.default.state.currentSpaceViewStore),[]),n=(0,m.dc)(),d=(0,s.yK)((e=>({icon:{fill:e.mediumIconColor,width:20,height:20}})),[]),l=o.formatMessage({defaultMessage:"Sort {type} pages",id:"secondarySidebar.sortButton.tooltip"},{type:t});return i?(0,M.jsx)(q.ZP,{popupType:q.Z4.Popup,renderOrigin:e=>{let{onClick:t}=e;return(0,M.jsx)(p.Z,{renderTooltip:()=>l,placement:O.u.Bottom,alignment:O.v.Start,delayThreshold:0,originGap:6,render:e=>(0,M.jsx)(u.Z,{ariaLabel:l,icon:Y,iconStyle:d.icon,onClick:t,style:n.button,...e})})},render:e=>(0,M.jsx)(de,{onClick:e.close,type:t,spaceViewStore:i}),alignmentToOrigin:q.vR.Start,originGap:2}):(0,M.jsx)(M.Fragment,{})}function ce(e){const{type:t}=e,o=(0,n.O7)(),{isElectron:r,isElectronMac:c}=(0,n.Fy)(),u=(0,a.VK)((()=>{var e;const{isShowingTabBar:t}=w.Z.state;return Boolean(null===(e=w.Z.state.preferences)||void 0===e?void 0:e.isUnifiedTitleBarEnabled)?r&&!t:c&&!t}),[r,c]),p=(0,s.yK)((e=>({container:{display:"flex",flexDirection:"column"},header:{paddingTop:8,paddingLeft:16,paddingRight:16,paddingBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},title:{display:"flex",alignItems:"center",gap:4,fontSize:14,fontWeight:l.Z.fontWeight.medium},actions:{display:"flex",alignItems:"center",gap:4},createPageButtonIcon:{fill:e.mediumIconColor}})),[]),g=(0,i.useCallback)((()=>{"peek"===J.Z.state.mode&&(0,Z.TN)({environment:o})}),[o]),m=[];switch(t){case"inbox":m.push((0,M.jsx)(X,{type:t},"mode_toggle"),(0,M.jsx)(S.p,{},"inbox_ellipsis"),(0,M.jsx)(C.$,{},"inbox_filter"));break;case"private_pages":m.push((0,M.jsx)(X,{type:t},"mode_toggle"),(0,M.jsx)(le,{type:"private"}),(0,M.jsx)(j.Z,{from:"sidebar_private_pane",onClick:g,iconStyle:p.createPageButtonIcon}));break;case"shared_pages":m.push((0,M.jsx)(X,{type:t},"mode_toggle"),(0,M.jsx)(le,{type:"shared"}));break;case"assistant":m.push((0,M.jsx)(X,{type:t},"mode_toggle"),(0,M.jsx)(y,{},"add_chat"));break;case"teams":m.push((0,M.jsx)(X,{type:t},"mode_toggle"),(0,M.jsx)(T,{},"add_team"));break;case"none":break;default:(0,d.t1)(t)}return(0,M.jsxs)("div",{className:u?x.pMC:void 0,style:p.container,children:[(0,M.jsx)(_,{type:t}),(0,M.jsxs)("div",{style:p.header,children:[(0,M.jsxs)("div",{style:p.title,children:[(0,M.jsx)(H,{}),(0,M.jsx)(ue,{type:t})]}),(0,M.jsx)("div",{style:p.actions,children:m})]})]})}function ue(e){const{type:t}=e;switch(t){case"inbox":return(0,M.jsx)(k.Q,{});case"private_pages":return(0,M.jsx)(r.FormattedMessage,{id:"secondarySidebarHeader.title.privatePages",defaultMessage:"Private"});case"shared_pages":return(0,M.jsx)(r.FormattedMessage,{id:"secondarySidebarHeader.title.sharedPages",defaultMessage:"Shared"});case"assistant":return(0,M.jsx)(r.FormattedMessage,{id:"secondarySidebarHeader.title.assistant",defaultMessage:"Notion AI"});case"teams":return(0,M.jsx)(r.FormattedMessage,{defaultMessage:"All teamspaces",id:"sidebarTeamBrowserHeader.title"});case"none":return null;default:(0,d.t1)(t)}}},982041:(e,t,o)=>{o.d(t,{Z:()=>v});o(667294);var i=o(800480),n=o(886628),a=o(724405),s=o(248780),r=o(249902),d=o(709291),l=o(573063),c=o(58261),u=o(526388),p=o(304708),g=o(548779),m=o(825464),h=o(80444),b=o(997156),f=o(966324),M=o(785893);function v(e){let{from:t,onClick:o,iconStyle:v}=e;const y=(0,i.O7)(),x=(0,d.useIntl)(),S=(0,n.VK)((()=>h.default.state.currentSpaceStore),[]),C=(0,n.VK)((()=>h.default.state.currentUserRootStore),[]),k=(0,n.VK)((()=>(0,g.Cx)(S)),[S]),j=(0,n.VK)((()=>(0,p.b9)({environment:y,spaceStore:S,userRootStore:C})),[y,S,C]),w=(0,a.yK)((e=>({shortcutLabel:{color:e.mediumInvertedTextColor},button:{width:28,height:28,borderRadius:4},icon:{width:24,height:24,fill:e.regularTextColor,...v},iconDisabled:{opacity:.4},hovered:{background:e.newSidebarItemSelectedBackground}})),[v]);return k?"sidebar_new_page_button"===t&&j?(0,M.jsx)(l.Z,{icon:s.l,ariaLabel:x.formatMessage(f.newPageMessages.label),onClick:e=>{b.Z.open()},style:w.button,iconStyle:{...w.icon,...w.iconDisabled}}):null:(0,M.jsx)(u.Z,{renderTooltip:()=>(0,M.jsxs)(M.Fragment,{children:[x.formatMessage(f.newPageMessages.tooltip),y.device.isNative&&(0,M.jsx)("div",{children:(0,M.jsx)(c.Z,{style:w.shortcutLabel,name:"newPage"})})]}),originGap:6,placement:m.u.Right,render:e=>(0,M.jsx)(l.Z,{...e,icon:s.l,ariaLabel:x.formatMessage(f.newPageMessages.label),onClick:e=>{S&&(f.quickAddPage({environment:y,from:t,event:e}),"sidebar_private_pane"===t&&r.j({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})),o&&o()},style:w.button,iconStyle:w.icon,hoveredStyle:w.hovered})})}},552867:(e,t,o)=>{o.d(t,{H:()=>a});o(667294);var i=o(745238),n=o(785893);const a=(0,i.IU)("archive",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M6.247 16.456c-.706 0-1.246-.182-1.62-.547-.37-.364-.554-.9-.554-1.606V7.07h1.34v7.212c0 .287.075.508.226.663.155.15.376.226.663.226h7.39c.282 0 .498-.075.649-.226.155-.155.232-.376.232-.663V7.07h1.347v7.233c0 .702-.187 1.235-.56 1.6-.374.368-.912.553-1.614.553H6.247Zm1.545-5.94a.538.538 0 0 1-.554-.568V9.73c0-.168.05-.303.15-.403a.56.56 0 0 1 .404-.15h4.416c.164 0 .296.05.396.15.105.1.158.235.158.403v.22a.538.538 0 0 1-.554.567H7.792Zm-3.26-2.79c-.466 0-.828-.136-1.088-.41-.255-.278-.382-.647-.382-1.107v-.998c0-.465.132-.834.396-1.107.264-.274.622-.41 1.073-.41H15.47c.46 0 .818.136 1.073.41.26.273.39.642.39 1.107v.998c0 .46-.13.83-.39 1.107-.255.274-.613.41-1.073.41H4.53ZM4.79 6.49h10.418c.16 0 .273-.036.342-.11.068-.077.102-.193.102-.348V5.39c0-.16-.034-.276-.102-.349-.069-.073-.183-.11-.342-.11H4.791c-.16 0-.276.037-.349.11-.068.073-.102.19-.102.349v.642c0 .155.034.271.102.349.073.073.19.11.349.11Z"})})},821197:(e,t,o)=>{o.d(t,{Q:()=>a});o(667294);var i=o(745238),n=o(785893);const a=(0,i.IU)("filter",{viewBox:"0 0 16 16",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4C2 3.58579 2.33579 3.25 2.75 3.25H13.25C13.6642 3.25 14 3.58579 14 4C14 4.41421 13.6642 4.75 13.25 4.75H2.75C2.33579 4.75 2 4.41421 2 4Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 8C3.75 7.58579 4.08579 7.25 4.5 7.25H11.5C11.9142 7.25 12.25 7.58579 12.25 8C12.25 8.41421 11.9142 8.75 11.5 8.75H4.5C4.08579 8.75 3.75 8.41421 3.75 8Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12C5.5 11.5858 5.83579 11.25 6.25 11.25H9.75C10.1642 11.25 10.5 11.5858 10.5 12C10.5 12.4142 10.1642 12.75 9.75 12.75H6.25C5.83579 12.75 5.5 12.4142 5.5 12Z"})]})})},670753:(e,t,o)=>{o.d(t,{F:()=>a});o(667294);var i=o(745238),n=o(785893);const a=(0,i.IU)("notificationRead",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.44922 13.248C3.81641 13.248 3.33789 13.0859 3.01367 12.7617C2.68945 12.4414 2.52734 11.9688 2.52734 11.3438V4.21289C2.52734 3.58398 2.68945 3.10938 3.01367 2.78906C3.33789 2.46875 3.81641 2.30859 4.44922 2.30859H11.5449C12.1777 2.30859 12.6562 2.46875 12.9805 2.78906C13.3047 3.10938 13.4668 3.58398 13.4668 4.21289V11.3438C13.4668 11.9688 13.3047 12.4414 12.9805 12.7617C12.6562 13.0859 12.1777 13.248 11.5449 13.248H4.44922ZM4.51953 12.0938H11.4746C11.7441 12.0938 11.9512 12.0234 12.0957 11.8828C12.2402 11.7422 12.3125 11.5293 12.3125 11.2441V4.30664C12.3125 4.02539 12.2402 3.81445 12.0957 3.67383C11.9512 3.5332 11.7441 3.46289 11.4746 3.46289H4.51953C4.24609 3.46289 4.03711 3.5332 3.89258 3.67383C3.75195 3.81445 3.68164 4.02539 3.68164 4.30664V11.2441C3.68164 11.5293 3.75195 11.7422 3.89258 11.8828C4.03711 12.0234 4.24609 12.0938 4.51953 12.0938ZM7.37305 10.5527C7.26367 10.5527 7.16602 10.5293 7.08008 10.4824C6.99414 10.4316 6.91016 10.3574 6.82812 10.2598L5.44531 8.57227C5.34375 8.44336 5.29297 8.3125 5.29297 8.17969C5.29297 8.03516 5.3418 7.91211 5.43945 7.81055C5.54102 7.70508 5.66211 7.65234 5.80273 7.65234C5.89258 7.65234 5.97266 7.67188 6.04297 7.71094C6.11719 7.74609 6.18945 7.81055 6.25977 7.9043L7.34961 9.28711L9.66406 5.57812C9.78516 5.37891 9.9375 5.2793 10.1211 5.2793C10.2578 5.2793 10.3809 5.32422 10.4902 5.41406C10.5996 5.50391 10.6543 5.62109 10.6543 5.76562C10.6543 5.83203 10.6387 5.90039 10.6074 5.9707C10.5801 6.03711 10.5469 6.09961 10.5078 6.1582L7.88867 10.2539C7.76367 10.4531 7.5918 10.5527 7.37305 10.5527Z"})})},261248:(e,t,o)=>{o.d(t,{F:()=>a});o(667294);var i=o(745238),n=o(785893);const a=(0,i.IU)("notificationUnread",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M3.622 12.683v-5.25c0-.62.05-1.172.15-1.655.105-.483.333-.9.684-1.25.351-.352.768-.58 1.251-.684a7.906 7.906 0 0 1 1.654-.157h4.69a2.893 2.893 0 0 0-.185 1.086 1.325 1.325 0 0 0-.007.13l.014.13H7.204c-.36 0-.697.032-1.012.096-.314.064-.567.189-.758.376a1.514 1.514 0 0 0-.376.759c-.06.31-.09.645-.09 1.005v5.605c0 .355.03.688.09.998.063.305.189.554.376.745.191.187.442.315.752.383.314.064.649.096 1.004.096h5.62c.35 0 .68-.032.99-.096.315-.064.566-.191.753-.383.191-.191.319-.44.382-.745.064-.31.096-.643.096-.998V8.191l.123.014c.046 0 .091-.002.137-.007.191.01.378-.002.56-.034.183-.036.356-.087.52-.15v4.669c0 .629-.052 1.184-.157 1.668-.1.483-.324.9-.67 1.25-.356.351-.777.58-1.265.684a7.944 7.944 0 0 1-1.66.157H7.374c-.624 0-1.18-.052-1.668-.157a2.478 2.478 0 0 1-1.25-.683 2.411 2.411 0 0 1-.685-1.251c-.1-.484-.15-1.04-.15-1.668Zm11.56-5.408a2.26 2.26 0 0 1-1.19-.32 2.455 2.455 0 0 1-.854-.862 2.27 2.27 0 0 1-.322-1.183c0-.433.107-.827.322-1.182.214-.36.499-.648.854-.862a2.26 2.26 0 0 1 1.19-.321c.423 0 .813.107 1.169.321.36.214.647.502.86.862.215.355.322.75.322 1.182 0 .429-.107.823-.321 1.183-.214.36-.501.647-.861.861a2.223 2.223 0 0 1-1.17.321Z"})})},659078:(e,t,o)=>{o.d(t,{W:()=>a});o(667294);var i=o(745238),n=o(785893);const a=(0,i.IU)("sidebarInbox",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M4.61084 16.0537C3.90837 16.0537 3.37305 15.8717 3.00488 15.5078C2.64095 15.1481 2.45898 14.6191 2.45898 13.9209V10.1504C2.45898 9.89225 2.47168 9.67432 2.49707 9.49658C2.52669 9.31462 2.57536 9.15169 2.64307 9.00781C2.71077 8.86393 2.80387 8.71794 2.92236 8.56982L4.94092 6.09424C5.20752 5.76416 5.44238 5.50602 5.64551 5.31982C5.85286 5.12939 6.07715 4.99609 6.31836 4.91992C6.5638 4.83952 6.88118 4.79932 7.27051 4.79932H12.7358C13.1252 4.79932 13.4404 4.83952 13.6816 4.91992C13.9271 4.99609 14.1514 5.12939 14.3545 5.31982C14.5576 5.50602 14.7946 5.76416 15.0654 6.09424L17.0776 8.56982C17.2004 8.71794 17.2956 8.86393 17.3633 9.00781C17.431 9.15169 17.4775 9.31462 17.5029 9.49658C17.5283 9.67432 17.541 9.89225 17.541 10.1504V13.9209C17.541 14.6191 17.359 15.1481 16.9951 15.5078C16.6312 15.8717 16.098 16.0537 15.3955 16.0537H4.61084ZM4.69971 14.6445H15.3066C15.5817 14.6445 15.7912 14.5747 15.9351 14.4351C16.0832 14.2912 16.1572 14.0711 16.1572 13.7749V10.7852H12.4946C12.4142 11.1533 12.2576 11.4813 12.0249 11.769C11.7964 12.0568 11.5086 12.2853 11.1616 12.4546C10.8146 12.6196 10.4274 12.7021 10 12.7021C9.57682 12.7021 9.19173 12.6196 8.84473 12.4546C8.49772 12.2896 8.20785 12.0632 7.9751 11.7754C7.74235 11.4834 7.58789 11.1533 7.51172 10.7852H3.84277V13.7749C3.84277 14.0711 3.91471 14.2912 4.05859 14.4351C4.20671 14.5747 4.42041 14.6445 4.69971 14.6445ZM10 11.4072C10.2751 11.4072 10.512 11.3395 10.7109 11.2041C10.9098 11.0687 11.0643 10.8973 11.1743 10.6899C11.2843 10.4784 11.3394 10.2646 11.3394 10.0488V10.0298C11.3394 9.90706 11.3774 9.79915 11.4536 9.70605C11.5298 9.60872 11.6525 9.56006 11.8218 9.56006H15.8335C15.9351 9.56006 15.9964 9.52409 16.0176 9.45215C16.043 9.38021 16.0303 9.3125 15.9795 9.24902L13.7197 6.43701C13.5885 6.26774 13.4447 6.14502 13.2881 6.06885C13.1315 5.98844 12.9495 5.94824 12.7422 5.94824H7.25781C7.05469 5.94824 6.87484 5.98844 6.71826 6.06885C6.56169 6.14502 6.41569 6.26774 6.28027 6.43701L4.0332 9.24902C3.97819 9.3125 3.96126 9.38021 3.98242 9.45215C4.00781 9.52409 4.07129 9.56006 4.17285 9.56006H8.18457C8.35384 9.56006 8.47656 9.60872 8.55273 9.70605C8.62891 9.79915 8.66699 9.90706 8.66699 10.0298V10.0488C8.66699 10.2646 8.71989 10.4784 8.82568 10.6899C8.93571 10.8973 9.09017 11.0687 9.28906 11.2041C9.48796 11.3395 9.72493 11.4072 10 11.4072Z"})})}}]);