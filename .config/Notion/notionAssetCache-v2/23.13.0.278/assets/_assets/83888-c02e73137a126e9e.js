"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[83888],{18878:(e,t,i)=>{i.d(t,{mX:()=>f,mo:()=>g,nH:()=>h});i(667294);var n=i(886628),o=i(724405),r=i(772141),s=i(709291),a=i(401898),d=i(137810),c=i(434859),l=i(80444),u=i(953336),m=i(363381),p=i(785893);function g(e){const{openState:t}=e,{mainEditorCurrentBlockStore:i,currentSpaceStore:r}=(0,n.VK)((()=>{const{mainEditorCurrentBlockStore:e,currentSpaceStore:t}=l.default.state;return{mainEditorCurrentBlockStore:e,currentSpaceStore:t}}),[]),s=(0,o.yK)((e=>({scroller:{display:"flex",flexDirection:"column",maxHeight:290},editContainer:{marginTop:2,marginBottom:2,color:e.regularTextColor}})),[]);if(!i||!r)return null;const a=Date.now();return(0,p.jsx)(u.Z,{type:c.Z.Y,style:s.scroller,children:t.permissionChanges.map(((e,t)=>{let[n,o]=e;const d={timestamp:a,space_id:r.id,type:"permission-changed",permission_data:{before:n,after:o}};return(0,p.jsx)("div",{style:s.editContainer,children:(0,p.jsx)(m.Z,{rootStore:i,edit:d})},`${n.type}-${t}`)}))})}function h(e){return["remove","restrict"].includes(e.type)?(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccess",defaultMessage:"Restrict access"}):"restoreTeamPermissions"===e.type?(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.actionButton.restoreTeamPermissions",defaultMessage:"Reset Permissions"}):(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.actionButton.restoreAccess",defaultMessage:"Restore access"})}function f(e){switch(e.type){case"remove":return(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.restrict.description",defaultMessage:"Are you sure you want to remove this {permissionGroup} and restrict access? This page will no longer inherit share settings from the parent page.",values:{permissionGroup:C(e)}});case"restrict":return(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.remove.description",defaultMessage:"Are you sure you want to change this role and restrict access? This page will no longer inherit share settings from the parent page."});case"restore":return e.permissionChanges.length>0?(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.restore.description",defaultMessage:"Are you sure you want to restore access? This will inherit the following permissions from the parent page:"}):(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.restoreNoChanges.description",defaultMessage:"Are you sure you want to restore access?"});case"restoreTeamPermissions":return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{fontWeight:d.Z.fontWeight.semibold,marginBottom:4},children:(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.restoreTeamPermissions.mainDescription",defaultMessage:"Are you sure you want to reset permissions to match the teamspace defaults?"})}),(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.restoreTeamPermissions.warningMessage",defaultMessage:"Everyone else who is not part of the teamspace will lose access, including guests."})]});default:throw a.t1(e)}}function C(e){return(0,r.jg)(e.permissionItem)?(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.permissionGroup.user",defaultMessage:"user"}):(0,r.hV)(e.permissionItem)?(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.permissionGroup.group",defaultMessage:"group"}):(0,r.Ir)(e.permissionItem)?(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.permissionGroup.space",defaultMessage:"workspace"}):(0,p.jsx)(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.permissionGroup.generic",defaultMessage:"permission"})}},131075:(e,t,i)=>{i.d(t,{i:()=>f});i(21703),i(757658),i(667294);var n=i(186517),o=i(23867),r=i(709291),s=i(91536),a=i(454642),d=i(547307),c=i(476464),l=i(210228),u=i(164369),m=i(18878),p=i(318245),g=i(319385),h=i(785893);async function f(e){const{oldPermissionItem:t,newPermissionItem:i,wasInherited:f,environment:C,store:v,sudoModeStore:y,restrictingVisibility:S,fromPermissionWrapper:I}=e;if(!(0,n.Kf)(t,i))throw new Error("Permission type mismatch.");const x=!!y&&y.shouldSaveTransactionWithSudoMode(v),b=(0,n.nl)(t.role,i.role);if(f&&b!==i.role||S)return void(await async function(e){const{environment:t,useSudoMode:i,store:n,permissionItem:o,fromPermissionWrapper:s}=e,a="none"===o.role?{type:"remove",permissionItem:o}:{type:"restrict"},p="user_permission"===o.type&&o.user_id===t.currentUser.id;(p||await d.confirmUserAction({message:(0,m.mX)(a),acceptLabel:(0,m.nH)(a),cancelLabel:(0,h.jsx)(r.FormattedMessage,{id:"restrictedPermissionConfirmationModal.actionButton.cancel",defaultMessage:"Close"}),description:(0,h.jsx)(u.Z,{isSmall:!0,isMultiline:!0,children:(0,h.jsx)(r.FormattedMessage,{id:"restrictedPermissionConfirmationModal.footer.whisperText",defaultMessage:"Admins will still be able to restore permissions from restricted pages."})})}))&&l.createAndCommit({userAction:"PermissionItem.onAccept",environment:t,useSudoMode:i,perform:e=>{c.Pk({environment:t,store:n,permissionItem:o,shouldInherit:!0,transaction:e,fromPermissionWrapper:s})}})}({environment:C,useSudoMode:x,store:v,permissionItem:i,fromPermissionWrapper:I}));!v.isTopLevel()&&t.role!==i.role&&b!==t.role&&s.SM(C);const M="public_permission"===t.type&&"public_permission"===i.type&&"none"===t.role&&"none"!==i.role,w=("public_permission"===t.type&&"public_permission"===i.type&&!t.allow_search_engine_indexing&&i.allow_search_engine_indexing||M&&Boolean(g.default.checkGate({gateName:"include_nonindexed_public_content_for_scanning"})))&&Boolean(g.default.checkGate({gateName:"enable_public_content_scanning"}));l.createAndCommit({userAction:"PermissionItem.handlePermissionItemChange",environment:C,useSudoMode:x,perform:t=>{const n=p.default.mark("share_menu.update_page_permission_lag");c.l3({environment:C,store:v,permissionItems:[i],transaction:t,pagePermissionChangeLocation:e.location,metric:n,fromPermissionWrapper:I}),w&&t.postSubmitCallbacks.push((async e=>{e||await a.enqueueScanContentTask(C,{pagePointer:{id:v.id,table:"block",spaceId:(0,o.C)(v.pointer.spaceId)}})}))}})}},16809:(e,t,i)=>{i.d(t,{AB:()=>M,Au:()=>R,DR:()=>I,Fo:()=>v,H2:()=>P,Hl:()=>A,Q6:()=>x,QP:()=>k,YU:()=>L,Y_:()=>w,c7:()=>B,dM:()=>S,dU:()=>b,f$:()=>j,gx:()=>_,t:()=>Z,xz:()=>T,y_:()=>U,yr:()=>F});i(757658),i(667294);var n=i(421202),o=i(23867),r=i(715539),s=i(492338),a=i(709291),d=i(653965),c=i(454642),l=i(709953),u=i(164964),m=i(210228),p=i(741195),g=i(131075),h=i(70853),f=i(230675),C=i(785893);function v(e){const{environment:t,store:i,domainId:n}=e,s=i.getSiteStore();if(s)return s.id;let a=n;var d;a||(a=null===(d=h.VA(i.getSpaceStore()))||void 0===d?void 0:d.id);const c=(0,p.$x)({environment:t,table:r.Gs,spaceId:(0,o.C)(i.getSpaceId())});m.createAndCommit({userAction:"publishSite.create",environment:t,perform:e=>{const n=l.Ue({environment:t,table:c.table,args:{id:c.id,spaceId:c.spaceId,blockId:i.id,domainId:a,currentUserId:t.currentUser.id},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,transaction:e});return l.sW({store:i.getFormatStore(),data:{site_id:n.id},transaction:e}),n.id}})}function y(e){const{environment:t,siteRootBlockStore:i,domainId:n}=e;let o=i.getSiteStore();if(o||(v({environment:t,store:i,domainId:n}),o=i.getSiteStore()),o)return o}function S(e){const{environment:t,domainId:i,resetWatermark:n}=e,o=y(e);o&&o.isDefined()&&(m.createAndCommit({userAction:"publishSite.updatePublicDomain",environment:t,perform:e=>{o.getDomainId()!==i&&m.applyOperation({transaction:e,store:o,operation:o.getModel().ops.updatePublicDomainId({domainId:i,currentUserId:t.currentUser.id})})}}),m.createAndCommit({userAction:"publishSite.resetWatermark",environment:t,perform:e=>{if(n){const i=o.getHeader();m.applyOperation({transaction:e,store:o,operation:o.getModel().ops.updateHeader({header:{...i,hideWatermark:!1},currentUserId:t.currentUser.id})})}}}),u.oV({label:(0,C.jsx)(a.FormattedMessage,{id:"publishSiteSettings.publicDomain.confirmation",defaultMessage:"Successfully updated domain for all pages within this site"})}))}function I(e){const{environment:t,siteRootBlockStore:i,isSearchEngineIndexingEnabled:n}=e,r=y(e);r&&m.createAndCommit({userAction:"publishSite.updateSeoEnabled",environment:t,perform:e=>{r&&r.isDefined()&&n!==r.isSearchEngineIndexingEnabled()&&(m.applyOperation({transaction:e,store:r,operation:r.getModel().ops.updateIsSearchEngineIndexingEnabled({isSearchEngineIndexingEnabled:n,currentUserId:t.currentUser.id})}),n&&e.postSubmitCallbacks.push((async e=>{e||await c.enqueueScanContentTask(t,{pagePointer:{id:i.id,table:"block",spaceId:(0,o.C)(i.pointer.spaceId)}})})))}})}function x(e){const{environment:t,store:i,seoTitle:n,seoDescription:o}=e;m.createAndCommit({userAction:"publishSite.create",environment:t,perform:e=>{const t=i.getFormat().seo_title,r=i.getFormat().seo_description;t===n&&r===o||(l.sW({store:i.getFormatStore(),data:{seo_title:n,seo_description:o},transaction:e}),u.oV({label:(0,C.jsx)(a.FormattedMessage,{id:"siteSettingsEditor.publishSeoChanges.confirmation",defaultMessage:"Successfully updated link title and description"})}))}})}function b(e){f.Z.setState({...f.Z.state,settingOpen:e})}function M(){f.Z.setState({...f.Z.state,settingOpen:"initial"})}function w(e){var t,i;const{siteRootBlockStore:n,permissionItem:o,from:r,sudoModeStore:s}=e,a=n.getSiteStore(),d=null==a?void 0:a.getHeader(),c=(null==d||null===(t=d.customItems)||void 0===t?void 0:t.map((e=>e.blockId)))||[];f.Z.setState({settingOpen:"initial",permissionItem:o,from:r,sudoModeStore:s,faviconUrl:(null==a?void 0:a.getFaviconUrl())||null,previewImageUrl:(null==a?void 0:a.getPreviewImageUrl())||null,hideBreadcrumbs:null==d?void 0:d.hideBreadcrumbs,hideSearch:null==d?void 0:d.hideSearch,hideWatermark:null==d?void 0:d.hideWatermark,enableDuplicateAsTemplate:o.allow_duplicate,customHeaderBlockIds:c,googleAnalyticsId:null==a?void 0:a.getGoogleAnalyticsId(),theme:null==a||null===(i=a.getSettings())||void 0===i?void 0:i.theme})}function L(e){var t;const{environment:i,store:o,siteRootBlockStore:r}=e,s=y({environment:i,siteRootBlockStore:r});if(!s)return;const c=f.Z.getState();let l=!1;m.createAndCommit({userAction:"publishSite.updateSiteSettingsInEditor",environment:i,perform:e=>{if(s&&s.isDefined()){var t;(s.getFaviconUrl()||null)!==c.faviconUrl&&(m.applyOperation({transaction:e,store:s,operation:s.getModel().ops.updateFaviconUrl({faviconUrl:c.faviconUrl,currentUserId:i.currentUser.id})}),l=!0);(s.getPreviewImageUrl()||null)!==c.previewImageUrl&&(m.applyOperation({transaction:e,store:s,operation:s.getModel().ops.updatePreviewImageUrl({previewImageUrl:c.previewImageUrl,currentUserId:i.currentUser.id})}),l=!0);const n=s.getHeader();let o=n;const r=function(e,t){const i=e.map((e=>({type:"block",blockId:e})));if(!t&&0===i.length)return;if(t&&(0,d.Xy)(i,t))return;return i}(c.customHeaderBlockIds,null==n?void 0:n.customItems);r&&(o={...o,customItems:r}),(null==n?void 0:n.hideBreadcrumbs)!==c.hideBreadcrumbs&&(o={...o,hideBreadcrumbs:c.hideBreadcrumbs}),(null==n?void 0:n.hideSearch)!==c.hideSearch&&(o={...o,hideSearch:c.hideSearch}),(null==n?void 0:n.hideWatermark)!==c.hideWatermark&&(o={...o,hideWatermark:c.hideWatermark}),o&&n!==o&&(m.applyOperation({transaction:e,store:s,operation:s.getModel().ops.updateHeader({header:o,currentUserId:i.currentUser.id})}),l=!0);s.getGoogleAnalyticsId()!==c.googleAnalyticsId&&(m.applyOperation({transaction:e,store:s,operation:s.getModel().ops.updateGoogleAnalyticsId({googleAnalyticsId:c.googleAnalyticsId,currentUserId:i.currentUser.id})}),l=!0);(null===(t=s.getSettings())||void 0===t?void 0:t.theme)!==c.theme&&(m.applyOperation({transaction:e,store:s,operation:s.getModel().ops.updateTheme({theme:c.theme,currentUserId:i.currentUser.id})}),l=!0)}}});if((null===(t=c.permissionItem)||void 0===t?void 0:t.allow_duplicate)!==c.enableDuplicateAsTemplate&&c.permissionItem&&c.from){const e=c.from.table===n.iU?c.from.blockId:c.from.teamId;(0,g.i)({oldPermissionItem:c.permissionItem,newPermissionItem:{...c.permissionItem,allow_duplicate:c.enableDuplicateAsTemplate},wasInherited:e!==o.id,environment:i,store:o,sudoModeStore:c.sudoModeStore,location:"published_site_settings"}),l=!0}l&&u.oV({label:(0,C.jsx)(a.FormattedMessage,{id:"siteSettingsEditor.publishChanges.confirmation",defaultMessage:"Changes published"})})}function k(e){f.Z.setState({...f.Z.state,faviconUrl:e})}function j(e){f.Z.setState({...f.Z.state,previewImageUrl:e})}function Z(e){f.Z.setState({...f.Z.state,hideBreadcrumbs:e})}function B(e){f.Z.setState({...f.Z.state,hideSearch:e})}function P(e){f.Z.setState({...f.Z.state,hideWatermark:e})}function U(e){f.Z.setState({...f.Z.state,enableDuplicateAsTemplate:e})}function A(e){const t=f.Z.state.customHeaderBlockIds.concat([e]);f.Z.setState({...f.Z.state,customHeaderBlockIds:t})}function R(e){const t=f.Z.state.customHeaderBlockIds.filter((t=>t!==e));f.Z.setState({...f.Z.state,customHeaderBlockIds:t})}function _(e){f.Z.setState({...f.Z.state,googleAnalyticsId:e})}function T(e){f.Z.setState({...f.Z.state,theme:e})}async function F(e){const{environment:t,spaceStore:i,query:n,siteRootBlockId:o}=e;if(!i)return;const r=await c.searchPagesInSite(t,{query:n,spaceId:i.id,filters:s.u4({isDeletedOnly:!1,navigableBlockContentOnly:!0,excludeTemplates:!0,editedBy:[],ancestors:[o],inTeams:[]}),sort:{field:"relevance"},limit:10});return"failed"!==r.type?r.data:void 0}},145007:(e,t,i)=>{i.d(t,{Z:()=>f});i(667294);var n=i(800480),o=i(886628),r=i(724405),s=i(745238),a=i(785893);const d=(0,s.IU)("windowsControls",{viewBox:"0 0 51 9",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("rect",{width:"6",height:".75",x:"1.5",y:"4.625",rx:".375"}),(0,a.jsx)("path",{d:"M22.875 1.25c-.621 0-1.125.504-1.125 1.125v5.25c0 .621.504 1.125 1.125 1.125h5.25c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-5.25Zm0 .75h5.25c.207 0 .375.168.375.375v5.25a.375.375 0 0 1-.375.375h-5.25a.375.375 0 0 1-.375-.375v-5.25c0-.207.168-.375.375-.375ZM43.566 2.162l.044-.052a.375.375 0 0 1 .478-.043l.052.043 2.36 2.36 2.36-2.36a.375.375 0 0 1 .53.53L47.03 5l2.36 2.36c.13.13.145.332.044.478l-.044.052a.375.375 0 0 1-.478.044l-.052-.044-2.36-2.36-2.36 2.36a.375.375 0 1 1-.53-.53L45.97 5l-2.36-2.36a.375.375 0 0 1-.044-.478l.044-.052-.044.052Z"})]})});var c=i(731278),l=i(629551),u=i(70853),m=i(230675);const p={small:4,regular:8},g={small:{height:22,paddingLeft:8,paddingRight:10},regular:{height:42,paddingTop:10,paddingLeft:20,paddingRight:20,paddingBottom:8}},h={small:{height:28,paddingLeft:8,paddingRight:12},regular:{paddingTop:12,paddingLeft:16,paddingRight:16,paddingBottom:2}};function f(e){const{isMac:t}=(0,n.Fy)();return t?(0,a.jsx)(C,{...e}):(0,a.jsx)(y,{...e})}function C(e){const{store:t,siteRootBlockStore:i,size:n,location:o,showAddressBar:s}=e,d=p[n??"regular"],c=(0,r.yK)((e=>({container:{borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===o?e.accentColors.gray[50]:"transparent",...g[n??"regular"]},contentContainer:{flex:1}})),[o,n]),u=s&&t&&i;return(0,a.jsxs)(l.gq,{alignItems:"center",gap:d,style:c.container,children:[(0,a.jsx)(v,{size:n}),u&&(0,a.jsx)(l.gq,{justifyContent:"center",alignItems:"center",style:c.contentContainer,children:(0,a.jsx)(I,{store:t,siteRootBlockStore:i})})]})}function v(e){const{size:t}=e,i=(0,r.yK)((e=>{const i="small"===t?6:10;return{circle:{borderRadius:"50%",height:i,width:i,background:e.icon.quaternary}}}),[t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:i.circle}),(0,a.jsx)("div",{style:i.circle}),(0,a.jsx)("div",{style:i.circle})]})}function y(e){const{store:t,siteRootBlockStore:i,size:n,location:o,showAddressBar:s}=e,d=p[n??"regular"],c=(0,r.yK)((e=>({container:{width:"100%",borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===o?e.sitesPagePreviewWindowsChromeBar:"transparent",...h[n??"regular"]},buttonContainer:{paddingLeft:6,fontSize:12},windowsButtons:{paddingRight:2}})),[o,n]),u=s&&t&&i;return(0,a.jsxs)(l.gq,{alignItems:"center",justifyContent:u?"center":"flex-end",gap:d,style:c.container,children:[u&&(0,a.jsx)(I,{store:t,siteRootBlockStore:i}),(0,a.jsx)(S,{size:n,style:c.windowsButtons})]})}function S(e){const{size:t,style:i}=e,n=(0,r.yK)((e=>({icon:{height:"small"===t?9:24,width:"small"===t?51:70,color:e.icon.tertiary}})),[t]);return(0,a.jsx)("div",{style:i,children:d(n.icon)})}function I(e){const{store:t,siteRootBlockStore:i}=e,{isMac:s}=(0,n.Fy)(),{icon:d,isEmptyPage:p,publicDomainName:g}=(0,o.VK)((()=>{const e=m.Z.getState().faviconUrl;let n;const o=i.getSiteStore(),r=u.Co({spaceStore:t.getSpaceStore(),domainId:null==o?void 0:o.getDomainId()});return n=e?{pointer:i.pointer,icon:e}:t.getIcon(),{icon:n,isEmptyPage:t.isEmptyPage(),publicDomainName:r}}),[t,i]),h=(0,r.yK)((e=>({container:{paddingLeft:s?120:12,paddingRight:s?120:12,paddingTop:4,paddingBottom:4,background:e.contentBackground,borderRadius:s?16:20,border:`1px solid ${e.stroke.deemphasized}`,width:s?"auto":"100%",color:e.text.secondary,fontSize:12}})),[s]);return(0,a.jsxs)(l.gq,{alignItems:"center",gap:4,style:h.container,children:[d&&s&&(0,a.jsx)(c.Z,{disabled:!0,icon:d,isEmptyPage:p,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}),g]})}},455741:(e,t,i)=>{i.d(t,{Z:()=>y});i(757658),i(667294);var n=i(886628),o=i(724405),r=i(388437),s=i(890334),a=i(460651),d=i(877425),c=i(725651),l=i(435840),u=i(247560),m=i(421202),p=i(709291),g=i(137810),h=i(731278),f=i(776798),C=i(206258),v=i(785893);function y(e){const{spaceStore:t,keys:i,size:n,showCustomHeaderPages:a,left:d,style:m}=e,p=(0,o.yK)((e=>{const t=x(n),i=function(e){return"small"===e?10:16}(n);return{topbarContainer:{display:"flex",alignItems:"center",marginLeft:8,marginRight:12,...m},actionsContainer:{display:"flex",flexDirection:"row",gap:i,alignItems:"center"},icon:{height:t,width:t,fill:e.icon.primary},searchIcon:{height:t-2,width:t-2,fill:e.icon.primary}}}),[n,m]),g=[];return i.forEach((e=>{"duplicate"===e?g.push((0,v.jsx)("div",{children:(0,r.a)(p.icon)},"duplicate")):"comment"===e?g.push((0,v.jsx)("div",{children:(0,u.o)(p.icon)},"comment")):"edit"===e?g.push((0,v.jsx)("div",{children:(0,c.R)(p.icon)},"edit")):"more"===e?g.push((0,v.jsx)("div",{children:(0,s.O)(p.icon)},"more")):"search"===e?g.push((0,v.jsx)("div",{children:(0,l.R)(p.searchIcon)},"search")):"signUpOrLogIn"===e?g.push((0,v.jsx)(S,{size:n},"signUpOrLogIn")):t&&a&&g.push((0,v.jsx)(I,{spaceStore:t,blockId:e},e))})),(0,v.jsxs)("div",{style:p.topbarContainer,children:[d,(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsx)("div",{style:p.actionsContainer,children:g})]})}function S(e){const{size:t}=e,i=(0,o.yK)((e=>{const i=x(t),n=function(e){return"small"===e?{paddingTop:2,paddingBottom:2,paddingLeft:6,paddingRight:6}:"large"===e?{paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}:{paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8}}(t);return{signUpContainer:{display:"flex",alignItems:"center",gap:4,border:`1px solid ${e.darkDividerColor}`,borderRadius:4,fontSize:b(t),fontWeight:g.Z.fontWeight.medium,whiteSpace:"nowrap",...n},icon:{height:i-2,width:i-2,fill:e.icon.primary}}}),[t]),n=(0,o.Fg)();return(0,v.jsxs)("div",{style:i.signUpContainer,children:[(0,v.jsx)(p.FormattedMessage,{defaultMessage:"Built with",id:"publishSiteSettings.anyoneWithTheLink.builtWithPreview"}),"light"===n.mode?(0,a.h)(i.icon):(0,d.N)(i.icon)]})}function I(e){const{spaceStore:t,blockId:i}=e,{store:r,icon:s,isEmptyPage:a}=(0,n.VK)((()=>{const e=C.G.createChildStore(t,{table:m.iU,id:i});return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage()}}),[t,i]),d=(0,o.yK)((()=>({container:{display:"flex",alignItems:"center",gap:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return(0,v.jsxs)("div",{style:d.container,children:[s&&(0,v.jsx)(h.Z,{icon:s,store:r,disabled:!0,size:14,isEmptyPage:a,emojiSize:20,style:{marginRight:4}}),(0,v.jsx)(f.Z,{store:r,style:d.pageTitle})]})}function x(e){return"small"===e?12:16}function b(e){return"small"===e?9:"large"===e?14:12}},230675:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(749085);class o extends n.default{getInitialState(){return{settingOpen:"initial",permissionItem:void 0,from:void 0,sudoModeStore:void 0,location:"",faviconUrl:null,previewImageUrl:null,hideBreadcrumbs:!1,hideSearch:!1,hideWatermark:!1,enableDuplicateAsTemplate:!1,customHeaderBlockIds:[],googleAnalyticsId:void 0,theme:void 0}}}const r=new o},719255:(e,t,i)=>{i.d(t,{Mg:()=>p,Q$:()=>u,n9:()=>m});i(430541),i(757658),i(21703);var n=i(467266),o=i.n(n),r=i(205242),s=i.n(r),a=i(653965),d=i(401898),c=i(415095),l=i(76233);let u=function(e){return e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same",e}({});function m(e,t){const i=new(s())({timeout:2,editCost:6}),n=i.main(t,e);return i.cleanupSemantic(n),n}function p(e){const{before:t,after:i,isIncompleteAfter:n,insertCursor:r}=e,s={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},p=e=>{const t=s.encoding[e];if(t)return t;{const t=String.fromCharCode(s.count);return s.count++,s.encoding[e]=t,s.decoding[t]=e,t}},g=e=>{const t=o()(e),i=s.annotationEncoding[t];if(i)return i;{const i=String.fromCharCode(s.count);return s.count++,s.annotationEncoding[t]=i,s.annotationDecoding[i]=e,i}},h=e=>a.xH(l.lzi(e).map((e=>{const t=c.p4(e[0]).map(p);if(l.km_(e)){const i=l.hDy(e),n=l.I$B(i);n&&(t[0]=g({type:"mention",value:n}),i.forEach((e=>{l.ZAl(e)||l.kuv(e)||l.QVC(e)||(t.unshift(g({type:"start",value:e})),t.push(g({type:"end",value:e})))})))}else if(l.YrK(e)){const i=l.hDy(e),n=l.Ap(i);if(n){t[0]=g({type:"equation",value:n});for(const e of i)l.ZAl(e)||l.kuv(e)||l.QVC(e)||(t.unshift(g({type:"start",value:e})),t.push(g({type:"end",value:e})))}}else if(l.AJd(e)){l.hDy(e).forEach((e=>{t.unshift(g({type:"start",value:e})),t.push(g({type:"end",value:e}))}))}return t}))).join("");if(s.count>65535)throw new Error("This string has way too many different characters.");const f=m(h(i),h(t)),C=[];let v=[],y=0;const S=n?a.qr(f,(e=>0===e[0]||1===e[0])):0;let I=!1;const x=e.insertionAnnotation,b=e.deletionAnnotation;return f.forEach((e=>{let[t,i]=e;i.split("").forEach((e=>{if(s.decoding[e]){const i=s.decoding[e];t===u.added?C.push([i,[...v,x]]):t===u.removed&&(!n||y<=S)?C.push([i,[...v,b]]):(n&&r&&!I&&y===S+1&&(I=!0,C.push(["",[["tc"]]])),C.push([i,v]))}else{const i=s.annotationDecoding[e];if(t===u.added)if("mention"===i.type)C.push([l.qyI,[...v,x,i.value]]);else if("start"===i.type)v=[...v,i.value];else if("end"===i.type)v=v.filter((e=>!a.Xy(e,i.value)));else if("equation"===i.type){const e=l.xey(i.value),t=l.qZ6(e,[...v,x]);C.push(t)}else(0,d.t1)(i);else if(t===u.removed){if("mention"===i.type)C.push([l.qyI,[...v,b,i.value]]);else if("equation"===i.type){const e=l.xey(i.value),t=l.qZ6(e,[...v,b]);C.push(t)}}else if(t===u.same)if("mention"===i.type)C.push([l.qyI,[...v,i.value]]);else if("start"===i.type)v=[...v,i.value];else if("end"===i.type)v=v.filter((e=>!a.Xy(e,i.value)));else if("equation"===i.type){const e=l.xey(i.value),t=l.qZ6(e,v);C.push(t)}else(0,d.t1)(i)}})),n&&(y+=1)})),l.Zxt(C)}},732566:(e,t,i)=>{i.d(t,{k:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},460651:(e,t,i)=>{i.d(t,{h:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("notionLogo",{viewBox:"0 0 120 126",svg:(0,o.jsx)("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})})},877425:(e,t,i)=>{i.d(t,{N:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("notionLogoBlockMonoWhite",{viewBox:"0 0 381 396",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M235.875 0.868913L42.2191 15.1299L42.0716 15.1427C29.2402 16.2539 17.5452 21.4575 9.54377 31.7056C2.00788 41.3575 0 52.6286 0 61.8081V273.61C0 290.004 6.39474 302.931 16.1515 315.934L16.2408 316.053L61.92 375.319L61.9886 375.407C67.4438 382.345 74.2617 388.53 83.9092 392.051C92.764 395.282 101.803 395.406 109.715 395.029L109.86 395.022L335.006 381.426L335.127 381.417C347.547 380.535 360.717 376.889 370.12 366.212C379.335 355.75 380.958 342.967 380.958 333.359V95.0753C380.958 86.7983 378.898 78.5009 372.39 70.965C368.595 66.5704 363.178 62.6545 359.406 59.9283C358.887 59.5528 358.398 59.1998 357.95 58.8713L357.768 58.7383L295.914 15.2639C287.833 9.40276 279.51 4.11203 268.519 1.62123C258.306 -0.693516 247.597 -0.133719 235.875 0.868913ZM44.056 38.0569L237.701 23.7967C239.187 23.6692 240.605 23.5551 241.959 23.4557C262.28 21.965 268.533 23.8019 282.545 33.9806L344.359 77.4261C344.891 77.8156 345.404 78.1905 345.899 78.5522C354.904 85.1258 357.958 87.3558 357.958 95.0753V333.359C357.958 347.359 353.177 355.996 336.907 358.134C335.822 358.277 334.687 358.391 333.498 358.475L108.619 372.055C94.3416 372.736 87.5464 370.701 80.0693 361.191L34.5487 302.131C34.0389 301.451 33.5477 300.782 33.0748 300.123C25.9812 290.237 23 282.531 23 273.61V61.8081C23 60.2816 23.085 58.7867 23.2643 57.3368C23.7339 53.5393 24.8501 50.0501 26.7789 47.1082C26.814 47.0547 26.8493 47.0014 26.8849 46.9483C26.9254 46.8879 26.9662 46.8277 27.0074 46.7677C30.2624 42.0312 35.7039 38.7802 44.056 38.0569Z",fill:"white"}),(0,o.jsx)("path",{d:"M80.7599 84.2182C91.6206 93.0413 95.6948 92.3681 116.088 91.0076L308.351 79.463C312.429 79.463 309.038 75.3949 307.678 74.7188L275.747 51.6355C269.629 46.8857 261.478 41.446 245.855 42.8066L59.6871 56.3852C52.8978 57.0584 51.5415 60.453 54.2457 63.1742L80.7599 84.2182Z",fill:"white"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.3031 331.318V129.025C92.3031 120.201 95.021 116.125 103.169 115.44L323.977 102.546C331.466 101.868 334.857 106.623 334.857 115.44V316.376C334.857 325.208 333.495 332.686 321.261 333.359L109.964 345.585C97.7361 346.257 92.3031 342.191 92.3031 331.318ZM294.768 152.79C300.894 152.102 302.249 145.992 300.894 139.876L254.001 142.606C247.206 143.279 241.778 148.708 243.135 156.184L260.804 158.213V251.899L191.501 145.995L141.221 149.384C131.703 150.068 128.311 158.886 129.672 165.002L146.654 166.363V300.099L134.424 303.489C129.67 304.848 128.308 311.631 129.67 314.35L176.538 311.631C193.54 311.631 193.54 299.418 193.54 299.418L172.467 294.662V193.514L239.06 298.057C247.206 308.234 249.929 311.631 260.804 311.631C267.596 311.631 275.747 308.915 284.586 304.164V154.818L294.768 152.79Z",fill:"white"})]})})},247560:(e,t,i)=>{i.d(t,{o:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M5.9375 18.4844C6.38281 18.4844 6.71094 18.2656 7.25 17.7891L9.92969 15.4297H14.6328C16.9844 15.4297 18.3047 14.0703 18.3047 11.75V5.67969C18.3047 3.35938 16.9844 2 14.6328 2H4.67188C2.32812 2 1 3.35938 1 5.67969V11.75C1 14.0781 2.36719 15.4297 4.61719 15.4297H4.9375V17.3438C4.9375 18.0391 5.30469 18.4844 5.9375 18.4844ZM6.32812 16.7344V14.5078C6.32812 14.0469 6.125 13.8672 5.6875 13.8672H4.72656C3.25781 13.8672 2.55469 13.125 2.55469 11.7031V5.72656C2.55469 4.30469 3.25781 3.5625 4.72656 3.5625H14.5859C16.0469 3.5625 16.75 4.30469 16.75 5.72656V11.7031C16.75 13.125 16.0469 13.8672 14.5859 13.8672H9.84375C9.36719 13.8672 9.13281 13.9453 8.80469 14.2891L6.32812 16.7344ZM5.67969 6.82812H13.5469C13.8125 6.82812 14.0312 6.60156 14.0312 6.32812C14.0312 6.07031 13.8125 5.85156 13.5469 5.85156H5.67969C5.41406 5.85156 5.20312 6.07031 5.20312 6.32812C5.20312 6.60156 5.41406 6.82812 5.67969 6.82812ZM5.67969 9.30469H13.5469C13.8125 9.30469 14.0312 9.08594 14.0312 8.8125C14.0312 8.55469 13.8125 8.32812 13.5469 8.32812H5.67969C5.41406 8.32812 5.20312 8.55469 5.20312 8.8125C5.20312 9.08594 5.41406 9.30469 5.67969 9.30469ZM5.67969 11.7891H10.8047C11.0781 11.7891 11.2891 11.5703 11.2891 11.3047C11.2891 11.0312 11.0781 10.8125 10.8047 10.8125H5.67969C5.41406 10.8125 5.20312 11.0312 5.20312 11.3047C5.20312 11.5703 5.41406 11.7891 5.67969 11.7891Z"})})}}]);