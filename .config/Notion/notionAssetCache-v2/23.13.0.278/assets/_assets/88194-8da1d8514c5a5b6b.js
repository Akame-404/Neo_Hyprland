"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[88194],{937834:(e,t,i)=>{i.d(t,{FF:()=>m,U4:()=>v,gs:()=>p,jN:()=>f,xx:()=>y,zb:()=>x});i(667294);var n=i(23867),o=i(709291),r=i(137810),s=i(319385),a=i(146096),l=i(436610),d=i(454642),c=i(547307),u=i(792625),h=i(785893);const g=(0,o.defineMessages)({restoringPreviousVersion:{id:"historyModalActions.restoringPreviousVersion.loadingMessage",defaultMessage:"Restoringâ€¦"}});function f(e){const{environment:t,from:i,...n}=e;l.y(t,i),a.Z.setState({...n,open:!0,size:50})}function m(){const e=a.Z.state;e.open&&a.Z.setState({...e,size:e.size+20})}function v(){a.Z.setState({open:!1})}function p(e){const{environment:t,snapshot:i,nextFutureSnapshot:n}=e;l.qD(t,i);const o=a.Z.state;o.open&&a.Z.setState({...o,snapshot:i,nextFutureSnapshot:n,openSnapshotNearTimestamp:void 0})}function x(){const e=a.Z.state;e.open&&a.Z.setState({...e,snapshot:void 0,nextFutureSnapshot:void 0})}async function y(e){if(!a.Z.state.open)return;if(!a.Z.state.snapshot)return;const t="restore_collection",i=a.Z.state.pageHasCollection,f=s.default.checkGate({gateName:"snapshot_optional_collection_rollback_enabled"})&&i?[{key:t,text:(0,h.jsx)(o.FormattedMessage,{defaultMessage:"Also restore databases on this page",id:"historyModal.confirmDialog.selectOption.collection"}),description:(0,h.jsx)(o.FormattedMessage,{defaultMessage:"All database pages will be restored to the previous version, which may impact other users or database views.",id:"historyModal.confirmDialog.selectOption.collection.description"})}]:void 0,{accept:m,selectionResult:p}=await c.confirmUserActionV2({message:(0,h.jsx)("div",{style:{fontWeight:r.Z.fontWeight.semibold,fontSize:"medium"},children:(0,h.jsx)(o.FormattedMessage,{defaultMessage:"Restore to this version?",id:"historyModal.confirmDialog.description"})}),acceptLabel:(0,h.jsx)(o.FormattedMessage,{defaultMessage:"Restore",id:"historyModal.confirmDialog.restoreButton.label"}),selectionItems:f});if(!m)return;l.R9(e,a.Z.state.snapshot),u.j({message:g.restoringPreviousVersion});const x=await d.restoreSnapshot(e,{block:{id:a.Z.state.blockStore.id,spaceId:(0,n.C)(a.Z.state.blockStore.pointer.spaceId)},timestamp:a.Z.state.snapshot.timestamp,shouldRestoreCollection:(null==p?void 0:p[t])??!1}).next();x.value.error&&c.showErrorMessage(x.value.error.message),u.x(),v()}},167706:(e,t,i)=>{i.d(t,{Z:()=>l});i(667294);var n=i(724405),o=i(137810),r=i(953437),s=i(526388),a=i(785893);function l(e){let{text:t,tooltipText:i,icon:l}=e;const d=(0,n.yK)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.lightBoxShadow},container:{display:"flex",alignItems:"center",fontWeight:o.Z.fontWeight.regular,color:e.mediumTextColor,fontSize:o.Z.fontSize.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return(0,a.jsx)(s.Z,{style:d.tooltip,render:e=>(0,a.jsx)("div",{style:d.text,...e,children:t}),renderTooltip:()=>(0,a.jsxs)("div",{style:d.container,children:[l(d.icon),(0,a.jsx)("div",{children:i})]}),alignment:r.ZP.Alignment.Start,placement:r.ZP.Placement.Bottom})}},813658:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),o=i(886628),r=i(724405),s=i(749085),a=i(709291),l=i(164921),d=i(785893);const c=s.default.createClass(!1,{name:"OpenStore"});const u=function(e){let{items:t,visible:i}=e;const s=(0,r.Fg)(),u=(0,o.qz)(void 0,c),g=(0,o.VK)((()=>u.state),[u]),f=(0,n.useCallback)((()=>function(e){e.setState(!0)}(u)),[u]);return g||t.length<=i?(0,d.jsx)("div",{children:t}):(0,d.jsxs)("div",{children:[t.slice(0,i),(0,d.jsx)(l.Z,{onClick:f,style:h(s),children:(0,d.jsx)(a.FormattedMessage,{defaultMessage:"View {moreCount} more",id:"activity.viewMoreButton.label",values:{moreCount:t.length-i}})})]})};function h(e){return{display:"flex",alignItems:"center",height:28,fontSize:12,color:e.lightTextColor,padding:0,paddingLeft:52,paddingRight:16}}},392559:(e,t,i)=>{i.d(t,{Z:()=>s});i(667294);var n=i(724405),o=i(531701),r=i(785893);function s(){const e=(0,n.yK)((e=>({blockContext:{flexShrink:0,display:"flex",width:3,borderRadius:4,marginLeft:2,marginRight:8,minHeight:20,background:(0,o.DB)(e.mode)}})),[]);return(0,r.jsx)("div",{style:e.blockContext})}},912472:(e,t,i)=>{i.d(t,{D:()=>h,Z:()=>u});i(667294);var n=i(724405),o=i(709291),r=i(519719),s=i(717659),a=i(210228),l=i(462385),d=i(722649),c=i(785893);function u(e){var t;const{isMobile:i,environment:o,rootStore:r,activity:s,tabArgs:a}=e,{source:l}=a,u=Boolean(null===(t=a.notification)||void 0===t?void 0:t.visited),g=(0,n.yK)((()=>({container:{paddingLeft:(0,d.c3)({source:l,isMobile:i})-8,paddingTop:4}})),[i,l]);return u?(0,c.jsx)("div",{style:g.container,children:(0,c.jsx)(h,{tabArgs:a,environment:o,rootStore:r,activity:s})}):null}function h(e){const{tabArgs:t,environment:i,rootStore:u,activity:h}=e,{notification:g,tab:f}=t,m=(0,n.yK)((e=>({secondaryButton:(0,d._W)(e)})),[]);return Boolean(null==g?void 0:g.visited)?(0,c.jsx)(l.Z,{onClick:()=>{g&&(a.createAndCommit({userAction:"Activity.handleUnarchive",environment:i,perform:e=>{s.E1({notificationId:g.id,visited:!1,rootStore:u,transaction:e})}}),r.F5({environment:i,activity:h,tab:f,notificationId:g.id,alreadyRead:g.read}))},style:m.secondaryButton,children:(0,c.jsx)(o.FormattedMessage,{defaultMessage:"Unarchive",id:"activity.actions.unarchiveButton.label"})}):null}},536081:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),o=i(724405),r=i(709291),s=i(401898),a=i(731278),l=i(722649),d=i(785893);function c(e){let t,i,{permissionGroup:c,spaceId:u}=e;c?(t=c.icon,i=c.name||(0,d.jsx)(r.FormattedMessage,{defaultMessage:"Untitled group",id:"activity.permissionGroupTitles.untitledGroup"})):i=(0,d.jsx)(r.FormattedMessage,{defaultMessage:"Deleted group",id:"activity.permissionGroupTitles.deletedGroup"});const h=void 0!==t,g=(0,o.yK)((()=>({title:(0,l.TL)(h)})),[h]),f=(0,n.useMemo)((()=>(0,s.$K)(t)?{icon:t,pointer:{table:"space",id:u}}:void 0),[t,u]);return(0,d.jsxs)("span",{children:[f&&(0,d.jsx)(a.Z,{disabled:!0,icon:f,isEmptyPage:!1,size:18,style:l.e9}),(0,d.jsx)("span",{style:g.title,children:i})]})}const u=n.memo(c)},78976:(e,t,i)=>{i.d(t,{Z:()=>Z});var n=i(667294),o=i(800480),r=i(886628),s=i(724405),a=i(815145),l=i(401800),d=i(186517),c=i(421202),u=i(606287),h=i(815047),g=i(429369),f=i(709291),m=i(401898),v=i(562820),p=i(109867),x=i(584076),y=i(731278),b=i(776798),C=i(164369),j=i(917022),S=i(722649),k=i(785893);function M(e){const{titledRecordStore:t,getRecordModel:i,activity:M,tabArgs:Z,permissionRole:w,shouldRenderEmpty:A}=e,I=(0,r.VK)((()=>t.getModel()),[t]),T=(0,o.O7)(),B=(0,f.useIntl)(),L=(0,r.VK)((()=>null==I?void 0:I.getRenderIcon({getRecordModel:i})),[I,i]),V=(0,s.yK)((()=>({container:w?{...S.lS,display:"flex",alignItems:"center"}:S.lS,icon:S.e9,recordTitle:(0,S.TL)(void 0!==L),role:{marginLeft:4,padding:0},titleAndRole:{display:"flex",flexFlow:"row",padding:1}})),[L,w]),R=(0,n.useCallback)((()=>{const e=t.table;switch(e){case c.iU:case u.vF:case h.bx:(0,j.V3)({environment:T,activity:M,...Z});break;case g.e0:(0,j.dG)({environment:T,activity:M,...Z}),p.hI({environment:T,teamStore:t,shouldScroll:!0}),v.Z.setState({...v.Z.state,open:!1});break;default:(0,m.t1)(e)}}),[M,T,Z,t]),F=(0,r.VK)((()=>I&&I.table!==g.e0?I.getRenderUrl({getRecordModel:i,pageVisitSource:a.tY.Notification}):A&&t.table===c.iU?(0,l.Z)({pageId:t.id,pageVisitSource:a.tY.LinkInPage}):void 0),[I,i,A,t.table,t.id]);if(!I&&!A)return null;const U=w?(0,k.jsxs)("div",{style:V.titleAndRole,children:[(0,k.jsx)(b.Z,{store:t,style:V.recordTitle}),(0,k.jsx)(C.Z,{style:V.role,isSecondaryColor:!0,children:`(${B.formatMessage((0,d.kD)(w,c.iU)).toLocaleLowerCase()})`})]}):(0,k.jsx)(b.Z,{store:t,style:V.recordTitle});return(0,k.jsxs)(x.Z,{href:F,onClick:R,external:!1,innerStyle:V.container,inline:!0,children:[(L||A)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(y.Z,{disabled:!0,icon:L,isEmptyPage:!1,size:18,style:V.icon}),(0,k.jsx)("span",{children:" "})]}),U]})}const Z=n.memo(M)},574970:(e,t,i)=>{i.d(t,{BE:()=>O,Hy:()=>D,ZP:()=>W,_c:()=>K,hZ:()=>z,jr:()=>N,of:()=>H,yI:()=>E});var n=i(667294),o=i(800480),r=i(886628),s=i(724405),a=i(749085),l=i(136700),d=i(665422),c=i(569651),u=i(130134),h=i(582356),g=i(123925),f=i(394308),m=i(108504),v=i(654497),p=i(421202),x=i(709291),y=i(531701),b=i(401898),C=i(937834),j=i(843250),S=i(816402),k=i(206258),M=i(573063),Z=i(186176),w=i(526388),A=i(670301),I=i(45653),T=i(167706),B=i(32469),L=i(361927),V=i(785893);const R=16,F={paddingTop:12},U={fontSize:14,lineHeight:1.4,flexGrow:1,minWidth:0},_=a.default.createClass(!1,{name:"HoveredStore"});const P={marginTop:2,marginRight:8,flexShrink:0};function O(e){const{authors:t,size:i,style:n,iconStyle:r,showAvatarShadow:a,showWarningIcon:l}=e,d=(0,o.O7)(),c=(0,s.yK)((e=>({container:{position:"relative"},icon:{position:"absolute",right:5,bottom:-3,fill:e.icon.yellow,height:12,width:12}})),[]),u=t.sort(((e,t)=>(0,L.FV)({actor:e,environment:d})-(0,L.FV)({actor:t,environment:d})))[0],h=i,g={...P,...n},f={...c.icon,...r};return u?u.isBot()?(0,V.jsxs)("div",{style:c.container,children:[(0,V.jsx)(A.Z,{botValue:u,style:g,size:h}),l&&(0,v.t)(f)]}):u.isUser()?(0,V.jsxs)("div",{style:c.container,children:[(0,V.jsx)(I.Z,{userValue:u,style:g,size:h,avatarShouldShowShadow:a??!0}),l&&(0,v.t)(f)]}):u.isAgent()?null:void(0,b.t1)(u):null}function z(){return(0,V.jsx)("div",{style:{display:"flex",backgroundColor:y.ZP.red,height:28,width:28,borderRadius:"100%",...P},children:(0,l.m)({height:16,width:16,fill:y.ZP.white,marginLeft:6,marginTop:5})})}function H(){return(0,V.jsx)("div",{style:{height:25,width:25,...P},children:(0,f.f)({height:25,width:25})})}function D(){return(0,V.jsx)("div",{style:{height:25,width:25,...P},children:(0,u.c)({height:25,width:25})})}function K(){return(0,V.jsx)("div",{style:{height:25,width:25,...P},children:(0,h.l)({height:25,width:25})})}function E(){const e=(0,o.O7)(),t=(0,r.VK)((()=>"dark"===e.ThemeStore.state.mode),[e]),i=(0,s.yK)((e=>({icon:{height:20,width:20,fill:t?e.primaryBlack:e.blueColor}})),[t]);return(0,V.jsx)("div",{style:{...P},children:(0,g.k)(i.icon)})}function N(){return(0,V.jsx)("div",{style:{display:"flex",height:28,width:28,...P,marginRight:4},children:(0,d.K)({height:16,width:16,marginLeft:4,marginTop:4,color:y.ZP.mediumIconColor})})}const W=function(e){let{children:t,icon:i,timestamp:s,header:a,navigableBlockId:l,rootStore:d,onBacklinkClicked:c,showSnapshotButton:u,isPrivate:h,isLast:g}=e;const f=(0,o.O7)(),m=(0,r.qz)(void 0,_),v=(0,n.useCallback)((()=>function(e){e.setState(!1)}(m)),[m]),p=(0,n.useCallback)((()=>function(e){e.setState(!0)}(m)),[m]),x=(0,n.useId)(),y=(0,r.VK)((()=>f.WindowSizeStore.state.paddingLeftCSS),[f]),b=(0,r.VK)((()=>f.WindowSizeStore.state.paddingRightCSS),[f]);return(0,V.jsxs)("article",{onMouseOver:p,onMouseLeave:v,"aria-labelledby":x,tabIndex:0,children:[(0,V.jsxs)("div",{style:{...F,paddingBottom:t?12:8,paddingLeft:f.device.isMobile?y:0,paddingRight:f.device.isMobile?b:0},children:[(0,V.jsxs)("div",{style:{display:"flex",paddingLeft:R,paddingRight:R},children:[(0,V.jsxs)("div",{className:j.FoE,style:{display:"flex",alignItems:"flex-start",position:"relative"},children:[(0,V.jsx)("div",{style:{marginRight:4}}),i]}),(0,V.jsx)(te,{timestamp:s,header:a,children:t,navigableBlockId:l,rootStore:d,onBacklinkClicked:c,titleAriaId:x}),(0,V.jsx)(ee,{showSnapshotButton:u,timestamp:s,navigableBlockId:l,rootStore:d}),(0,V.jsx)(q,{isPrivate:h})]}),t&&(0,V.jsx)(G,{children:t})]}),(0,V.jsx)(X,{isLast:g})]})};function q(e){let{isPrivate:t}=e;return t?(0,V.jsx)(B.Z,{style:{marginTop:1,marginBottom:4,marginLeft:8}}):null}function G(e){let{children:t}=e;return(0,V.jsx)("div",{className:j.nU_,children:t})}function $(e){return{borderBottom:`1px solid ${e.regularDividerColor}`}}function J(e){return{fontSize:12,color:e.lightTextColor}}function Q(e){return{fontSize:12,color:e.lightTextColor,whiteSpace:"nowrap"}}function Y(e){return{fontSize:12,color:e.lightTextColor,marginLeft:4,marginRight:4}}function X(e){let{isLast:t}=e;const i=(0,s.Fg)();return t?null:(0,V.jsx)("div",{style:$(i)})}function ee(e){let{showSnapshotButton:t,timestamp:i,navigableBlockId:n,rootStore:r}=e;const s=(0,o.O7)(),a=(0,x.useIntl)();if(!t)return null;if(i<new Date("2018-10-26").getTime())return null;const l=a.formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"});return n?(0,V.jsx)(w.Z,{renderTooltip:()=>l,render:e=>(0,V.jsx)(M.Z,{ariaLabel:l,onClick:()=>function(e,t,i,n){if(n){const o=k.G.createChildStore(e,{table:p.iU,id:n});C.jN({environment:i,blockStore:o,openSnapshotNearTimestamp:t.toString(),from:"activity"})}}(r,i,s,n),icon:m.J,...e})}):null}function te(e){let{titleAriaId:t,timestamp:i,header:o,children:r,navigableBlockId:a,rootStore:l,onBacklinkClicked:d}=e;const u=(0,s.Fg)(),h=(0,S.IS)(i),g=(0,S.uy)(i),f=(0,n.useMemo)((()=>a?k.G.createChildStore(l,{table:p.iU,id:a}):void 0),[a,l]);return(0,V.jsxs)("div",{style:U,children:[(0,V.jsx)("div",{id:t,className:j.NFf,children:o}),(0,V.jsxs)("div",{style:{display:"flex",marginTop:4,marginBottom:r?8:4},children:[(0,V.jsx)("div",{style:Q(u),className:j.CZG,children:(0,V.jsx)(T.Z,{text:h,tooltipText:g,icon:c.C})}),l&&f&&(0,V.jsx)(Z.ZP,{isLink:!0,innerStyle:J(u),store:f,left:(0,V.jsx)("div",{style:Y(u),children:"Â·"}),onClick:d})]})]})}},917022:(e,t,i)=>{i.d(t,{JJ:()=>x,ME:()=>u,Tq:()=>f,V3:()=>g,Z5:()=>m,dG:()=>h,h9:()=>p});var n=i(815145),o=i(682813),r=i(218265),s=i(519719),a=i(730459),l=i(641549),d=i(150770),c=i(304761);function u(e){return(0,r.SK)(e,{[n.$X]:n.tY.Notification})}function h(e){const t=e.mightCloseTab??!0;v({target:"body",...e,mightCloseTab:t})}function g(e){const t=e.mightCloseTab??!0;v({target:"title",...e,mightCloseTab:t})}function f(e){v({target:"remove_reaction",...e,mightCloseTab:!1})}function m(e){v({target:"add_reaction",...e,mightCloseTab:!1})}function v(e){const{target:t,environment:i,activity:n,notification:r,source:l,tab:d,mightCloseTab:u}=e,h="notifications_tab"===l?c.ZP.state.sessionId:void 0,g="notifications_tab"===l?c.ZP.isFilteredToUnreadOnly():void 0;s.Cg(i,{target:t,activity_id:n.id,notification_id:null==r?void 0:r.id,notification_page_id:null==r?void 0:r.navigable_block_id,sessionId:h,is_filtered:g,tab:d}),u&&s.pw({environment:i,target:t}),r&&o.e((0,a.mc)(i),{alreadyRead:r.read,notificationId:r.id,activityId:r.activity_id,from:t,sessionId:h})}function p(e){const{notification:t,activity:i,environment:n,tab:o}=e,r={environment:n,activity:i,notificationId:null==t?void 0:t.id,alreadyRead:Boolean(null==t?void 0:t.read),tab:o};return{onBacklinkClicked:e=>s.EQ({...r,backlinkPageId:e}),onNotificationFrameClicked:()=>s.ix(r),...x({notification:t,activity:i,environment:n,tab:o})}}function x(e){const{notification:t,activity:i,environment:n,tab:o}=e,r={environment:n,activity:i,notificationId:null==t?void 0:t.id,alreadyRead:Boolean(null==t?void 0:t.read),tab:o},a=()=>{if(!d.H7(n))return{};const e={notification_type:null==t?void 0:t.type,notification_page_id:null==t?void 0:t.navigable_block_id,tab:l.Fz()};return"commented"===(null==t?void 0:t.type)&&(e.discussion_id=null==i?void 0:i.discussion_id),e};return{onArchiveClicked:()=>s._b({...r,otherArgs:a()}),onUnarchiveClicked:()=>s.F5({...r,otherArgs:a()}),onMarkAsReadClicked:()=>s.cC({...r,otherArgs:a()}),onMarkAsUnreadClicked:()=>s.u_({...r,otherArgs:a()}),onNotificationBodyClicked:()=>s._H({...r,otherArgs:a()})}}},361927:(e,t,i)=>{i.d(t,{FV:()=>H,uA:()=>N,XW:()=>K,m4:()=>E,P6:()=>D,cr:()=>G,Pq:()=>$,jC:()=>q,N8:()=>W});var n=i(667294),o=i(266897),r=i(709291),s=i(531701),a=i(401898),l=i(137810),d=(i(841892),i(407057)),c=(i(665422),i(130134),i(582356),i(394308),i(924211)),u=(i(554368),i(177420)),h=i(519889),g=i(653965),f=i(815145),m=i(676725),v=i(959753),p=i(463306),x=i(218265),y=i(785893);const b=function(e){const t={display:e.inline?"inline":"block",color:s.ZP.inherit,textDecoration:"none",cursor:"pointer",...e.style},{href:i}=e;return(0,y.jsx)("a",{href:(0,x.Nm)({str:i,allowNoProtocol:!0}),style:t,className:"notion-email-button-hover",onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:e.children})};function C(e){let{getRecordValue:t,blockId:i,userTimeZone:n,baseUrl:o,left:s,right:a}=e;const d=function(e,t,i,n,o){const r=p.uJ({table:"block",id:t},e),s=v.om.fromGetRecordValueFn(e);return g.nn(r.reverse()).map((e=>{const t=v.kk.fromBlock(e),r=t.getRenderTitle({getRecordModel:s,userTimeZone:n,intl:i})||i.formatMessage({id:"recordPath.untitledBlock.placeholder",defaultMessage:"Untitled"}),a=t.getRenderUrl({getRecordModel:s,pageVisitSource:f.tY.Email});return(0,y.jsx)(b,{href:`${o}${a}`,style:{display:"inline-block",maxWidth:120,verticalAlign:"top",...l.Z.textOverflowStyle},children:r},e.id)}))}(t,i,(0,r.useIntl)(),n,o);return d.length>0?(0,y.jsxs)("div",{children:[s,(0,m.Z)(d,(e=>(0,y.jsx)("span",{style:{paddingLeft:4,paddingRight:4},children:"/"},`slash:${e}`))),a]}):null}const j=n.memo(C);i(280162),i(158102);const S={fontSize:14,lineHeight:1.4};const k={fontWeight:l.Z.fontWeight.semibold};(0,r.injectIntl)((function(e){let{children:t,icon:i,timestamp:n,header:o,intl:r,userTimeZone:s,navigableBlockId:a,getRecordValue:l,baseUrl:d,theme:c,isLast:u}=e;return(0,y.jsxs)("table",{style:{paddingTop:12,paddingBottom:t?0:8,borderSpacing:0,width:"100%",borderCollapse:"separate"},children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{verticalAlign:"top",width:34,minWidth:34,paddingTop:2},children:i}),(0,y.jsx)("td",{children:(0,y.jsx)(T,{timestamp:n,header:o,intl:r,userTimeZone:s,children:t,navigableBlockId:a,getRecordValue:l,baseUrl:d,theme:c})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{}),(0,y.jsx)("td",{style:{maxWidth:400},children:t&&(0,y.jsx)(w,{children:t})})]}),(0,y.jsx)(Z,{isLast:u,theme:c})]})}));function M(e){return{borderBottom:`1px solid ${e.regularDividerColor}`,marginBottom:4}}function Z(e){let{isLast:t,theme:i}=e;return t?null:(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:2,children:(0,y.jsx)("div",{style:M(i)})})})}function w(e){let{children:t}=e;return(0,y.jsx)("div",{children:t})}function A(e){return{fontSize:12,color:e.lightTextColor,whiteSpace:"nowrap"}}function I(e){return{color:e.lightTextColor,marginLeft:4,marginRight:4}}function T(e){let{timestamp:t,header:i,intl:n,userTimeZone:o,children:r,navigableBlockId:s,getRecordValue:a,baseUrl:l,theme:u}=e;const h=(0,d.Yx)(Math.min(t,Date.now()),"medium_with_time",(0,c.E2)(n),o);return(0,y.jsxs)("div",{style:S,children:[(0,y.jsx)("div",{children:i}),(0,y.jsx)("table",{style:{...A(u),marginTop:4,marginBottom:r?8:4,borderSpacing:0},children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:h}),(0,y.jsx)("td",{children:s&&(0,y.jsx)(j,{getRecordValue:a,blockId:s,baseUrl:l,left:(0,y.jsx)("span",{style:I(u),children:"Â·"}),userTimeZone:o})})]})})]})}var B=i(709410),L=i(421202),V=i(606287),R=i(933709),F=i(76233),U=i(182798),_=i(433929),P=i(367669),O=i(80444),z=i(206258);function H(e){let{actor:t,environment:i}=e;return t.isBot()?2:i.currentUser.id===t.id?1:0}function D(e){const{edits:t,rootStore:i}=e,n=g.sv(t.flatMap((e=>e.authors||[])),g.Xy),o=g.oA(n.map((e=>N(e,i))));return o.sort(((e,t)=>H({actor:e,environment:i.environment})-H({actor:t,environment:i.environment}))),o}function K(e,t){const{currentUserStore:i}=O.default.state,n=null==i?void 0:i.id;return function(e,t,i,n){const s=t.find((e=>e.id===i)),a=t.map((t=>(0,o.$4)(e,t))),l={...k,...n};if(1===t.length)return s?(0,y.jsx)("span",{children:(0,y.jsx)(r.FormattedMessage,{defaultMessage:"You",id:"activitySection.authorPhrase.forOneAuthorCurrentUser.label",values:{b:e=>(0,y.jsx)("span",{style:l,children:e})}})}):(0,y.jsx)("span",{children:(0,y.jsx)(r.FormattedMessage,{defaultMessage:"<b>{author}</b>",id:"activitySection.authorPhrase.forOneAuthor.label",values:{author:a[0],b:e=>(0,y.jsx)("span",{style:l,children:e})}})});if(2===t.length){if(s){const i=t.filter((e=>e!==s)).map((t=>(0,o.$4)(e,t)));return(0,y.jsx)("span",{children:(0,y.jsx)(r.FormattedMessage,{defaultMessage:"<b>{firstAuthor}</b> and you",id:"activitySection.authorPhrase.forTwoAuthorsCurrentUser.label",values:{firstAuthor:i[0],b:e=>(0,y.jsx)("span",{style:l,children:e})}})})}return(0,y.jsx)("span",{children:(0,y.jsx)(r.FormattedMessage,{defaultMessage:"<b>{firstAuthor}</b> and <b>{secondAuthor}</b>",id:"activitySection.authorPhrase.forTwoAuthors.label",values:{firstAuthor:a[0],secondAuthor:a[1],b:e=>(0,y.jsx)("span",{style:l,children:e})}})})}if(a.length>2){if(s){const i=t.filter((e=>e!==s)).map((t=>(0,o.$4)(e,t))),n=(0,y.jsx)(r.FormattedMessage,{defaultMessage:"{numberOfOtherAuthors, plural, =0 {<b>{firstAuthor}</b>, <b>{secondAuthor}</b> and you} one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, you and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, you and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthorsCurrentUser.label",values:{numberOfOtherAuthors:i.length-2,firstAuthor:i[0],secondAuthor:i[1],b:e=>(0,y.jsx)("span",{style:l,children:e})}});return(0,y.jsx)("span",{children:n})}{const e=(0,y.jsx)(r.FormattedMessage,{defaultMessage:"{numberOfOtherAuthors, plural, one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthors.label",values:{numberOfOtherAuthors:a.length-2,firstAuthor:a[0],secondAuthor:a[1],b:e=>(0,y.jsx)("span",{style:l,children:e})}});return(0,y.jsx)("span",{children:e})}}return(0,y.jsx)("span",{style:l,children:(0,y.jsx)(r.FormattedMessage,{defaultMessage:"Nobody",id:"activitySection.authorPhrase.forNoAuthors.label"})})}(_.default.getIntl(),e,n,t)}function E(e,t){return(0,y.jsx)("span",{children:(0,y.jsx)(r.FormattedMessage,{defaultMessage:"<b>{author}</b>",id:"activitySection.authorPhrase.forOneAuthor.email",values:{author:e,b:e=>(0,y.jsx)("span",{style:t,children:e})}})})}function N(e,t){if(e.table===h.KJ){const i=W(e.id,t);if(i)return(0,o.dp)(i)}else{const i=function(e,t){const i=(0,z.Kv)(t,{table:u.cZ,id:e});return i.getValue()}(e.id,t);if(i)return(0,o.D$)(i)}}function W(e,t){return z.U6.createChildStore(t,{table:h.KJ,id:e}).getValue()}function q(e){const{tab:t,recordId:i,recordType:n,rootStore:o,environment:r}=e;if("all"===t){if(!i)return!1;let e;return"block"===n?e=z.G.createChildStore(o,{table:L.iU,id:i}):"collection"===n?e=z.NW.createChildStore(o,{table:V.vF,id:i}):(0,a.t1)(n),(0,P.yi)(r,e)}return!1}function G(e){const{activity:t,rootStore:i}=e;if("commented"!==t.type)return;const n=i.getRecordModel({table:R.qF,id:t.discussion_id,spaceId:t.space_id});if(!n)return;const o=$(n);return o?{id:n.id,context:o}:void 0}function $(e){const t=e.getPersistedContext(),i=t?(0,B.Bb)({discussionContextData:t,discussionType:(0,U.TO)(e.getType()),discussionId:e.id,intl:_.default.getIntl()}):void 0;if(i)return(0,F.VP_)(i,(t=>!(0,F.xw5)(t)||(0,F.h19)(t)===e.id))}},722649:(e,t,i)=>{i.d(t,{OD:()=>l,TL:()=>u,_W:()=>c,b9:()=>h,c3:()=>d,e9:()=>s,lS:()=>r,nP:()=>a});var n=i(137810);const o={userSelect:"text",WebkitUserSelect:"text"},r={padding:1,...o},s={display:"inline-flex",marginRight:2,verticalAlign:"text-top"},a={fontWeight:n.Z.fontWeight.semibold};function l(e){return{padding:0,paddingLeft:d(e),paddingRight:16,paddingBottom:3,...o}}function d(e){const{source:t,isMobile:i}=e;return"notifications_tab"===t?52+(i?3:2):52}function c(e){return{height:26,paddingLeft:8,paddingRight:8,color:e.mediumTextColor}}function u(e){return{display:"inline",whiteSpace:"normal",marginRight:e?3:0,wordBreak:"break-word",...a}}function h(e){return{boxShadow:e.plainButtonBoxShadow,height:26,paddingLeft:8,paddingRight:8,fontWeight:500,color:e.regularTextColor}}},146096:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(749085);class o extends n.default{getInitialState(){return{open:!1}}}const r=new o},280162:(e,t,i)=>{i.d(t,{Z:()=>a});i(667294);var n=i(643593),o=i(517755),r=i(158102),s=i(785893);const a=function(e){const{botValue:t,avatarSize:i,baseUrl:a,theme:l,style:d}=e;if(null!=t&&t.icon){const c=n.F8(t.icon)?o.Q4({url:t.icon,width:e.avatarSize,fullyQualified:!0,stripGoogleIconQuery:!0,baseUrl:a,userId:void 0}):t.icon;return(0,s.jsx)("div",{style:{...(0,r.nH)({theme:l,avatarSize:i}),...d},children:(0,s.jsx)("img",{src:c,style:{display:"block",width:"100%",height:"100%",objectFit:"cover"}})})}if(null!=t&&t.name){const e=t.name[0];return(0,s.jsx)("div",{children:(0,s.jsx)("div",{style:{...(0,r.r4)({theme:l,avatarSize:i}),...d},children:(0,s.jsx)("div",{children:e})})})}return(0,s.jsx)("span",{children:"ðŸ¤–"})}},719255:(e,t,i)=>{i.d(t,{Mg:()=>g,Q$:()=>u,n9:()=>h});i(430541),i(757658),i(21703);var n=i(467266),o=i.n(n),r=i(205242),s=i.n(r),a=i(653965),l=i(401898),d=i(415095),c=i(76233);let u=function(e){return e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same",e}({});function h(e,t){const i=new(s())({timeout:2,editCost:6}),n=i.main(t,e);return i.cleanupSemantic(n),n}function g(e){const{before:t,after:i,isIncompleteAfter:n,insertCursor:r}=e,s={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},g=e=>{const t=s.encoding[e];if(t)return t;{const t=String.fromCharCode(s.count);return s.count++,s.encoding[e]=t,s.decoding[t]=e,t}},f=e=>{const t=o()(e),i=s.annotationEncoding[t];if(i)return i;{const i=String.fromCharCode(s.count);return s.count++,s.annotationEncoding[t]=i,s.annotationDecoding[i]=e,i}},m=e=>a.xH(c.lzi(e).map((e=>{const t=d.p4(e[0]).map(g);if(c.km_(e)){const i=c.hDy(e),n=c.I$B(i);n&&(t[0]=f({type:"mention",value:n}),i.forEach((e=>{c.ZAl(e)||c.kuv(e)||c.QVC(e)||(t.unshift(f({type:"start",value:e})),t.push(f({type:"end",value:e})))})))}else if(c.YrK(e)){const i=c.hDy(e),n=c.Ap(i);if(n){t[0]=f({type:"equation",value:n});for(const e of i)c.ZAl(e)||c.kuv(e)||c.QVC(e)||(t.unshift(f({type:"start",value:e})),t.push(f({type:"end",value:e})))}}else if(c.AJd(e)){c.hDy(e).forEach((e=>{t.unshift(f({type:"start",value:e})),t.push(f({type:"end",value:e}))}))}return t}))).join("");if(s.count>65535)throw new Error("This string has way too many different characters.");const v=h(m(i),m(t)),p=[];let x=[],y=0;const b=n?a.qr(v,(e=>0===e[0]||1===e[0])):0;let C=!1;const j=e.insertionAnnotation,S=e.deletionAnnotation;return v.forEach((e=>{let[t,i]=e;i.split("").forEach((e=>{if(s.decoding[e]){const i=s.decoding[e];t===u.added?p.push([i,[...x,j]]):t===u.removed&&(!n||y<=b)?p.push([i,[...x,S]]):(n&&r&&!C&&y===b+1&&(C=!0,p.push(["",[["tc"]]])),p.push([i,x]))}else{const i=s.annotationDecoding[e];if(t===u.added)if("mention"===i.type)p.push([c.qyI,[...x,j,i.value]]);else if("start"===i.type)x=[...x,i.value];else if("end"===i.type)x=x.filter((e=>!a.Xy(e,i.value)));else if("equation"===i.type){const e=c.xey(i.value),t=c.qZ6(e,[...x,j]);p.push(t)}else(0,l.t1)(i);else if(t===u.removed){if("mention"===i.type)p.push([c.qyI,[...x,S,i.value]]);else if("equation"===i.type){const e=c.xey(i.value),t=c.qZ6(e,[...x,S]);p.push(t)}}else if(t===u.same)if("mention"===i.type)p.push([c.qyI,[...x,i.value]]);else if("start"===i.type)x=[...x,i.value];else if("end"===i.type)x=x.filter((e=>!a.Xy(e,i.value)));else if("equation"===i.type){const e=c.xey(i.value),t=c.qZ6(e,x);p.push(t)}else(0,l.t1)(i)}})),n&&(y+=1)})),c.Zxt(p)}},732566:(e,t,i)=>{i.d(t,{k:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},665422:(e,t,i)=>{i.d(t,{K:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("boltFilled",{svg:(0,o.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},130134:(e,t,i)=>{i.d(t,{c:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("export",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.0625 15.8174C2.32422 15.8174 1.76595 15.6305 1.3877 15.2568C1.00944 14.8831 0.820312 14.3294 0.820312 13.5957V6.86914C0.820312 6.13997 1.00944 5.58854 1.3877 5.21484C1.76595 4.83659 2.32422 4.64746 3.0625 4.64746H4.92871V5.99414H3.14453C2.82552 5.99414 2.58171 6.07845 2.41309 6.24707C2.24902 6.41113 2.16699 6.65951 2.16699 6.99219V13.4795C2.16699 13.8122 2.24902 14.0605 2.41309 14.2246C2.58171 14.3932 2.82552 14.4775 3.14453 14.4775H10.8486C11.1631 14.4775 11.4046 14.3932 11.5732 14.2246C11.7464 14.0605 11.833 13.8122 11.833 13.4795V6.99219C11.833 6.65951 11.7464 6.41113 11.5732 6.24707C11.4046 6.07845 11.1631 5.99414 10.8486 5.99414H9.07812V4.64746H10.9375C11.6758 4.64746 12.234 4.83659 12.6123 5.21484C12.9906 5.58854 13.1797 6.13997 13.1797 6.86914V13.5957C13.1797 14.3249 12.9906 14.8763 12.6123 15.25C12.234 15.6283 11.6758 15.8174 10.9375 15.8174H3.0625ZM7 11.3877C6.91797 11.3877 6.83822 11.374 6.76074 11.3467C6.68327 11.3148 6.60124 11.2578 6.51465 11.1758L4.21777 8.96094C4.10384 8.84245 4.04688 8.70801 4.04688 8.55762C4.04688 8.39811 4.09928 8.26823 4.2041 8.16797C4.31348 8.06771 4.44792 8.01758 4.60742 8.01758C4.7806 8.01758 4.92188 8.0791 5.03125 8.20215L5.98828 9.2207L6.43262 9.71973L6.36426 8.70117V1.61914C6.36426 1.45052 6.42578 1.30469 6.54883 1.18164C6.67643 1.05859 6.82682 0.99707 7 0.99707C7.17318 0.99707 7.32129 1.05859 7.44434 1.18164C7.57194 1.30469 7.63574 1.45052 7.63574 1.61914V8.70117L7.56738 9.71973L8.00488 9.2207L8.96191 8.20215C9.07585 8.0791 9.21712 8.01758 9.38574 8.01758C9.54069 8.01758 9.67285 8.06771 9.78223 8.16797C9.89616 8.26823 9.95312 8.39811 9.95312 8.55762C9.95312 8.70801 9.89388 8.84245 9.77539 8.96094L7.47852 11.1758C7.39648 11.2578 7.31673 11.3148 7.23926 11.3467C7.16178 11.374 7.08203 11.3877 7 11.3877Z"})})},582356:(e,t,i)=>{i.d(t,{l:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("import",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},123925:(e,t,i)=>{i.d(t,{k:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("jira",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M16.8784 2.5H9.65698C9.65698 4.3 11.1141 5.75714 12.9141 5.75714H14.2427V7.04288C14.2427 8.84288 15.6998 10.3 17.4998 10.3V3.12143C17.4998 2.77857 17.2212 2.5 16.8784 2.5Z M13.3001 6.10001H6.07861C6.07861 7.9 7.53574 9.35713 9.33574 9.35713H10.6643V10.6429C10.6643 12.4429 12.1215 13.9 13.9215 13.9V6.72144C13.9215 6.37856 13.6429 6.10001 13.3001 6.10001Z M9.72144 9.70001H2.5C2.5 11.5 3.95714 12.9571 5.75714 12.9571H7.08569V14.2429C7.08569 16.0429 8.54287 17.5 10.3429 17.5V10.3214C10.3429 9.97857 10.0643 9.70001 9.72144 9.70001Z"})})},108504:(e,t,i)=>{i.d(t,{J:()=>r});i(667294);var n=i(745238),o=i(785893);const r=(0,n.IU)("versionHistoryThick",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M0 7C0 3.136 3.129 0 6.993 0C10.864 0 14 3.136 14 7C14 10.864 10.864 14 6.993 14C3.129 14 0 10.864 0 7ZM1.4 7C1.4 10.094 3.906 12.6 7 12.6C10.094 12.6 12.6 10.094 12.6 7C12.6 3.906 10.094 1.4 7 1.4C3.906 1.4 1.4 3.906 1.4 7ZM6.3 3.5H7.35V7.175L10.5 9.044L9.975 9.905L6.3 7.7V3.5Z"})})}}]);