"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[67310],{454885:(e,t,i)=>{i.d(t,{X3:()=>n,XD:()=>l,XE:()=>a,d_:()=>s});var r=i(730459),o=i(319385);function a(e,t){r.K4(e,"app_preset_selection_shown",t),o.default.logEvent("app_preset_selection_shown",t.app_uri,t)}function n(e,t){r.K4(e,"onboarding_app_selection",t),o.default.logEvent("onboarding_app_selection",t.preset,t)}function s(e,t){r.K4(e,"app_preset_selection",t),o.default.logEvent("app_preset_selection",t.preset_uri,t)}function l(e,t){r.K4(e,"app_preset_accepted",t),o.default.logEvent("app_preset_accepted",t.preset_uri,t)}},933089:(e,t,i)=>{i.r(t),i.d(t,{applyUntypedFeature:()=>s});var r=i(401898),o=i(496802),a=i(272467),n=i(948083);function s(e){var t;const{environment:i,collectionStore:s,collectionViewBlockStore:l,feature:d,transaction:c}=e,p=d.dependencies,u=(null===(t=l.getFormat())||void 0===t?void 0:t.app_uri_map)??{};for(const g of p)if("property"===g.type)(0,n.P8)({environment:i,collectionStore:s,dependency:g,blockUriMap:u,allFeatures:a.OO,transaction:c});else if("collection_view"===g.type){const e=(0,n.k0)({environment:i,collectionStore:s,collectionViewBlockStore:l,dependency:g,blockUriMap:u,transaction:c});o.FH({stores:[l],update:{app_uri_map:e},transaction:c})}else(0,r.t1)(g)}},272467:(e,t,i)=>{i.d(t,{B4:()=>f,OO:()=>p,ad:()=>h,dr:()=>m,my:()=>g,rc:()=>u});var r=i(494714),o=i(351259),a=i(841892),n=i(253877),s=i(842875),l=i(709291),d=i(433929);const c=(0,l.defineMessages)({aiSummaryName:{id:"feature.ai_summary.name",defaultMessage:"AI summary"},aiSummaryDescription:{id:"feature.ai_summary.description",defaultMessage:"Summarize pages with AI"},aiAutofillName:{id:"feature.ai_autofill.name",defaultMessage:"Custom AI autofill"},aiAutofillDescription:{id:"feature.ai_autofill.description",defaultMessage:"Autofill properties with AI"},aiTranslationName:{id:"feature.ai_translation.name",defaultMessage:"AI translation"},aiTranslationDescription:{id:"feature.ai_translation.description",defaultMessage:"Translate pages with AI"},aiKeywordsName:{id:"feature.ai_keywords.name",defaultMessage:"AI keywords"},aiKeywordsDescription:{id:"feature.ai_keywords.description",defaultMessage:"Extract keywords with AI"}}),p=[{uri:o.S7.priorityHmlFeature,name:"Priority",dependencies:[{uri:o.ti.priorityHmlProperty,type:"property",collectionUri:r.br,name:"Priority",description:"High, medium, or low",icon:a.Z.images.appPackages.featurePrioritySvg,propertySchema:{type:"select",name:"Priority",options:[{id:"priority_low",value:"Low",color:"green"},{id:"priority_medium",value:"Medium",color:"yellow"},{id:"priority_high",value:"High",color:"red"}]}}],collectionUri:r.br},{uri:o.S7.progressBarFeature,collectionUri:r.br,name:"Progress Bar",description:"Visual representation of progress",icon:a.Z.images.appPackages.featureStatusSvg,dependencies:[{uri:o.ti.progressBarCurrentProperty,type:"property",collectionUri:r.br,name:"Progress Bar Current",propertySchema:{type:"number",name:"Current"}},{uri:o.ti.progressBarTargetProperty,type:"property",collectionUri:r.br,name:"Progress Bar Target",propertySchema:{type:"number",name:"Target"}},{uri:o.ti.progressBarFormulaProperty,type:"property",collectionUri:r.br,name:"Progress Bar Progress Formula",propertySchema:{type:"formula",name:"Progress bar",formula2:{code:[["‣",[["fpp",{property:o.ti.progressBarCurrentProperty,collection:{id:r.br,table:"collection"}}]]],["/"],["‣",[["fpp",{property:o.ti.progressBarTargetProperty,collection:{id:r.br,table:"collection"}}]]]],result_type:{type:"number"}},show_as:{type:"bar",color:"green",maxValue:1,showValue:!1},version:"v2"}}]},{uri:o.S7.ganttChartFeature,collectionUri:r.br,name:"Gantt Chat",description:"Chart to show progress of a project's tasks over time.",icon:a.Z.images.appPackages.featureGanttSvg,dependencies:[{uri:o.ti.ganttInitiativeProperty,type:"property",collectionUri:r.br,name:"Initiative",description:"Initiatives associated with a specific project",icon:a.Z.images.appPackages.featurePrioritySvg,propertySchema:{type:"select",name:"Initiative",options:[{id:"initiative_a",value:"Initiative A",color:"purple"},{id:"initiative_b",value:"Initiative B",color:"green"},{id:"initiative_c",value:"Initiative C",color:"blue"}]}},{uri:o.ti.ganttDueDateProperty,type:"property",collectionUri:r.br,name:"Due Date",description:"When a project is due.",icon:a.Z.images.appPackages.featurePrioritySvg,propertySchema:{type:"date",name:"Due Date"}},{uri:o.ti.ganttTimelineView,type:"collection_view",collectionUri:r.br,description:"GANTT chart timeline view of projects",value:{type:"timeline",name:"Timeline",format:{collection_view_icon:"/icons/timeline_gray.svg",timeline_show_table:!0,timeline_table_properties:[{width:171,visible:!0,property:"title"},{width:200,visible:!0,property:o.ti.ganttInitiativeProperty}],timeline_preference:{zoomLevel:"month",centerTimestamp:(0,n.uO)((0,n.Lg)((0,s.r)()),(0,s.r)())},collection_group_by:{sort:{type:"manual"},type:"multi_select",property:o.ti.ganttInitiativeProperty,hideEmptyGroups:!0}},query2:{timeline_by:o.ti.ganttDueDateProperty}},collectionViewBlockUri:r.Sc}]}],u=[g(),m(),f(),h()];function g(){return{uri:o.S7.aiSummaryFeature,collectionUri:r.br,name:d.default.formatMessage(c.aiSummaryName),description:d.default.formatMessage(c.aiSummaryDescription),icon:a.Z.images.appPackages.featureAiSummarizeSvg,tooltipImage:{img:a.Z.images.tooltips.properties.aiAutofillSummaryPng,scale:.5},isAi:!0,dependencies:[{uri:o.ti.aiSummaryProperty,type:"property",collectionUri:r.br,name:d.default.formatMessage(c.aiSummaryName),propertySchema:{type:"text",name:d.default.formatMessage(c.aiSummaryName),ai_inference:{type:"summarize",auto_update_on_edit:!0}}}]}}function m(){return{uri:o.S7.aiCustomAutofillFeature,collectionUri:r.br,name:d.default.formatMessage(c.aiAutofillName),description:d.default.formatMessage(c.aiAutofillDescription),icon:a.Z.images.appPackages.featureAiSummarizeSvg,tooltipImage:{img:a.Z.images.tooltips.properties.aiCustomAutofillPng,scale:.5},isAi:!0,dependencies:[{uri:o.ti.aiCustomAutofillProperty,type:"property",collectionUri:r.br,name:d.default.formatMessage(c.aiAutofillName),propertySchema:{name:d.default.formatMessage(c.aiAutofillName),type:"text",ai_inference:{type:"custom",prompt:"",auto_update_on_edit:!0}}}]}}function f(){return{uri:o.S7.aiTranslationFeature,collectionUri:r.br,name:d.default.formatMessage(c.aiTranslationName),description:d.default.formatMessage(c.aiTranslationDescription),icon:a.Z.images.appPackages.featureAiSummarizeSvg,tooltipImage:{img:a.Z.images.tooltips.properties.aiTranslationPng,scale:.5},isAi:!0,dependencies:[{uri:o.ti.aiTranslationProperty,type:"property",collectionUri:r.br,name:d.default.formatMessage(c.aiTranslationName),propertySchema:{name:d.default.formatMessage(c.aiTranslationName),type:"text",ai_inference:{type:"custom",prompt:"",auto_update_on_edit:!0}}}]}}function h(){return{uri:o.S7.aiKeywordsFeature,collectionUri:r.br,name:d.default.formatMessage(c.aiKeywordsName),description:d.default.formatMessage(c.aiKeywordsDescription),icon:a.Z.images.appPackages.featureAiSummarizeSvg,isAi:!0,dependencies:[{uri:o.ti.aiKeywordsProperty,type:"property",collectionUri:r.br,name:d.default.formatMessage(c.aiKeywordsName),propertySchema:{type:"multi_select",name:d.default.formatMessage(c.aiKeywordsName),select_ai_inference:{type:"multi_select",add_options:!0,auto_update_on_edit:!1}}}]}}},417202:(e,t,i)=>{i.r(t),i.d(t,{getMobilePreviewTemplates:()=>u,getSuggestedTemplatesForSearch:()=>p});var r=i(284465),o=i(173314),a=i(608055),n=i(433929),s=i(627249),l=i(194660),d=i(319385),c=i(665435);function p(e){const{persona:t,environment:i}=e,r=n.default.getIntl();return(0,s.ay)(d.default,t).map((e=>{const t=(0,o.G)(e,r);return{name:t.name,icon:e.emoji||e.icon||void 0,onClick:()=>{(e=>{const t=(0,l.W4)({templateGalleryItem:e.rootId});a.c4({environment:i,url:t})})(t)}}}))}function u(e){return Object.entries((0,c.it)(e)).map((e=>{let[t,i]=e;return{category:t,sectionHeaderMessage:r._5[t],templates:i}}))}},901927:(e,t,i)=>{i.r(t),i.d(t,{AppInitializationOverlay:()=>W});var r=i(667294),o=i(313991),a=i(800480),n=i(886628),s=i(724405),l=i(341612),d=i(895538),c=i(377058),p=i(421202),u=i(815047),g=i(429369),m=i(151454),f=i(709291),h=i(137810),v=i(454885),y=i(104617),S=i(210228),b=i(288833),x=i(486095),w=i(416536),k=i(174927),C=i(940663),Y=i(296994),_=i(628020),P=i(224646),B=i(80444),j=i(282136),I=i(206258),T=i(164921),M=i(362896),V=i(828451),A=i(568785),D=i(158297),Z=i(531192),U=i(785893);function W(e){var t;const{collectionViewBlockStore:i}=e,W=(0,a.O7)(),L=(0,s.yK)((e=>({overlay:{position:"absolute",top:0,left:0,overflow:"visible",height:"100vh",width:"100%",zIndex:m.mJ,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:e.sidebarBackground,borderLeft:`1px solid ${e.lightDividerColor}`},welcome:{maxWidth:375,minWidth:320,maxHeight:"100%",flex:1,display:"flex",flexDirection:"column",alignItems:"stretch",marginLeft:"10%",marginRight:"10%",padding:"64px 16px"},welcomeLogo:{height:48,width:48},welcomeTitle:{marginTop:24,color:e.regularTextColor,fontFamily:h.Z.getHeaderFontFamily({locale:o.SP}),fontWeight:h.Z.fontWeight.bold,fontSize:28,flex:0,display:"flex",flexDirection:"row",alignItems:"center"},welcomeSubtitle:{marginTop:6,fontSize:18,color:e.mediumTextColor,fontWeight:400,flex:0},presets:{marginTop:32,marginBottom:32,gap:12,display:"flex",flexDirection:"column"},presetSelected:{background:"dark"===e.mode?e.popoverBackground:e.buttonBackground,boxShadow:e.outlineBlueInputBoxShadow},presetSelectedCheckmark:{width:24,height:24,color:e.blueButtonBackground,opacity:0,transform:"scale(0.8)",transition:"all 0.2s ease"},presetSelectedCheckmarkShown:{opacity:1,transform:"scale(1)"},preset:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",padding:"16px 14px 16px 16px",background:"dark"===e.mode?e.accentColors.gray[200]:e.buttonBackground,borderRadius:7,boxShadow:e.elevatedButtonBoxShadow,cursor:"pointer",transition:"box-shadow 0.1s ease, background 0.1s ease"},scroller:{overflow:"auto",padding:4},presetHovered:{background:"dark"===e.mode?e.accentColors.gray[200]:e.accentColors.gray[30]},presetTextContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",flex:1},presetIcon:{flexShrink:0,marginTop:2,marginBottom:2,width:20,height:20,marginRight:12},presetTitle:{color:e.regularTextColor,fontWeight:h.Z.fontWeight.medium,fontSize:14,marginBottom:1},presetSubtitle:{color:e.mediumTextColor,fontWeight:h.Z.fontWeight.regular,fontSize:14},previewContainer:{flex:1,overflow:"auto",height:"70%",borderRadius:"8px 0 0 8px",border:e.lightDividerColor,boxShadow:e.largeLightBoxShadow,background:e.popoverBackground},previewImage:{width:"100%",height:"100%"},actionButton:{flex:0,zIndex:m.mJ+1},hamburgerButton:{position:"absolute",zIndex:m.mJ+1,margin:5}})),[]),[z,H]=r.useState(!1),N=(0,n.VK)((()=>B.default.state.currentSpaceViewStore),[]),F=(0,n.VK)((()=>{const e=i.getFormatStore().getKeyStore("app_config_uri").getValue();if(!e)return;return(0,C.Wo)((0,w.appConfigs)(),e)}),[i]),[E,K]=r.useState(void 0);r.useEffect((()=>{K(i.getFormatStore().getKeyStore("app_template_preset").getValue())}),[i,K]);const O=(0,n.VK)((()=>{var e;return(null==F||null===(e=F.presets)||void 0===e?void 0:e.filter((e=>"core"===e.type)))??[]}),[null==F?void 0:F.presets]),[R,G]=r.useState(E);r.useEffect((()=>{G(E)}),[E,G]),r.useEffect((()=>{F&&v.XE(W,{app_uri:F.uri})}),[F,W]);const X=r.useMemo((()=>null==F?void 0:F.presets.find((e=>e.uri===E))),[F,E]),J=r.useMemo((()=>{if(F&&X&&F.uri===l.Vr)return(0,k.L)(X)}),[F,X]),$=r.useMemo((()=>{if(!F)return;const t={};return F.presets.forEach((i=>{var r;const o=F.uri===l.Vr?(0,k.L)(i):null===(r=i.previews)||void 0===r?void 0:r.find((e=>"previewRootId"in e));o&&(t[i.uri]=I.G.createChildStore(e.collectionViewBlockStore,{id:o.previewRootId,table:p.iU,spaceId:o.spaceId}))})),t}),[F,e.collectionViewBlockStore]),q=(0,n.VK)((()=>{const e=(0,_.ui)(W);return{left:e,right:e,bottom:Z.ZP.paddingBottom(W),coverHeight:Z.ZP.defaultPageCoverHeight(W)}}),[W]),Q=(0,n.VK)((()=>{var e;const t=null==X||null===(e=X.previews)||void 0===e?void 0:e.find((e=>"url"in e&&!(0,d.xL)(e)));if(t&&"url"in t)return t.url}),[null==X?void 0:X.previews]),ee=(0,n.VK)((()=>W.device.isPhone),[W]),te=(0,n.VK)((()=>!!W.device.isMobileBrowser||!W.device.isMobileNative&&!(0,P.in)(W)),[W]);return r.useEffect((()=>{"rendered"!==B.default.state.renderPhase&&B.default.setState({...B.default.state,renderPhase:"rendered"})}),[]),F?(0,U.jsxs)(V.P,{calloutId:"better_template_initialization",children:[te&&(0,U.jsx)("div",{style:L.hamburgerButton,children:(0,U.jsx)(Y.oX,{})}),(0,U.jsxs)("div",{style:L.overlay,children:[(0,U.jsxs)("div",{style:L.welcome,children:[(0,U.jsxs)("div",{style:L.scroller,children:[(0,U.jsx)("div",{style:L.welcomeLogo,children:(0,U.jsx)("img",{src:F.logo,style:{height:"100%",width:"100%"}})}),(0,U.jsx)("div",{style:L.welcomeTitle,children:F.welcomeTitle??(0,U.jsx)(f.FormattedMessage,{id:"apps.AppInitializationOverlay.welcomeTitle.default",defaultMessage:"Welcome to {appName}",values:{appName:F.name}})}),(0,U.jsx)("div",{style:L.welcomeSubtitle,children:F.welcomeSubtitle??""}),(0,U.jsx)("div",{style:L.presets,children:O.map(((e,t)=>{var i;const r=null!==(i=e.icon)&&void 0!==i&&i.startsWith("/")?(0,U.jsx)("img",{src:e.icon,style:{height:"100%",width:"100%"}}):(0,U.jsx)(M.Z,{children:e.icon??""});return(0,U.jsxs)(T.Z,{style:{height:"auto",...L.preset,...E===e.uri?L.presetSelected:{}},disabled:z,hoveredStyle:L.presetHovered,onClick:()=>{K(e.uri),v.d_(W,{preset_uri:e.uri})},onMouseEnter:W.device.isMobile?void 0:()=>G(e.uri),onMouseLeave:W.device.isMobile?void 0:()=>G(E),children:[(0,U.jsx)("div",{style:L.presetIcon,children:r}),(0,U.jsxs)("div",{style:L.presetTextContainer,children:[(0,U.jsx)("div",{style:L.presetTitle,children:e.name}),(0,U.jsx)("div",{style:L.presetSubtitle,children:e.description})]}),(0,U.jsx)("div",{children:(0,c.$)({...L.presetSelectedCheckmark,...E===e.uri?L.presetSelectedCheckmarkShown:void 0})})]},t)}))})]}),(0,U.jsx)("div",{style:{padding:`0 4px ${W.device.isIOS?"32px":0} 4px`,alignSelf:"stretch"},children:(0,U.jsxs)(D.Z,{style:{alignSelf:"stretch",height:36,width:"100%"},disabled:z,onClick:async()=>{if(E){if(H(!0),J){const{currentSpaceStore:t,currentSpaceViewStore:i}=B.default.state;t&&i&&await y.Lf({environment:W,item:J,isPrivate:!1,spaceStore:t,spaceViewStore:i,useMinimalTemplates:!1,initializeStore:e.collectionViewBlockStore})}else{const t=e.collectionViewBlockStore.getParentStore();!t||t.table!==u.bx&&t.table!==g.e0&&t.table!==p.iU||S.createAndCommit({userAction:"initializeApp",environment:W,perform:i=>{if(N){const r=b.initializeApp({environment:W,spaceViewStore:N,appUri:F.uri,presetUri:E,appParentStore:t,temporaryContainerBlockStore:e.collectionViewBlockStore,transaction:i,from:"app_onboarding"});b.markTasksDatabaseTemplateIfNeeded(r),x.createSprintPage({environment:W,spaceViewStore:N,appParentStore:t,transaction:i,blockStores:r,creationEntryPoint:{type:"preset",presetUri:E}})}}})}v.XD(W,{preset_uri:E})}},children:[(0,U.jsx)(f.FormattedMessage,{id:"apps.AppInitializationOverlay.startButton",defaultMessage:"Get started"}),z&&(0,U.jsx)(A.Z,{style:{marginLeft:5},isWhite:!0})]})})]}),!ee&&(0,U.jsx)("div",{style:L.previewContainer,children:$&&R&&$[R]?(0,U.jsxs)("div",{style:{width:"108%",minWidth:900,height:"auto",minHeight:"100%",position:"relative",paddingTop:J?0:"10%"},children:[(0,U.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:1,zIndex:999}}),(0,U.jsx)(Z.ZP,{store:$[R],context:j.S.InAppTemplatePreview,titleStyle:{fontSize:28},paddingBottom:q.bottom,disabled:!0},null===(t=$[R])||void 0===t?void 0:t.id)]}):(0,U.jsx)("img",{src:Q,style:L.previewImage})})]})]}):null}},599134:(e,t,i)=>{i.r(t),i.d(t,{AppsSetup:()=>U});var r=i(667294),o=i(313991),a=i(800480),n=i(886628),s=i(724405),l=i(966673),d=i(421202),c=i(709291),p=i(653965),u=i(137810),g=i(454885),m=i(288833),f=i(416536),h=i(174927),v=i(940663),y=i(628020),S=i(555081),b=i(775538),x=i(318245),w=i(80444),k=i(282136),C=i(206258),Y=i(568785),_=i(158297),P=i(531192),B=i(964275),j=i(375071),I=i(698519),T=i(164921),M=i(785893);function V(e){const{appTemplate:t,isSelected:i}=e,[o,a]=(0,r.useState)(!1),l=(0,n.VK)((()=>(0,v.iX)((0,f.appConfigs)(),t.uri)),[t.uri]),d=(0,s.yK)((e=>({container:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},appButton:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:62,height:62,backgroundColor:e.whiteButtonBackground,boxShadow:e.lightBoxShadow,borderRadius:12,background:"dark"===e.mode?e.accentColors.gray[200]:e.whiteButtonBackground},selectedWrapper:{boxShadow:e.outlineBlueInputBoxShadow,background:"dark"===e.mode?e.accentColors.gray[200]:e.buttonBackground},logo:{width:32,height:32},logoSelected:{filter:"invert(41%) sepia(77%) saturate(2017%) hue-rotate(191deg) brightness(93%) contrast(89%)"},badge:{width:26,height:26,display:"inline-flex",alignItems:"center",justifyContent:"center",backgroundColor:e.invoiceGreen,borderRadius:50,position:"absolute",top:-9,right:-9,border:`2px solid ${e.sidebarBackground}`,webkitBackdropFilter:"blur(12px)",opacity:1,transform:"scale(1)",transition:"opacity 0.2s ease, transform 0.2s ease, background-color 0.1s linear"},selectBadge:{backgroundColor:e.invoiceGreen},selectedBadge:{backgroundColor:e.blueButtonBackground},deselectBadge:{backgroundColor:e.redBadgeBackground},appName:{marginTop:8,fontSize:14,fontWeight:500,textAlign:"center"},buttonBadgeIcon:{width:16,height:16,fill:"white"}})),[]),c=(0,r.useCallback)((()=>{i?e.onDeSelect(t.uri):e.onSelect(t.uri),a(!1)}),[t.uri,i,e]);return(0,M.jsxs)("div",{style:d.container,onMouseEnter:()=>{a(!0),e.onHover()},onMouseLeave:()=>{a(!1),e.onUnhover()},children:[(0,M.jsx)(T.Z,{style:{...d.appButton,...i?d.selectedWrapper:{}},onClick:c,ignoreLocalHoverState:!0,children:(0,M.jsx)("img",{style:{...d.logo,...i?d.logoSelected:{}},src:l?l.logo:t.icon})}),(0,M.jsx)(T.Z,{style:{...d.badge,...i?o?d.deselectBadge:d.selectedBadge:o?d.selectBadge:{opacity:0,transform:"scale(0.4)"}},onClick:c,ignoreLocalHoverState:!0,children:i?o?(0,B.D)({width:16,height:16,fill:"white"}):(0,I.k)({width:15,height:15,fill:"white"}):(0,j.f)({width:16,height:16,fill:"white"})}),(0,M.jsx)("div",{style:d.appName,children:l?l.name:t.shortName})]})}const A=p.oA(f.DEFAULT_PRESETS.map((e=>{var t;return null===(t=(0,v.iX)((0,f.appConfigs)(),e))||void 0===t?void 0:t.presets.find((t=>t.uri===e))})));function D(e){const t=(0,a.O7)(),i=(0,n.VK)((()=>{const e=(0,y.ui)(t);return{left:e,right:e,bottom:P.ZP.paddingBottom(t),coverHeight:P.ZP.defaultPageCoverHeight(t)}}),[t]),o=r.useMemo((()=>{const e={};return A.forEach((i=>{var r;const o=i.uri.startsWith("notion://wiki")?(0,h.L)(i):null===(r=i.previews)||void 0===r?void 0:r.find((e=>"previewRootId"in e));o&&(e[i.uri]=new C.G(t,{id:o.previewRootId,table:d.iU,spaceId:o.spaceId}))})),e}),[t]),s=e.presetUri.startsWith("notion://wiki"),l=o[e.presetUri];return l?(0,M.jsxs)("div",{style:{minWidth:900,height:"100%",position:"relative",paddingTop:s?0:"10%"},children:[(0,M.jsx)(P.ZP,{store:l,context:k.S.InAppTemplatePreview,titleStyle:s?{fontSize:28}:void 0,paddingBottom:i.bottom,disabled:!0},l.id),(0,M.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:1,zIndex:999,cursor:"pointer"}})]}):null}function Z(e){const t=(0,r.useCallback)(((e,t)=>(e%t+t)%t),[]),i=(0,l.Kt)(e.forceIndex,200,((e,t)=>e===t)),[o,a]=(0,r.useState)(0);(0,r.useEffect)((()=>{if(void 0===i)return;const r=t(-o,e.items.length),n=t(i-r,e.items.length);a((e=>e-n))}),[o,a,i,t,e.items.length]),(0,r.useEffect)((()=>{const t=setInterval((()=>{void 0===i&&a((e=>e-1))}),e.rotationDelayMs??2500);return()=>{clearInterval(t)}}),[a,i,e.rotationDelayMs]);const n=(0,s.yK)((e=>({item:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"white",borderRadius:"8px 0 0 8px",border:"1px solid rgba(0, 0, 0, 0.05)",boxShadow:"0px 16px 24px rgba(0, 0, 0, 0.06), 0px 2px 6px rgba(0, 0, 0, 0.04), 0px 0px 1px rgba(0, 0, 0, 0.04)",overflow:"hidden",transition:"transform 0.5s ease-in-out, opacity 0.5s ease-out"}})),[]),d=e.items.length,c=t(-o,d),u=e.items[t(c-1,d)].node,g=e.items[c].node,m=[...p.DZ(d,(e=>({key:`before${e}`,node:null}))),...e.items,...p.DZ(d,(e=>({key:`after${e}`,node:null})))],f=m.map(((i,r)=>{let{key:a}=i;const s=t(r+o,m.length),l=s>=d&&s<2*d,c=`translateX(${(s-d)*(e.offset??12)}px) translateY(${(s-d)*(e.offset??16-1.5*(s-d))}px)`,p=l?1-.15*(s-d):0;return(0,M.jsx)("div",{style:{...n.item,zIndex:m.length-s,transform:c,opacity:p},children:s===d?g:s===d-1?u:void 0},a)}));return(0,M.jsx)("div",{style:{position:"relative",...e.style},children:f})}function U(e){const[t]=(0,n.AF)(b.default),{currentUserRootStore:i,currentSpaceViewStore:l,currentSpaceStore:d,currentUserSettingsStore:f}=(0,n.VK)((()=>{const{currentUserRootStore:e,currentSpaceViewStore:t,currentSpaceStore:i,currentUserSettingsStore:r}=w.default.state;return{currentUserRootStore:e,currentSpaceViewStore:t,currentSpaceStore:i,currentUserSettingsStore:r}}),[]),h=(0,a.O7)(),[v,y]=(0,r.useState)(!1),[k,P]=(0,r.useState)(void 0),B=(0,s.yK)((e=>({container:{backgroundColor:e.sidebarBackground,width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",borderLeft:`1px solid ${e.lightDividerColor}`},left:{maxWidth:375,minWidth:320,maxHeight:"100%",flex:1,display:"flex",flexDirection:"column",alignItems:"stretch",marginLeft:"10%",marginRight:"10%",padding:"42px 16px",overflowX:"visible",overflowY:"auto"},right:{flex:1,height:"70%",overflow:"visible"},header:{position:"relative",textAlign:"left",paddingBottom:42},title:{fontWeight:u.Z.fontWeight.semibold,fontSize:28,lineHeight:1.2,color:e.regularTextColor,fontFamily:u.Z.getHeaderFontFamily({locale:o.SP}),marginBottom:16,width:"90%"},subtitle:{fontSize:18,lineHeight:1.45,paddingTop:2,color:e.mediumTextColor,fontWeight:u.Z.fontWeight.regular},apps:{marginBottom:48,display:"inline-flex",flexWrap:"wrap",justifyContent:"space-between"},previewImage:{width:"100%",height:"100%"}})),[]),j=(0,n.VK)((()=>h.device.isPhone),[h]);if(!l||!i||!f)return null;if(!t.isOnboarding||"workspace_setup"!==t.stage)return null;const I=e=>{const i=p.jj([...t.selectedPresets,e]),r=p.MR(i,(e=>A.findIndex((t=>t.uri===e))));b.default.setState({...t,selectedPresets:r}),g.X3(h,{action:"select",preset:e})},T=e=>{const i=t.selectedPresets.filter((t=>t!==e));b.default.setState({...t,selectedPresets:i}),g.X3(h,{action:"deselect",preset:e})},U=t.selectedPresets.length>0?t.selectedPresets:A.map((e=>e.uri)),W=U.findIndex((e=>(null==k?void 0:k.uri)===e)),L=(0,M.jsx)(Z,{style:{width:"100%",height:"100%"},items:U.map((e=>({key:e,node:(0,M.jsx)(D,{presetUri:e})}))),forceIndex:W>-1?W:void 0});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{style:B.container,children:[(0,M.jsx)("div",{style:B.left,children:(0,M.jsxs)("div",{style:{display:"flex",alignItems:"stretch",flexDirection:"column"},children:[(0,M.jsxs)("div",{style:B.header,children:[(0,M.jsx)("div",{style:B.title,children:(0,M.jsx)(c.FormattedMessage,{id:"apps.workspacesetup.header.title",defaultMessage:"Get started with Notion"})}),(0,M.jsx)("div",{style:B.subtitle,children:(0,M.jsx)("div",{children:(0,M.jsx)(c.FormattedMessage,{id:"apps.workspacesetup.header.description",defaultMessage:"Add templates to your workspace, and customize them in a few simple steps."})})})]}),(0,M.jsx)("div",{style:B.apps,children:A.map(((e,i)=>(0,M.jsx)(V,{appTemplate:e,isSelected:t.selectedPresets.includes(e.uri),onSelect:I,onDeSelect:T,onHover:()=>P(e),onUnhover:()=>P(void 0)},i)))}),t.selectedPresets.length>0?(0,M.jsx)(_.Z,{isLarge:!0,style:{height:40},onClick:async()=>{var e;if(!d||!l)return;y(!0);const i=x.default.mark("continue_with_apps"),r=null===(e=l.getTeamsStores()[0])||void 0===e?void 0:e.id,o=C.zX.createChildStore(d,{table:"team",id:r,spaceId:d.id}),a=l.getCreatedOnboardingTemplates()?[]:await m.installAppsInTeam({environment:h,presets:t.selectedPresets,spaceStore:d,spaceViewStore:l,teamStore:o});a.length>0&&(t.redirectData={type:"redirect_page",pageId:a[0].id,spaceId:d.id},b.default.setState(t)),await S.lp(h,t),x.default.measure(i,{environment:h,data:{appsSelected:t.selectedPresets}})},disabled:v,children:v?(0,M.jsx)(Y.Z,{isWhite:!0}):(0,M.jsx)(c.FormattedMessage,{id:"apps.workspacesetup.button.continueWithChosenApps",defaultMessage:"{num, plural, one {Continue with 1 template} other {Continue with {num} templates}}",values:{num:t.selectedPresets.length}})}):(0,M.jsx)(_.Z,{isLarge:!0,style:{height:40},onClick:async()=>{y(!0),await S.lp(h,t)},disabled:v,children:v?(0,M.jsx)(Y.Z,{isWhite:!0}):(0,M.jsx)(c.FormattedMessage,{id:"apps.workspacesetup.button.continueWithoutChoosingApps",defaultMessage:"I'll add templates later"})})]})}),!j&&(0,M.jsx)("div",{style:B.right,children:L})]})})}},536420:(e,t,i)=>{i.d(t,{n:()=>l,y:()=>s});i(21703);var r=i(667294),o=(i(277744),i(926249));let a,n;function s(e){a=a??new Map,n=n??function(e){let t=!1,i=[];return new ResizeObserver((r=>{i=i.concat(r),t||(t=!0,window.requestAnimationFrame((()=>{const r=new Set;[...i].reverse().filter((e=>{const t=r.has(e.target);return r.add(e.target),!t})).forEach((t=>{const i=e.get(t.target);null==i||i.forEach((e=>{const i=t.borderBoxSize[0];e({width:i.inlineSize,height:i.blockSize})}))})),i=[],t=!1})))}))}(a);const[t,i]=(0,r.useState)(void 0),s=(0,r.useCallback)((e=>{i((t=>(0,o.Z)(t,e)?t:e))}),[]);return(0,r.useLayoutEffect)((()=>{const t=e.current;if(!t)return;n.observe(t);const i=[...a.get(t)??[],s];return a.set(t,i),()=>{n.unobserve(t);const e=(a.get(t)??[]).filter((e=>e!==s));0===e.length?a.delete(t):a.set(t,e)}}),[s,e]),t}function l(e){const{children:t,onSizeChange:i}=e,o=(0,r.useRef)(null),a=s(o);(0,r.useEffect)((()=>{i&&a&&i(a)}),[a,i]);const n=r.Children.only(t);return r.cloneElement(n,{ref:o})}},627249:(e,t,i)=>{i.d(t,{CN:()=>d,H_:()=>s,ay:()=>l});var r=i(811002),o=i(284465),a=i(194952),n=i(173314);function s(e){let{persona:t,defaultToLife:i}=e;if(!t)return;if(t in o._5)return t;const r={customer_support:"support",designer:"design",educator:"student",entrepreneur:"hr",freelancer:"design",hr_recruiting:"hr",it:"eng",marketing_sales:"marketing",media:"marketing",operations:"hr",operations_hr:"hr",personal:"life",product_manager:"product",programmer:"eng",other:i?"life":void 0,unfilled:i?"life":void 0,undefined:i?"life":void 0,creative:"design",founderCeo:"hr",internalCommunication:"hr",productDesign:"design",projectProgramMgmt:"product",finance:void 0,itAdmin:"eng",knowledgeManagement:"hr"};return(null==r?void 0:r[t])??void 0}function l(e,t){const i=s({persona:t,defaultToLife:!0});return(i?null==c?void 0:c[i]:[]).filter((t=>(0,a.G)(t,e)))}function d(e,t,i){return function(e,t){const i=s({persona:e,defaultToLife:!1});return(i?null===o.J9||void 0===o.J9?void 0:o.J9[i]:[]).filter((e=>(0,a.G)(e,t)))}(e,t).map((e=>(0,n.G)(e,i)))}const c={...o.J9,design:[r.Yt.designSprint,r.Yt.designPortfolio],product:[r.Yt.productSpec,r.Yt.productWiki,r.Yt.visionAndStrategy],marketing:[r.Yt.blogEditorialCalendar,r.Yt.socialMediaCalendar,r.Yt.presentation],hr:[r.Yt.companyHome,r.Yt.employeeBenefits,r.Yt.peopleDirectory],sales:[r.Yt.salesWiki,r.Yt.presentation,r.Yt.oneOnOneNotes],support:[],life:[]}},156638:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(749085);class o extends r.default{getInitialState(){return{open:!1}}}const a=new o},665435:(e,t,i)=>{i.d(t,{D2:()=>w,Io:()=>y,JL:()=>b,cY:()=>f,it:()=>S,oO:()=>h,vY:()=>x});var r=i(647425),o=i(284465),a=i(194952),n=i(173314),s=i(709291),l=i(401898),d=i(95477),c=i(304708),p=i(433929),u=i(627249),g=i(319385),m=i(359307);const f=(0,s.defineMessages)({addToTeamspace:{id:"templateGalleryHelpers.addToTeamspace",defaultMessage:"Add to a teamspace"},addToPrivate:{id:"teamPickerButton.addToPrivate",defaultMessage:"Add to Private"}});function h(e){var t;const{data:i}=m.Z.state;if(i&&null!==(t=i.topCategories)&&void 0!==t&&t.length)return i.topCategories.find((t=>t.id===e))}const v=Object.keys(o.J9);function y(e){let{userPersona:t,subscriptionTier:i}=e;return[...v].sort(((e,o)=>function(e,t,i,o){const a=(0,r.QA)(o),n=(0,u.H_)({persona:i,defaultToLife:a});if("suggested"===e||"suggested"===t)return"suggested"===e?-1:1;if(n===e||n===t)return n===e?-1:1;if(("life"===e||"life"===t)&&a)return"life"===e?-1:1;if(("student"===e||"student"===t)&&function(e){let{persona:t,isPersonalishPlan:i}=e;const r=i?["other","unfilled","personal","undefined"]:["personal"];return r.includes(t??"undefined")}({persona:i,isPersonalishPlan:a}))return"student"===e?-1:1;return 0}(e,o,t,i)))}function S(e){let{userPersona:t,subscriptionTier:i,environment:s}=e;const l=p.default.getIntl(),d=(0,c.xf)(s)?function(e){return(0,r.QA)(e)?o.d6:o.e8}(i):o.J9.suggested;return Object.fromEntries(y({userPersona:t,subscriptionTier:i}).map((e=>"suggested"===e?["suggested",d.map((e=>(0,n.G)(e,l)))]:[e,[...o.J9[e].filter((e=>(0,a.G)(e,g.default))).filter((e=>!d.includes(e))).map((e=>(0,n.G)(e,l)))]])).filter((e=>{let[t,i]=e;return(null==i?void 0:i.length)>0})))}function b(e){const t=(0,l.Yd)(e).map((e=>[e,!0]));return Object.fromEntries(t)}function x(e){var t;const{data:i}=m.Z.state;if(!i||null===(t=i.topCategories)||void 0===t||!t.length)return;const r=i.topCategories.find((t=>{var i;return null===(i=t.subcategories)||void 0===i?void 0:i.find((t=>{var i;return null===(i=t.templates)||void 0===i?void 0:i.find((t=>"pageTemplate"===t.type&&t.template.rootId===e||"preset"===t.type&&t.uri===e))}))}));return null==r?void 0:r.id}function w(e){return`${d.default.domainBaseUrl}/@${e}`}},359307:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(749085);class o extends r.default{getInitialState(){return{}}getTopTemplateCategories(){var e;const{data:t}=this.state;return t&&null!==(e=t.topCategories)&&void 0!==e&&e.length?Array.from(t.topCategories).filter((e=>{const t=e.subcategories||[];for(const r of t){var i;if(null!==(i=r.templates)&&void 0!==i&&i.length)return!0}return!1})):[]}}const a=new o},377058:(e,t,i)=>{i.d(t,{$:()=>a});i(667294);var r=i(745238),o=i(785893);const a=(0,r.IU)("checkmark",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})},375071:(e,t,i)=>{i.d(t,{f:()=>a});i(667294);var r=i(745238),o=i(785893);const a=(0,r.IU)("plusThick",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},284465:(e,t,i)=>{i.d(t,{J9:()=>c,_5:()=>n,d6:()=>l,e8:()=>d,gh:()=>s});var r=i(371663),o=i(811002),a=i(598251);const n={suggested:a.sY.suggestedCategory,design:a.sY.designer,eng:a.sY.engineering,product:a.sY.productManagement,marketing:a.sY.marketing,sales:a.sY.sales,support:a.sY.support,hr:a.sY.hr,life:a.sY.life,student:a.sY.student},s={suggested:[r.Ll,r.Yb,r.tt,r.KW,r.r],product:[r.tt],design:[r.Yb],eng:[r.tt],marketing:[r.Yb],hr:[r.Yb],sales:[r.Yb],support:[r.Yb],life:[],student:[]},l=[o.Yt.taskList,o.Yt.quickNoteV2,o.Yt.habitTrackerV2,o.Yt.journalV2,o.Yt.weeklyTodoV2,o.Yt.classNotesV2],d=[o.Yt.taskList,o.Yt.quickNoteV2,o.Yt.oneOnOneNotesV2,o.Yt.weeklyTodoV2],c={suggested:[o.Yt.defaultWiki],product:[o.Yt.oneOnOneNotes,o.Yt.productWiki,o.Yt.productSpec,o.Yt.visionAndStrategy,o.Yt.presentation,o.Yt.investorUpdate,o.Yt.userResearch,o.Yt.experimentResults,o.Yt.brainstorm,o.Yt.productLaunchBrief],design:[o.Yt.designSprint,o.Yt.designSystem,o.Yt.designPortfolio,o.Yt.userResearch,o.Yt.brainstorm],eng:[o.Yt.engineeringWiki,o.Yt.engineeringTechSpec,o.Yt.experimentResults,o.Yt.brainstorm],marketing:[o.Yt.presentation,o.Yt.brandAssets,o.Yt.brainstorm,o.Yt.contentCalendar,o.Yt.blogEditorialCalendar,o.Yt.socialMediaCalendar,o.Yt.campaignBrief,o.Yt.moodBoard,o.Yt.mediaList],hr:[o.Yt.companyHome,o.Yt.newHireOnboarding,o.Yt.employeeBenefits,o.Yt.interviewGuide,o.Yt.recruitingTracker,o.Yt.jobBoard,o.Yt.applicantTracker,o.Yt.peopleDirectory],sales:[o.Yt.salesWiki,o.Yt.salesCRM,o.Yt.salesAssets,o.Yt.competitiveAnalysis],support:[o.Yt.productFAQs,o.Yt.helpCenter],life:[o.Yt.readingListV2,o.Yt.habitTrackerV2,o.Yt.simpleBudgetV2,o.Yt.weeklyTodoV2,o.Yt.travelPlannerV2,o.Yt.journalV2,o.Yt.resumeV2,o.Yt.personalHomeV3,o.Yt.quickNoteV2,o.Yt.jobApplicationsV2,o.Yt.lifeWikiV2,o.Yt.moodBoardV2,o.Yt.blogPostV2,o.Yt.personalCRMV2],student:[o.Yt.studentPlanner,o.Yt.classNotesV2,o.Yt.courseScheduleV2,o.Yt.gradeCalculatorV2,o.Yt.cornellNotesSystemV2,o.Yt.syllabusV2,o.Yt.lessonPlansV2,o.Yt.classDirectoryV2,o.Yt.classroomHomeV2,o.Yt.clubHomepageV2]}}}]);