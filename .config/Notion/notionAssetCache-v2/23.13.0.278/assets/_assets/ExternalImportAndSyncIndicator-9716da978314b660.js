"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[47433],{691770:(e,t,n)=>{n.r(t),n.d(t,{ExternalImportAndSyncIndicator:()=>P});var l=n(667294),s=n(313991),a=n(800480),i=n(886628),o=n(724405),d=n(407057),r=n(379362),c=n(660291),g=n(769619),y=n(606287),p=n(709291),u=n(531701),x=n(137810),h=n(292283),m=n(433929),v=n(918514),j=n(816402),f=n(825464),S=n(690403),T=n(316354),M=n(526388),F=n(785893);function P(e){var t;const n=(0,a.O7)(),P=(0,i.VK)((()=>e.store.isCollectionView()),[e.store]),E=(0,i.VK)((()=>{const t=P?e.store.getCollectionStore():e.store.getParentStore();if((null==t?void 0:t.table)===y.vF){return null==t?void 0:t.getFormat()}}),[e.store,P]),{lastEditedTime:C,lastEditedTimeNormalized:b}=(0,i.VK)((()=>{var t;const n=P?null==E||null===(t=E.sync_state)||void 0===t?void 0:t.last_synced_at:e.store.getLastEditedTime();if(n){const e=m.default.getIntl();return{lastEditedTime:n,lastEditedTimeNormalized:(0,d.$b)(n,s.SP,e)}}return{}}),[P,e.store,E]),_=P&&Boolean(null==E||null===(t=E.error)||void 0===t?void 0:t.status_code),w=(0,o.yK)((e=>({wrapper:{display:"flex",alignItems:"center",gap:6},syncIcon:{width:14,height:14,position:"relative",color:_?e.icon.uiYellowPrimary:e.blueColor},syncProgress:{fontWeight:x.Z.fontWeight.medium,fontSize:14,color:_?e.text.primary:e.blueColor},syncAge:{fontWeight:x.Z.fontWeight.regular,color:u.ZP.blueWithAlpha(.7)},badge:{background:"light"===e.mode?_?e.fill.yellow:u.ZP.diffBackground:"rgba(35, 131, 226, 0.2)",whiteSpace:"nowrap",width:"fit-content",height:28,display:"flex",marginBottom:3,borderRadius:20,padding:"2px 6px",...!P&&{marginTop:8}},tooltipHeading:{fontSize:x.Z.fontSize.UISmall.desktop,fontWeight:x.Z.fontWeight.medium},tooltipCaption:{fontSize:x.Z.fontSize.UISmall.desktop,color:r.Lr.dark.gray,fontWeight:x.Z.fontWeight.regular}})),[P,_]),z=(0,l.useCallback)((()=>{if(P){var e;const t=Boolean(null==E||null===(e=E.sync_state)||void 0===e?void 0:e.syncing);return _?{syncBadgeContent:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("span",{style:w.syncProgress,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.syncFailed.title",defaultMessage:"Sync is stuck",values:{integration:null==E?void 0:E.external_collection_type}})})}),syncBadgeTooltipContent:(0,F.jsxs)(F.Fragment,{children:[b&&(0,F.jsx)("div",{style:w.tooltipHeading,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.syncFailed.tooltip.heading",defaultMessage:"Last synced at {lastEditedTimeNormalized}",values:{lastEditedTimeNormalized:b}})}),(0,F.jsx)("div",{style:w.tooltipCaption,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.syncFailed.tooltip.caption",defaultMessage:"Click to view the help center"})})]})}:t?{syncBadgeContent:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("span",{style:w.syncProgress,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.syncInProgress.title",defaultMessage:"Sync in progress",values:{integration:null==E?void 0:E.external_collection_type}})})}),syncBadgeTooltipContent:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{style:w.tooltipHeading,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.syncInProgress.tooltip.heading",defaultMessage:"Syncing projects and issues"})}),(0,F.jsx)("div",{style:w.tooltipCaption,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.syncInProgress.tooltip.caption",defaultMessage:"from {site}",values:{site:(0,h.D1)((null==E?void 0:E.synced_collection_external_url)||"")}})})]})}:{syncBadgeContent:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{style:w.syncProgress,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.collectionLastSynced.title",defaultMessage:"Synced with {integration}",values:{integration:null==E?void 0:E.external_collection_type}})}),C&&(0,F.jsx)("span",{style:w.syncAge,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.collectionLastSynced.subtitle",defaultMessage:"{lastUpdated}",values:{lastUpdated:(0,j.IS)(C,{useLowercase:!0})}})})]}),syncBadgeTooltipContent:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{style:w.tooltipHeading,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.collectionLastSynced.tooltip.heading",defaultMessage:"Last synced at {lastEditedTimeNormalized}",values:{lastEditedTimeNormalized:b}})}),(0,F.jsx)("div",{style:w.tooltipCaption,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.collectionLastSynced.tooltip.caption",defaultMessage:"Click to view the help center"})})]})}}return{syncBadgeContent:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{style:w.syncProgress,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.pageLastSynced.title",defaultMessage:"Synced with {integration}",values:{integration:null==E?void 0:E.external_collection_type}})}),C&&(0,F.jsx)("span",{style:w.syncAge,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.pageLastSynced.subtitle",defaultMessage:"{lastUpdated}",values:{lastUpdated:(0,j.IS)(C,{useLowercase:!0})}})})]}),syncBadgeTooltipContent:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{style:w.tooltipHeading,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.pageLastSynced.tooltip.heading",defaultMessage:"Last synced at {lastEditedTimeNormalized}",values:{lastEditedTimeNormalized:b}})}),(0,F.jsx)("div",{style:w.tooltipCaption,children:(0,F.jsx)(p.FormattedMessage,{id:"PageTitle.ExternalSync.pageLastSynced.tooltip.caption",defaultMessage:"Click to view the help center"})})]})}}),[E,P,w,C,b,_]);if(!E||!E.external_collection_type||P&&!C||n.device.isMobile)return null;const{syncBadgeContent:B,syncBadgeTooltipContent:I}=z();return(0,F.jsx)(M.Z,{renderTooltip:()=>I,render:e=>(0,F.jsx)("div",{...e,style:{alignSelf:"end",display:"inline-block"},children:(0,F.jsx)(T.Z,{className:"notion-print-ignore",href:(0,v.UY)("guides.externalImportAndSync"),external:!0,children:(0,F.jsx)(S.Z,{style:w.badge,content:(0,F.jsxs)("div",{style:w.wrapper,children:[_?(0,g.T)(w.syncIcon):(0,c.b)(w.syncIcon),B]})})})}),placement:f.u.Bottom})}},769619:(e,t,n)=>{n.d(t,{T:()=>a});n(667294);var l=n(745238),s=n(785893);const a=(0,l.IU)("unsync",{viewBox:"0 0 30 30",svg:(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.768 23.295l1.353 1.351a11.298 11.298 0 01-6.118 1.81c-5.862 0-10.781-4.538-11.387-10.254h-1.55c-.809 0-1.011-.55-.573-1.168l2.516-3.572c.37-.527.91-.516 1.269 0l2.515 3.583c.427.606.225 1.157-.572 1.157H5.536a9.496 9.496 0 009.467 8.344c1.74 0 3.366-.454 4.765-1.251zM10.233 6.723l-1.361-1.36a11.26 11.26 0 016.131-1.818c5.851 0 10.782 4.548 11.388 10.265h1.539c.808 0 1.021.539.572 1.167l-2.504 3.572c-.37.528-.91.516-1.27 0l-2.515-3.583c-.427-.617-.224-1.156.573-1.156h1.673a9.503 9.503 0 00-9.456-8.356 9.55 9.55 0 00-4.77 1.27z"}),(0,s.jsx)("path",{d:"M27.067 28.551c.41.41 1.094.41 1.49 0 .41-.41.41-1.08 0-1.49L2.937 1.454a1.06 1.06 0 00-1.505 0c-.396.396-.396 1.08 0 1.49l25.635 25.607z"})]})})}}]);