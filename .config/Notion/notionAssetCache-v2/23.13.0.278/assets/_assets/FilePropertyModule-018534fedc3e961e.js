"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[80841],{97310:(e,t,n)=>{n.r(t),n.d(t,{FilePropertyModule:()=>re,FilePropertyModuleSizes:()=>oe});n(21703);var o=n(667294),r=n(800480),i=n(886628),l=n(724405),a=n(180951),s=n(653965),d=n(99813),c=n(137231),u=n(210228),p=n(353471),h=n(135314),g=n(494043),m=n(27411),f=n(655118),y=(n(757658),n(895538)),b=n(643593),x=n(356666),v=n(725651),w=n(375071),C=n(937612),P=n(492607),k=n(709291),j=n(137810),S=n(954604),V=n(627153),I=n(155408),F=n(212534),M=n(460709),K=n(61766),z=n(552275),A=n(231945),Z=n(573063),B=n(301743),R=n(374194),T=n(568785),N=n(478140),E=n(632163),D=n(278942),O=n(81865),L=n(672495),W=n(785893);let U=function(e){return e.MediumCard="medium-card",e}({});function H(e,t){return{valueContainer:{minHeight:100,maxHeight:100,height:100,position:"relative",border:"1px solid",overflow:"hidden",borderRadius:8,borderColor:e.stroke.deemphasized,fontSize:j.Z.fontSize.UIRegular.desktop},nonPreviewableValueInnerContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",rowGap:12},addValueInnerContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},addValueSpinner:{width:23,height:23,color:e.icon.tertiary},addValueIcon:{width:23,height:23,color:e.icon.tertiary},uploadingValueInnerContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",rowGap:12},uploadingProgress:{color:e.icon.tertiary},uploadingFileName:{maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},nonPreviewableValueIconContainer:{backgroundColor:e.tint.regular,borderRadius:6,minWidth:32,height:32,display:"flex",justifyContent:"center",alignItems:"center"},nonPreviewableValueIcon:{height:24,width:24,fill:e.regularIconColor},nonPreviewableValueText:{maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},previewableImagePropertyValueContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"center",cursor:"zoom-in"},previewableImagePropertyImageHidden:{height:"100%",objectFit:"contain",position:"absolute",visibility:"hidden"},previewableImagePropertyImage:{width:"100%",height:"100%",objectFit:"cover"},menuIconButton:{width:18,height:18,position:"absolute",borderRadius:"50%",borderWidth:1,borderColor:e.stroke.deemphasized,borderStyle:"solid",top:6,right:6,background:e.surface.wash},menuIconButtonIcon:{width:10,height:10,fill:"light"===e.mode?e.lightIconColor:e.mediumIconColor},renameInputContainer:{paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8,display:"flex",justifyContent:"center",alignItems:"center"}}}function $(e){const{size:t,filePropertyLink:n}=e,[r,i]=(0,o.useState)(!1),a=(0,o.createRef)(),d=(0,l.yK)((e=>H(e)),[t]),c=(0,o.useCallback)((e=>{(0,F.ZP)({event:e,context:F.Af.EditorClick,callback:s.ZT})}),[]);let u=(0,W.jsx)(J,{...e});var p;return p=n,[".gif",".png",".jpg",".jpeg",".heic"].some((e=>(0,y.y_)(p.url,e)))&&(u=(0,W.jsx)(Y,{...e})),(0,W.jsxs)("div",{ref:a,style:d.valueContainer,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:c,children:[r&&(0,W.jsx)(X,{...e}),u]})}function _(e){const{size:t,uploadingFile:n}=e,r=(0,l.yK)((e=>H(e)),[t]),i=(0,o.useCallback)((e=>{(0,F.ZP)({event:e,context:F.Af.EditorClick,callback:s.ZT})}),[]);return(0,W.jsx)("div",{style:r.valueContainer,onClick:i,children:(0,W.jsxs)("div",{style:r.uploadingValueInnerContainer,children:[(0,W.jsx)(D.e,{style:r.uploadingProgress,size:23,percentage:n.progressPercent}),(0,W.jsx)("div",{style:r.uploadingFileName,children:n.name})]})})}function G(e){const{isLoading:t,uploadFile:n}=e,i=(0,r.O7)(),a=(0,k.useIntl)(),s=!t,d=(0,o.useMemo)((()=>[{type:"file",title:a.formatMessage({defaultMessage:"File",id:"FilePropertyModuleValue.FilePropertyModuleAddValue.mediaMenuTabs.file"}),fileUpload:!0,imageUpload:!1,videoUpload:!1,onUpload:e=>{n(e),V.Z()}}]),[a,n]),c=(0,o.useCallback)((e=>{s&&(0,F.ZP)({event:e,context:F.Af.EditorClick,callback:()=>{V.$(i,{originRect:e.currentTarget.getBoundingClientRect(),originGap:3,title:a.formatMessage({id:"FilePropertyModuleValue.FilePropertyModuleAddValue.mediaActionsMenu.show",defaultMessage:"File"}),currentTab:"file",tabs:d})}})}),[i,a,s,d]),u=(0,l.yK)((t=>H(t,e.size)),[e.size]),p=s?{cursor:"pointer"}:{},h=e.isLoading?(0,W.jsx)(T.Z,{style:u.addValueSpinner}):(0,w.f)(u.addValueIcon);return(0,W.jsx)("div",{style:u.valueContainer,onClick:c,children:(0,W.jsx)("div",{style:{...u.addValueInnerContainer,...p},children:h})})}function X(e){const t=(0,i.qz)(void 0,K.Z),n=(0,l.yK)((t=>H(t,e.size)),[e.size]);return(0,W.jsx)(A.ZP,{popupType:A.Z4.Popup,placementToOrigin:A.pO.Right,buttonPopupStore:t,renderOrigin:e=>(0,W.jsx)(Z.Z,{...e,style:n.menuIconButton,hoveredStyle:n.menuIconButton,pressedStyle:n.menuIconButton,ariaLabel:"more",hasBackground:!1,showShadow:!1,icon:x.o,iconStyle:n.menuIconButtonIcon}),render:t=>(0,W.jsx)(q,{...e,handleClose:t.close})})}function q(e){const{handleClose:t,deleteFile:n,viewFile:r,canEdit:i}=e,[l,a]=(0,o.useState)(!1),s={width:18,height:18},d=[{key:"view-original",action:r,render:e=>(0,W.jsx)(z.Z,{...e,title:(0,W.jsx)(k.FormattedMessage,{defaultMessage:"View original",id:"FilePropertyModuleValue.PropertyValuePopoverMenu.viewOriginal"}),icon:(0,P.v)(s)})}];i&&d.push({key:"rename",action:()=>{a(!0)},render:e=>(0,W.jsx)(z.Z,{...e,title:(0,W.jsx)(k.FormattedMessage,{defaultMessage:"Rename",id:"FilePropertyModuleValue.PropertyValuePopoverMenu.Rename"}),icon:(0,v.R)(s)})},{key:"delete",action:n,render:e=>(0,W.jsx)(z.Z,{...e,title:(0,W.jsx)(k.FormattedMessage,{defaultMessage:"Delete",id:"FilePropertyModuleValue.PropertyValuePopoverMenu.delete"}),icon:(0,C.y)(s)})});const c=[{key:"actions",render:e=>(0,W.jsx)(L.Z,{...e}),items:d}];return l?(0,W.jsx)(Q,{...e}):(0,W.jsx)(N.Z,{menuType:M.og.Popup,width:200,children:(0,W.jsx)(E.Z,{type:E.i.Vertical,onAccept:e=>{"rename"!==e.key&&t()},sections:c,initialFocus:0})})}function Q(e){let{handleClose:t,renameFile:n,filePropertyLink:r,size:i}=e;const[a,s]=(0,o.useState)(r.name),d=(0,o.useCallback)((e=>{const t=e.target.value;s(t);const o=b.rF({title:t,source:r.url});n(o)}),[r.url,n]),c=(0,l.yK)((e=>H(e)),[i]);return(0,W.jsx)(B.Z,{debugName:"FileProperty",capture:!0,allowUndo:!0,allowEsc:!0,allowTabUntab:!0,children:(0,W.jsx)(N.Z,{menuType:M.og.Popup,width:180,children:(0,W.jsx)("div",{style:c.renameInputContainer,children:(0,W.jsx)(R.Z,{focusInitial:!0,selectAll:!0,value:a,placeholder:"foobar",onChange:d,onSubmit:t})})})})}function J(e){const{size:t,filePropertyLink:n}=e,o=(0,I.getIcon)(n.url),r=(0,l.yK)((e=>H(e)),[t]);return(0,W.jsxs)("div",{style:r.nonPreviewableValueInnerContainer,children:[(0,W.jsx)("div",{style:r.nonPreviewableValueIconContainer,children:o(r.nonPreviewableValueIcon)}),(0,W.jsx)("div",{style:r.nonPreviewableValueText,children:n.name})]})}function Y(e){const{size:t,filePropertyLink:n,blockStore:i}=e,a=(0,r.O7)(),s=(0,l.yK)((e=>H(e)),[t]),d=(0,o.useRef)(null),c=n.url,u=(0,o.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const t=d.current.getBoundingClientRect(),n=t.width/t.height;S.ui({environment:a,renderFullScreenNode:()=>(0,W.jsx)(O.Z,{url:c,isAuthenticated:!0,permissionRecord:i.pointer,width:window.innerWidth,render:(e,t)=>(0,W.jsx)("img",{src:t,style:{position:"relative",maxHeight:"100%",maxWidth:"100%",margin:0,alignSelf:"center",width:"100%"}})}),fullScreenNodeRect:t,contentAspectRatio:n,imageUrl:c})}),[i.pointer,a,c]),p=(0,o.useCallback)(((e,t)=>{if(t)return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("img",{src:t,style:s.previewableImagePropertyImageHidden,ref:d}),(0,W.jsx)("img",{src:t,style:s.previewableImagePropertyImage})]})}),[s]);return(0,W.jsx)("div",{style:s.previewableImagePropertyValueContainer,onClick:u,children:(0,W.jsx)(O.Z,{url:n.url,isAuthenticated:!0,permissionRecord:i.pointer,render:p,width:200})})}function ee(e,t){return`${e}-${t}`}function te(e,t,n){return`${ee(e,t)}-${n}`}function ne(e,t){const n=e.getPropertyValue(t);return a.g(n)}let oe=function(e){return e.MediumCard="medium-card",e}({});const re=o.memo((function(e){const{store:t,property:n,size:l=oe.MediumCard}=e,h=(0,r.O7)(),g=(0,i.VK)((()=>ne(t,n)),[t,n]),f=(0,o.useCallback)((e=>{if(e>=g.length)throw new Error(`filePropertyModule cannot get file at index ${e}. Out of bounds index`);return g[e]}),[g]),y=(0,i.VK)((()=>{const e=m.default.getState(),o=(0,s.oA)(Object.keys(e)),r=(0,s.oA)(o.filter((e=>function(e,t,n){const o=ee(t,n);return e.startsWith(o)}(e,t.pointer.id,n))));return r.sort().map((e=>m.default.getKeyState(e)))}),[t.pointer.id,n]),b=(0,o.useCallback)((e=>{u.createAndCommit({userAction:"FilePropertyModule.updateFiles",environment:h,perform:o=>{const r=a.CC(e);c.sO({environment:h,store:t.getNormalizedPropertyStore(n),value:r,transaction:o})}})}),[t,h,n]),x=(0,o.useCallback)((e=>{f(e);const o=[...ne(t,n)];o.splice(e,1),b(o)}),[t,f,n,b]),v=(0,o.useCallback)((e=>{const o=[e,...ne(t,n)];b(o)}),[t,n,b]),w=(0,o.useCallback)(((e,o)=>{f(e);const r=[...ne(t,n)];r[e]=o,b(r)}),[t,f,n,b]),C=(0,o.useCallback)(((e,t)=>{const n={...f(e),name:t};w(e,n)}),[f,w]),P=(0,o.useCallback)((e=>{const n=f(e);d.Wl(h,{url:n.url,type:"file",from:"view_original",downloadName:n.name,permissionRecord:t.pointer})}),[t.pointer,h,f]),k=(0,o.useCallback)((e=>{p.IL({environment:h,files:e,bucket:"secure",record:t.pointer,onSingleFileStart:(e,o)=>{const r=te(t.pointer.id,n,o);m.default.setKeyState(r,{progressPercent:0,file:e.file,name:e.name,size:e.size})},onSingleFileProgress:(e,o)=>{let{progressPercent:r}=e;const i=te(t.pointer.id,n,o),l=m.default.getKeyState(i);if(!l)throw new Error("uploading file cannot be found in global file upload state");m.default.setKeyState(i,{...l,progressPercent:r})},onSingleFileComplete:(e,o)=>{const r=te(t.pointer.id,n,o),i=m.default.getKeyState(r);if(m.default.setKeyState(r,void 0),!i||null==i||!i.name)throw new Error("completed file upload cannot be found in global file upload state");v({name:null==i?void 0:i.name,url:e})},onSingleFileError:(e,o)=>{const r=te(t.pointer.id,n,o);m.default.setKeyState(r,void 0)}})}),[v,t.pointer,h,n]),j=(0,o.useCallback)((e=>k([e])),[k]);return(0,W.jsx)(ie,{size:l,blockStore:t,filePropertyLinks:g,deletePropertyValueAtIndex:x,renamePropertyValueAtIndex:C,viewPropertyValueAtIndex:P,uploadingFiles:y,uploadFilesAndUpdateProperty:k,uploadFileAndUpdateProperty:j,updateEntireFilePropertyWithTransaction:b})}));function ie(e){const{blockStore:t,uploadingFiles:n,filePropertyLinks:r,uploadFilesAndUpdateProperty:a,uploadFileAndUpdateProperty:d,deletePropertyValueAtIndex:c,renamePropertyValueAtIndex:u,viewPropertyValueAtIndex:p}=e,m=U.MediumCard,y=(0,o.useCallback)((e=>{let{files:t}=e;return a(t)}),[a]),[b,x]=(0,h.e)(),v=(0,i.VK)((()=>t.canEdit()),[t]),w=(0,i.VK)((()=>{const e=Math.floor((x+8)/128),t=(v?1:0)+n.length+r.length;if(t<e)return(0,s.w6)(e-t).map((e=>(0,W.jsx)("div",{},e)))}),[v,r.length,x,n.length]),C=(0,l.yK)((e=>({moduleValuesContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",rowGap:10,columnGap:10,width:"100%",minHeight:40,padding:8},moduleValuesDropzone:{borderRadius:8}})),[]),P=0===n.length?void 0:(0,W.jsx)(W.Fragment,{children:n.map((e=>void 0===e?void 0:(0,W.jsx)(_,{canEdit:v,blockStore:t,size:m,uploadingFile:e},e.name)))}),k=r.map(((e,n)=>(0,W.jsx)($,{canEdit:v,size:m,blockStore:t,filePropertyLink:e,deleteFile:()=>{c(n)},renameFile:e=>{u(n,e)},viewFile:()=>{p(n)}},e.url))),j=v?(0,W.jsx)(G,{size:m,uploadFile:d,isLoading:n.length>0}):null;return(0,W.jsx)(f.G,{dropTargetKey:"foobar",canAcceptDrop:e=>{let{isNativeDrag:t}=e;return t},onNativeDrop:y,dropzoneStyle:C.moduleValuesDropzone,shouldShowDropZone:!0,canNativeDropOnto:!0,children:(0,W.jsx)("div",{ref:b,children:(0,W.jsxs)(g.a3,{minWidth:120,style:{gridGap:8},children:[j,P,k,w]})})})}},494043:(e,t,n)=>{n.d(t,{Nx:()=>A,Pb:()=>z,Vc:()=>j,Vw:()=>B,Xg:()=>k,a3:()=>N,bj:()=>Z,dp:()=>T,uI:()=>E,us:()=>M,w3:()=>S});var o=n(294184),r=n.n(o),i=n(667294),l=n(724405),a=n(831103),s=n(973420),d=n(60217),c=n(785893);const u="layout-wide",p="layout-wide-right-margin-expanded",h="layout-side-peek",g="layout-center-peek",m="layout-home",f="layout-form",y="layout-home-phone",b="layout-phone",x="layout-tablet",v="layout-template-preview",w="layout-chat",C="layout-layout-editor",P="layout-layout-editor-wide";function k(e){let{children:t,type:n,gap:o,withBottomPadding:i,style:l}=e;const a=(0,d.n1)(n);return(0,c.jsx)("div",{className:r()("layout",{[u]:"wide"===n,[p]:"wide-right-margin-expanded"===n,[h]:"side-peek"===n,[g]:"center-peek"===n,[m]:"home"===n,[y]:"home-phone"===n,[f]:"form"===n,[b]:"phone"===n,[x]:"tablet"===n,[v]:"template-preview"===n,[w]:"chat"===n,[C]:"layout-editor"===n,[P]:"layout-editor-wide"===n}),style:{paddingBottom:i?a:void 0,gap:o,...l},children:t})}const j="layout-content",S="layout-full",V="layout-margin-left",I="layout-margin-right",F="layout-nested-grid",M="hide-scrollbar",K="layout-column";function z(e){return(0,c.jsx)("div",{className:r()(j,e.className),style:e.style,children:e.children})}function A(e){return(0,c.jsx)("div",{className:S,style:e.style,children:e.children})}function Z(e){return(0,c.jsx)("div",{className:V,style:e.style,children:e.children})}function B(e){return(0,c.jsx)("div",{className:I,style:e.style,children:e.children})}const R=(0,i.forwardRef)((function(e,t){return(0,c.jsx)("div",{className:r()(F,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function T(e){let{items:t,style:n}=e;const[o,r]=i.useState(0),d=(0,i.useRef)([]),u=(0,l.yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},tab:"centered"===n?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:"centered"===n?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[n]),p=(0,i.useId)(),h=(0,i.useCallback)((e=>`${p}-tab-${e}`),[p]),g=(0,i.useCallback)((e=>`${p}-tabpanel-${e}`),[p]),m=(0,i.useCallback)((e=>{let n;var i;("ArrowLeft"===e.key?(e.preventDefault(),n=(o+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),n=(o+1)%t.length),void 0!==n)&&(r(n),null===(i=d.current[n])||void 0===i||i.focus())}),[o,t.length]);return(0,c.jsx)(a.Z,{name:"PageLayoutTabs",children:(0,c.jsxs)(R,{children:[(0,c.jsx)(z,{children:(0,c.jsx)("div",{role:"tablist",children:(0,c.jsx)(s.X2,{justifyContent:"centered"===n?"center":"flex-start",children:t.map(((e,t)=>{var n;return(0,c.jsx)("button",{ref:e=>{e&&(d.current[t]=e)},id:h(t),role:"tab","aria-controls":g(t),"aria-selected":t===o,tabIndex:t===o?void 0:-1,onKeyDown:m,style:{...u.tab,...t===o&&u.tabSelected},onClick:e=>{e.stopPropagation(),r(t)},children:(0,c.jsxs)(s.X2,{gap:4,alignItems:"center",children:[null===(n=e.icon)||void 0===n?void 0:n.call(e,u.icon),e.label&&(0,c.jsx)("div",{style:u.label,children:e.label})]})},e.key)}))})})}),(0,c.jsx)(R,{id:g(o),role:"tabpanel","aria-labelledby":h(o),children:t[o]?t[o].children:null})]})})}function N(e){return(0,c.jsx)("div",{className:r()(K,e.className),style:{"--min-column-width":`${e.minWidth}px`,...e.style},children:e.children})}function E(e){return(0,c.jsxs)(N,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},60217:(e,t,n)=>{n.d(t,{C_:()=>M,D9:()=>Z,L2:()=>A,MQ:()=>K,Nr:()=>I,Qg:()=>z,WJ:()=>R,h9:()=>V,m4:()=>S,mj:()=>F,n1:()=>B});var o=n(800480),r=n(797511),i=n(886628),l=n(749085),a=n(541432),s=n(606287),d=n(761045),c=n(457819),u=n(110906),p=n(492650),h=n(922705),g=n(319124),m=n(212534),f=n(273203),y=n(292283),b=n(861931),x=n(80444),v=n(316772),w=n(319111),C=n(594896),P=n(282136),k=n(188923),j=n(417963);function S(e){(0,m.ZP)({event:e,context:m.Af.EditorMouseDown,callback:()=>{}})}function V(e){(0,m.ZP)({event:e,context:m.Af.EditorClick,callback:()=>{}})}function I(e){return(0,i.VK)((()=>Boolean(j.Z.state.pageMap[e.id])||C.Z.state.pages.has(e.id)),[e.id])}function F(e,t){const n=(0,o.O7)(),l=(0,r.l)(),a=I(e),s=(0,i.VK)((()=>t===P.S.Frame?x.default.state.currentLoadingContainerStore:t===P.S.PeekView&&k.default.state.open?k.default.state.loadingContainerStore:void 0),[t]),d=z(e);return(0,i.VK)((()=>{const t=n.currentUser.isLoggedIn(),o=l&&l.publicEditModeStore.state;return Boolean(e&&s&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=o&&o.hasPublicPermission)||"edit"===(null==o?void 0:o.permission))&&!a&&s.state.ready&&!d&&(!(0,g.GD)(o)||"completionPopup"!==v.default.state.type))}),[n.currentUser,d,s,l,a,e])}function M(e,t){const n=(0,o.O7)(),l=(0,r.l)();return(0,i.VK)((()=>{if(K.state===e.id)return!0;if(t===P.S.SitePreview)return!1;if(!(0,f.r)(n))return!1;if(!n.currentUser.isLoggedIn())return!1;const o=l&&l.publicEditModeStore.state;if(null!=o&&o.hasPublicPermission&&"edit"!==(null==o?void 0:o.permission))return!1;if(e.getContentLength()>1)return!1;const r=e.getContentStores()[0];if(r&&!r.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const i=h.TI.state,a=h.mn.state;return!i||e.id!==a}),[n,l,e,t])}const K=l.default.createValue(void 0,{name:"ExperimentalTemplatePickerPreviewingStore"});function z(e){return(0,i.VK)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(a.Ti.externalObjectInstancePage)}),[e])}function A(e){return(0,i.VK)((()=>{if(!(0,y.K6)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===s.vF){const e=t.getFormat();return!(null==e||!e.external_collection_type)}return!1}),[e])}function Z(e){return(0,i.VK)((()=>{if(!(0,y.K6)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t||null===(t=t.getFormat())||void 0===t?void 0:t.external_collection_type)??!1)}),[e])}function B(e){const{device:t,WindowSizeStore:n}=(0,o.O7)(),r=(0,i.VK)((()=>{const e=n.state.height,o=t.isMobile&&w.Z.state.open?e:0;return d._4()+o}),[n,t.isMobile]);return(0,i.VK)((()=>Boolean((0,c.RR)(v.default.state))?600:"home-phone"===e?b.jq:t.isTablet?380:t.isIOS?Math.max(350,r):t.isMobile?400:"side-peek"===e||"center-peek"===e?80:"home"===e?b.XX:"30vh"),[t,r,e])}function R(e){const t=(0,o.O7)(),n=(0,i.VK)((()=>(0,p.fg)(t,e)),[t,e]);return(0,i.VK)((()=>n&&!e.isFullWidth()?(0,p.gC)(t,(0,u.en)(e),(0,u.Ks)(e)):0),[t,n,e])}},861931:(e,t,n)=>{n.d(t,{$1:()=>P,$K:()=>w,A0:()=>f,A5:()=>g,Cm:()=>u,EP:()=>s,Er:()=>k,KI:()=>S,Ng:()=>h,QF:()=>p,Uf:()=>c,Vk:()=>m,XX:()=>i,_U:()=>I,bS:()=>v,cc:()=>V,d_:()=>d,iO:()=>a,jO:()=>C,jX:()=>b,jq:()=>l,pW:()=>y});var o=n(653965),r=n(401898);const i=160,l=40,a=24,s=20,d=600,c=270,u=405,p=480,h=500,g=16,m=24,f=10,y=8,b=44,x={backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"},v=4;function w(e){return{icon:e.mediumIconColor,text:e.mediumTextColor}}function C(e){return{width:48,height:48,fill:e.lightIconColor}}function P(e){let{theme:t,isPhone:n}=e;return n?t.personalHomeBackgroundPhone:t.personalHomeBackgroundDesktop}function k(e){let{theme:t,isPhone:n,buttonState:o}=e,r=t.whiteButtonBackground;switch(o){case"hovered":r=t.whiteButtonHoveredBackground;break;case"pressed":r=t.whiteButtonPressedBackground}return n&&(r=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:r,...x,boxShadow:I({isPhone:n,theme:t,borderOnly:!0}),width:28,height:28,borderRadius:4}}const j=1;function S(e){let{isPhone:t,theme:n}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:n.home.tile.background,boxShadow:I({isPhone:t,theme:n}),...x}}function V(e){let{mode:t,isPhone:n}=e;switch(t){case"dark":return 0;case"light":return j;default:return(0,r.P)(t),0}}function I(e){let{isPhone:t,theme:n,borderOnly:r}=e;if("dark"===n.mode)return"unset";n.mode;const i=V({mode:n.mode,isPhone:t});return(0,o.oA)([r||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${i}px rgba(0, 0, 0, 0.05)`]).join(", ")}},340304:(e,t,n)=>{n.d(t,{w:()=>i});n(667294);var o=n(745238),r=n(785893);const i=(0,o.IU)("document",{viewBox:"0 0 23.5 23.5",svg:(0,r.jsx)("path",{d:"M9.14 8.156a.494.494 0 01-.5-.5c0-.14.047-.258.141-.351a.487.487 0 01.36-.14h5.718a.477.477 0 01.492.492.494.494 0 01-.14.35.464.464 0 01-.352.15H9.141zm0 2.664a.487.487 0 01-.359-.14.504.504 0 01-.14-.36c0-.135.046-.25.14-.343a.487.487 0 01.36-.141h5.718a.477.477 0 01.493.484c0 .14-.047.26-.141.36a.477.477 0 01-.352.14H9.141zm0 2.672a.487.487 0 01-.359-.14.468.468 0 01-.14-.344c0-.14.046-.258.14-.352a.473.473 0 01.36-.148h2.765c.146 0 .266.05.36.148a.48.48 0 01.14.352c0 .135-.047.25-.14.344a.487.487 0 01-.36.14H9.141zm-3.843 4.266V5.968c0-.838.213-1.473.64-1.905.428-.438 1.06-.657 1.899-.657h8.32c.839 0 1.472.219 1.899.656.427.433.64 1.068.64 1.907v11.789c0 .844-.213 1.482-.64 1.914-.427.432-1.06.648-1.899.648h-8.32c-.839 0-1.471-.216-1.899-.648-.427-.432-.64-1.07-.64-1.914zm1.539-.094c0 .36.094.635.281.828.188.193.472.29.852.29h8.062c.38 0 .664-.097.852-.29.187-.193.281-.469.281-.828V6.07c0-.364-.094-.643-.281-.836-.188-.198-.471-.296-.852-.296H7.97c-.38 0-.664.098-.852.296-.187.193-.281.472-.281.836v11.594z"})})},375071:(e,t,n)=>{n.d(t,{f:()=>i});n(667294);var o=n(745238),r=n(785893);const i=(0,o.IU)("plusThick",{viewBox:"0 0 14 14",svg:(0,r.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})}}]);