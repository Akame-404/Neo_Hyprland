"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[93455],{381726:(e,t,o)=>{o.d(t,{H2:()=>B,Hm:()=>k,Hz:()=>A,K8:()=>V,RO:()=>T,WH:()=>E,gp:()=>H,gu:()=>F,sP:()=>P,vz:()=>Z});o(21703),o(667294);var n=o(541432),r=o(399036),i=o(340304),a=o(15167),s=o(421202),c=o(213493),l=o(714429),d=o(611318),u=o(76233),m=o(709291),p=o(307032),f=o(108406),h=o(805149),v=o(496802),y=o(709953),S=o(210228),g=o(710274),b=o(552275),x=o(974420),w=o(95477),C=o(741195),I=o(433929),M=o(978201),R=o(282356),_=o(785893);const j=(0,m.defineMessages)({responsesViewName:{id:"formEditorActions.responsesViewName",defaultMessage:"Responses"},newFormViewName:{id:"formEditorActions.newFormViewName",defaultMessage:"New form"}});function k(e){const{questionStore:t,newName:o,environment:n}=e;S.createAndCommit({userAction:"formQuestion.changeName",environment:n,perform:e=>{S.applyOperation({store:t,operation:{pointer:t.pointer,path:["config","name"],command:"set",args:[[o]]},transaction:e})}})}function T(e){const{questionStore:t,newDescription:o,environment:n}=e;S.createAndCommit({userAction:"formQuestion.changeDescription",environment:n,perform:e=>{S.applyOperation({store:t,operation:{pointer:t.pointer,path:["config","description"],command:"set",args:void 0!==o?[[o]]:void 0},transaction:e})}})}function V(e){var t;const{questionStore:o,environment:n,autofocusedQuestionDescriptionStore:r}=e;void 0===(null===(t=o.getConfig())||void 0===t?void 0:t.description)&&T({environment:n,questionStore:o,newDescription:""}),r.autofocusQuestionDescription({questionId:o.id})}function F(e){const{environment:t,collectionViewBlockStore:o,transaction:n,schema:i}=e;if(!o)return;const u=o.getSpaceId(),{formBlockStore:m}=function(e){var t;const{environment:o,spaceId:n,inMemoryRecordCache:i,transaction:c,schema:u}=e,m=(0,C.TS)({environment:o,table:s.iU,spaceId:n}),p=(0,C.TS)({environment:o,table:l.L_,spaceId:n}),f=y.j4({id:m,environment:o,type:"form",permissions:[{type:"space_permission",role:"reader",unlisted_timestamp:Date.now()}],inMemoryRecordCache:i,transaction:c,useCrdt:!1}),h=y.ae({environment:o,table:d.Bh,value:{space_id:n,parent_table:s.iU,parent_id:f.id,modules:(0,a.l2)(p)},inMemoryRecordCache:i,transaction:c});return v.FH({stores:[f],update:{form_layout_pointer:{id:h.id,spaceId:n,table:d.Bh}},transaction:c}),z({environment:o,questionId:p,spaceId:n,layoutId:h.id,propertyId:r.iw,initialQuestionTitle:(null===(t=u[r.iw])||void 0===t?void 0:t.name)??"",inMemoryRecordCache:i,transaction:c}),{formBlockStore:f}}({environment:t,spaceId:u,inMemoryRecordCache:o.inMemoryRecordCache,transaction:n,schema:i}),p=(0,g.W9)({environment:t,collectionViewBlockStore:o,collectionView:{type:"form_editor",parent_id:o.id,parent_table:s.iU,alive:!0,space_id:u,name:I.default.formatMessage(j.newFormViewName),format:{form_block_pointer:{id:m.id,spaceId:u,table:s.iU}}},transaction:n});return y.sW({store:m,data:{parent_id:p.id,parent_table:c.np,alive:!0},transaction:n}),{newViewId:p.id}}function B(e){const{environment:t,collectionViewBlockStore:o,transaction:n}=e,r=o.getSpaceId(),i=Object.keys(e.schema).find((t=>{var o;return"created_by"===(null===(o=e.schema[t])||void 0===o?void 0:o.type)}));(0,g.W9)({environment:t,collectionViewBlockStore:o,collectionView:{type:"table",parent_id:o.id,parent_table:s.iU,alive:!0,name:I.default.formatMessage(j.responsesViewName),space_id:r,format:{table_properties:[{property:"title",visible:!0},...i?[{property:i,visible:!0}]:[]],table_wrap:!0,collection_pointer:o.getCollectionPointer()}},transaction:n})}function E(e){let{environment:t,moduleId:o,sessionId:n,layoutStore:r,collectionSettingsStore:i}=e;(0,M.H)({environment:t,position:{area:"form_layout_schema",moduleId:o},layoutStore:r,sessionId:n}),h.E3({collectionSettingsStore:i})}function z(e){const{environment:t,questionId:o,spaceId:n,layoutId:r,propertyId:i,initialQuestionTitle:a,inMemoryRecordCache:s,transaction:c}=e;y.ae({environment:t,table:l.L_,value:{id:o,space_id:n,parent_table:d.Bh,parent_id:r,alive:!0,config:{propertyId:i,name:[[a]]}},inMemoryRecordCache:s,transaction:c})}function A(e){const{environment:t,transaction:o,layoutStore:n,collectionStore:r,propertyId:i,moduleId:a}=e,s=n.getModel();if(!s)throw new Error("Layout model cannot be undefined");const c=r.getSchema()[i];if(!c)throw new Error(`No schema found for property ${i}`);const d=c.name,u=n.getSpaceId(),m=(0,C.TS)({environment:t,table:l.L_,spaceId:u});z({environment:t,questionId:m,spaceId:u,layoutId:s.id,propertyId:i,initialQuestionTitle:d,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o});const p=s.updatePageModuleWithId({area:"form_layout_schema",moduleId:a,fn:e=>({id:a,type:"formQuestion",formQuestionId:m})});return(0,R.JH)({transaction:o,rawModules:p,layoutStore:n,area:"form_layout_schema"}),{questionId:m}}function Z(e){const{environment:t,collectionSchema:o,temporaryRecordCache:r,spaceId:i}=e,a={};Object.keys(o).forEach((e=>{a[e]=(0,u.TPx)("")}));const{performResult:s}=S.createAndCommit({environment:t,userAction:"formActions.createDummyFormPage",perform:e=>y.j4({environment:t,type:n.Ti.page,inMemoryRecordCache:r,transaction:e,spaceId:i,properties:{...a},useCrdt:!1})});return s}function H(e){let{environment:t,collectionContextStore:o}=e;const n=o.settingsStore;return{key:"formViewItem",render:e=>(0,_.jsx)(b.Z,{title:(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,_.jsx)(m.FormattedMessage,{defaultMessage:"Form",id:"CollectionViewTabBar.newFormItem.title"}),(0,_.jsx)(x.Z,{})]}),icon:(0,i.w)({width:16}),shouldWrapCaption:!0,caption:(0,_.jsx)(m.FormattedMessage,{defaultMessage:"Create a form to help people fill out properties correctly",id:"CollectionViewTabBar.newFormItem.description"}),...e}),action:()=>{S.createAndCommit({userAction:"CollectionViewTabBar.createFormEditorView",environment:t,perform:e=>{const n=o.collectionViewBlockStore();if(!n)return;const r=F({environment:t,collectionViewBlockStore:n,schema:o.normalizedSchemaStore.state,transaction:e});r&&(0,g.f8)({environment:t,collectionContextStore:o,collectionViewId:r.newViewId,isFullScreen:o.isFullScreenStore.state,isRootChild:o.isRootChildStore.state,isInPeekRenderer:o.isInPeekRendererStore.state})}}),h.r$({collectionContextStore:o,collectionSettingsStore:n}),f.xb({environment:t,collectionContextStore:o,view_type:"form_editor"})}}}function P(e){let t=`${w.default.domainBaseUrl}/form/`;return t+=`${p.cj(e)}`,t}},39779:(e,t,o)=>{o.d(t,{E:()=>r,Y:()=>i});o(21703);var n=o(667294);const r=(0,n.createContext)(null);function i(){const e=(0,n.useContext)(r);if(!e)throw new Error("useFormLayoutEditorContext must be used inside FormLayoutEditorContext.Provider");return(0,n.useMemo)((()=>e),[e])}r.displayName="FormLayoutEditorContext"},638086:(e,t,o)=>{o.d(t,{$Z:()=>r,eC:()=>i,s0:()=>s});var n=o(886628);o(95477),o(319385);function r(){return(0,n.VK)((()=>i()),[])}function i(){return!1}const a={text:!0,title:!0,select:!0,created_by:!1,last_edited_by:!1,last_edited_time:!1,checkbox:!1,created_time:!1,date:!1,email:!1,multi_select:!1,number:!1,person:!1,phone_number:!1,relation:!1,status:!1,url:!1,file:!1,auto_increment_id:!1,button:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1};function s(e){return a[e.type]}},220682:(e,t,o)=>{o.d(t,{P:()=>d});var n=o(667294),r=o(126263),i=o(800480),a=o(184747),s=o(81234),c=o(886628),l=o(381726);function d(e){const t=(0,i.O7)(),{inMemoryRecordCacheName:o,collectionStore:d}=e,u=(0,c.VK)((()=>null==d?void 0:d.getSchema()),[d]),m=(0,n.useMemo)((()=>new r.Z({name:o})),[o]);if((0,a.Z)((()=>{t.defaultRecordCache.inMemoryRecordCache.addCacheOverride(m)})),(0,s.L)((()=>{t.defaultRecordCache.inMemoryRecordCache.removeCacheOverride(m)})),d&&u)return l.vz({environment:t,spaceId:d.getSpaceId(),collectionSchema:u,temporaryRecordCache:m})}},687167:(e,t,o)=>{o.r(t),o.d(t,{default:()=>K});o(21703),o(757658);var n=o(667294),r=o(126263),i=o(800480),a=o(886628),s=o(724405),c=o(749085),l=o(266897),d=o(745238),u=o(785893);const m=(0,d.IU)("formSubmit",{viewBox:"0 0 56 56",svg:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M44.938 54.875a7.597 7.597 0 0 1-3.063-.625 7.912 7.912 0 0 1-2.531-1.703 8.13 8.13 0 0 1-1.719-2.531A7.635 7.635 0 0 1 37 46.938c0-1.094.208-2.115.625-3.063a8.13 8.13 0 0 1 1.719-2.531 7.789 7.789 0 0 1 2.531-1.719A7.597 7.597 0 0 1 44.938 39c1.093 0 2.12.208 3.078.625a7.912 7.912 0 0 1 2.53 1.703 7.912 7.912 0 0 1 1.704 2.531c.417.959.625 1.985.625 3.078A7.597 7.597 0 0 1 52.25 50a8.001 8.001 0 0 1-1.734 2.531 8.13 8.13 0 0 1-2.532 1.719 7.559 7.559 0 0 1-3.047.625zm-.954-3.656c.365 0 .636-.125.813-.375l4.547-6.297c.073-.104.125-.208.156-.313a.767.767 0 0 0 .063-.28.88.88 0 0 0-.297-.688.97.97 0 0 0-.688-.282c-.344 0-.62.146-.828.438l-3.813 5.281-1.921-2.078a.966.966 0 0 0-.75-.328c-.271 0-.5.094-.688.281a.954.954 0 0 0-.281.703c0 .104.02.224.062.36.042.125.105.24.188.343l2.656 2.891a.804.804 0 0 0 .36.25c.145.063.286.094.421.094z",fill:"#2383E2"}),(0,u.jsx)("path",{d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 0 0-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 0 0 1.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 0 0-1.054-.44c-.41 0-.762.147-1.055.44-.293.293-.44.639-.44 1.037 0 .422.147.78.44 1.072zm0 6.575c.305.292.656.439 1.055.439.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 0 0-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.645-.44 1.055 0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 0 0-.756-.334H25.04c-.305 0-.568.111-.791.334-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 0 0-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 0 0-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773zm-11.914 9.967c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 0 1-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 0 1-.07-.808V11.135c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.666a9.594 9.594 0 0 1 2.83-.532V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078zM21.12 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055-1.019 0-1.898.352-2.636 1.055-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 0 1-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 0 1 1.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",fill:"#C7C6C4"})]})});var p=o(443119),f=o(709291),h=o(653965),v=o(454642),y=o(4827),S=o(278030),g=o(897122),b=o(436488),x=o(531192),w=o(590683),C=o(494043),I=o(580748),M=o(170656),R=o(80444),_=o(319385),j=o(698255),k=o(619671),T=o(206258),V=o(571791),F=o(638086),B=o(220682);function E(e){let{formBlockStore:t,layoutStore:o}=e;const r=(0,i.O7)(),s=(0,a.VK)((()=>(null==o?void 0:o.getModules().form_layout_schema)??[]),[o]),l=p.uE.form_layout_schema.map((e=>e.type)),d=s.filter((e=>l.includes(e.type))),[m]=(0,n.useState)(c.default.createValue(!1,{name:"headerFocusStore"}));return(0,u.jsx)(u.Fragment,{children:d.map((e=>{if("formTitle"===e.type)return(0,u.jsxs)(C.Pb,{children:[(0,u.jsx)(I.v,{formBlockStore:t,disabled:!0,headerFocusStore:m,onHeaderMouseEnter:h.ZT,onHeaderMouseLeave:h.ZT}),(0,u.jsx)("div",{style:{marginTop:16},children:(0,u.jsx)(H,{})})]},e.id);if("cover"===e.type)return(0,u.jsx)(M.D,{store:t,isEditable:!1,paddingX:0,pageCoverHeight:x.ZP.defaultPageCoverHeight(r),onMouseEnter:h.ZT,onMouseMove:h.ZT,onMouseLeave:h.ZT},e.id);throw new Error("Unexpected module type in header")}))})}function z(e){let{formBlockStore:t,layoutStore:o,formQuestionStores:r,setSubmitted:a}=e;const s=(0,i.O7)(),c=P(),l=new T.NW(s,{table:"collection",id:"formViewerId",spaceId:"formViewerSpaceId"}),d=(0,B.P)({inMemoryRecordCacheName:"FormBlockTemporaryRecordCache",collectionStore:l}),m=r.map(((e,t)=>(0,u.jsx)("div",{children:(0,u.jsx)(A,{formQuestionStore:e,draftSubmissionPageStore:d,collectionStore:l})},t))),p=(0,n.useCallback)((async()=>{if(!t||!o||!d)return;const e=d.getProperties();await v.submitForm(s,{formId:t.id,blockProperties:e,spaceId:t.getSpaceId()},s.currentUser.id),a(!0)}),[s,a,d,t,o]);return(0,u.jsxs)(C.Pb,{children:[m,(0,u.jsx)(g.h,{styles:c.submitButton,onClick:p,children:(0,u.jsx)(f.FormattedMessage,{id:"FormBlock.submitButton.title",defaultMessage:"Submit"})})]})}function A(e){let{formQuestionStore:t,draftSubmissionPageStore:o,collectionStore:n}=e;const r=P(),i=(0,a.VK)((()=>j.Z.state.collectionSchema),[]),{questionTitle:s,questionDescription:c,propertyId:l}=function(e,t){return(0,a.VK)((()=>{const o=e.getConfig();if(!o||!t)return{};const n=o.name,r=o.description,i=o.propertyId,a=t[i];if(!a||!(0,F.s0)(a))return{};return{questionTitle:n,questionDescription:r,propertyId:i,propertyType:a.type}}),[e,t])}(t,i);return l&&o?(0,u.jsxs)("div",{style:r.container,children:[(0,u.jsx)("h2",{style:r.title,children:s}),c&&(0,u.jsx)("div",{style:r.description,children:c}),(0,u.jsx)(y.Z,{store:o,property:l,disabled:!1,locked:!0,format:S.C.Form,blockPropertyValueOverlayStore:k.Z,collectionStore:n,tableWrap:!1},l)]}):null}function Z(e){let{setSubmitted:t}=e;const o=P();return(0,u.jsxs)(C.Pb,{children:[(0,u.jsx)("div",{style:o.confirmationIcon,children:m({width:48,height:48})}),(0,u.jsx)("div",{style:{marginTop:32},children:(0,u.jsx)("span",{children:(0,u.jsx)(f.FormattedMessage,{id:"FormBlock.confirmationScreen.title",defaultMessage:"Thank you! Your response has been submitted."})})}),(0,u.jsx)(g.h,{styles:o.submitButton,onClick:()=>{t(!1)},children:(0,u.jsx)(f.FormattedMessage,{id:"FormBlock.submitAnotherButton.title",defaultMessage:"Submit another"})})]})}function H(){const e=(0,f.useIntl)(),t=(0,a.VK)((()=>{var e;return null===(e=R.default.state.currentUserStore)||void 0===e?void 0:e.getModel()}),[]),o=(0,s.yK)((e=>({container:{background:e.accentColors.gray[30],color:e.v2.text.secondary,padding:"6px 10px",borderRadius:6,display:"flex",gap:8,width:"fit-content",fontSize:14}})),[]),n=(0,a.VK)((()=>{if(!t)throw new Error("Should not be possible to render this if there is no logged-in user");return(0,u.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,w.a)({actor:t,size:20,style:{marginRight:6}}),(0,l.$4)(e,t)]})}),[t,e]);return(0,u.jsx)("div",{style:o.container,children:(0,u.jsx)(f.FormattedMessage,{id:"formBlock.formResponderWarning.label",defaultMessage:"Submitting response as {avatarAndName}",values:{avatarAndName:n}})})}function P(){return(0,s.yK)((e=>({confirmationIcon:{padding:24,width:96,borderRadius:12,borderStyle:"solid",borderWidth:1,borderColor:e.stroke.regular,marginTop:36},textFormInput:{padding:"4px 10px",fontSize:16,lineHeight:1.75,maxWidth:400,borderRadius:6,background:"none",marginTop:12},submitButton:{marginTop:32,padding:"4px 12px",fontSize:16,lineHeight:1.75,borderRadius:6},container:{margin:"16px 0"},description:{color:e.v2.text.secondary,fontSize:14,paddingTop:4},title:{marginTop:36,marginBottom:0}})),[])}const K=function(){const[e,t]=(0,n.useState)(!1);(0,n.useEffect)((()=>{e||async function(){await _.default.waitUntilStatsigReady(),t(!0)}()}),[e]);const o=(0,F.$Z)();(0,n.useEffect)((()=>{if(e&&!o)throw new Error("Form block not enabled")}),[e,o]);const s=(0,a.VK)((()=>R.default.state.mainEditorCurrentBlockStore),[]),c=function(e){const t=(0,i.O7)(),[o]=(0,n.useState)((()=>new r.Z({name:"FormBlockRecordCache"}))),s=t.currentUser.id,c=(0,a.VK)((()=>{if(!e)return;const t=function(e){const t=null==e?void 0:e.getFormat().form_layout_pointer;if(t)return T.xj.createChildStore(e,t)}(e);if(!t)throw new Error("No layout store found from block");return t}),[e]),l=(0,a.VK)((()=>{if(c&&c.isReady()){const e=c.getModules().form_layout_schema;if(0===e.length)throw new Error("There are no modules for this form, this is not a valid state");const o=[];return e.forEach((e=>{"formQuestion"===e.type&&o.push(new T.cq(t,{table:"form_question",id:e.formQuestionId,spaceId:c.getSpaceId()??""}))})),o}}),[c,t]),d=(0,a.VK)((()=>l&&l.every((e=>e.isReady()))),[l]),[u,m]=(0,n.useState)({areAllRecordsReady:!1});return(0,n.useEffect)((()=>{if(u.areAllRecordsReady)return;if(!(e&&c&&c.isReady()&&l&&d))return;o.setModelAndRole({pointer:e.pointer,userId:s},e.getModel(),"reader");const n=new T.G(t,e.pointer,{inMemoryRecordCache:o});o.setModelAndRole({pointer:c.pointer,userId:s},c.getModel(),"reader");const r=V.a.createChildStore(n,c.pointer),i=[];for(const e of l)o.setModelAndRole({pointer:e.pointer,userId:s},e.getModel(),"reader"),i.push(T.cq.createChildStore(r,e.pointer));m({areAllRecordsReady:!0,nonReactiveFormBlockStore:n,nonReactiveLayoutStore:r,nonReactiveFormQuestionStores:i})}),[s,t,l,o,c,d,u.areAllRecordsReady,e]),u}(s),l=(0,a.VK)((()=>null==s?void 0:s.getType()),[s]),[d,m]=(0,n.useState)(!1);return s&&"form"===l?c.areAllRecordsReady?(0,u.jsx)(b.Z,{capture:!0,render:e=>(0,u.jsx)("div",{...e,style:{width:"100%",cursor:"default",paddingBottom:96},children:(0,u.jsxs)(C.Xg,{type:"default",children:[(0,u.jsx)(E,{layoutStore:c.nonReactiveLayoutStore,formBlockStore:c.nonReactiveFormBlockStore}),d?(0,u.jsx)(Z,{setSubmitted:m}):(0,u.jsx)(z,{formBlockStore:s,layoutStore:c.nonReactiveLayoutStore,formQuestionStores:c.nonReactiveFormQuestionStores,setSubmitted:m})]})})}):(0,u.jsx)("div",{children:"Loading..."}):null}},536420:(e,t,o)=>{o.d(t,{n:()=>c,y:()=>s});o(21703);var n=o(667294),r=(o(277744),o(926249));let i,a;function s(e){i=i??new Map,a=a??function(e){let t=!1,o=[];return new ResizeObserver((n=>{o=o.concat(n),t||(t=!0,window.requestAnimationFrame((()=>{const n=new Set;[...o].reverse().filter((e=>{const t=n.has(e.target);return n.add(e.target),!t})).forEach((t=>{const o=e.get(t.target);null==o||o.forEach((e=>{const o=t.borderBoxSize[0];e({width:o.inlineSize,height:o.blockSize})}))})),o=[],t=!1})))}))}(i);const[t,o]=(0,n.useState)(void 0),s=(0,n.useCallback)((e=>{o((t=>(0,r.Z)(t,e)?t:e))}),[]);return(0,n.useLayoutEffect)((()=>{const t=e.current;if(!t)return;a.observe(t);const o=[...i.get(t)??[],s];return i.set(t,o),()=>{a.unobserve(t);const e=(i.get(t)??[]).filter((e=>e!==s));0===e.length?i.delete(t):i.set(t,e)}}),[s,e]),t}function c(e){const{children:t,onSizeChange:o}=e,r=(0,n.useRef)(null),i=s(r);(0,n.useEffect)((()=>{o&&i&&o(i)}),[i,o]);const a=n.Children.only(t);return n.cloneElement(a,{ref:r})}},590683:(e,t,o)=>{o.d(t,{a:()=>c});o(667294);var n=o(266897),r=o(401898),i=o(670301),a=o(45653),s=o(785893);function c(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n.YU)(t)?(0,s.jsx)(i.Z,{botValue:t.asActor,...o}):(0,n.$S)(t)?(0,s.jsx)(a.Z,{userValue:t.asActor,...o}):(0,n.Iq)(t)?(0,s.jsx)(a.Z,{userValue:void 0,...o}):void(0,r.t1)(t)}},580748:(e,t,o)=>{o.d(t,{T:()=>g,v:()=>S});var n=o(667294),r=o(886628),i=o(724405),a=o(217215),s=o(709291),c=o(653965),l=o(39779),d=o(468353),u=o(407036),m=o(599515),p=o(531192),f=o(282136),h=o(100917),v=o(785893);function y(e){let{onAfterAddIconClick:t}=e;const{formBlockStore:o,headerFocusStore:n,headerMouseStore:i}=(0,l.Y)(),a=(0,r.VK)((()=>{const e=i.state.mouseEntered||n.state;return(0,p.Te)(e)}),[n,i]),s=(0,r.VK)((()=>o.hasIcon()),[o]),c=(0,r.VK)((()=>o.hasCover()),[o]);return(0,v.jsxs)(d.Z,{store:o,context:f.S.Frame,children:[!s&&(0,v.jsx)(m.Z,{store:o,afterOnClick:t,style:a}),!c&&(0,v.jsx)(u.Z,{store:o,style:a})]})}function S(e){let{formBlockStore:t,disabled:o,headerFocusStore:i,onHeaderMouseEnter:l,onHeaderMouseLeave:d}=e;const u=(0,s.useIntl)(),[m,p]=(0,n.useState)(!1),S=(0,r.VK)((()=>null==t?void 0:t.getTitleStore()),[t]),g=(0,r.VK)((()=>Boolean(null==t?void 0:t.hasCover())),[t]);return t&&S?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(h.J,{store:t,context:f.S.Frame,isEditable:!o,headerControls:o?void 0:(0,v.jsx)(y,{onAfterAddIconClick:()=>p(!0)}),hasCover:g,isInSidePeek:!1,headerFocusStore:i,openMenuOnMount:m,openMenuOnMountCallback:()=>p(!1),disabled:o,titlePlaceholder:(0,a.Q2)(u),collectionContextStore:void 0,shouldShowTemplatePicker:!1,onTitleChange:c.ZT,onTitleEditText:c.ZT,onTitleEsc:c.ZT,onTitleUntab:c.ZT,onTitleTab:c.ZT,handleHeaderMouseEnterThrottled:l,handleHeaderMouseLeaveDebounced:d,extraStyles:{fontSize:48,fontWeight:"bold",cursor:"text"}})}):null}function g(){const e=(0,i.yK)((e=>({container:{color:e.v2.text.secondary,backgroundColor:e.accentColors.gray[30],borderRadius:6,width:"100%",padding:"10px 16px",marginTop:24,marginBottom:14,fontSize:14}})),[]);return(0,v.jsx)("div",{style:e.container,children:(0,v.jsx)(s.FormattedMessage,{id:"editorFormResponderWarning.message",defaultMessage:"This form automatically collects the names of all responders."})})}},340304:(e,t,o)=>{o.d(t,{w:()=>i});o(667294);var n=o(745238),r=o(785893);const i=(0,n.IU)("document",{viewBox:"0 0 23.5 23.5",svg:(0,r.jsx)("path",{d:"M9.14 8.156a.494.494 0 01-.5-.5c0-.14.047-.258.141-.351a.487.487 0 01.36-.14h5.718a.477.477 0 01.492.492.494.494 0 01-.14.35.464.464 0 01-.352.15H9.141zm0 2.664a.487.487 0 01-.359-.14.504.504 0 01-.14-.36c0-.135.046-.25.14-.343a.487.487 0 01.36-.141h5.718a.477.477 0 01.493.484c0 .14-.047.26-.141.36a.477.477 0 01-.352.14H9.141zm0 2.672a.487.487 0 01-.359-.14.468.468 0 01-.14-.344c0-.14.046-.258.14-.352a.473.473 0 01.36-.148h2.765c.146 0 .266.05.36.148a.48.48 0 01.14.352c0 .135-.047.25-.14.344a.487.487 0 01-.36.14H9.141zm-3.843 4.266V5.968c0-.838.213-1.473.64-1.905.428-.438 1.06-.657 1.899-.657h8.32c.839 0 1.472.219 1.899.656.427.433.64 1.068.64 1.907v11.789c0 .844-.213 1.482-.64 1.914-.427.432-1.06.648-1.899.648h-8.32c-.839 0-1.471-.216-1.899-.648-.427-.432-.64-1.07-.64-1.914zm1.539-.094c0 .36.094.635.281.828.188.193.472.29.852.29h8.062c.38 0 .664-.097.852-.29.187-.193.281-.469.281-.828V6.07c0-.364-.094-.643-.281-.836-.188-.198-.471-.296-.852-.296H7.97c-.38 0-.664.098-.852.296-.187.193-.281.472-.281.836v11.594z"})})}}]);