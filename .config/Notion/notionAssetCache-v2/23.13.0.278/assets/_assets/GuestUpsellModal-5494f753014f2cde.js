"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[27844],{718250:(e,s,t)=>{t.d(s,{K:()=>r,O:()=>o});var a=t(745483);function o(e){a.Z.state.openModals.has(e)||(a.Z.state.openModals.add(e),a.Z.emit())}function r(e){a.Z.state.openModals.has(e)&&(a.Z.state.openModals.delete(e),a.Z.emit())}},81717:(e,s,t)=>{t.d(s,{Z:()=>y,u:()=>b});var a=t(667294),o=t(800480),r=t(886628),n=t(724405),i=t(709291),l=t(137810),d=t(891219),c=t(91536),u=t(454642),p=t(164964),m=t(80444),g=t(785834),h=t(301743),x=t(374194),M=t(709019),j=t(863296),_=t(158297),f=t(785893);function b(e){const s=(0,o.O7)(),{onDismiss:t}=e,[c,M]=(0,a.useState)(""),b=(0,i.useIntl)(),y=(0,n.yK)((()=>({container:{padding:20},title:{fontWeight:l.Z.fontWeight.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},button:{width:"100%",marginTop:10}})),[]),{currentSpaceStore:w}=(0,r.VK)((()=>({currentSpaceStore:m.default.state.currentSpaceStore})),[]);return(0,f.jsxs)("div",{style:y.container,children:[(0,f.jsx)("div",{style:y.title,children:(0,f.jsx)(i.FormattedMessage,{id:"GuestMembershipRequestModal.title",defaultMessage:"Request membership to workspace"})}),(0,f.jsxs)(h.Z,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:[(0,f.jsx)(x.Z,{style:y.input,textarea:!0,value:c,placeholder:b.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{M(e.target.value)}}),(0,f.jsx)(_.Z,{isLarge:!0,style:y.button,onClick:()=>{const{currentUser:e}=s;e&&e.id&&w&&(d.d(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:c.length,invite_space_role_selection:g.uq.request_workspace_member,from:"sidebar_guest_request"}),u.requestAccess(s,{type:"actor-to-space",forActorId:e.id,spaceId:w.id,message:c,attributes:{origin_id:w.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}).catch((()=>{p.oV({label:(0,f.jsx)(i.FormattedMessage,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",defaultMessage:"Failed to send membership request."})})})).finally((()=>{p.oV({label:(0,f.jsx)(i.FormattedMessage,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),M(""),t())},children:(0,f.jsx)(i.FormattedMessage,{id:"GuestMembershipRequestModal.sendRequest.button",defaultMessage:"Send request"})}),(0,f.jsx)(j.Z,{isLarge:!0,style:y.button,onClick:()=>{M(""),t()},children:(0,f.jsx)(i.FormattedMessage,{id:"GuestMembershipRequestModal.cancel.button",defaultMessage:"Cancel"})})]})]})}const y=function(e){const s=(0,o.O7)(),[t,r]=(0,a.useState)(!1),{origin:i}=e,l=(0,n.yK)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350}})),[]);return(0,f.jsx)(M.Z,{modalStyle:l.modalStyle,open:t,origin:(0,f.jsx)("div",{onClick:()=>{c.g9(s),r(!0)},children:i}),onDismiss:()=>r(!1),renderContent:()=>(0,f.jsx)(b,{onDismiss:()=>r(!1)})})}},612970:(e,s,t)=>{t.r(s),t.d(s,{GuestUpsellModal:()=>y});var a=t(667294),o=t(886628),r=t(724405),n=t(841892),i=t(665422),l=t(875553),d=t(248780),c=t(709291),u=t(401898),p=t(976940),m=t(997156),g=t(689024),h=t(897122),x=t(436488),M=t(707124),j=t(489728),_=t(699884),f=t(81717),b=t(785893);function y(e){const{open:s,stage:t}=(0,o.VK)((()=>m.Z.state),[]),r=(0,a.useCallback)((()=>{switch(t){case"landing":return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.jX,{padding:24,children:[(0,b.jsx)(w,{}),(0,b.jsx)(v,{})]}),(0,b.jsx)(k,{})]});case"membership_request":return(0,b.jsx)("div",{style:{padding:"15px 10px"},children:(0,b.jsx)(f.u,{onDismiss:()=>{m.Z.close()}})});default:(0,u.t1)(t)}}),[t]);return(0,b.jsx)(_.c,{isOpen:s,onClosed:()=>{m.Z.close()},render:()=>(0,b.jsx)(x.Z,{capture:!0,allowEsc:!0,render:()=>(0,b.jsxs)(p.gv.Provider,{value:()=>m.Z.close(),children:[(0,b.jsx)(p.U4,{}),r()]})})})}function w(){const e=(0,r.yK)((e=>({title:{display:"flex",marginTop:24,marginBottom:24}})),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:n.Z.images.thinkItMakeItCloudDarkPng,style:{width:334,height:205,margin:"auto"}}),(0,b.jsx)(M.q,{styleName:"UITitle-26px/Bold",customStyles:e.title,children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Experience Notion as a workspace member",id:"GuestUpsellModal.header.title"})})]})}function v(){const e=(0,r.yK)((e=>({icon:{width:20,height:20,fill:e.text.uiBluePrimary,marginRight:16},secondaryText:{color:e.text.secondary}})),[]);return(0,b.jsxs)(g.jX,{direction:"column",gap:20,children:[(0,b.jsxs)(g.jX,{direction:"row",children:[(0,d.l)(e.icon),(0,b.jsx)(M.q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Create and organize <secondary>projects, notes, and to-dos</secondary>",id:"GuestUpsellModal.body.point1",values:{secondary:s=>(0,b.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,b.jsxs)(g.jX,{direction:"row",children:[(0,l.U)(e.icon),(0,b.jsx)(M.q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Stay in the loop <secondary>with access to all pages across this workspace</secondary>",id:"GuestUpsellModal.body.point2",values:{secondary:s=>(0,b.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,b.jsxs)(g.jX,{direction:"row",children:[(0,i.K)(e.icon),(0,b.jsx)(M.q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Supercharge work <secondary>with the latest Notion features</secondary>",id:"GuestUpsellModal.body.point3",values:{secondary:s=>(0,b.jsx)("span",{style:e.secondaryText,children:s})}})})]})]})}function k(){const e=(0,r.yK)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14}})),[]);return(0,b.jsxs)(g.jX,{direction:"row",style:e.footerWrapper,children:[(0,b.jsx)(g.jX,{align:"center-left",style:e.continueCopy,children:(0,b.jsx)(j.Z,{isGray:!0,onClick:()=>{m.Z.close()},children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,b.jsx)(g.jX,{align:"center-right",children:(0,b.jsx)(h.h,{onClick:()=>m.Z.setState({open:!0,stage:"membership_request"}),children:(0,b.jsx)(c.FormattedMessage,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})}},327340:(e,s,t)=>{t.d(s,{y:()=>i});var a=t(653965),o=t(401898),r=t(847882);function n(e){let s=0,t=Number.MAX_SAFE_INTEGER;for(const o of e){if(!o)continue;const e=(0,r.r)(o),n=(0,a.uZ)(e.max,0,Number.MAX_SAFE_INTEGER),i=(0,a.uZ)(e.min,0,n);s=Math.max(s,i),t=Math.min(t,n)}const n=function(e){let s;for(const t of e){const e=null==t?void 0:t.scroll;switch(e){case"disallow":return"disallow";case"allow":s="allow";break;case void 0:break;default:(0,o.t1)(e)}}return s}(e);return{type:"range",min:(0,a.uZ)(s,0,t),max:t,scroll:n}}function i(e){const s=e.filter(Boolean);return{width:n(s.map((e=>null==e?void 0:e.width))),height:n(s.map((e=>null==e?void 0:e.height)))}}},785834:(e,s,t)=>{t.d(s,{TG:()=>n,ZP:()=>l,uq:()=>r});var a=t(749085),o=t(471924);let r=function(e){return e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),n=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class i extends a.default{getInitialState(){return{inviteStage:n.closed,selection:r.workspace_member,order:[r.workspace_member,r.page_guest],invitedUsers:[],invitedEmailToUserIdMap:{},flowId:o.Il()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:n.share_workspace,order:[r.workspace_member,r.page_guest],selection:r.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:n.request_workspace,order:[r.request_workspace_member,r.page_guest],selection:r.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const l=i},745483:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(749085),o=t(292595);class r extends a.default{getInitialState(){return{openModals:new Set}}}const n=new r,i=n;(0,o.exposeDebugValue)("GlobalModalStore",n)},361254:(e,s,t)=>{t.d(s,{Z:()=>r});var a=t(749085);class o extends a.default{getInitialState(){return{open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0}}}const r=o},665422:(e,s,t)=>{t.d(s,{K:()=>r});t(667294);var a=t(745238),o=t(785893);const r=(0,a.IU)("boltFilled",{svg:(0,o.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},964275:(e,s,t)=>{t.d(s,{D:()=>r});t(667294);var a=t(745238),o=t(785893);const r=(0,a.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},248780:(e,s,t)=>{t.d(s,{l:()=>r});t(667294);var a=t(745238),o=t(785893);const r=(0,a.IU)("createPage",{viewBox:"0 0 24 24",svg:(0,o.jsx)("g",{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M9.944 14.721c.104.094.216.12.336.079l1.703-.688 6.844-6.844-1.406-1.398-6.836 6.836-.711 1.68c-.052.13-.029.242.07.335zm8.102-9.484l1.414 1.406.515-.523a.917.917 0 00.282-.633.76.76 0 00-.258-.61l-.25-.25a.702.702 0 00-.578-.187.975.975 0 00-.617.297l-.508.5zm-9.453.127a3.85 3.85 0 00-3.85 3.85v6.5a3.85 3.85 0 003.85 3.85h6.5a3.85 3.85 0 003.85-3.85V12.95a.85.85 0 10-1.7 0v2.764a2.15 2.15 0 01-2.15 2.15h-6.5a2.15 2.15 0 01-2.15-2.15v-6.5a2.15 2.15 0 012.15-2.15h3.395a.85.85 0 000-1.7H8.593z",clipRule:"evenodd"})})})}}]);