"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[86712],{199726:(e,t,n)=>{n.d(t,{GS:()=>d,M5:()=>c,oj:()=>l});var a=n(79571),o=n(210228),i=n(237181),r=n(80444),s=n(279827);function l(e){const{environment:t,userSettingsStore:n}=e;o.createAndCommit({environment:t,userAction:"debuggingHelpers.markDummyModal",perform:e=>{i.d2({userSettingsStore:n,transaction:e,data:{seen_dummy_modal:!0}})}})}function d(e,t){if(s.default.getCalloutVisibility(t).isEligible){const e=(0,a.QN)(t);s.default.state.forcedCalloutsStore.delete(t),s.default.state.placementStores[e].delete(t)}}function c(e){const t=(0,a.QN)(e);"Modal"===t&&s.default.state.placementStores[t].clear(),s.default.state.placementStores[t].add(e),s.default.state.forcedCalloutsStore.add(e);r.default.state.inAppCalloutStore.updateCalloutStatus({calloutId:e,visible:!0})}},65037:(e,t,n)=>{n.d(t,{Z:()=>K});var a=n(667294),o=n(800480),i=n(886628),r=n(724405),s=n(427328),l=n(399747),d=n(524677),c=n(898104),u=n(436488),p=n(828451),m=n(550506),g=n(953437),h=n(953336),S=n(132662),f=n(95477),C=n(918514),y=n(434859),x=n(223196),k=n(80444),b=n(279827),v=n(319385),w=n(869454),_=n(992083),j=n(807339),M=n(706210),W=n(559054),A=n(521273),I=n(288280),V=n(954690),B=n(79571);function Z(e){const t=e,n=(0,i.VK)((()=>k.default.state.inAppCalloutStore.getCalloutVisibility(t)),[t]),a=(0,i.VK)((()=>b.default.getCalloutVisibility(e)),[e]);return(0,i.VK)((()=>function(e){const{calloutKey:t,oldSystemCalloutVisibility:n,newSystemCanShow:a}=e,{canShow:o,conflictingKey:i}=n,r=o||B.rx.includes(i)&&i!==t;return a&&r}({calloutKey:e,oldSystemCalloutVisibility:n,newSystemCanShow:a.isEligible})),[n,a,e])}function T(e){const t=(0,i.VK)((()=>v.default.isStatsigReady()),[]),n=(0,i.VK)((()=>v.default.checkGate({gateName:"use_new_callout_modal_placement"})),[]),a=function(e){const t=(0,o.O7)(),{currentUserSettingsStore:n,experimentStore:a,currentUserSettingsStoreState:r,mainEditorCurrentBlockStore:s,currentSpaceStore:l,assistantFeatureGateStore:d,currentSpaceViewStore:c,currentSpaceViewStoreState:u,subscriptionDataStore:p,statsigServiceStateIsReady:m}=(0,i.VK)((()=>{var e,t;return{currentUserSettingsStore:k.default.state.currentUserSettingsStore,experimentStore:v.default,assistantFeatureGateStore:A.Z,mainEditorCurrentBlockStore:k.default.state.mainEditorCurrentBlockStore,currentSpaceStore:k.default.state.currentSpaceStore,currentUserSettingsStoreState:null===(e=k.default.state.currentUserSettingsStore)||void 0===e?void 0:e.getSettingsStore().getValue(),currentSpaceViewStore:k.default.state.currentSpaceViewStore,currentSpaceViewStoreState:null===(t=k.default.state.currentSpaceViewStore)||void 0===t?void 0:t.getSettings(),subscriptionDataStore:I.subscriptionDataStoreInstance,statsigServiceStateIsReady:j.C.state.ready}}),[]),[{value:g}]=(0,W.r5)((async()=>{if(!(n&&a&&r&&s&&l&&c&&u&&p&&m))return!1;const o=V.$[e],i=await o(t,{currentUserSettingsStore:n,experimentStore:a,mainEditorCurrentBlockStore:s,currentSpaceStore:l,assistantFeatureGateStore:d,currentSpaceViewStore:c,subscriptionDataStore:p});return b.default.isForced(e)||i}),[n,a,r,s,l,c,u,p,e,t,d,m]);return Boolean(g)}(e),r=Z(e);return!!t&&(n?r:a)}var L=n(785893);function R(e){const{calloutKey:t,children:n,onShow:r,shouldShow:s}=e,l=t,d=(0,o.O7)(),c=(0,i.VK)((()=>v.default.checkGate({gateName:"use_new_callout_modal_placement"})),[]),u=(0,i.VK)((()=>k.default.state.inAppCalloutStore),[]),m=(0,i.VK)((()=>b.default.getCalloutVisibility(t)),[t]),g=(0,a.useMemo)((()=>()=>{null==r||r(),M.gF(d,{callout_key:t,placement_key:"Modal",is_forced:!!c&&m.isForced})}),[d,t,r,m.isForced,c]);return(0,a.useEffect)((()=>{if(c)if(m.isEligible){u.updateCalloutStatus({calloutId:l,visible:!0,validateCanShow:!0})&&g()}else u.updateCalloutStatus({calloutId:l,visible:!1})}),[s,g,l,m.isEligible,u,c]),c?s?(0,L.jsx)(L.Fragment,{children:n}):null:(0,L.jsx)(p.g,{calloutId:t,shouldShow:s,onShow:g,children:n})}function K(e){const{calloutKey:t,onModalShow:n,desktopRenderInner:p,desktopInnerStyle:b,desktopOnDismiss:W,phoneRenderInner:A,phoneInnerStyle:I}=e,V=(0,o.O7)(),B=(0,o.Fy)(),Z=(0,i.VK)((()=>(0,C.__)(V)),[V]),K=(0,i.VK)((()=>{const e=V.TabbedRouterStore;return(0,s.w_)(e.state)}),[V.TabbedRouterStore]),D=(0,i.VK)((()=>{var e;return"web"===K.type&&((null===(e=K.redirectedTo)||void 0===e?void 0:e.route)||K.route)}),[K]),U=(0,i.VK)((()=>{const e="notTransitioning"===k.default.state.spaceTransitionStatus&&k.default.state.initialized,t=v.default.state.isLoaded,n=j.C.isReadyWithUserAndSpaceId();if(!e||!t||!n)return!1;if(_.Z.state.open)return!1;const a=f.default.isAdminMode;return B.isPhone&&Z?!a&&D&&"page"===D.name:!a}),[B.isPhone,Z,D]),F=(0,i.VK)((()=>V.WindowSizeStore.isLandscape()),[V.WindowSizeStore]),z=(0,i.VK)((()=>V.WindowSizeStore.getSafePaddingTopCSS(l.g)),[V.WindowSizeStore]),E=(0,i.VK)((()=>{const e=w.Z.state.phase===w.i.hidden||w.Z.state.phase===w.i.willHide;let t=w.Z.estimatedNativeWebBottomOverlap();return B.isMobileBrowser&&(t+=32),e?V.WindowSizeStore.getSafePaddingBottomPx(t):t}),[B.isMobileBrowser,V.WindowSizeStore]),O=T(t),Q=(0,a.useCallback)((()=>{null==n||n(),B.isPhone&&(d.ZH({debug:{userAction:"AnnouncementModal2.resolvedOnModalShow"},environment:V}),c.sD())}),[V,B.isPhone,n]),G=(0,r.yK)((e=>({popupStyle:{background:e.sidebarBackground,borderRadius:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},scrollerStyle:{background:e.sidebarBackground,width:F?"80%":"100%",height:F?void 0:"100%",display:"flex",flexDirection:"column",alignItems:"center",...I},modalStyle:{background:e.sidebarBackground,borderRadius:12,...b}})),[F,b,I]);return B.isPhone?U?(0,L.jsx)(R,{calloutKey:t,shouldShow:O,onShow:Q,children:(0,L.jsx)(g.ZP,{open:O,forceFullScreenSlideUp:!0,hidesMobileNativeBottomBar:!0,preventBlockRenderQueueOnEnter:!0,popupType:x.k.SlideUp,onDismiss:()=>{M.bl(V,{callout_key:t,placement_key:"Modal",dismiss_type:"modal_background_clicked"})},onClosed:()=>{M.bl(V,{callout_key:t,placement_key:"Modal",dismiss_type:"modal_dismiss_clicked"})},style:G.popupStyle,render:()=>(0,L.jsxs)(h.Z,{type:F?y.Z.Y:y.Z.None,style:G.scrollerStyle,children:[(0,L.jsx)(S.Z,{size:F?200:z}),A(),(0,L.jsx)(S.Z,{size:E})]})})}):null:U?(0,L.jsx)(R,{calloutKey:t,shouldShow:O,onShow:Q,children:(0,L.jsx)(m.Z,{open:O,preventHideChildrenWhileOpening:!0,onDismiss:W,innerStyle:G.modalStyle,render:()=>(0,L.jsx)(u.Z,{capture:!0,allowEsc:!0,render:p})})}):null}},411335:(e,t,n)=>{n.d(t,{Z:()=>h});n(667294);var a=n(886628),o=n(724405),i=n(399036),r=n(180951),s=n(719255),l=n(732566),d=n(421202),c=n(76233),u=n(401898),p=n(206258),m=n(414200),g=n(785893);function h(e){const t=i.LS(e.propertySchema);switch(t){case"text":return(0,g.jsx)(S,{...e});case"relation":return(0,g.jsx)(f,{propertySchema:e.propertySchema,beforeValue:e.beforeValue,afterValue:e.afterValue,rootStore:e.rootStore});case"arrow":return(0,g.jsx)(C,{...e});default:(0,u.t1)(t)}}function S(e){const t={value:s.Mg({before:e.beforeValue.value,after:e.afterValue.value,insertionAnnotation:[c.GKr.Inserted],deletionAnnotation:[c.GKr.Deleted]}),spaceId:e.beforeValue.spaceId};return(0,g.jsx)(m.Z,{value:t,propertySchema:e.propertySchema,rootStore:e.rootStore})}function f(e){const{beforeValue:t,afterValue:n,propertySchema:o,rootStore:i}=e,s=(0,a.VK)((()=>r.NT({beforeValue:t.value,afterValue:n.value,propertySchema:o,getRecordModel:i.getRecordModel,getBlockTitle:e=>p.G.createChildStore(i,{table:d.iU,id:e.id}).getPropertyValue("title")})),[t,n,o,i]);return(0,g.jsx)(m.Z,{value:{value:s,spaceId:t.spaceId},propertySchema:{type:"title",name:"Title"},rootStore:i})}function C(e){const t=(0,o.yK)((()=>({arrowDiffWrap:{display:"inline-flex",alignItems:"center",overflow:"hidden",flexWrap:"wrap",rowGap:6}})),[]);return(0,g.jsxs)("div",{style:t.arrowDiffWrap,children:[(0,g.jsx)(m.Z,{value:e.beforeValue,propertySchema:e.propertySchema,rootStore:e.rootStore}),(0,g.jsx)(y,{}),(0,g.jsx)(m.Z,{value:e.afterValue,propertySchema:e.propertySchema,rootStore:e.rootStore})]})}function y(){const e=(0,o.yK)((e=>({container:{padding:"0px 8px"},icon:{width:15,height:15,fill:e.mediumIconColor}})),[]);return(0,g.jsx)("div",{style:e.container,children:(0,l.k)(e.icon)})}},600044:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var a=n(667294),o=n(800480),i=n(184747),r=n(886628),s=n(724405),l=n(726139),d=n(803791),c=n(709291),u=n(137810),p=n(286572),m=n(310259),g=n(244458),h=n(733993),S=n(365820),f=n(745238),C=n(785893);const y=(0,f.IU)("cursor",{viewBox:"0 0 21 22",svg:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.11946 12.3088C3.83546 11.9498 3.49046 11.2158 2.87646 10.3248C2.52846 9.82078 1.66546 8.87178 1.40846 8.38978C1.18546 7.96378 1.20946 7.77278 1.26246 7.41978C1.35646 6.79178 2.00046 6.30278 2.68746 6.36878C3.20646 6.41778 3.64646 6.76078 4.04246 7.08478C4.28146 7.27978 4.57546 7.65878 4.75246 7.87278C4.91546 8.06878 4.95546 8.14978 5.12946 8.38178C5.35946 8.68878 5.43146 8.84078 5.34346 8.50278C5.27246 8.00678 5.15646 7.15978 4.98846 6.41078C4.86046 5.84278 4.82946 5.75378 4.70746 5.31778C4.57846 4.85378 4.51246 4.52878 4.39146 4.03678C4.30746 3.68878 4.15646 2.97778 4.11546 2.57778C4.05846 2.03078 4.02846 1.13878 4.37946 0.728782C4.65446 0.407782 5.28546 0.310782 5.67646 0.508782C6.18846 0.767782 6.47946 1.51178 6.61246 1.80878C6.85146 2.34278 6.99946 2.95978 7.12846 3.76978C7.29246 4.80078 7.59446 6.23178 7.60446 6.53278C7.62846 6.16378 7.53646 5.38678 7.60046 5.03278C7.65846 4.71178 7.92846 4.33878 8.26646 4.23778C8.55246 4.15278 8.88746 4.12178 9.18246 4.18278C9.49546 4.24678 9.82546 4.47078 9.94846 4.68178C10.3105 5.30578 10.3175 6.58078 10.3325 6.51278C10.4185 6.13678 10.4035 5.28378 10.6165 4.92878C10.7565 4.69478 11.1135 4.48378 11.3035 4.44978C11.5975 4.39778 11.9585 4.38178 12.2675 4.44178C12.5165 4.49078 12.8535 4.78678 12.9445 4.92878C13.1625 5.27278 13.2865 6.24578 13.3235 6.58678C13.3385 6.72778 13.3975 6.19478 13.6165 5.85078C14.0225 5.21178 15.4595 5.08778 15.5145 6.48978C15.5395 7.14378 15.5345 7.11378 15.5345 7.55378C15.5345 8.07078 15.5225 8.38178 15.4945 8.75578C15.4635 9.15578 15.3775 10.0598 15.2525 10.4978C15.1665 10.7988 14.8815 11.4758 14.6005 11.8818C14.6005 11.8818 13.5265 13.1318 13.4095 13.6948C13.2915 14.2568 13.3305 14.2608 13.3075 14.6598C13.2845 15.0578 13.4285 15.5818 13.4285 15.5818C13.4285 15.5818 12.6265 15.6858 12.1945 15.6168C11.8035 15.5538 11.3195 14.7758 11.1945 14.5378C11.0225 14.2098 10.6555 14.2728 10.5125 14.5148C10.2875 14.8978 9.80346 15.5848 9.46146 15.6278C8.79346 15.7118 7.40746 15.6588 6.32246 15.6478C6.32246 15.6478 6.50746 14.6368 6.09546 14.2898C5.79046 14.0308 5.26546 13.5058 4.95146 13.2298L4.11946 12.3088Z",fill:"white"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.11946 12.3088C3.83546 11.9498 3.49046 11.2158 2.87646 10.3248C2.52846 9.82078 1.66546 8.87178 1.40846 8.38978C1.18546 7.96378 1.20946 7.77278 1.26246 7.41978C1.35646 6.79178 2.00046 6.30278 2.68746 6.36878C3.20646 6.41778 3.64646 6.76078 4.04246 7.08478C4.28146 7.27978 4.57546 7.65878 4.75246 7.87278C4.91546 8.06878 4.95546 8.14978 5.12946 8.38178C5.35946 8.68878 5.43146 8.84078 5.34346 8.50278C5.27246 8.00678 5.15646 7.15978 4.98846 6.41078C4.86046 5.84278 4.82946 5.75378 4.70746 5.31778C4.57846 4.85378 4.51246 4.52878 4.39146 4.03678C4.30746 3.68878 4.15646 2.97778 4.11546 2.57778C4.05846 2.03078 4.02846 1.13878 4.37946 0.728782C4.65446 0.407782 5.28546 0.310782 5.67646 0.508782C6.18846 0.767782 6.47946 1.51178 6.61246 1.80878C6.85146 2.34278 6.99946 2.95978 7.12846 3.76978C7.29246 4.80078 7.59446 6.23178 7.60446 6.53278C7.62846 6.16378 7.53646 5.38678 7.60046 5.03278C7.65846 4.71178 7.92846 4.33878 8.26646 4.23778C8.55246 4.15278 8.88746 4.12178 9.18246 4.18278C9.49546 4.24678 9.82546 4.47078 9.94846 4.68178C10.3105 5.30578 10.3175 6.58078 10.3325 6.51278C10.4185 6.13678 10.4035 5.28378 10.6165 4.92878C10.7565 4.69478 11.1135 4.48378 11.3035 4.44978C11.5975 4.39778 11.9585 4.38178 12.2675 4.44178C12.5165 4.49078 12.8535 4.78678 12.9445 4.92878C13.1625 5.27278 13.2865 6.24578 13.3235 6.58678C13.3385 6.72778 13.3975 6.19478 13.6165 5.85078C14.0225 5.21178 15.4595 5.08778 15.5145 6.48978C15.5395 7.14378 15.5345 7.11378 15.5345 7.55378C15.5345 8.07078 15.5225 8.38178 15.4945 8.75578C15.4635 9.15578 15.3775 10.0598 15.2525 10.4978C15.1665 10.7988 14.8815 11.4758 14.6005 11.8818C14.6005 11.8818 13.5265 13.1318 13.4095 13.6948C13.2915 14.2568 13.3305 14.2608 13.3075 14.6598C13.2845 15.0578 13.4285 15.5818 13.4285 15.5818C13.4285 15.5818 12.6265 15.6858 12.1945 15.6168C11.8035 15.5538 11.3195 14.7758 11.1945 14.5378C11.0225 14.2098 10.6555 14.2728 10.5125 14.5148C10.2875 14.8978 9.80346 15.5848 9.46146 15.6278C8.79346 15.7118 7.40746 15.6588 6.32246 15.6478C6.32246 15.6478 6.50746 14.6368 6.09546 14.2898C5.79046 14.0308 5.26546 13.5058 4.95146 13.2298L4.11946 12.3088Z",stroke:"#1D1B16",strokeWidth:"0.75",strokeLinecap:"round",strokeLinejoin:"round"}),(0,C.jsx)("path",{d:"M12.3535 12.6641V9.20508",stroke:"#1D1B16",strokeWidth:"0.75",strokeLinecap:"round"}),(0,C.jsx)("path",{d:"M10.3383 12.6761L10.3223 9.20312",stroke:"#1D1B16",strokeWidth:"0.75",strokeLinecap:"round"}),(0,C.jsx)("path",{d:"M8.3418 9.23438L8.3628 12.6604",stroke:"#1D1B16",strokeWidth:"0.75",strokeLinecap:"round"})]})});var x=n(324600),k=n(265317),b=n(369576),v=n(676310),w=n(226009);const _=(0,c.defineMessages)({userMessage:{defaultMessage:"Whatâ€™s the latest on project Polar Bear?",id:"slack.announcement.animation.userMessage"},aiResponse:{defaultMessage:"The team is working on App Store listings. <numberCitation></numberCitation><slackCitation></slackCitation>",id:"slack.announcement.animation.aiResponse"},sourcesTitle:{defaultMessage:"2 sources found",id:"slack.announcement.animation.sourcesTitle"},sourceOne:{defaultMessage:"Thread in #mobile-team",id:"slack.announcement.animation.sourcesTitleMobileStore"},sourceTwo:{defaultMessage:"App listings",id:"slack.announcement.animation.sourcesTitleThreadInMobileTeam"}}),j={y:50,maxHeight:0,opacity:0},M={y:0,maxHeight:90,opacity:1},W={type:"spring",duration:.62,bounce:.26},A=[0,.03,.2,.22,.35];function I(){const[e,t]=(0,a.useState)(0);(0,a.useEffect)((()=>{let e=0;const n=setInterval((()=>{e+=1,t(e),e>=4&&clearInterval(n)}),1500);return()=>clearInterval(n)}),[]);const n=(0,s.Fg)(),o="dark"===n.mode,i=(0,s.yK)((e=>({wrapper:{minHeight:"275px",width:"100%",maxWidth:420,backgroundColor:e.accentColors.gray[50],paddingLeft:20,paddingRight:20,display:"flex",alignItems:"center",overflow:"hidden"},innerWrapper:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center",gap:12,width:"100%"},userMessageWrapper:{marginTop:24,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"max-content",padding:"8px 16px",backgroundColor:e.accentColors.gray[100],color:e.text.secondary,borderRadius:16,alignSelf:"end",fontWeight:u.Z.fontWeight.medium,fontSize:u.Z.fontSize.UIRegular.desktop},aiMessageWrapper:{alignSelf:"start",marginRight:24,alignItems:"center",justifyContent:"center",padding:"8px 16px",backgroundColor:o?e.accentColors.gray[100]:"white",boxShadow:e.aiEditCardDropShadow,color:e.text.primary,borderRadius:16,fontWeight:u.Z.fontWeight.medium,fontSize:u.Z.fontSize.UIRegular.desktop},citationTitleWrapper:{display:"flex",fontSize:u.Z.fontSize.UISmall.desktop,fontWeight:u.Z.fontWeight.medium,color:e.text.secondary,paddingLeft:16,marginTop:4,marginBottom:8},citationWrapper:{alignItems:"center",gap:6,display:"flex",fontSize:u.Z.fontSize.UISmall.desktop,fontWeight:u.Z.fontWeight.medium,paddingLeft:16,marginBottom:8},thinkingWrapper:{position:"absolute",paddingLeft:16},docsIcon:{color:e.accentColors.gray[500],width:16,height:16},slackCitationWrapper:{display:"inline-flex",flexWrap:"nowrap",width:"fit-content",whiteSpace:"nowrap",height:15,paddingRight:4,alignItems:"center",borderRadius:7,marginLeft:2,fontSize:10,gap:4,paddingLeft:5,background:e.accentColors.gray[300],color:"white",marginTop:1,cursor:"default",userSelect:"none"},slackCitationIcon:{marginLeft:-2,height:8,width:8,alignItems:"center",color:"white"},cursor:{width:24,height:24,position:"absolute",borderRadius:16,fill:"white"}})),[o]),r=(0,C.jsx)(h.E.div,{style:i.cursor,initial:{x:100,y:100,opacity:0},animate:{x:[100,8,8],y:[100,12,12],opacity:[0,1,1]},transition:{delay:2,duration:2,ease:"easeInOut"},children:y()}),l=(0,C.jsxs)(h.E.span,{initial:{background:n.accentColors.gray[300]},animate:{background:[n.accentColors.gray[300],n.accentColors.uiBlue[600],n.accentColors.uiBlue[600],n.accentColors.uiBlue[600],n.accentColors.uiBlue[600]],scale:[1,1.2,1.2,.9,1]},transition:{delay:3,duration:3,times:A},style:i.slackCitationWrapper,children:[2,(0,k.Q)({...i.slackCitationIcon}),r]}),d=(0,C.jsx)("span",{children:(0,C.jsx)(v.gm,{number:1,hovered:!1,style:{cursor:"default",userSelect:"none"}})});return(0,C.jsx)("div",{style:i.wrapper,children:(0,C.jsxs)(h.E.div,{style:i.innerWrapper,children:[(0,C.jsx)(S.M,{children:e>=0&&(0,C.jsx)(h.E.div,{initial:j,animate:M,transition:{...W,delay:.3},style:i.userMessageWrapper,children:(0,C.jsx)(c.FormattedMessage,{..._.userMessage})},"userMessage")}),(0,C.jsxs)("div",{style:{position:"relative"},children:[(0,C.jsx)(S.M,{children:1===e&&(0,C.jsx)(h.E.div,{initial:j,animate:M,transition:W,exit:{opacity:0,maxHeight:0,y:-15},style:i.thinkingWrapper,children:(0,C.jsx)(w.Q,{})},"aiThinking")}),(0,C.jsx)(S.M,{children:e>=2&&(0,C.jsx)(h.E.div,{initial:j,animate:M,transition:W,style:i.aiMessageWrapper,children:(0,C.jsx)(c.FormattedMessage,{..._.aiResponse,values:{slackCitation:()=>l,numberCitation:()=>d}})},"aiResponse")})]}),(0,C.jsx)(S.M,{children:e>=3&&(0,C.jsxs)(h.E.div,{initial:j,animate:M,transition:W,children:[(0,C.jsx)("div",{style:i.citationTitleWrapper,children:(0,C.jsx)(c.FormattedMessage,{..._.sourcesTitle})}),(0,C.jsxs)("div",{style:i.citationWrapper,children:[(0,b.e)(i.docsIcon),(0,C.jsx)(c.FormattedMessage,{..._.sourceTwo})]}),(0,C.jsxs)("div",{style:i.citationWrapper,children:[(0,x.P)(i.docsIcon),(0,C.jsx)(c.FormattedMessage,{..._.sourceOne})]})]},"citations")})]})})}var V=n(199726),B=n(706210),Z=n(65037),T=n(976940),L=n(730459),R=n(80444),K=n(992083),D=n(288280),U=n(915560),F=n(897122),z=n(584076),E=n(164369);const O=(0,c.defineMessages)({titleWithAddon:{defaultMessage:"Get Slack answers in Notion",id:"SlackUniversalQnaAnnouncementModal.titleWithAddon"},titleWithoutAddon:{defaultMessage:"Instant answers across apps",id:"SlackUniversalQnaAnnouncementModal.titleWithoutAddon"},subtitleWithAddon:{defaultMessage:"Find relevant information no matter where it's stored with new AI connectors. More apps coming soon!",id:"SlackUniversalQnaAnnouncementModal.subtitleWithAddon"},subtitleWithoutAddon:{defaultMessage:"Find information from Notion, connected apps, and {gpt4}. Slack is available now, with more coming soon!",id:"SlackUniversalQnaAnnouncementModal.subtitleWithoutAddon"},betaDisclaimer:{defaultMessage:"Beta availability and pricing are subject to change.",id:"SlackUniversalQnaAnnouncementModal.betaDisclaimer"},ctaButtonLabelWithAddon:{defaultMessage:"Try now",id:"SlackUniversalQnaAnnouncementModal.ctaButtonLabelWithAddon"},ctaButtonLabelWithoutAddon:{defaultMessage:"Get unlimited AI",id:"SlackUniversalQnaAnnouncementModal.ctaButtonLabelWithoutAddon"},learnMoreLink:{defaultMessage:"Learn more",id:"SlackUniversalQnaAnnouncementModal.learnMoreLink"}});function Q(){const e=(0,o.O7)(),t=function(){const e=(0,a.useRef)(Date.now()),t=(0,a.useCallback)((()=>{if(null!==e.current){Date.now(),e.current}}),[]);return t}(),n=(0,a.useCallback)((n=>{let{source:a}=n;const o=R.default.state.currentSpaceViewStore;if(o){switch(t(),V.GS(e,"ai_slack_universal_qna_announcement"),a){case"ctaHasAddon":(0,g.navigateToSlackUniversalQnAOnboarding)({analyticsFrom:"slack_universal_qna_announcement_modal"});break;case"ctaNoAddon":K.Z.setState({open:!0,openedFrom:"slack_universal_qna_announcement_modal",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}),p.sA(e,{from:"slack_universal_qna_announcement_modal"})}!function(e,t){const{spaceViewStore:n}=t;m.zq(e,{spaceViewStore:n,at:Date.now(),transactionUserAction:"SlackUniversalQnaAnnouncementModal.setSeenAtToCurrentTimestamp"})}(e,{spaceViewStore:o})}}),[e,t]);return(0,C.jsx)(Z.Z,{calloutKey:"ai_slack_universal_qna_announcement",desktopRenderInner:()=>(0,C.jsx)(P,{onDismiss:n}),phoneRenderInner:()=>null})}function G(){return(0,s.yK)((e=>({title:{fontWeight:u.Z.fontWeight.bold,fontSize:25,display:"flex"},betaBadge:{marginLeft:0},modalContainer:{width:420},animationContainer:{display:"grid",placeItems:"center",backgroundColor:e.accentColors.gray[50]},mainContent:{display:"grid",padding:"24px",gap:6,justifyItems:"flex-start"},footer:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:"18px 24px",display:"flex",justifyContent:"space-between",gap:20},learnMoreCopy:{color:e.lightTextColor,fontSize:12,maxWidth:225},learnMoreLink:{display:"inline-grid",gridAutoFlow:"column",placeItems:"center",paddingLeft:2,marginLeft:-2,borderRadius:2},ctaButton:{padding:"6px 12px",borderRadius:8,whiteSpace:"nowrap"},gpt4:{whiteSpace:"nowrap"}})),[])}function P(e){const t=(0,r.VK)((()=>{var e;const t=(null===(e=D.subscriptionDataStoreInstance.state)||void 0===e?void 0:e.addOns)??[];return(0,d.de)(t)}),[]),{onDismiss:n}=e,s=(0,o.O7)();(0,i.Z)((()=>{(0,L.j)({environment:s,event:{eventName:"ai_slack_universal_qna_announcement_modal_shown",eventProperties:{type:t?"discovery":"upsell"}}})}));const l=(0,a.useCallback)((()=>{B.lZ(s,{callout_key:"ai_slack_universal_qna_announcement",placement_key:"Modal",click_type:"primary_cta",variant:t?"has_addon":"no_addon"}),n({source:t?"ctaHasAddon":"ctaNoAddon"})}),[n,s,t]),u=(0,a.useCallback)((()=>{B.bl(s,{callout_key:"ai_slack_universal_qna_announcement",placement_key:"Modal",dismiss_type:"modal_dismiss_clicked",variant:t?"has_addon":"no_addon"}),n({source:"closeButton"})}),[n,s,t]),p=G();return(0,C.jsxs)("div",{style:p.modalContainer,children:[(0,C.jsx)(T.U4,{onDismiss:u}),(0,C.jsx)("div",{style:p.animationContainer,children:(0,C.jsx)(I,{})}),(0,C.jsxs)("div",{style:p.mainContent,children:[(0,C.jsx)(U.Z,{style:p.betaBadge}),(0,C.jsx)("div",{style:p.title,children:(0,C.jsx)(c.FormattedMessage,{...t?O.titleWithAddon:O.titleWithoutAddon})}),(0,C.jsx)(E.Z,{isSecondaryColor:!0,isMultiline:!0,children:(0,C.jsx)(c.FormattedMessage,{...t?O.subtitleWithAddon:O.subtitleWithoutAddon,values:{gpt4:(0,C.jsx)("span",{style:p.gpt4,children:"GPT-4"})}})})]}),(0,C.jsxs)("div",{style:p.footer,children:[(0,C.jsx)(N,{hasAiAddOn:t}),(0,C.jsx)(F.h,{onClick:l,styles:p.ctaButton,children:(0,C.jsx)(c.FormattedMessage,{...t?O.ctaButtonLabelWithAddon:O.ctaButtonLabelWithoutAddon})})]})]})}function N(e){const{hasAiAddOn:t}=e,n=(0,o.O7)(),i=G(),r=(0,a.useCallback)((()=>{B.lZ(n,{callout_key:"ai_slack_universal_qna_announcement",placement_key:"Modal",click_type:"learn_more",variant:t?"has_addon":"no_addon"})}),[n,t]);return(0,C.jsxs)("div",{style:i.learnMoreCopy,children:[(0,C.jsx)(c.FormattedMessage,{...O.betaDisclaimer})," ",(0,C.jsxs)(z.Z,{onClick:r,style:i.learnMoreLink,href:"https://www.notion.so/help/notion-ai-connectors-beta",external:!0,inline:!0,children:[(0,C.jsx)(c.FormattedMessage,{...O.learnMoreLink}),(0,l.K)({width:16,height:16})]})]})}}}]);