"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[26534],{494043:(e,t,o)=>{o.d(t,{Nx:()=>I,Pb:()=>T,Vc:()=>j,Vw:()=>A,Xg:()=>k,a3:()=>O,bj:()=>B,dp:()=>H,uI:()=>F,us:()=>M,w3:()=>V});var n=o(294184),i=o.n(n),r=o(667294),l=o(724405),a=o(831103),s=o(973420),d=o(60217),c=o(785893);const u="layout-wide",h="layout-wide-right-margin-expanded",g="layout-side-peek",p="layout-center-peek",f="layout-home",x="layout-form",v="layout-home-phone",m="layout-phone",y="layout-tablet",b="layout-template-preview",S="layout-chat",w="layout-layout-editor",C="layout-layout-editor-wide";function k(e){let{children:t,type:o,gap:n,withBottomPadding:r,style:l}=e;const a=(0,d.n1)(o);return(0,c.jsx)("div",{className:i()("layout",{[u]:"wide"===o,[h]:"wide-right-margin-expanded"===o,[g]:"side-peek"===o,[p]:"center-peek"===o,[f]:"home"===o,[v]:"home-phone"===o,[x]:"form"===o,[m]:"phone"===o,[y]:"tablet"===o,[b]:"template-preview"===o,[S]:"chat"===o,[w]:"layout-editor"===o,[C]:"layout-editor-wide"===o}),style:{paddingBottom:r?a:void 0,gap:n,...l},children:t})}const j="layout-content",V="layout-full",R="layout-margin-left",K="layout-margin-right",P="layout-nested-grid",M="hide-scrollbar",_="layout-column";function T(e){return(0,c.jsx)("div",{className:i()(j,e.className),style:e.style,children:e.children})}function I(e){return(0,c.jsx)("div",{className:V,style:e.style,children:e.children})}function B(e){return(0,c.jsx)("div",{className:R,style:e.style,children:e.children})}function A(e){return(0,c.jsx)("div",{className:K,style:e.style,children:e.children})}const E=(0,r.forwardRef)((function(e,t){return(0,c.jsx)("div",{className:i()(P,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function H(e){let{items:t,style:o}=e;const[n,i]=r.useState(0),d=(0,r.useRef)([]),u=(0,l.yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},tab:"centered"===o?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:"centered"===o?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[o]),h=(0,r.useId)(),g=(0,r.useCallback)((e=>`${h}-tab-${e}`),[h]),p=(0,r.useCallback)((e=>`${h}-tabpanel-${e}`),[h]),f=(0,r.useCallback)((e=>{let o;var r;("ArrowLeft"===e.key?(e.preventDefault(),o=(n+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),o=(n+1)%t.length),void 0!==o)&&(i(o),null===(r=d.current[o])||void 0===r||r.focus())}),[n,t.length]);return(0,c.jsx)(a.Z,{name:"PageLayoutTabs",children:(0,c.jsxs)(E,{children:[(0,c.jsx)(T,{children:(0,c.jsx)("div",{role:"tablist",children:(0,c.jsx)(s.X2,{justifyContent:"centered"===o?"center":"flex-start",children:t.map(((e,t)=>{var o;return(0,c.jsx)("button",{ref:e=>{e&&(d.current[t]=e)},id:g(t),role:"tab","aria-controls":p(t),"aria-selected":t===n,tabIndex:t===n?void 0:-1,onKeyDown:f,style:{...u.tab,...t===n&&u.tabSelected},onClick:e=>{e.stopPropagation(),i(t)},children:(0,c.jsxs)(s.X2,{gap:4,alignItems:"center",children:[null===(o=e.icon)||void 0===o?void 0:o.call(e,u.icon),e.label&&(0,c.jsx)("div",{style:u.label,children:e.label})]})},e.key)}))})})}),(0,c.jsx)(E,{id:p(n),role:"tabpanel","aria-labelledby":g(n),children:t[n]?t[n].children:null})]})})}function O(e){return(0,c.jsx)("div",{className:i()(_,e.className),style:{"--min-column-width":`${e.minWidth}px`,...e.style},children:e.children})}function F(e){return(0,c.jsxs)(O,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},60217:(e,t,o)=>{o.d(t,{C_:()=>M,D9:()=>B,L2:()=>I,MQ:()=>_,Nr:()=>K,Qg:()=>T,WJ:()=>E,h9:()=>R,m4:()=>V,mj:()=>P,n1:()=>A});var n=o(800480),i=o(797511),r=o(886628),l=o(749085),a=o(541432),s=o(606287),d=o(761045),c=o(457819),u=o(110906),h=o(492650),g=o(922705),p=o(319124),f=o(212534),x=o(273203),v=o(292283),m=o(861931),y=o(80444),b=o(316772),S=o(319111),w=o(594896),C=o(282136),k=o(188923),j=o(417963);function V(e){(0,f.ZP)({event:e,context:f.Af.EditorMouseDown,callback:()=>{}})}function R(e){(0,f.ZP)({event:e,context:f.Af.EditorClick,callback:()=>{}})}function K(e){return(0,r.VK)((()=>Boolean(j.Z.state.pageMap[e.id])||w.Z.state.pages.has(e.id)),[e.id])}function P(e,t){const o=(0,n.O7)(),l=(0,i.l)(),a=K(e),s=(0,r.VK)((()=>t===C.S.Frame?y.default.state.currentLoadingContainerStore:t===C.S.PeekView&&k.default.state.open?k.default.state.loadingContainerStore:void 0),[t]),d=T(e);return(0,r.VK)((()=>{const t=o.currentUser.isLoggedIn(),n=l&&l.publicEditModeStore.state;return Boolean(e&&s&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=n&&n.hasPublicPermission)||"edit"===(null==n?void 0:n.permission))&&!a&&s.state.ready&&!d&&(!(0,p.GD)(n)||"completionPopup"!==b.default.state.type))}),[o.currentUser,d,s,l,a,e])}function M(e,t){const o=(0,n.O7)(),l=(0,i.l)();return(0,r.VK)((()=>{if(_.state===e.id)return!0;if(t===C.S.SitePreview)return!1;if(!(0,x.r)(o))return!1;if(!o.currentUser.isLoggedIn())return!1;const n=l&&l.publicEditModeStore.state;if(null!=n&&n.hasPublicPermission&&"edit"!==(null==n?void 0:n.permission))return!1;if(e.getContentLength()>1)return!1;const i=e.getContentStores()[0];if(i&&!i.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const r=g.TI.state,a=g.mn.state;return!r||e.id!==a}),[o,l,e,t])}const _=l.default.createValue(void 0,{name:"ExperimentalTemplatePickerPreviewingStore"});function T(e){return(0,r.VK)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(a.Ti.externalObjectInstancePage)}),[e])}function I(e){return(0,r.VK)((()=>{if(!(0,v.K6)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===s.vF){const e=t.getFormat();return!(null==e||!e.external_collection_type)}return!1}),[e])}function B(e){return(0,r.VK)((()=>{if(!(0,v.K6)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t||null===(t=t.getFormat())||void 0===t?void 0:t.external_collection_type)??!1)}),[e])}function A(e){const{device:t,WindowSizeStore:o}=(0,n.O7)(),i=(0,r.VK)((()=>{const e=o.state.height,n=t.isMobile&&S.Z.state.open?e:0;return d._4()+n}),[o,t.isMobile]);return(0,r.VK)((()=>Boolean((0,c.RR)(b.default.state))?600:"home-phone"===e?m.jq:t.isTablet?380:t.isIOS?Math.max(350,i):t.isMobile?400:"side-peek"===e||"center-peek"===e?80:"home"===e?m.XX:"30vh"),[t,i,e])}function E(e){const t=(0,n.O7)(),o=(0,r.VK)((()=>(0,h.fg)(t,e)),[t,e]);return(0,r.VK)((()=>o&&!e.isFullWidth()?(0,h.gC)(t,(0,u.en)(e),(0,u.Ks)(e)):0),[t,o,e])}},861931:(e,t,o)=>{o.d(t,{$1:()=>C,$K:()=>S,A0:()=>x,A5:()=>p,Cm:()=>u,EP:()=>s,Er:()=>k,KI:()=>V,Ng:()=>g,QF:()=>h,Uf:()=>c,Vk:()=>f,XX:()=>r,_U:()=>K,bS:()=>b,cc:()=>R,d_:()=>d,iO:()=>a,jO:()=>w,jX:()=>m,jq:()=>l,pW:()=>v});var n=o(653965),i=o(401898);const r=160,l=40,a=24,s=20,d=600,c=270,u=405,h=480,g=500,p=16,f=24,x=10,v=8,m=44,y={backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"},b=4;function S(e){return{icon:e.mediumIconColor,text:e.mediumTextColor}}function w(e){return{width:48,height:48,fill:e.lightIconColor}}function C(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.personalHomeBackgroundDesktop}function k(e){let{theme:t,isPhone:o,buttonState:n}=e,i=t.whiteButtonBackground;switch(n){case"hovered":i=t.whiteButtonHoveredBackground;break;case"pressed":i=t.whiteButtonPressedBackground}return o&&(i=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:i,...y,boxShadow:K({isPhone:o,theme:t,borderOnly:!0}),width:28,height:28,borderRadius:4}}const j=1;function V(e){let{isPhone:t,theme:o}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:o.home.tile.background,boxShadow:K({isPhone:t,theme:o}),...y}}function R(e){let{mode:t,isPhone:o}=e;switch(t){case"dark":return 0;case"light":return j;default:return(0,i.P)(t),0}}function K(e){let{isPhone:t,theme:o,borderOnly:i}=e;if("dark"===o.mode)return"unset";o.mode;const r=R({mode:o.mode,isPhone:t});return(0,n.oA)([i||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}},728495:(e,t,o)=>{o.d(t,{d:()=>l});var n=o(749085),i=o(292595);class r extends n.default{getInitialState(){return{open:!1,currentView:"chat"}}}const l=new r;(0,i.exposeDebugValue)("AssistantMenuStore",l)},603286:(e,t,o)=>{o.r(t),o.d(t,{COLLAPSE_THRESHOLD_IN_PIXELS:()=>N,FloatingTableOfContents:()=>z,FloatingTableOfContentsFullSizeContents:()=>U,FloatingTableOfContentsMiniContents:()=>q});var n=o(667294),i=o(45060),r=o(800480),l=o(886628),a=o(724405),s=o(949271),d=o(662193),c=o(585031),u=o(380503),h=o(151454),g=o(668709),p=o(623063),f=o(584076),x=o(953437),v=o(776798),m=o(311368),y=o(730459),b=o(843250),S=o(917504),w=o(99340),C=o(628267),k=o(305971),j=o(60217),V=o(494043),R=o(95802),K=o(224646),P=o(223196),M=o(415723),_=o(728495),T=o(319385),I=o(188923),B=o(650628),A=o(27724),E=o(328662),H=o(789579),O=o(749085);class F extends O.default{getInitialState(){return{displayState:"expanded"}}}var L=o(956203),D=o(785893);const N=310,Z=!1;function z(e){const{store:t}=e,o=(0,r.O7)(),n=(0,l.VK)((()=>o.device.isMobile),[o]),i=(0,k.E)("floating_table_of_contents"),{navigableAncestorStore:a}=(0,E.m)({parentStore:t}),s=(0,l.VK)((()=>{const e=null==a?void 0:a.getModel();return i&&e&&"off"!==e.getFloatingTableOfContentsState()}),[i,a]),d=(0,l.VK)((()=>I.default.isSidePeekOpen()),[]),c=(0,l.VK)((()=>(0,K.Sx)(o)),[o]),u=(0,l.VK)((()=>_.d.state.open&&"chat"===_.d.state.currentView),[]);return!s||n||d||c||u?null:(0,D.jsx)(W,{store:e.store})}function W(e){const{store:t}=e,o=(0,n.useRef)(null),s=(0,l.qz)(void 0,F),{verticalScroller:d}=(0,n.useContext)(m.Ue)??{},{navigableAncestorStore:c,headerStores:p}=(0,E.m)({parentStore:t}),f=(0,r.O7)(),x=(0,l.VK)((()=>"floating_right"===T.default.getEligibleGroup({experimentId:"floating_table_of_contents_variants",defaultGroup:"control"})),[]),{closestSelectable:v,targetHorizontalRule:y}=(0,l.VK)((()=>{var e;if(!d)return{};const t=(null==d?void 0:d.getStore()).state.clientRect??d.measureSize(),{selectableRectMap:o}=B.Z.state,n=t&&t.top+t.height/4,i=R.C.findScrollToSelectablesFromIds(p.map((e=>e.id))),r=new Map(i.map((e=>[e.props.store.id,e]))),{stores:l,phase:a}=A.default.state,s=a===A.SelectionPhase.Selected?l.find((e=>r.has(e.id))):void 0,c=s&&r.get(s.id),u=c&&o.get(c);if(u&&t&&M.kK(u,t))return{closestSelectable:c,targetHorizontalRule:n};let h;if(void 0!==n)for(const d of i){const e=o.get(d);if(!e)continue;const t=e.top+e.height/2,i=Math.abs(n-t);(!h||i<h.distance)&&(h={distance:i,selectable:d})}return{targetHorizontalRule:n,closestSelectable:null===(e=h)||void 0===e?void 0:e.selectable}}),[p,d]),S=(0,C.X)(o,10),w=(0,l.VK)((()=>{var e;return null==c||null===(e=c.getModel())||void 0===e?void 0:e.getFloatingTableOfContentsState()}),[c]);(0,n.useEffect)((()=>{const e=!!S&&S.width>N,t="minimal"===w||x;s.setState({...s.state,displayState:e&&!t?"expanded":"collapsed_narrow"})}),[s,S,w,null==S?void 0:S.width,x]);const k=(0,j.WJ)(t),K=(0,l.VK)((()=>s.state.displayState),[s]);(0,n.useEffect)((()=>{Z&&y&&(0,i.yX)({top:y-3,bottom:y+3,left:0,width:9e3},"active header target")}));const P=(0,a.yK)((()=>({outerContainer:{position:"absolute",top:0,width:`calc(100% - ${x?0:k}px)`,height:`calc(100vh - ${u.R6(f.device.isElectronMac)}px)`,display:"flex",flexDirection:"column",pointerEvents:x?"none":void 0},viewportHeightContainer:{display:"flex"}})),[f.device.isElectronMac,k,x]),[_,I]=function(e){const t=(0,n.useRef)(null),o=(0,l.VK)((()=>{var o;const n=B.Z.state.selectableRectMap,i=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect();if(!i)return!1;for(const[t,r]of n)if(t.getContextSelectableContainer()===A.default.getCurrentDefaultContainer()&&"collection_view"!==t.props.store.getType()&&!t.props.ignoreForTocSelectionIntersection&&M.kK(r,i)){const o=t.props.store.getRecordStoreUIRoot();return e===o}return!1}),[e]);return[t,o]}(e.store),H={store:t,navigableAncestorStore:c,scrollTargetY:y,activeBlockId:null==v?void 0:v.props.store.id,headerStores:p,floatingTocStore:s};if(p.length<2&&"minimal"===w)return null;const O=x?V.Vw:V.bj;return(0,D.jsxs)(O,{style:{width:`calc(100% - ${x?0:46}px)`,gridRow:"1 / -1",paddingLeft:k,position:"sticky",top:0,right:x?0:void 0,zIndex:h.O9,transition:"opacity 0.2s ease",opacity:I?0:1,visibility:I?"hidden":"visible",pointerEvents:I?"none":"auto"},children:[(0,D.jsx)("div",{style:{width:"100%",height:0},ref:o}),(0,D.jsx)("div",{className:`hide-scrollbar ${b.hBn}`,style:P.outerContainer,children:(0,D.jsx)("div",{style:P.viewportHeightContainer,children:(0,D.jsx)(g.p,{allowSelectionWithin:!0,style:{width:"100%"},children:"expanded"===K?(0,D.jsx)($,{ref:_,...H}):(0,D.jsx)(X,{...H,ref:_})})})})]})}const X=n.forwardRef((function(e,t){const o=(0,r.O7)(),{floatingTocStore:i}=e,s=(0,n.useRef)(null),c=(0,d.sH)(),[u,h]=(0,n.useState)(!1),g=(0,l.VK)((()=>T.default.getEligibleGroup({experimentId:"floating_table_of_contents_variants",defaultGroup:"control"})),[]),f="floating_right"===g,v="hug_content_left"===g,m=(0,n.useRef)(),b=(0,l.VK)((()=>e=>{var t;(L.Z.setState({isHovered:e}),i.setState({...i.state,displayState:e?"collapsed_full":"collapsed_narrow"}),e)&&(m.current=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect(),(0,y.j)({environment:o,event:{eventName:"open_page_table_of_contents",eventProperties:{}}}))}),[o,i]),w=(0,l.VK)((()=>"collapsed_narrow"===i.state.displayState),[i]),C=(0,a.yK)((e=>({fullSizeContainer:{width:242,display:"flex",flexDirection:"row",alignItems:"center",padding:"12px 12px 0 12px",marginRight:10,backgroundColor:e.contentBackground,boxShadow:e.largeLightBoxShadow,border:`1px solid ${e.lightDividerColor}`,borderRadius:14,position:"relative",overflowY:"auto"},miniSizeContainer:{width:56,display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:12,paddingRight:8}})),[]),{verticalOffsetInPx:k,maxHeightForFullSizeToc:j,maxHeightForCollapsedToc:V}=oe(e.store,i),R=(0,n.useCallback)((e=>({opacity:e?1:0})),[]);return(0,D.jsxs)("div",{style:{maxHeight:j,marginBottom:60,...f?{pointerEvents:"auto"}:{}},onMouseLeave:()=>b(!1),children:[(0,D.jsx)(p.Z,{isVisible:!0,animationStyle:R(w),render:()=>(0,D.jsx)("div",{style:{maxHeight:V,display:"flex",flexDirection:"row",position:"absolute",top:k,...f||v?{right:0}:{},overflowY:"hidden"},onMouseMove:S.V,children:(0,D.jsx)("div",{ref:c(s,t),style:C.miniSizeContainer,onMouseOver:()=>{b(!0)},children:(0,D.jsx)(q,{...e})})})}),(0,D.jsx)(p.Z,{isVisible:!w,onAnimationStart:()=>{h(!0)},onAnimationEnd:()=>{h(!1)},animationStyle:{translateX:0,opacity:1},enterAnimationStyle:{translateX:f?10:-10,opacity:0},exitAnimationStyle:{translateX:f?10:-10,opacity:0},render:()=>(0,D.jsx)(x.ZP,{preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:P.k.Popup,originGap:-56,alignmentToOrigin:x.ZP.Alignment.Start,open:!w||u,placementToOrigin:f?x.ZP.Placement.Left:x.ZP.Placement.Right,originRect:m.current,style:{background:void 0,boxShadow:void 0,overflow:void 0,marginTop:-10},render:()=>(0,D.jsx)("div",{style:{display:"flex",flexDirection:"row",width:258,paddingLeft:16,cursor:"default"},onMouseMove:e=>{(0,S.V)(e),e.stopPropagation()},onMouseLeave:()=>b(!1),children:(0,D.jsx)("div",{style:C.fullSizeContainer,children:(0,D.jsx)(U,{...e,fillBackground:!0,maxHeight:j})})})})})]})})),$=n.forwardRef((function(e,t){const{store:o,floatingTocStore:n}=e,{verticalOffsetInPx:i,maxHeightForFullSizeToc:r}=oe(o,n),a=(0,l.VK)((()=>"floating_right"===T.default.getEligibleGroup({experimentId:"floating_table_of_contents_variants",defaultGroup:"control"})),[]);return(0,D.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"end",...a?{pointerEvents:"auto"}:{}},children:(0,D.jsx)("div",{ref:t,onMouseMove:S.V,style:{position:"absolute",top:i,marginRight:60,width:250,overflowY:"auto",maxHeight:r},className:"hide-scrollbar",children:(0,D.jsx)(U,{...e,maxHeight:r})})})}));function G(e){const t=(0,l.VK)((()=>c.y({headerBlockId:e.headerStore.id,headerBlockIds:e.headerStores.map((e=>e.id)),index:e.index,getRecordModel:e.store.getRecordModel})),[e.headerStore.id,e.headerStores,e.index,e.store.getRecordModel]),o=(0,w.rv)(e.store),i=(0,a.yK)((n=>({container:{...o,cursor:"pointer",width:"100%",paddingBottom:e.isLast?12:void 0,color:e.isActive?n.v2.text.ui.blue.primary:n.text.secondary,transition:"color 0.15s ease"},linkBoxHovered:{background:n.tint.regular,borderRadius:4,color:e.isActive?n.v2.text.ui.blue.primary:n.text.primary},nameContainer:{display:"flex",alignItems:"center",marginLeft:12*t},name:{paddingRight:s.ZD.paddingRight,paddingLeft:s.ZD.paddingLeft,fontSize:14,lineHeight:1.3,display:"flex",alignItems:"center",padding:4}})),[o,t,e.isActive,e.isLast]),r=(0,H.R)({pageStore:e.navigableAncestorStore,scrollToBlockId:e.headerStore.id,isFloatingToc:!0}),[d,u]=(0,n.useState)(!1);return e.navigableAncestorStore?(0,D.jsx)(f.Z,{style:{...i.container,...e.style},href:r.href,onClick:r.onClick,external:!1,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),hovered:!1,pressedStyle:{background:"none"},ignoreLocalHoverState:!0,children:(0,D.jsx)("div",{style:{...i.nameContainer,...d?i.linkBoxHovered:{}},children:(0,D.jsx)("div",{style:i.name,children:(0,D.jsx)(v.Z,{store:e.headerStore,shouldWrap:!0,underline:!1,maxLines:2})})})}):null}function U(e){const{headerStores:t,navigableAncestorStore:o,maxHeight:n}=e,i=(0,a.yK)((e=>({container:{maxWidth:500,maxHeight:n,width:"100%",cursor:"default"},fillContainer:{padding:6,maxWidth:500,maxHeight:n,width:"100%",cursor:"default"}})),[n]);return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{onMouseMove:S.V,style:e.fillBackground?i.fillContainer:i.container,children:t.map(((n,i)=>(0,D.jsx)(G,{headerStore:n,index:i,isLast:i===t.length-1,headerStores:t,store:e.store,navigableAncestorStore:o,isActive:n.id===e.activeBlockId,scrollTargetY:e.scrollTargetY},n.id)))})})}function Y(e){const t=(0,l.VK)((()=>c.y({headerBlockId:e.headerStore.id,headerBlockIds:e.headerStores.map((e=>e.id)),index:e.index,getRecordModel:e.store.getRecordModel})),[e.headerStore.id,e.headerStores,e.index,e.store.getRecordModel]),o=(0,a.yK)((o=>{const n=o.accentColors.gray[800],i="dark"===o.mode&&e.isActive;return{lineContainer:{backgroundColor:e.isActive?n:o.fill.gray,height:2,width:16-4*t,transition:"background 0.2s ease, box-shadow 0.2s ease",boxShadow:i?`0px 0px 3px ${n}`:"none",borderRadius:2,marginLeft:4*t}}}),[t,e.isActive]);return e.navigableAncestorStore?(0,D.jsx)("div",{children:(0,D.jsx)("div",{style:o.lineContainer})}):null}function q(e){const{headerStores:t,navigableAncestorStore:o}=e,n=(0,a.yK)((()=>({container:{display:"flex",flexDirection:"column",gap:12,paddingLeft:20,paddingBottom:12,height:"100%"}})),[]);return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{style:n.container,onMouseMove:S.V,children:t.map(((n,i)=>(0,D.jsx)(Y,{headerStore:n,index:i,headerStores:t,store:e.store,navigableAncestorStore:o,isActive:n.id===e.activeBlockId},n.id)))})})}const Q=113,J=600,ee=18,te=130;function oe(e,t){const{verticalScroller:o}=(0,n.useContext)(m.Ue)??{},i=null==o?void 0:o.getStore(),r=(0,l.VK)((()=>{const t=R.C.findNodeFromBlockId(e.id),o=null==i?void 0:i.state;if(B.Z.state.selectableElementRectMap,o&&t)return Math.max(t.offsetTop-o.scrollTop+ee,te)}),[e,i]),a=(0,l.VK)((()=>{var e;return null==i||null===(e=i.state.clientRect)||void 0===e?void 0:e.height}),[i]),s=(0,l.VK)((()=>t.state.displayState),[t]),d=a&&r?a-r-("expanded"!==s?80:0):J;return{maxHeightForFullSizeToc:d,maxHeightForCollapsedToc:Math.min(400,d),verticalOffsetInPx:r||Q}}}}]);