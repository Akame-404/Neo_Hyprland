"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[25008,55408],{718250:(e,t,i)=>{i.d(t,{K:()=>s,O:()=>n});var o=i(745483);function n(e){o.Z.state.openModals.has(e)||(o.Z.state.openModals.add(e),o.Z.emit())}function s(e){o.Z.state.openModals.has(e)&&(o.Z.state.openModals.delete(e),o.Z.emit())}},493911:(e,t,i)=>{i.d(t,{Fv:()=>A,JN:()=>x,QG:()=>j,cQ:()=>w,f$:()=>M,fX:()=>T,td:()=>k,xD:()=>I});i(757658);var o=i(730120),n=i(180951),s=i(640506),r=i(253877),a=i(842875),l=i(606287),c=i(653965),d=i(401898),u=i(108406),m=i(554569),p=i(575134),h=i(119785),g=i(709953),f=i(137231),b=i(110906),v=i(95802),S=i(415723),y=i(206258),C=i(866);function x(e){const{environment:t,droppedStores:i,duplicate:c,calendarBy:d,transaction:p,collectionContextStore:g}=e,f=o.ou.fromMillis(e.startOfDay);let v=!0;for(const o of i){const t=e.collectionStore?e.collectionStore:(0,b.Bm)({store:o,collectionContextStore:g});if(o.getParentTable()===l.vF||!t){v=!1;break}h.zw({childStore:o,parentStore:t,transaction:p})||(v=!1)}const S=m.Ab({environment:t,droppedStores:i,duplicate:c,duplicateUseCrdt:"same_as_store",transaction:p,collectionStore:e.collectionStore});for(const o of S){const i=e.collectionStore?e.collectionStore:(0,b.Bm)({store:o,collectionContextStore:g});if(!i)continue;const l=i.getMappedProperty(d),c=o.getPropertyStore(l),h=n.Gl(c.getValue())||r.Lg((0,a.r)()),S=r.c$(h,(0,a.r)()),y=f.toFormat(r.Iq);let C;if("date"===S.type||"datetime"===S.type)C={...S,start_date:y};else{const e=r.NK(S,(0,a.r)());if(!e.end)return;const t={...S,start_date:y},i=r.NK(t,(0,a.r)()).start.diff(e.start,"days"),o=e.end.plus(i).toFormat(r.Iq);C={...S,start_date:y,end_date:o}}const x=r.c$(C,s.yw(h)||(0,a.r)());m.mp({environment:t,store:o,collectionStore:i,collectionContextStore:g,shouldCoerce:!0,groupsPointer:[],transaction:p,alreadyMovedToCollection:v}),I({environment:t,type:"dateValue",propertyId:l,store:o,transaction:p,dateValue:x}),u.rv({environment:t,collectionContextStore:g,block_id:o.id,property:l,property_type:"date",from:"calendar"})}}function M(e){const{calendarStore:t,direction:i,targetStore:o}=e;t.setState({...t.state,isDragging:!0,targetStore:o,direction:i,temporaryValue:void 0})}function k(e){const{calendarStore:t,x:i,y:l,calendarBy:d}=e,u=t.state;if(u.isDragging){const e=n.Gl(u.targetStore.getPropertyStore(d).getValue());if(!e)return;const m=r.c$(e,(0,a.r)()),p=u.temporaryValue||e,h=r.c$(p,(0,a.r)()),g=[];u.dayStoreMap.forEach(((e,t)=>{g.push({store:e,timestamp:t})}));const f=g.find((e=>{let{store:t}=e;const o=v.C.getRectFromStore(t);return Boolean(o&&S.uh(o,i,l))}));let b;if(f){const e=o.ou.fromMillis(f.timestamp),t=e.endOf("day"),i=e.toFormat(r.Iq);if(m){const n=r.NK(m,(0,a.r)());if(u.direction===C.t.Left)if(o.Xp.fromDateTimes(e,t).contains(n.start))b=m;else{let e;e="datetimerange"===m.type||"daterange"===m.type?{...m,start_date:i,end_date:m.end_date}:"datetime"===m.type?{type:"datetimerange",start_date:i,start_time:m.start_time,end_date:m.start_date,end_time:m.start_time,time_zone:m.time_zone,reminder:m.reminder}:{type:"daterange",start_date:i,end_date:m.start_date,reminder:m.reminder};const t=r.NK(e,(0,a.r)());b=!n.end&&t.start>n.start||n.end&&t.start>n.end?h:e}else if(n.end?o.Xp.fromDateTimes(e,t).contains(n.end):o.Xp.fromDateTimes(e,t).contains(n.start))b=m;else{let e;e="date"===m.type?{...m,type:"daterange",end_date:i}:"datetime"===m.type?{...m,type:"datetimerange",end_date:i,end_time:"00:00"}:{...m,end_date:i};const t=r.NK(e,(0,a.r)());b=t.end&&t.end<t.start?h:e}}}if(b&&!c.Xy(h,b)){const e=r.c$(b,s.yw(p)||(0,a.r)());t.setState({...u,temporaryValue:e})}}}function T(e){const{environment:t,calendarStore:i,calendarBy:o,transaction:n}=e,s=i.state;s.isDragging&&s.temporaryValue&&(I({type:"dateValue",environment:t,dateValue:s.temporaryValue,propertyId:o,store:s.targetStore,transaction:n}),i.setState({...i.state,isDragging:!1}))}function w(e){const{calendarStore:t}=e,i=t.state;i.isDragging&&t.setState({...i,isDragging:!1})}function A(e){const{environment:t,store:i,collectionStore:s,collectionContextStore:l,startDayOfWeek:c,transaction:d}=e,u=l.dateRangeStartStore.state,p=(0,a.r)(),h=l.normalizedQueryStore.state;if(!h||!h.calendar_by)return;const f=(null==s?void 0:s.getMappedProperty(h.calendar_by))??h.calendar_by,b=r.gQ(u,c,p),v=b.startOf("month"),S=b.endOf("month"),y=o.ou.now().startOf("day");let C;return C=o.Xp.fromDateTimes(v,S).contains(y)?r.hT(y.valueOf(),p):r.hT(r.em(u,c,p).valueOf(),p),g.sW({store:i.getPropertiesStore(),data:{[f]:n.d7(C)},transaction:d}),m.mp({environment:t,store:i,collectionStore:s,collectionContextStore:l,shouldCoerce:!0,groupsPointer:[],transaction:d}),i}function I(e){const{environment:t,store:i,propertyId:o,transaction:s}=e;let l;"timestamp"===e.type?l=r.hT(e.timestampMs.valueOf(),(0,a.r)()):"dateValue"===e.type?l=e.dateValue:(0,d.t1)(e);const c=i.getPropertyValue(o),u=n.d7(l);g.sW({store:i.getPropertiesStore(),data:{[o]:u},transaction:s}),p.H({environment:t,store:i,dateProperty:{id:o,oldValue:c,newValue:u}})}function j(e){const{environment:t,collectionStore:i,calendarBy:o,store:n,insertStores:s,collectionContextStore:r,transaction:a}=e,l=n.getPropertyStore(o).getValue();for(const c of s)m.mp({environment:t,store:c,collectionStore:i,collectionContextStore:r,shouldCoerce:!0,groupsPointer:[],transaction:a}),f.sO({environment:t,store:c.getNormalizedPropertyStore(o),value:l,transaction:a});return s.map((e=>y.G.createChildStore(i,e.pointer)))}},822168:(e,t,i)=>{i.r(t),i.d(t,{default:()=>oe});var o=i(730120),n=i(667294),s=i(800480),r=i(886628),a=i(749085),l=i(815145),c=i(640506),d=i(407057),u=i(253877),m=i(842875),p=i(2585),h=i(605257),g=i(421202),f=i(709291),b=i(653965),v=i(554569),S=i(608055),y=i(210228),C=i(713401),x=i(475498),M=i(573063),k=i(478140),T=i(743765),w=i(840721),A=i(672495),I=i(278948),j=i(466213),B=i(484210),_=i(460709);class V extends a.default{getInitialState(){return{}}}const P=V;var R=i(206258),Z=i(493911),L=i(766461),F=i(724405),D=i(508769),N=i(405829),O=i(654497),H=i(137810),K=i(4827),E=i(278030),z=i(552275),U=i(316354),q=i(731278),Y=i(776798),W=i(433929),G=i(165598),$=i(80444),Q=i(785893);const X=function(e){let{time:t,store:i,format:o,schema:s,blockPropertyValueOverlayStore:a,collectionStore:c}=e;const d=(0,F.Fg)(),u=(0,r.VK)((()=>i.getIcon()),[i]),m=(0,r.VK)((()=>i.hasIcon()||!i.isEmptyPage()),[i]),p=(0,r.VK)((()=>i.hasError()),[i]),h=(0,r.VK)((()=>i.isEmptyPage()),[i]),g=(0,r.VK)((()=>(0,B.ZP)({store:i,fullyQualified:!1,pageVisitSource:l.tY.LinkInPage})),[i]),f=(0,r.VK)((()=>G.Xp(i,{recursivelyLoadAllDiscussions:!1})),[i]),b=(0,r.VK)((()=>{var e;return(null==o?void 0:o.table_wrap)||!0===(null==o||null===(e=o.calendar_properties)||void 0===e||null===(e=e.find((e=>"title"===(null==e?void 0:e.property))))||void 0===e?void 0:e.wrap)}),[null==o?void 0:o.calendar_properties,null==o?void 0:o.table_wrap]);return(0,Q.jsx)(U.Z,{href:g,children:(0,Q.jsx)(z.Z,{focused:!1,title:(0,Q.jsxs)(n.Fragment,{children:[t&&(0,Q.jsx)("div",{style:{display:"flex",color:d.mediumTextColor,fontSize:14,marginTop:8,marginBottom:6},children:t}),(0,Q.jsxs)("div",{style:{display:"flex",alignItems:"center",...t&&{marginBottom:8}},children:[m&&!p&&(0,Q.jsx)(q.Z,{disabled:!0,icon:u,isEmptyPage:h,size:24,style:{flexShrink:0,marginRight:8,alignSelf:"baseline"}}),p&&(0,O.t)({marginLeft:2,marginRight:10,width:20,fill:d.accentColors.orange[500]}),(0,Q.jsx)(Y.Z,{store:i,style:{fontWeight:H.Z.fontWeight.semibold,whiteSpace:b?"pre-wrap":void 0}}),f>0&&(0,Q.jsxs)("div",{style:{display:"flex",alignItems:"center",color:d.mediumTextColor,fontSize:12,marginLeft:4,flexShrink:0,alignSelf:"baseline"},children:[(0,N.s)({width:12,height:12,marginRight:4,fill:d.mediumIconColor}),f]})]})]}),caption:(0,Q.jsx)(ee,{format:o,schema:s,store:i,blockPropertyValueOverlayStore:a,collectionStore:c})})})};function J(e){let{property:t,schema:i,store:o,blockPropertyValueOverlayStore:n,collectionStore:s}=e;return i[t]?(0,Q.jsx)(K.Z,{store:o,property:t,disabled:!0,locked:!1,format:E.C.Calendar,tableWrap:!1,blockPropertyValueOverlayStore:n,collectionStore:s},t):null}function ee(e){let{format:t,schema:i,store:o,blockPropertyValueOverlayStore:n,collectionStore:s}=e;const a=(0,r.VK)((()=>(t.calendar_properties?t.calendar_properties.filter((e=>e.visible)).map((e=>e.property)):[]).filter((e=>{var t;return(0,D.X)({block:o.getModel(),property:e,schema:i,getRecordModel:o.getRecordModel,userId:null===(t=$.default.state.currentUserStore)||void 0===t?void 0:t.id,userTimeZone:(0,m.r)(),intl:W.default.getIntl()})}))),[t.calendar_properties,i,o]);return a.length>0?(0,Q.jsx)("div",{style:{marginTop:8},children:a.map((e=>(0,Q.jsx)(J,{property:e,schema:i,store:o,blockPropertyValueOverlayStore:n,collectionStore:s},e)))}):null}const te={display:"flex",alignItems:"center",height:"100%"},ie=a.default.createClass(void 0,{name:"ResultStore"});const oe=function(e){let{collectionContextStore:t,initialStartOfDay:i,calendarBy:o,disabled:s,onDismiss:a,blockPropertyValueOverlayStore:l,schema:c,format:d}=e;const u=(0,r.qz)(void 0,ie),m=(0,r.qz)(void 0,P),p=(0,r.VK)((()=>(0,L.YG)({collectionContextStore:t,startOfDay:re(i,m).valueOf()})),[t,i,m]),h=(0,n.useCallback)((()=>(0,Q.jsx)(le,{collectionContextStore:t,calendarBy:o,initialStartOfDay:i,disabled:s,onDismiss:a,blockPropertyValueOverlayStore:l,schema:c,format:d,store:m,resultStore:u})),[t,o,i,s,a,l,c,d,m,u]);return p?(0,Q.jsx)(x.Z,{id:"calendar_day_results",reducer:p,collectionContextStore:t,render:h,resultStore:u}):null};function ne(e){let{item:t,currentStartOfDay:i,currentEndOfDay:o,schema:n,calendarBy:s,intl:r}=e;const a=n[s];if(!a||"date"!==a.type)return;const l=a.date_format||c.sF,p=a.time_format||c.c_,h=t.start,g=t.end,f=Boolean(!(i<=h&&h<=o)||g&&!(i<=g&&g<=o));if(t.end){const e=u.iC(t.start.valueOf(),t.end?t.end.valueOf():t.start.valueOf(),t.timeZone??(0,m.r)());return f?(0,d.ZV)({value:e,date_format:l,time_format:p,userTimeZone:t.timeZone,allowRelativeDates:!0,intl:r}):(0,d.ns)({start_time:e.start_time,end_time:e.end_time,time_format:p,humanReadable:!0,intl:r})}return(0,d.mr)({start_time:u.CQ(t.start.valueOf(),t.timeZone??(0,m.r)()).start_time,time_format:p,humanReadable:!0,intl:r})}function se(e){let{blockStore:t,item:i,currentStartOfDay:o,currentEndOfDay:n,disabled:s,blockPropertyValueOverlayStore:a,collectionContextStore:l,schema:c,calendarBy:d,format:u}=e;const m=(0,f.useIntl)(),p=(0,r.VK)((()=>l.collectionStore()),[l]);return p?(0,Q.jsx)(X,{store:t,time:i.includeTime?ne({schema:c,calendarBy:d,intl:m,item:i,currentStartOfDay:o,currentEndOfDay:n}):void 0,disabled:s,format:u,schema:c,blockPropertyValueOverlayStore:a,collectionStore:p},i.id):null}function re(e,t){const{currentStartOfDay:i}=t.state;return i?o.ou.fromMillis(i):o.ou.fromMillis(e)}function ae(e,t,i,o,n,s){const r=re(o,n),a=y.createAndCommit({userAction:"MobileCalendarDayMenu.newStore",environment:e,perform:o=>{const n=v.IW({environment:e,collectionContextStore:t,groupsPointer:[],insertAtIndex:0,shouldCoerce:!1,initializeDefaultTemplate:!0,transaction:o,from:"mobile_calendar_day_menu"});if(n)return Z.xD({type:"timestamp",environment:e,store:n.newStore,propertyId:i,timestampMs:r.valueOf(),transaction:o}),n.newStore}});if(!a.performResult)return;!function(e,t,i){i?i(e):S.c4({environment:t,url:e})}((0,B.ZP)({store:a.performResult,pageVisitSource:l.tY.Create}),e,s)}function le(e){let{collectionContextStore:t,calendarBy:i,initialStartOfDay:o,disabled:a,onDismiss:l,blockPropertyValueOverlayStore:c,schema:u,format:m,store:v,resultStore:S}=e;const y=(0,s.O7)(),x=(0,f.useIntl)(),B=(0,n.useContext)(j.ZO),V=(0,n.useCallback)((()=>ae(y,t,i,o,v,B)),[y,t,i,o,v,B]),P=(0,n.useCallback)((()=>function(e,t){const i=re(e,t);t.setState({...t.state,currentStartOfDay:i.plus({day:1}).valueOf()})}(o,v)),[o,v]),Z=(0,n.useCallback)((()=>function(e,t){const i=re(e,t);t.setState({...t.state,currentStartOfDay:i.minus({day:1}).valueOf()})}(o,v)),[o,v]),F=(0,r.VK)((()=>t.collectionStore()),[t]),D=(0,r.VK)((()=>re(o,v)),[o,v]),N=D.endOf("day"),O=(0,r.VK)((()=>function(e,t,i,o){const n=t.collectionStore();if(!n)return;const s=o.state,r=t.normalizedQueryStore.state,a=t.normalizedSchemaStore.state,l=r?r.calendar_by:void 0;if(!(s&&r&&l&&a))return;const c=new Map;let d=b.oA(s.blockIds.map((t=>{const o=R.G.createChildStore(n,{id:t,table:g.iU});return(0,L.BO)({blockStore:o,calendarBy:l,schema:a,getRecordValue:n.getRecordValue,userId:e.currentUser.id,intl:i,resultCache:c})})));return r.sort||(d=b.MR(d,(e=>e.start))),d}(y,t,x,S)),[y,t,x,S]);return F?(0,Q.jsxs)(k.Z,{menuType:_.og.Modal,title:(0,Q.jsxs)("div",{style:te,children:[(0,Q.jsx)(M.Z,{onClick:Z,icon:p.f,style:{marginRight:8,marginTop:2},mobileFeedback:!0}),(0,Q.jsx)("div",{children:(0,d.ZW)(D,"month_day_long")}),(0,Q.jsx)(M.Z,{onClick:P,icon:h.o,style:{marginLeft:8,marginTop:2},mobileFeedback:!0})]}),right:(0,Q.jsx)(w.DoneMenuText,{}),onClickRight:l,children:[!O&&(0,Q.jsx)(A.Z,{children:(0,Q.jsx)(I.Z,{})}),O&&0===O.length&&(0,Q.jsx)(A.Z,{children:(0,Q.jsx)(T.Z,{title:(0,Q.jsx)(f.FormattedMessage,{defaultMessage:"No items",id:"mobileCalendarDayMenu.noResults.message"})})}),O&&O.length>0&&(0,Q.jsx)(A.Z,{children:O.map((e=>{const o=R.G.createChildStore(F,{id:e.id,table:g.iU});return(0,Q.jsx)(se,{disabled:a,blockPropertyValueOverlayStore:c,collectionContextStore:t,schema:u,calendarBy:i,format:m,blockStore:o,item:e,currentStartOfDay:D,currentEndOfDay:N},e.id)}))}),!a&&(0,Q.jsx)(A.Z,{topBorder:!0,children:(0,Q.jsx)(C.Z,{focused:!1,onClick:V,title:(0,Q.jsx)(f.FormattedMessage,{defaultMessage:"New item",id:"mobileCalendarDayMenu.newItemButton.label"})})})]}):null}},766461:(e,t,i)=>{i.d(t,{BO:()=>b,Ft:()=>p,YG:()=>h,y$:()=>f});i(757658);var o=i(730120),n=i(830823),s=i(640506),r=i(253877),a=i(842875),l=i(959753),c=i(709291),d=i(653965),u=i(628020),m=i(840863);function p(e){const{collectionContextStore:t}=e,i=t.collectionViewStore();if(!i)return;const o=t.normalizedSchemaStore.state,n=i.getQuery(o);if(!n||!n.calendar_by)return;const s=t.dateRangeStartStore.state,l=t.dateRangeEndStore.state,c=(0,r.hT)(s,(0,a.r)()),d=(0,r.hT)(l,(0,a.r)());return g({calendarBy:n.calendar_by,dateRangeStartDate:c,dateRangeEndDate:d})}function h(e){const{collectionContextStore:t,startOfDay:i}=e,n=t.collectionViewStore();if(!n)return;const s=t.normalizedSchemaStore.state,l=n.getQuery(s);if(!l||!l.calendar_by)return;const c=o.ou.fromMillis(i).endOf("day").valueOf(),d=(0,r.hT)(i,(0,a.r)()),u=(0,r.hT)(c,(0,a.r)());return g({calendarBy:l.calendar_by,dateRangeStartDate:d,dateRangeEndDate:u})}function g(e){const{dateRangeStartDate:t,dateRangeEndDate:i,calendarBy:o}=e;return{type:"results",filter:{operator:"and",filters:[{property:o,filter:{operator:"date_is_on_or_after",use_end:!0,value:{type:"exact",value:t}}},{property:o,filter:{operator:"date_is_on_or_before",value:{type:"exact",value:i}}}]},limit:5e3}}function f(e){var t;const{collectionContextStore:i,results:o,getRecordValue:n,intl:l}=e,c=i.collectionViewStore(),p=i.normalizedQueryStore.state,h=i.normalizedSchemaStore.state,g=p?p.calendar_by:void 0,f=i.dateRangeStartStore.state,S=i.dateRangeEndStore.state,y=(null===(t=i.collectionViewStore())||void 0===t?void 0:t.getFormat().calendar_show_weekends)??!0,C=u.AK.state,x=(0,a.r)(),M=i.getCurrentUserId();if(!(c&&p&&g&&h))return;const k=new Map,T=d.oA(o.map((e=>b({blockStore:e,calendarBy:g,schema:h,getRecordValue:n,userId:M,intl:l,resultCache:k})))),w={};o.forEach(((e,t)=>{w[e.id]=t}));0===(p.sort||[]).length&&T.sort(((e,t)=>{const i=e.start.valueOf(),o=t.start.valueOf();if(i===o){return w[e.id]-w[t.id]}return i-o}));const A=y?(0,r.em)(f,C,x):(0,r.Ty)(f,C,x),I=y?(0,r.gQ)(S,C,x):(0,r.Kw)(S,C,x);let j=A;const B=[];do{const e=y?(0,r.gQ)(j.valueOf(),C,x):(0,r.Kw)(j.valueOf(),C,x),t={},i=T.filter((t=>(0,s.b8)(j.valueOf(),e.valueOf(),t.start.valueOf(),t.end?t.end.valueOf():void 0))).map((i=>{const{id:o,start:n,end:s,includeTime:r,timeZone:a}=i,{startColumn:l,columnCount:c}=(0,m.du)({startUnixTimestampMS:n.valueOf(),endUnixTimestampMS:s?s.valueOf():void 0,startOfWeekUnixTimestampMS:j.valueOf(),endOfWeekUnixTimestampMS:e.valueOf()}),d=v(l,c,t);return{id:o,start:n.valueOf(),end:s?s.valueOf():void 0,row:d,includeTime:r,timeZone:a}}));B.push({start:j.valueOf(),end:e.valueOf(),items:i}),j=y?(0,r.em)(j.plus({week:1}).plus({hour:25}).valueOf(),C,x):(0,r.Ty)(j.plus({week:1}).plus({hour:25}).valueOf(),C,x)}while(j<I);return B}function b(e){const{blockStore:t,calendarBy:i,schema:o,getRecordValue:s,intl:c,userId:d,resultCache:u}=e,m=t.getAssociatedCollectionStore(),p=t.getModel();if(!p)return;const h=(0,n.FT)({property:i,schema:o,block:p,getRecordModel:l.om.fromGetRecordValueFn(s),propertyMapping:null==m?void 0:m.getPropertyMapping(),collectionRequestContext:{userId:d,userTimeZone:(0,a.r)(),depth:0,intl:c,visitedProperties:new Set,resultCache:u}}).next().value;if("date"!==h.type)return;const g=h.value,f=g&&(0,r.NK)(g,(0,a.r)());if(!g||!f)return;return{id:p.id,start:f.start,end:f.end,includeTime:"datetime"===g.type||"datetimerange"===g.type,timeZone:"datetime"===g.type||"datetimerange"===g.type?g.time_zone:void 0}}function v(e,t,i){let o=0;for(;;){let n=!1;for(let s=0;s<t;s++)S(i,e+s,o)&&(n=!0);if(!n)break;o++}for(let n=0;n<t;n++)y(i,e+n,o);return o}function S(e,t,i){return Boolean(e[i]&&e[i][t])}function y(e,t,i){e[i]||(e[i]={}),e[i][t]=!0}(0,c.defineMessages)({week:{defaultMessage:"Week",id:"calendar.viewRanges.week"},month:{defaultMessage:"Month",id:"calendar.viewRanges.month"}})},638086:(e,t,i)=>{i.d(t,{$Z:()=>n,eC:()=>s,s0:()=>a});var o=i(886628);i(95477),i(319385);function n(){return(0,o.VK)((()=>s()),[])}function s(){return!1}const r={text:!0,title:!0,select:!0,created_by:!1,last_edited_by:!1,last_edited_time:!1,checkbox:!1,created_time:!1,date:!1,email:!1,multi_select:!1,number:!1,person:!1,phone_number:!1,relation:!1,status:!1,url:!1,file:!1,auto_increment_id:!1,button:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1};function a(e){return r[e.type]}},155408:(e,t,i)=>{i.r(t),i.d(t,{DiscussionFormat:()=>j,DiscussionLocationToAvatarSize:()=>W,anyDiscussionCommentsLoading:()=>z,commentComparator:()=>L,discussionLocationToDiscussionFormat:()=>U,formatFileSize:()=>G,getAndSortCommentStoresByTime:()=>F,getDiscussions:()=>R,getDiscussionsForSidebar:()=>Z,getFirstComment:()=>D,getIcon:()=>I,getLatestRelevantComment:()=>B,getSetOfUsersInDiscussions:()=>q,hasCommentChanged:()=>E,inputIsEmpty:()=>K,isCommentAllEmojis:()=>Y,lineClampForCommentCount:()=>P,sortDiscussionStoresByLatestComment:()=>H});var o=i(266897),n=i(12436),s=(i(667294),i(745238)),r=i(785893);const a=(0,s.IU)("codeFile",{viewBox:"0 0 23 24",svg:(0,r.jsx)("path",{d:"M4.195 11.86c0-.266.078-.488.235-.665.156-.182.38-.3.672-.351.494-.089.849-.271 1.062-.547.214-.281.32-.73.32-1.344V6.961c0-1.115.263-1.938.79-2.469.525-.536 1.333-.804 2.421-.804.203 0 .375.023.516.07.177.057.31.146.398.265a.646.646 0 01.141.422c0 .339-.148.558-.445.657a1.14 1.14 0 01-.157.039l-.171.015c-.625.047-1.066.222-1.32.524-.256.302-.384.8-.384 1.492v2.414c0 .672-.182 1.198-.546 1.578-.36.38-.86.604-1.5.672-.032 0-.047.013-.047.039.005.02.02.034.047.04.64.062 1.14.283 1.5.663.364.38.546.906.546 1.578v2.414c0 .693.128 1.19.383 1.492.255.303.696.48 1.32.532.053 0 .1.002.141.008l.133.03c.333.09.5.308.5.657a.68.68 0 01-.14.43.816.816 0 01-.407.273 1.48 1.48 0 01-.437.063c-1.12 0-1.948-.266-2.485-.797-.531-.526-.797-1.352-.797-2.477V14.79c0-.614-.106-1.062-.32-1.344-.213-.28-.568-.463-1.062-.547-.292-.062-.516-.182-.672-.359-.157-.177-.235-.404-.235-.68zm15.602 0c0 .275-.078.502-.235.68-.156.176-.382.296-.68.358-.5.084-.856.266-1.07.547-.208.282-.312.73-.312 1.344v1.992c0 1.125-.266 1.95-.797 2.477-.531.531-1.36.797-2.484.797-.151 0-.297-.021-.438-.063a.757.757 0 01-.414-.265.715.715 0 01-.133-.438c0-.182.042-.328.125-.437a.674.674 0 01.383-.22l.117-.03c.047-.006.097-.008.149-.008.625-.052 1.065-.23 1.32-.532.255-.302.383-.799.383-1.492v-2.414c0-.672.182-1.208.547-1.61.364-.405.864-.616 1.5-.632.026-.005.039-.018.039-.039 0-.026-.013-.04-.04-.04-.635-.015-1.135-.226-1.5-.632-.364-.406-.546-.945-.546-1.617V7.172c0-.693-.128-1.193-.383-1.5-.255-.307-.695-.48-1.32-.516l-.18-.015a1.233 1.233 0 01-.148-.04c-.297-.109-.446-.328-.446-.656 0-.166.045-.307.133-.422a.777.777 0 01.414-.265c.14-.047.31-.07.508-.07 1.089 0 1.896.268 2.422.804.526.531.789 1.354.789 2.469v1.992c0 .615.107 1.06.32 1.336.214.276.568.461 1.063.555.297.052.523.169.68.351a.967.967 0 01.234.664z"})}),l=(0,s.IU)("compressedFile",{viewBox:"0 0 23 24",svg:(0,r.jsx)("path",{d:"M5.297 17.758V5.968c0-.838.213-1.473.64-1.905.428-.438 1.06-.657 1.899-.657h8.32c.839 0 1.472.219 1.899.656.427.433.64 1.068.64 1.907v11.789c0 .844-.213 1.482-.64 1.914-.427.432-1.06.648-1.899.648h-8.32c-.839 0-1.471-.216-1.899-.648-.427-.432-.64-1.07-.64-1.914zm1.539-.094c0 .36.094.635.281.828.188.193.472.29.852.29h8.062c.38 0 .664-.097.852-.29.187-.193.281-.469.281-.828V6.07c0-.364-.094-.643-.281-.836-.188-.198-.471-.296-.852-.296H7.97c-.38 0-.664.098-.852.296-.187.193-.281.472-.281.836v11.594zm4.617 1.906V8.648h1.086V19.57h-1.086zM12 8.953c-.62 0-1.107-.17-1.46-.508-.35-.338-.524-.804-.524-1.398 0-.115.005-.23.015-.344.016-.114.037-.226.063-.336l.734-3.21a.637.637 0 01.242-.384.709.709 0 01.438-.14h.984a.68.68 0 01.43.14.672.672 0 01.25.383l.734 3.211c.021.11.037.222.047.336.016.115.024.23.024.344 0 .594-.175 1.06-.524 1.398-.349.339-.833.508-1.453.508zm0-1.125c.24 0 .438-.08.594-.242a.826.826 0 00.242-.61.82.82 0 00-.242-.593.795.795 0 00-.594-.25c-.24 0-.44.083-.602.25a.825.825 0 00-.242.594c0 .24.078.442.235.609a.826.826 0 00.609.242zm0 2.89V9.696h1.828c.146 0 .268.05.367.149a.464.464 0 01.149.351c0 .146-.05.271-.149.375a.498.498 0 01-.367.149H12zm-1.836 1.024a.516.516 0 01-.367-.148.525.525 0 01-.149-.375c0-.14.05-.258.149-.352a.516.516 0 01.367-.148H12v1.023h-1.836zM12 12.79v-1.023h1.828c.146 0 .268.05.367.148a.49.49 0 01.149.36.5.5 0 01-.149.367.498.498 0 01-.367.148H12zm-1.836 1.024a.516.516 0 01-.367-.149.516.516 0 01-.149-.367c0-.14.05-.258.149-.352a.516.516 0 01.367-.148H12v1.015h-1.836zM12 14.867v-1.023h1.828c.146 0 .268.05.367.148a.473.473 0 01.149.36.5.5 0 01-.149.367.499.499 0 01-.367.148H12zm-1.836 1.024a.508.508 0 01-.516-.523.48.48 0 01.149-.352.516.516 0 01.367-.149H12v1.024h-1.836zM12 16.945v-1.023h1.828c.146 0 .268.05.367.148a.473.473 0 01.149.36c0 .14-.05.263-.149.367a.499.499 0 01-.367.148H12zm-1.836 1.04a.516.516 0 01-.367-.15.499.499 0 01-.149-.366c0-.146.05-.266.149-.36a.516.516 0 01.367-.148H12v1.023h-1.836z"})});var c=i(340304);const d=(0,s.IU)("executable",{viewBox:"0 0 23 23.5",svg:(0,r.jsx)("path",{d:"M5.164 16.883c-.37-.209-.651-.448-.844-.719-.187-.276-.28-.69-.28-1.242V8.609c0-.416.08-.763.241-1.039.162-.28.417-.52.766-.718l5.492-3.079c.484-.27.971-.406 1.461-.406.49 0 .974.136 1.453.406l5.492 3.079c.35.197.604.437.766.718.161.276.242.623.242 1.04v6.312c0 .552-.094.966-.281 1.242-.188.27-.469.51-.844.719l-6.047 3.39c-.52.287-1.044.287-1.57 0l-6.047-3.39zm.844-1.203l5.265 2.976v-6.265L5.43 9.094v5.687c0 .203.041.375.125.516.088.14.24.268.453.383zm11.976 0c.214-.115.362-.242.446-.383a.95.95 0 00.133-.516V9.094l-5.844 3.297v6.265l5.265-2.976zM12 11.11l5.773-3.235-4.937-2.781c-.552-.318-1.112-.318-1.68 0l-4.93 2.781L12 11.109z"})}),u=(0,s.IU)("file3D",{viewBox:"0 0 23 24",svg:(0,r.jsx)("path",{d:"M5.648 16.352l5.61-2.82v-6.65h1.492v6.65l5.61 2.82-.75 1.273-5.61-2.82-5.61 2.82-.742-1.273zm-1.945 1.195l1.32-2.985c.105-.25.243-.427.415-.53a.643.643 0 01.539-.071c.187.052.349.198.484.437l1.937 3.352c.146.245.196.46.149.648a.61.61 0 01-.336.43c-.177.1-.404.133-.68.102l-3.242-.36c-.297-.036-.5-.146-.61-.328-.103-.182-.096-.414.024-.695zm16.594 0c.12.281.125.513.015.695-.104.182-.304.292-.601.328l-3.242.36c-.271.03-.498-.003-.68-.102a.634.634 0 01-.344-.43c-.041-.187.01-.403.157-.648l1.937-3.352c.135-.24.294-.385.477-.437a.638.638 0 01.539.07c.177.104.32.281.43.531l1.312 2.985zm-8.89-12.985c.181-.25.377-.372.585-.367.208 0 .404.123.586.367l1.93 2.618c.167.229.252.445.258.648a.596.596 0 01-.204.5c-.14.13-.354.195-.64.195h-3.86c-.276 0-.486-.065-.632-.195a.637.637 0 01-.203-.508c.005-.208.088-.422.25-.64l1.93-2.617z"})}),m=(0,s.IU)("fileAttachment",{viewBox:"0 0 28 28",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{width:"28",height:"28",fill:"none"}),(0,r.jsx)("path",{d:"M7.70703 27.3799H21.2783C23.7412 27.3799 24.9854 26.1104 24.9854 23.6348V11.7266C24.9854 10.3555 24.8076 9.74609 23.9697 8.88281L16.5049 1.3418C15.6924 0.516602 15.0322 0.326172 13.8008 0.326172H7.70703C5.26953 0.326172 4 1.58301 4 4.05859V23.6348C4 26.1104 5.25684 27.3799 7.70703 27.3799ZM7.7832 25.8057C6.32324 25.8057 5.57422 25.0312 5.57422 23.5967V4.09668C5.57422 2.7002 6.32324 1.8877 7.7959 1.8877H13.7246V9.53027C13.7246 10.9775 14.4609 11.6631 15.8701 11.6631H23.4238V23.5967C23.4238 25.0312 22.6621 25.8057 21.2021 25.8057H7.7832ZM16.0352 10.1777C15.4512 10.1777 15.21 9.94922 15.21 9.36523V2.20508L23.1064 10.1777H16.0352Z"})]})}),p=(0,s.IU)("font",{viewBox:"0 0 24 24",svg:(0,r.jsx)("path",{d:"M17.008 17.766c-.724 0-1.354-.185-1.89-.555-.537-.37-.957-.888-1.259-1.555-.296-.672-.445-1.458-.445-2.36 0-.895.149-1.676.445-2.343.303-.672.722-1.193 1.258-1.562.537-.375 1.167-.563 1.89-.563.433 0 .834.07 1.204.211.375.14.7.344.977.61.28.26.5.572.656.937h.062V9.64c0-.256.073-.459.219-.61a.738.738 0 01.555-.226c.234 0 .424.075.57.226.146.151.219.354.219.61v7.312c0 .255-.073.453-.219.594a.771.771 0 01-.57.219.773.773 0 01-.547-.203c-.146-.136-.221-.331-.227-.586v-.954h-.062a2.688 2.688 0 01-1.094 1.29c-.495.302-1.076.453-1.742.453zm.453-1.368c.484 0 .906-.125 1.266-.375.364-.255.643-.611.835-1.07.198-.463.297-1.01.297-1.64 0-.63-.099-1.178-.297-1.641-.197-.469-.476-.83-.835-1.086a2.1 2.1 0 00-1.266-.39 2.13 2.13 0 00-1.266.382c-.354.25-.627.607-.82 1.07-.193.464-.29 1.014-.29 1.649s.097 1.185.29 1.648c.193.464.466.823.82 1.078.36.25.782.375 1.266.375zm-14.07 1.32c-.271 0-.485-.072-.641-.218-.151-.146-.227-.349-.227-.61 0-.156.034-.335.102-.538l3.477-9.375C6.33 6.326 6.784 6 7.46 6c.36 0 .651.08.875.242.23.162.404.406.523.735l3.454 9.335c.072.204.109.391.109.563 0 .26-.084.466-.25.617-.162.151-.38.227-.656.227-.26 0-.466-.06-.618-.18-.145-.115-.26-.312-.343-.594l-.867-2.422H5.226l-.868 2.422c-.083.282-.2.48-.351.594-.146.12-.352.18-.617.18zM5.68 13.07h3.57L7.484 7.992h-.039L5.68 13.07z"})});var h=i(787292);const g=(0,s.IU)("presentation",{viewBox:"0 0 24 24",svg:(0,r.jsx)("path",{d:"M6.305 20.703c-.844 0-1.482-.213-1.914-.64-.433-.428-.649-1.06-.649-1.899v-8.031c0-.839.216-1.472.649-1.899.432-.427 1.07-.64 1.914-.64h11.383c.843 0 1.481.216 1.914.648.437.427.656 1.057.656 1.89v8.032c0 .833-.219 1.464-.656 1.89-.433.433-1.07.65-1.915.65H6.306zm.093-1.531h11.196c.36 0 .635-.096.828-.29.198-.187.297-.47.297-.85v-7.766c0-.38-.1-.664-.297-.852-.193-.193-.469-.289-.828-.289H6.398c-.364 0-.643.096-.835.29-.188.187-.282.47-.282.85v7.766c0 .38.094.664.282.852.192.193.47.289.835.289zM5.461 6.32c.057-.37.185-.656.383-.86.203-.202.513-.304.93-.304h10.453c.416 0 .724.102.921.305.204.203.334.49.391.86H5.461zm1.594-2.258c.02-.348.133-.611.336-.789.208-.182.5-.273.875-.273h7.468c.375 0 .664.091.868.273.203.178.32.44.351.79H7.055z"})}),f=(0,s.IU)("spreadsheet",{viewBox:"0 0 23 24",svg:(0,r.jsx)("path",{d:"M3.32 10.43V8.96h17.422v1.47H3.32zm0 4.343v-1.468h17.422v1.468H3.32zm7.93 3.758V5.203h1.5v13.328h-1.5zm-5.945.625c-.844 0-1.482-.213-1.914-.64-.433-.427-.649-1.058-.649-1.891V7.109c0-.833.216-1.463.649-1.89.432-.433 1.07-.649 1.914-.649H18.68c.849 0 1.49.216 1.922.649.432.427.648 1.057.648 1.89v9.516c0 .833-.216 1.463-.648 1.89-.433.428-1.073.641-1.922.641H5.305zm.093-1.531h13.196c.36 0 .635-.094.828-.281.193-.193.289-.477.289-.852v-9.25c0-.375-.096-.656-.29-.844-.192-.192-.468-.289-.827-.289H5.398c-.364 0-.643.097-.835.29-.188.187-.282.468-.282.843v9.25c0 .375.094.659.282.852.192.187.47.281.835.281z"})});var b=i(562261),v=i(119035),S=i(470691),y=i(653965),C=i(401898),x=i(218265),M=i(165598),k=i(319385),T=i(567926);const w=i(160809),A={doc:c.w,docx:c.w,pages:c.w,md:c.w,txt:c.w,rtf:c.w,xls:f,xlsx:f,csv:f,tsv:f,ods:f,pdf:h.B,pptx:g,ppt:g,zip:l,br:l,bz2:l,gz:l,"7z":l,dmg:l,pkg:l,jar:l,rar:l,tar:l,xar:l,stl:u,obj:u,fbx:u,amf:u,iges:u,mp3:n.l,m4a:n.l,wav:n.l,aac:n.l,ogg:n.l,flac:n.l,alac:n.l,wma:n.l,exe:d,otf:p,ttf:p,woff:p,eof:p,py:a,java:a,js:a,ts:a,tsx:a,c:a,h:a,cpp:a,go:a,rs:a,css:a,php:a,swift:a,kt:a,lua:a,m:a,bash_profile:a,bashrc:a,zshrc:a,vimrc:a,vim:a};function I(e){const t=function(e){if(!e)return"";const{pathname:t}=x.Qc(e);if(!t)return"";const i=t.split(".");return i[i.length-1]}(e).toLowerCase();return A[t]??m}let j=function(e){return e[e.Menu=0]="Menu",e[e.Page=1]="Page",e[e.Sidebar=2]="Sidebar",e[e.Margin=3]="Margin",e[e.Unfurl=4]="Unfurl",e}({});function B(e){let{recordStore:t,currentUserId:i,timestamp:o}=e;return O({recordStore:t,currentUserId:i,timestamp:o})||D(t)}const _=6,V=3;function P(e){return e>1?V:_}function R(e){return e?M.al(e,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0}):[]}function Z(e){let{blockStore:t,currentUserId:i,ignoreAfterTime:o}=e;if(!t)return[];return M.al(t,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0,includePropertyDiscussions:!0}).sort(((e,t)=>{const n=B({recordStore:e,currentUserId:i,timestamp:o}),s=B({recordStore:t,currentUserId:i,timestamp:o});return null!=n&&n.isDefined()?null!=s&&s.isDefined()?-(n.getCreatedTime()-s.getCreatedTime()):1:-1}))}function L(e,t){return e&&e.isDefined()?t&&t.isDefined()?e.getCreatedTime()-t.getCreatedTime():1:-1}function F(e){return M.D4(e).sort(((e,t)=>L(e,t)))}function D(e){return F(e)[0]}function N(e){return O({recordStore:e,currentUserId:void 0})}function O(e){let{recordStore:t,currentUserId:i,timestamp:o}=e;const n=M.D4(t).filter((e=>k.default.checkGate({gateName:"comments_pane_improvements"})?o?e.isDefined()&&e.getCreatedTime()<o:e.isDefined():e.isDefined()&&e.getCreatedById()!==i)).sort(((e,t)=>L(e,t)));return n[n.length-1]}function H(e){return e.sort(((e,t)=>L(N(e),N(t))))}function K(e){const t=e.state.textStore.getValue(),i=(e.state.files??[]).length>0,o=t&&t.length>0;return!i&&!o}function E(e,t){const i=e.state.textStore.getValue(),o=e.state.files;if(!t)return i&&0!==i.length||o&&o.length>0;const n=M.zP(t).getValue();return!y.Xy(n,i)||function(e,t){const i=e.state.files,o=M.le(t);if(o.length!==i.length)return!0;return o.some(((e,t)=>e.id!==i[t].id))}(e,t)}function z(e){if(e.some((e=>!e.isReady())))return!0;return!!e.map((e=>M.D4(e))).flat().some((e=>!e.isReady()||!e.getCreatedTime()))}function U(e){switch(e){case"block_menu":case"ai_reject_all_suggestions":case"reply_menu_mentions_comments":case"reply_menu_all_updates":case"reply_menu_archive":case"reply_menu_updates_sidebar":case"updates_menu_mentions_comments":case"updates_menu_all_updates":case"updates_menu_archive":return j.Menu;case"page_discussion":return j.Page;case"updates_sidebar":return j.Sidebar;case"margin_comments":return j.Margin;case"comment_unfurl":return j.Unfurl;default:(0,C.t1)(e)}}function q(e){return y.mN(y.VS(e,(e=>M.D4(e).map((e=>({store:e,pointer:e.getCreatedByPointer()}))))),(e=>{var t;return null===(t=e.pointer)||void 0===t?void 0:t.id})).filter((e=>(0,C.$K)(e.pointer))).map((e=>{let{store:t,pointer:i}=e;return T.t.createChildStore(t,i)})).map((e=>e.getModel())).filter(C.$K).map((e=>e instanceof S.T?(0,o.dp)(e):e instanceof v.L?(0,o.D$)(e):e instanceof b.R?(0,o.Jp)(e):void(0,C.t1)(e))).filter(C.$K)}function Y(e){var t;if(e.length>1)return!1;const i=e[0];if(!i.length)return!1;const o=i[0].trim(),n=w();return(null===(t=o.match(n))||void 0===t?void 0:t.join(""))===o}const W={updates_menu_all_updates:28,updates_menu_mentions_comments:28,updates_menu_archive:28,block_menu:20,reply_menu_all_updates:20,reply_menu_mentions_comments:20,reply_menu_archive:20,reply_menu_updates_sidebar:20,page_discussion:20,updates_sidebar:23,margin_comments:20,comment_unfurl:32,ai_reject_all_suggestions:28};function G(e){return((null==e?void 0:e.match(/[0-9.]+|[a-z]+/gi))??[]).join(" ")}},713401:(e,t,i)=>{i.d(t,{Z:()=>d});var o=i(667294),n=i(724405),s=i(747453),r=i(531701),a=i(831339),l=i(552275),c=i(785893);const d=o.forwardRef((function(e,t){const i=(0,n.yK)((t=>({base:{color:e.isBlue?r.ZP.blue:t.mediumTextColor}})),[e.isBlue]),{color:o}=i.base;return(0,c.jsx)(l.Z,{ref:t,...e,title:(0,c.jsx)("div",{style:{color:o,fill:o},children:e.title}),icon:(0,c.jsx)(a.Z,{icon:s.R,styles:{fill:o}})})}))},831339:(e,t,i)=>{i.d(t,{Z:()=>s});i(667294);var o=i(800480),n=i(785893);const s=function(e){const t=((0,o.O7)().device.isMobile,{width:16});return(0,n.jsx)("div",{style:t,children:e.icon(e.styles)})}},475498:(e,t,i)=>{i.d(t,{Z:()=>b});var o=i(667294),n=i(883355),s=i(701302),r=i(886628),a=i(749085),l=i(653965),c=i(215828),d=i(710274),u=i(319385),m=i(348190),p=i(785893);class h extends n.Z{constructor(){super(...arguments),this.reducerId=this.props.id,this.instanceId=(0,c.ZP)(),this.localResultStoreChangeIsQueued=!1,this.storeTypes={resultStore:a.default.createClass(void 0,{name:"resultStore"})},this.handleLocalResultStoreChange=()=>{this.localResultStoreChangeIsQueued||(this.localResultStoreChangeIsQueued=!0,s.default.afterNextFlush(this.dequeueLocalResultStoreChange))},this.handleLocalResultStoreChangeDebounced=this.props.debounceWait?(0,l.Ds)(this.handleLocalResultStoreChange,this.props.debounceWait,{leading:!0}):this.handleLocalResultStoreChange,this.dequeueLocalResultStoreChange=()=>{const{resultStore:e}=this.stores;if(this.localResultStoreChangeIsQueued=!1,!this.componentIsMounted)return;const t=this.getCurrentResult();l.Xy(t,e.state)||e.setState(t)}}UNSAFE_willMount(e){const{collectionContextStore:t}=e;t.remoteResultStore.addListener(this.handleLocalResultStoreChange),t.localResultStore.addListener(this.handleLocalResultStoreChangeDebounced),this.updateReducer(e),this.handleLocalResultStoreChange()}UNSAFE_willUpdate(e){this.updateReducer(e)}willUnmount(){super.willUnmount();const{collectionContextStore:e,groupsPointer:t}=this.props;d.$D({reducerId:this.reducerId,instanceId:this.instanceId,reducer:void 0,collectionContextStore:e,groupsPointer:t}),e.remoteResultStore.removeListener(this.handleLocalResultStoreChange),e.localResultStore.removeListener(this.handleLocalResultStoreChangeDebounced)}renderComponent(){const{render:e}=this.props;if(e)return e(this.stores.resultStore)}updateReducer(e){const{reducer:t,collectionContextStore:i,groupsPointer:o}=e;d.$D({reducerId:this.reducerId,instanceId:this.instanceId,reducer:t,collectionContextStore:i,groupsPointer:o})}getCurrentResult(){const{reducer:e,collectionContextStore:t}=this.props,i=t.localResultStore.state,o=t.remoteResultStore.state,n=i&&"reducer"===i.type?i.reducerResults[this.reducerId]:void 0,s=o&&"reducer"===o.type?o.reducerResults[this.reducerId]:void 0;return(0,m.P)({reducerId:this.reducerId,localReducerResult:n,remoteReducerResult:s,reducer:e,collectionContextStore:t})}}function g(e){const{resultStore:t,render:i,...n}=e,s=(0,m.Z)(n),l=(0,r.qz)(t,a.default.createClass(void 0));(0,o.useEffect)((()=>{l.setState(s)}),[s,l]);const c=(0,r.VK)((()=>i?i(l):null),[i,l]);return(0,p.jsx)(p.Fragment,{children:c})}h.displayName="CollectionReducerRequest";const f=o.memo(g);const b=function(e){const t=(0,r.VK)((()=>u.default.checkGate({gateName:"use_collection_reducer_request_hook"})),[]),[i]=(0,o.useState)(t);return i?(0,p.jsx)(f,{...e}):(0,p.jsx)(h,{...e})}},802159:(e,t,i)=>{i.d(t,{m:()=>d});i(667294);var o=i(460651),n=i(709291),s=i(247839),r=i(573063),a=i(934700),l=i(785893);const c=(0,n.defineMessages)({menu:{defaultMessage:"Menu",id:"topbar.appMenuButton.title"}});function d(){const e=(0,n.useIntl)();return(0,l.jsx)(r.Z,{style:{position:"absolute",top:"10px",left:"14px",width:24,height:24,zIndex:1e5,...(0,a.X)({noDrag:!0})},iconStyle:{width:16,height:16},isDarkIconColor:!0,onClick:()=>{s.openAppMenu()},icon:o.h,ariaLabel:e.formatMessage(c.menu)})}},411335:(e,t,i)=>{i.d(t,{Z:()=>g});i(667294);var o=i(886628),n=i(724405),s=i(399036),r=i(180951),a=i(719255),l=i(732566),c=i(421202),d=i(76233),u=i(401898),m=i(206258),p=i(414200),h=i(785893);function g(e){const t=s.LS(e.propertySchema);switch(t){case"text":return(0,h.jsx)(f,{...e});case"relation":return(0,h.jsx)(b,{propertySchema:e.propertySchema,beforeValue:e.beforeValue,afterValue:e.afterValue,rootStore:e.rootStore});case"arrow":return(0,h.jsx)(v,{...e});default:(0,u.t1)(t)}}function f(e){const t={value:a.Mg({before:e.beforeValue.value,after:e.afterValue.value,insertionAnnotation:[d.GKr.Inserted],deletionAnnotation:[d.GKr.Deleted]}),spaceId:e.beforeValue.spaceId};return(0,h.jsx)(p.Z,{value:t,propertySchema:e.propertySchema,rootStore:e.rootStore})}function b(e){const{beforeValue:t,afterValue:i,propertySchema:n,rootStore:s}=e,a=(0,o.VK)((()=>r.NT({beforeValue:t.value,afterValue:i.value,propertySchema:n,getRecordModel:s.getRecordModel,getBlockTitle:e=>m.G.createChildStore(s,{table:c.iU,id:e.id}).getPropertyValue("title")})),[t,i,n,s]);return(0,h.jsx)(p.Z,{value:{value:a,spaceId:t.spaceId},propertySchema:{type:"title",name:"Title"},rootStore:s})}function v(e){const t=(0,n.yK)((()=>({arrowDiffWrap:{display:"inline-flex",alignItems:"center",overflow:"hidden",flexWrap:"wrap",rowGap:6}})),[]);return(0,h.jsxs)("div",{style:t.arrowDiffWrap,children:[(0,h.jsx)(p.Z,{value:e.beforeValue,propertySchema:e.propertySchema,rootStore:e.rootStore}),(0,h.jsx)(S,{}),(0,h.jsx)(p.Z,{value:e.afterValue,propertySchema:e.propertySchema,rootStore:e.rootStore})]})}function S(){const e=(0,n.yK)((e=>({container:{padding:"0px 8px"},icon:{width:15,height:15,fill:e.mediumIconColor}})),[]);return(0,h.jsx)("div",{style:e.container,children:(0,l.k)(e.icon)})}},920066:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ie});i(667294);var o=i(883355),n=i(313991),s=i(800480),r=i(886628),a=i(724405),l=i(541432),c=i(542853),d=i(269634),u=i(505377),m=i(745238),p=i(785893);const h=(0,m.IU)("indentDown",{viewBox:"0 0 30 30",svg:(0,p.jsx)("path",{d:"M24,15l-1.406-1.406L16,20.188V2h-2v18.188l-6.594-6.594L6,15l9,9L24,15z M2,26v2h26v-2H2z"})}),g=(0,m.IU)("keyboard",{viewBox:"0 0 30 30",svg:(0,p.jsxs)("g",{children:[" ",(0,p.jsx)("path",{d:"M15,30l8-10H7Zm0-3.2L11.16,22h7.68Z"})," ",(0,p.jsx)("path",{d:"M6,4H4V6H6V4Zm4,0H8V6h2V4Zm4,0H12V6h2V4Zm4,0H16V6h2V4Zm4,0H20V6h2V4Zm4,0H24V6h2V4ZM10,8H8v2h2V8Zm4,0H12v2h2V8Zm4,0H16v2h2V8Zm4,0H20v2h2V8Zm-2,4H10v2H20V12Zm5,0H22v2h3V12ZM5,14H8V12H5v2ZM0,0V18H30V0H0ZM28,16H2V2H28V16Z"})," "]})}),f=(0,m.IU)("moveUp",{viewBox:"0 0 30 30",svg:(0,p.jsx)("path",{d:"M14,5.813V24h2V5.813l6.594,6.594L24,11l-9-9l-9,9l1.406,1.406L14,5.813z M2,26v2h26v-2H2z"})});var b=i(338491),v=i(405829),S=i(973426),y=i(163048),C=i(937612),x=i(355863),M=i(709291),k=i(653965),T=i(137810),w=i(483249),A=i(844886),I=i(452423),j=i(524677),B=i(898104),_=i(499768),V=i(551783),P=i(352533),R=i(268056),Z=i(389224),L=i(739615),F=i(905162),D=i(223196),N=i(417903),O=i(72653),H=i(869454),K=i(449682),E=i(619671),z=i(27724),U=i(924666),q=i(164921),Y=i(953437),W=i(764131),G=i(982945),$=i(40464),Q=i(432404),X=i(273383);const J={width:34,justifyContent:"center"},ee=42;class te extends o.Z{constructor(){super(...arguments),this.scrollerDiv=void 0,this.currentlyShownTimer=void 0,this.previouslyShownOnNative=!1,this.handleScrollerRef=e=>{e&&(this.scrollerDiv=e)},this.handleActionsScrollDebounced=k.Ds((()=>{return e=this.environment,void w.FG(e);var e}),500),this.listenForPositionChangesStore=this.createComputedStore((()=>{const e=U.default.state;if("editing"===e.mode){const t=e.multiSelection.end;return{scrollTop:N.Z.state.scrollTop,editing:!0,store:t.store.id,selection:t}}return{scrollTop:N.Z.state.scrollTop,editing:!1}})),this.renderStore=this.createComputedStore((()=>{var e;return V.$3(this.environment,this.props.currentBlockStore,null===(e=this.pageContext)||void 0===e?void 0:e.publicEditModeStore.state)})),this.shouldShowTextActionsStore=this.createComputedStore((()=>V.oQ(this.props.stores.ignoreSelectionAreaStore,this.environment.TextSelectionCompositionStore))),this.canTriggerBlockActionsStore=this.createComputedStore((()=>!this.shouldShowTextActionsStore.state&&V.Bo(this.pageContext&&this.pageContext.publicEditModeStore.state))),this.canTriggerTextActionsStore=this.createComputedStore((()=>V.eQ(this.pageContext&&this.pageContext.publicEditModeStore.state,this.props.currentBlockStore))),this.hasMultiBlockSelectionStore=this.createComputedStore((()=>{const e=U.default.state;return"editing"===e.mode&&!(0,R.qS)(e.multiSelection)}))}UNSAFE_willMountOrUpdate(){const{device:e}=this.environment,t=this.renderStore.state.shouldShow;if(e.isMobileBrowser){const e=this.props.stores.store.state.isOpen;t?e?void 0!==this.currentlyShownTimer&&(window.clearTimeout(this.currentlyShownTimer),this.currentlyShownTimer=void 0):(this.props.stores.store.setState({...this.props.stores.store.state,isOpen:!0}),this.scrollerDiv&&(this.scrollerDiv.scrollLeft=0)):e&&void 0===this.currentlyShownTimer&&(this.currentlyShownTimer=window.setTimeout((()=>{this.currentlyShownTimer=void 0,this.props.stores.store.setState({...this.props.stores.store.state,isOpen:!1})}),200))}else t!==this.previouslyShownOnNative&&(this.previouslyShownOnNative=t,this.scrollerDiv&&(this.scrollerDiv.scrollLeft=0))}renderComponent(){const{device:e,WindowSizeStore:t}=this.environment,i=function(e,t,i){const{device:o}=e;return o.isMobileBrowser?t.store.state.isOpen:i.state.shouldShow}(this.environment,this.props.stores,this.renderStore),o=e.isMobile&&O.Z.state;if(this.props.position===P.nd.Bottom){let e=0;return(0,F.Y)("supportsFixedSizeWebView")?e=H.Z.estimatedNativeWebBottomOverlap():o&&(e=t.getSafePaddingBottomCSS(L.VG)),(0,p.jsx)("div",{style:{position:"absolute",bottom:e,left:0,height:ee,width:"100%",pointerEvents:i?"auto":"none",opacity:i?1:0,transform:i?"translateY(0)":`translateY(${ee}px)`,transition:"opacity 120ms ease-out, transform 120ms ease-out"},children:this.renderActionButtons()})}{this.listenForPositionChangesStore.state;const e=this.props.stores.ignoreSelectionAreaStore.state.savedTextSelectionRect||Z.getSelectionRect();if(!e)return;const t=document.body.getBoundingClientRect(),o={...e,left:10,top:e.top+10-t.top},{device:n}=this.environment;return(0,p.jsx)(Y.ZP,{popupType:n.isMobileNative?D.k.SlideUp:D.k.Popup,open:i,preventBlockRenderQueueOnEnter:!0,placementToOrigin:Y.ZP.Placement.Bottom,alignmentToOrigin:Y.ZP.Alignment.Start,originRect:o,disableMouseCapture:!0,keepFocus:!0,render:()=>(0,p.jsx)("div",{style:{height:ee,width:"calc(80wv)",borderRadius:4,overflow:"hidden"},children:this.renderActionButtons()})})}}renderActions(){return V.Tz({environment:this.environment,store:this.props.currentBlockStore})?(0,p.jsx)(Me,{stores:this.props.stores}):this.shouldShowTextActionsStore.state?this.renderTextActions():this.renderBlockActions()}renderActionButtons(){return(0,p.jsxs)("div",{style:be(this.props.position,this.environment,this.theme),children:[this.renderActions(),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:{...Ce(this.environment.device.isSmallPhone,this.theme),borderLeft:fe(this.theme),borderRight:"none"},onClick:e=>{return t=this.props.stores,i=this.environment,j.ZH({debug:{userAction:"MobileActionBar.handleDismissKeyboard"},environment:i}),t.store.setState({...t.store.state,isInsertOpen:!1}),ge("hide_keyboard",i),void B.sD();var t,i},children:me})]})}renderBlockActions(){const e=this.canTriggerBlockActionsStore.state;let t=!1,i=!1;const o=this.props.currentBlockStore.getType();if(o){const e=this.props.currentBlockStore.getFormat();(0,l._T)(o,e)||(t=!0),(0,l.lQ)(o)||(i=!0)}E.Z.state.isOpen&&(t=!1);const{device:n}=this.environment;return(0,p.jsxs)("div",{ref:this.handleScrollerRef,style:he(),onScroll:this.handleActionsScrollDebounced,children:[(0,p.jsxs)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:{...Ce(this.environment.device.isSmallPhone,this.theme),...!n.isSmallPhone&&{paddingLeft:12,paddingRight:12}},onClick:e=>{return t=this.props.stores,i=this.environment,t.store.setState({...t.store.state,isInsertOpen:!0}),void ge("insert",i);var t,i},disabled:!e,children:[ue,(0,p.jsx)(ve,{})]}),(0,p.jsxs)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:{...Ce(this.environment.device.isSmallPhone,this.theme),fontWeight:T.Z.fontWeight.medium},onClick:e=>{this.props.stores.store.setState({...this.props.stores.store.state,isTurnIntoOpen:!0}),ge("turn_into",this.environment)},disabled:!e,children:[(0,p.jsx)(M.FormattedMessage,{defaultMessage:"Turn into",id:"mobileActionBar.turnInto.buttonTitle"}),(0,p.jsx)(ve,{})]}),(0,p.jsx)(_.Z,{capture:!0,render:e=>(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,...e,style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:e=>{return t=this.environment,void V.Z3(t);var t},disabled:!i,children:(0,p.jsx)("span",{style:{fontSize:19,lineHeight:1,fontWeight:T.Z.fontWeight.medium,marginBottom:n.isAndroid?4:0},children:"@"})})}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:e=>{return t=this.environment,void V.ol(t,"mobile_action_bar");var t},disabled:!t,children:de}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:e=>{return t=this.environment,void V.vs(t);var t},disabled:!e,children:pe}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:e=>{return t=this.environment,void V.fn(t);var t},disabled:!e,children:ce}),(0,p.jsx)(ke,{canTriggerBlockActionsStore:this.canTriggerBlockActionsStore}),(0,p.jsx)(xe,{}),(0,p.jsxs)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:{...Ce(this.environment.device.isSmallPhone,this.theme),fontWeight:T.Z.fontWeight.medium},onClick:e=>{this.props.stores.store.setState({...this.props.stores.store.state,isColorOpen:!0}),ge("color",this.environment)},disabled:!e,children:[(0,p.jsx)(M.FormattedMessage,{defaultMessage:"Color",id:"mobileActionBar.color.buttonTitle"}),(0,p.jsx)(ve,{})]}),(0,p.jsxs)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:{...Ce(this.environment.device.isSmallPhone,this.theme),fontWeight:T.Z.fontWeight.medium},onClick:e=>function(e,t){V.w1(t,e.clientX,e.clientY)}(e,this.environment),disabled:!e,children:[(0,p.jsx)(M.FormattedMessage,{defaultMessage:"More",id:"mobileActionBar.more.buttonTitle"}),(0,p.jsx)(ve,{})]})]})}renderTextActions(){const e=this.canTriggerTextActionsStore.state,t=this.hasMultiBlockSelectionStore.state,i=this.props.currentBlockStore.canComment(),o=z.default.state.stores[0],s={display:"flex",alignItems:"center",padding:"0 8px",whiteSpace:"nowrap"};return(0,p.jsxs)("div",{style:he(),onScroll:this.handleActionsScrollDebounced,children:[(0,p.jsx)(G.Z,{style:Ce(this.environment.device.isSmallPhone,this.theme),blockStore:z.default.state.stores[0],disabled:!i||E.Z.state.isOpen,iconOnly:!1}),(0,p.jsx)($.Z,{type:"b",style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:()=>ge("bold",this.environment),disabled:!e,children:(0,p.jsx)("span",{style:{fontWeight:T.Z.fontWeight.semibold},children:(0,p.jsx)(M.FormattedMessage,{defaultMessage:"B",id:"mobileActionBar.bold.symbol"})})}),(0,p.jsx)($.Z,{type:"i",style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:()=>ge("italic",this.environment),disabled:!e,children:(0,p.jsx)("span",{style:{fontStyle:"italic",fontWeight:T.Z.fontWeight.semibold},children:(0,p.jsx)(M.FormattedMessage,{defaultMessage:"i",id:"mobileActionBar.italic.symbol"})})}),(0,p.jsx)($.Z,{type:"_",style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:()=>ge("underline",this.environment),disabled:!e,children:(0,p.jsx)("span",{style:{textDecoration:"underline"},children:(0,p.jsx)(M.FormattedMessage,{defaultMessage:"U",id:"mobileActionBar.underline.symbol"})})}),(0,p.jsx)($.Z,{type:"s",style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:()=>ge("strike_through",this.environment),disabled:!e,children:(0,p.jsx)("span",{style:{textDecoration:"line-through"},children:(0,p.jsx)(M.FormattedMessage,{defaultMessage:"S",id:"mobileActionBar.strikeThrough.symbol"})})}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:s,disabled:!A.gq(o),onClick:e=>Se(e,this.environment),children:oe}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:{...s,borderRight:fe(this.theme)},disabled:!A.nt(o),onClick:e=>ye(e,this.environment),children:ne}),(0,p.jsx)($.Z,{type:"c",style:Ce(this.environment.device.isSmallPhone,this.theme),onClick:()=>ge("code",this.environment),disabled:!e,children:(0,p.jsx)("span",{style:{fontFamily:T.Z.getCompositeFontFamily(n.SP).githubMono},children:(0,p.jsx)(M.FormattedMessage,{defaultMessage:"Code",id:"mobileActionBar.code.symbol"})})}),(0,p.jsx)(X.Z,{style:Ce(this.environment.device.isSmallPhone,this.theme),disabled:!e||t,children:(0,p.jsx)("span",{style:{borderBottom:`1px solid ${this.theme.linkDecorationColor}`},children:(0,p.jsx)(M.FormattedMessage,{defaultMessage:"Link",id:"mobileActionBar.link.symbol"})})}),(0,p.jsx)(Q.Z,{onClick:()=>ge("equation",this.environment),disabled:!e||t,style:Ce(this.environment.device.isSmallPhone,this.theme),children:(0,d.G)({width:16,height:16})}),(0,p.jsx)(W.Z,{style:Ce(this.environment.device.isSmallPhone,this.theme),ignoreSelectionAreaStore:this.props.stores.ignoreSelectionAreaStore,disabled:!e})]})}}te.displayName="MobileActionBar";const ie=(0,M.injectIntl)(te),oe=h({width:18,height:18,transform:"rotate(90deg)",position:"relative",left:1}),ne=h({width:18,height:18,transform:"rotate(-90deg)",position:"relative",left:-1}),se=f({width:18,height:18,position:"relative",left:2}),re=f({width:18,height:18,transform:"rotate(180deg)",position:"relative",left:2}),ae=(0,x.s)({width:19,height:19}),le=(0,b.N)({width:19,height:19}),ce=(0,C.y)({width:18,height:18}),de=(0,v.s)({width:18,height:18}),ue=(0,y.C)({width:14,height:14}),me=g({width:18,height:18}),pe=(0,u.y)({width:18,height:18});function he(){return{flexGrow:1,flexShrink:1,marginRight:-1,display:"flex",overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch"}}function ge(e,t){w.YO(t,{itemName:e})}function fe(e){return`1px solid ${e.regularDividerColor}`}function be(e,t,i){const{device:o,WindowSizeStore:n}=t;return{height:"100%",width:"100%",fontSize:15,display:"flex",boxShadow:e===P.nd.Bottom?i.bottomActionBarShadow:i.mediumBoxShadow,backgroundColor:i.keyboardActionBarBackground,paddingLeft:o.isMobileNative?n.state.paddingLeftCSS:0,paddingRight:o.isMobileNative?n.state.paddingRightCSS:0}}function ve(){const e=(0,a.Fg)();return(0,c.i)({width:10,marginLeft:4,fill:e.lightIconColor})}function Se(e,t){V.$$(t)}function ye(e,t){V.O2(t)}function Ce(e,t){return{display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:e?8:10,paddingRight:e?8:10,borderRight:fe(t),whiteSpace:"nowrap",height:ee,flexShrink:0,flexGrow:0,flexBasis:"auto",color:t.regularTextColor,minWidth:e?42:44}}function xe(){const e=(0,a.Fg)(),t=(0,s.O7)(),i=(0,r.VK)((()=>t.device.isSmallPhone),[t]),o=(0,r.VK)((()=>I.L0()),[]),n=(0,r.VK)((()=>I.AZ()),[]);return(0,p.jsxs)("div",{style:{...Ce(i,e),paddingLeft:6,paddingRight:6},children:[(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:J,disabled:!o,onClick:()=>function(e){V.i2(e)}(t),children:ae}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:J,disabled:!n,onClick:()=>function(e){V.GH(e)}(t),children:le})]})}function Me(e){let{stores:t}=e;const i=(0,a.Fg)(),o=(0,s.O7)(),n=(0,r.VK)((()=>o.device.isSmallPhone),[o]);return(0,p.jsx)("div",{style:{flexGrow:1,flexShrink:1,marginRight:-1,display:"flex",overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch"},children:(0,p.jsxs)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:{...Ce(n,i),borderRight:"none",fontWeight:T.Z.fontWeight.medium},onClick:e=>{K.Z.setState({open:!0}),ge("templates",o)},children:[(0,S.i)({width:20,marginRight:8}),(0,p.jsx)(M.FormattedMessage,{defaultMessage:"Choose a template...",id:"mobileActionBar.templates.buttonTitle"}),(0,p.jsx)(ve,{})]})})}function ke(e){let{canTriggerBlockActionsStore:t}=e;const i=(0,a.Fg)(),o=(0,s.O7)(),n=(0,r.VK)((()=>t.state),[t]),l=(0,r.VK)((()=>z.default.state.stores[0]),[]),c=(0,r.VK)((()=>A.gq(l)),[l]),d=(0,r.VK)((()=>A.nt(l)),[l]),u=(0,r.VK)((()=>o.device.isSmallPhone),[o]);return(0,p.jsxs)("div",{style:{...Ce(u,i),paddingLeft:6,paddingRight:6},children:[(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:J,disabled:!n||!c,onClick:e=>Se(0,o),children:oe}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:J,disabled:!n||!d,onClick:e=>ye(0,o),children:ne}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:J,disabled:!n,onClick:e=>function(e,t){V.s0(t)}(0,o),children:se}),(0,p.jsx)(q.Z,{mobileFeedback:!0,disabledFeedback:!0,style:J,disabled:!n,onClick:e=>function(e,t){V.rZ(t)}(0,o),children:re})]})}},387038:(e,t,i)=>{i.r(t),i.d(t,{default:()=>q});var o=i(667294),n=i(800480),s=i(797511),r=i(886628),a=i(724405),l=i(562760),c=i(284465),d=i(151454),u=i(709291),m=i(221797),p=i(646225),h=i(811732),g=i(981193),f=i(104617),b=i(499768),v=i(304708),S=i(460709),y=i(551783),C=i(548779),x=i(223196),M=i(80444),k=i(863334),T=i(229798),w=i(749085);class A extends w.default{getInitialState(){return{isOpen:!1,isInsertOpen:!1,isTurnIntoOpen:!1,isColorOpen:!1,isTemplatesOpen:!1}}}const I=A;var j=i(449682),B=i(27724),_=i(924666),V=i(897630),P=i(665435),R=i(748019),Z=i(256940),L=i(478140),F=i(632163),D=i(840721),N=i(953437),O=i(672495),H=i(573085),K=i(240698),E=i(38933),z=i(391615),U=i(785893);const q=function(e){let{currentBlockStore:t,makeActionBarComponent:i,isNativeMobileActionBar:m}=e;const p=(0,n.O7)(),h=(0,s.l)(),g=(0,r.qz)(void 0,T.Z),S=(0,r.qz)(void 0,k.Z),x=(0,r.qz)(void 0,I),w=(0,a.Fg)(),A=(0,r.VK)((()=>{var e;return Object.entries((0,P.it)({userPersona:(0,C.kO)().function,subscriptionTier:null===(e=M.default.state.currentSpaceStore)||void 0===e?void 0:e.getSubscriptionTier(),environment:p})).map((e=>{let[t,i]=e;const n={key:t,render:e=>(0,U.jsx)(O.Z,{title:(0,U.jsx)(u.FormattedMessage,{...c._5[t]}),children:e.children},t),items:i.map((e=>function(e,t,i){const n={key:e.name,render:n=>{let{ref:s,...r}=n;const a=void 0!==e.icon?(0,U.jsx)(l.Z,{icon:e.icon,theme:i,size:18}):e.emoji;return(0,o.createElement)(E.Z,{...r,key:e.name,icon:(0,v.xf)(t)?a:null,title:e.name,type:"page_template",format:"phone-modal",locked:!1})},action:()=>{f.$7({environment:t,item:e,createNewPage:!1,isPrivate:!1})}};return n}(e,p,w)))};return n}))}),[p,w]),j=(0,r.VK)((()=>y.$3(p,t,null==h?void 0:h.publicEditModeStore.state)),[p,t,h]),{shouldShow:B}=j,{device:_,WindowSizeStore:V}=p,R=(0,r.VK)((()=>function(e,t,i){const{device:o}=e;return o.isMobileBrowser?t.state.isOpen:i}(p,x,B)),[p,x,B]),Z=(0,r.VK)((()=>V.state.paddingBottomCSS),[V]);return(0,U.jsxs)(o.Fragment,{children:[(0,U.jsx)(b.Z,{capture:!0,render:e=>(0,U.jsxs)("div",{...e,style:{position:"relative",width:"100%",height:0,zIndex:d.Eo},children:[i({store:x,ignoreSelectionAreaStore:S,templatePickerMenuListStore:g}),(0,U.jsx)(G,{ignoreSelectionAreaStore:S}),!m&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(X,{store:x}),(0,U.jsx)(J,{store:x}),(0,U.jsx)(ee,{store:x})]}),(0,U.jsx)(te,{currentBlockStore:t,store:x,templatePickerMenuListStore:g,templatePreviewSections:A})]})}),!R&&_.isIPhoneX&&_.isNative&&(0,U.jsx)("div",{style:{position:"absolute",bottom:0,background:"transparent",height:Z,width:"100%",pointerEvents:"none",WebkitUserSelect:"none"}})]})};function Y(e,t){return e.isLargeDatabaseIcon?{width:16,fill:t.regularIconColor,marginLeft:4,marginRight:4}:{width:20,fill:t.regularIconColor,marginLeft:2,marginRight:2}}function W(e,t,i,n){const s=t;return{key:e.name,render:t=>{var i;let{ref:s,...r}=t;return(0,o.createElement)(E.Z,{...r,key:e.name,format:"phone-modal",title:e.name,type:e.type,icon:null===(i=e.iconFn)||void 0===i?void 0:i.call(e,Y(e,n)),locked:!1})},action:t=>{s&&V.M_(i)&&(g.rN(i,{template_name:e.name,is_keyboard:"keydown"===t.event.type}),e.onClick(i,s))}}}function G(e){let{ignoreSelectionAreaStore:t}=e;const i=(0,n.O7)(),o=i.NativeMobileActionBarStore,s=(0,r.VK)((()=>"editing"!==_.default.state.mode&&!(null==o||!o.state.shouldRestoreSelectionForMenu)),[o]),a=(0,r.VK)((()=>y.y6(i)),[i]);return o?(0,U.jsx)(Z.Z,{store:t,capture:a,ignoreBlockSelection:!1,restoreSelection:s,render:e=>null}):null}function $(e){e.setState({...e.state,isInsertOpen:!1})}function Q(e,t){const i=j.Z.state.source;j.Z.setState({open:!1}),t.shouldCancel&&"native_home_template_gallery_browser"===i&&(0,z.handleCancelQuickAdd)(e,{isMobileHorizon1QuickCapture:!1})}function X(e){let{store:t}=e;const i=(0,n.O7)(),s=(0,o.useCallback)((()=>$(t)),[t]),{device:a}=i,l=(0,r.VK)((()=>t.state.isInsertOpen),[t]),c=(0,o.useMemo)((()=>(0,p.PU)(i)),[i]),{insertActions:d}=(0,r.VK)((()=>c.state),[c]);return(0,U.jsx)(Z.Z,{capture:l,ignoreBlockSelection:!1,restoreSelection:!1,render:e=>(0,U.jsx)(N.ZP,{popupType:a.isMobile?x.k.SlideUp:x.k.Popup,preventBlockRenderQueueOnEnter:!0,open:l,keepFocus:!0,onDismiss:()=>{e(),$(t)},render:()=>(0,U.jsx)(L.Z,{menuType:S.og.Modal,title:(0,U.jsx)(u.FormattedMessage,{defaultMessage:"Insert block",id:"mobileActionBar.insertBlock.modalTitle"}),right:(0,U.jsx)(D.CancelMenuText,{}),onClickRight:()=>{e(),$(t)},children:(0,U.jsx)(R.Z,{sections:d,context:{environment:i,blocks:B.default.state.stores,publicEditMode:void 0},onAccept:s})})})})}function J(e){let{store:t}=e;const i=(0,n.O7)(),s=(0,o.useCallback)((()=>function(e){e.setState({...e.state,isTurnIntoOpen:!1})}(t)),[t]),a=(0,r.VK)((()=>t.state.isTurnIntoOpen),[t]),{device:l}=i;return(0,U.jsx)(Z.Z,{capture:a,ignoreBlockSelection:!1,restoreSelection:!0,render:()=>(0,U.jsx)(N.ZP,{popupType:l.isMobile?x.k.SlideUp:x.k.Popup,open:a,keepFocus:!0,onDismiss:s,preventBlockRenderQueueOnEnter:!0,render:()=>(0,U.jsx)(L.Z,{menuType:S.og.Modal,title:(0,U.jsx)(u.FormattedMessage,{defaultMessage:"Turn into",id:"mobileActionBar.turnInto.modalTitle"}),right:(0,U.jsx)(D.CancelMenuText,{}),onClickRight:s,children:(0,U.jsx)(R.Z,{sections:[{...h.g,title:""}],context:{environment:i,blocks:B.default.state.stores,publicEditMode:void 0},onAccept:s})})})})}function ee(e){let{store:t}=e;const i=(0,n.O7)(),s=(0,o.useCallback)((()=>function(e){e.setState({...e.state,isColorOpen:!1})}(t)),[t]),{device:a}=i,l=(0,r.VK)((()=>t.state.isColorOpen),[t]);return(0,U.jsx)(Z.Z,{capture:l,ignoreBlockSelection:!1,restoreSelection:!0,render:()=>(0,U.jsx)(N.ZP,{popupType:a.isMobile?x.k.SlideUp:x.k.Popup,open:l,keepFocus:!0,onDismiss:s,preventBlockRenderQueueOnEnter:!0,render:()=>(0,U.jsx)(L.Z,{menuType:S.og.Modal,title:(0,U.jsx)(u.FormattedMessage,{defaultMessage:"Block color",id:"mobileActionBar.blockColor.modalTitle"}),right:(0,U.jsx)(D.CancelMenuText,{}),onClickRight:s,children:(0,U.jsx)(R.Z,{sections:[m.te,m.rz,m.Vm],context:{environment:i,blocks:B.default.state.stores,publicEditMode:void 0},onAccept:s})})})})}function te(e){let{currentBlockStore:t,store:i,templatePickerMenuListStore:s,templatePreviewSections:l}=e;const c=(0,a.Fg)(),d=(0,n.O7)(),m=(0,o.useCallback)((()=>Q(d,{shouldCancel:!0})),[d]),p=(0,o.useCallback)((()=>Q(d,{shouldCancel:!1})),[d]),h=(0,r.VK)((()=>(0,v.xf)(d)),[d]),g=(0,r.VK)((()=>j.Z.state.open),[]),{device:f}=d;return(0,U.jsx)(Z.Z,{capture:g,ignoreBlockSelection:!1,restoreSelection:!1,render:()=>(0,U.jsx)(N.ZP,{popupType:f.isMobile?x.k.SlideUp:x.k.Popup,open:g,keepFocus:!0,render:()=>(0,U.jsx)(L.Z,{menuType:S.og.Modal,title:(0,U.jsx)(u.FormattedMessage,{defaultMessage:"Templates",id:"mobileActionBar.templates.modalTitle"}),right:h?(0,U.jsx)(H.CloseTemplatesPopupComponent,{handleClick:m,style:{marginRight:20}}):(0,U.jsx)(D.CancelMenuText,{}),onClickRight:m,shouldRenderRightDirectly:!!h||void 0,onCancel:m,forceFullScreenSlideUp:!0,children:(0,U.jsx)(F.Z,{type:F.i.Vertical,store:s,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onAccept:p,sections:ie(l,t,d,c)})})})})}function ie(e,t,i,o){return(0,v.xf)(i)?[...e,{key:"Database",render:e=>(0,U.jsx)(O.Z,{title:(0,U.jsx)(u.FormattedMessage,{defaultMessage:"Database",id:"mobileActionBar.databaseSection.title"}),children:e.children}),items:K.Im.filter((e=>e.shouldShow(i))).map((e=>W(e,t,i,o)))}]:[{key:"Basic",render:e=>(0,U.jsx)(O.Z,{children:e.children}),items:K.ss.map((e=>W(e,t,i,o)))},{key:"Database",render:e=>(0,U.jsx)(O.Z,{title:(0,U.jsx)(u.FormattedMessage,{defaultMessage:"Database",id:"mobileActionBar.databaseSection.title"}),children:e.children}),items:K.Im.filter((e=>e.shouldShow(i))).map((e=>W(e,t,i,o)))},...e]}},890108:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var o=i(667294),n=i(800480),s=i(886628),r=i(724405),a=i(745238),l=i(785893);const c=(0,a.IU)("mobileBottomBarAddPage",{viewBox:"0 0 26 26",svg:(0,l.jsx)("path",{d:"M22.5713 3.95215L23.3447 3.15722C23.71 2.78125 23.7207 2.25488 23.3555 1.90039L23.1084 1.64258C22.7754 1.30957 22.2383 1.35254 21.8945 1.69629L21.1104 2.46972L22.5713 3.95215ZM10.207 15.124L12.3018 14.2109L21.7764 4.73633L20.3047 3.28613L10.8408 12.7607L9.87402 14.7803C9.78809 14.9629 10.0029 15.21 10.207 15.124ZM5.74902 23.1162H18.3604C20.2832 23.1162 21.4111 21.999 21.4111 19.7861V7.83008L19.6816 9.55957V19.7002C19.6816 20.8174 19.0693 21.3867 18.3281 21.3867H5.77051C4.69629 21.3867 4.10547 20.8174 4.10547 19.7002V7.50781C4.10547 6.39062 4.69629 5.81054 5.77051 5.81054H15.0625L16.792 4.08105H5.74902C3.50391 4.08105 2.37598 5.19824 2.37598 7.41113V19.7861C2.37598 22.0098 3.50391 23.1162 5.74902 23.1162Z"})}),d=(0,a.IU)("mobileBottomBarRedo",{viewBox:"0 0 26 26",svg:(0,l.jsx)("path",{d:"M2.84863 17.498C2.84863 21.6123 5.54492 24.3516 10.3574 24.3516H12.8389C13.4297 24.3516 13.8164 23.9219 13.8164 23.3955C13.8164 22.8691 13.4297 22.4395 12.8389 22.4395H10.3682C6.70508 22.4395 4.76074 20.291 4.76074 17.3906C4.76074 14.501 6.70508 12.4814 10.3682 12.4814H17.7373L20.2617 12.374L18.2207 14.1143L15.127 17.1328C14.9551 17.3047 14.8691 17.5088 14.8691 17.7881C14.8691 18.3467 15.2451 18.7334 15.8145 18.7334C16.0508 18.7334 16.3301 18.626 16.5127 18.4326L22.8291 12.2344C23.0439 12.0303 23.1514 11.7832 23.1514 11.5254C23.1514 11.2568 23.0439 11.0098 22.8291 10.8057L16.5127 4.60742C16.3301 4.4248 16.0508 4.30664 15.8145 4.30664C15.2451 4.30664 14.8691 4.69336 14.8691 5.25195C14.8691 5.53125 14.9551 5.73535 15.127 5.90723L18.2207 8.93652L20.2617 10.6768L17.7373 10.5586H10.5293C5.62012 10.5586 2.84863 13.3945 2.84863 17.498Z"})});var u=i(557037);const m=(0,a.IU)("mobileBottomBarUndo",{viewBox:"0 0 26 26",svg:(0,l.jsx)("path",{d:"M23.1514 17.498C23.1514 13.3945 20.3691 10.5586 15.4707 10.5586H8.25195L5.73828 10.6768L7.76855 8.93652L10.873 5.90723C11.0342 5.73535 11.1309 5.53125 11.1309 5.25195C11.1309 4.69336 10.7549 4.30664 10.1748 4.30664C9.94922 4.30664 9.66992 4.4248 9.4873 4.60742L3.1709 10.8057C2.95605 11.0098 2.84863 11.2568 2.84863 11.5254C2.84863 11.7832 2.95605 12.0303 3.1709 12.2344L9.4873 18.4326C9.66992 18.626 9.94922 18.7334 10.1748 18.7334C10.7549 18.7334 11.1309 18.3467 11.1309 17.7881C11.1309 17.5088 11.0342 17.3047 10.873 17.1328L7.76855 14.1143L5.73828 12.374L8.25195 12.4814H15.6318C19.2949 12.4814 21.2285 14.501 21.2285 17.3906C21.2285 20.291 19.2949 22.4395 15.6318 22.4395H13.1611C12.5703 22.4395 12.1836 22.8691 12.1836 23.3955C12.1836 23.9219 12.5703 24.3516 13.1611 24.3516H15.6426C20.4443 24.3516 23.1514 21.6123 23.1514 17.498Z"})});var p=i(151454),h=i(483249),g=i(452423),f=i(587531),b=i(843250),v=i(851811),S=i(739615),y=i(966324),C=i(905162),x=i(80444),M=i(72653),k=i(164921),T=i(980133);const w=54;const A=function(){const e=(0,r.Fg)(),t=(0,n.O7)(),i=(0,s.VK)((()=>M.Z.state),[]),o=(0,C.Y)("supportsNativeBottomBar"),{isTablet:a}=(0,n.Fy)(),c=(0,s.VK)((()=>function(e,t,i){const{WindowSizeStore:o}=t,{isTablet:n}=t.device;return{position:"absolute",left:0,right:0,bottom:0,display:"flex",justifyContent:n?"flex-start":"space-around",height:o.getSafePaddingBottomCSS(S.VG),paddingBottom:o.state.paddingBottomCSS,background:i.contentBackground,borderTop:`1px ${i.darkDividerColor} solid`,zIndex:p.D_,pointerEvents:e?"auto":"none",cursor:"pointer"}}(i,t,e)),[i,t,e]);return i?o?(0,l.jsx)("div",{className:b.alX,children:(0,l.jsx)(I,{})}):(0,l.jsx)("div",{style:c,className:b.rKl,children:a?(0,l.jsx)(R,{}):(0,l.jsx)(P,{})}):null};function I(){const e=(0,n.O7)(),t=(0,s.VK)((()=>e.device.isTablet),[e]);return(0,l.jsx)(T.Z,{format:t?v.EX.MobileBottomBarTablet:v.EX.MobileBottomBarPhone})}function j(e){return{width:26,fill:e.regularTextColor}}function B(){const e=(0,r.Fg)(),t=(0,n.O7)(),i=(0,s.VK)((()=>function(e){const{WindowSizeStore:t}=e,{isTablet:i}=e.device;return{display:"flex",alignItems:"center",justifyContent:"flex-start",flex:1,paddingLeft:t.getSafePaddingLeftCSS(18),...i&&{flex:"none",paddingLeft:2,width:w,justifyContent:"center"}}}(t)),[t]);return(0,l.jsx)(k.Z,{style:i,onClick:()=>function(e){f.Kf({environment:e,analyticsFrom:"mobile-bottom-bar"}),h.nB(e,{itemName:"search"})}(t),mobileFeedback:!0,children:(0,u.w)(j(e))})}function _(){const e=(0,r.Fg)(),t=(0,n.O7)(),i=(0,s.VK)((()=>function(e){const{WindowSizeStore:t}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-start",flex:"none",paddingLeft:t.getSafePaddingLeftCSS(18),width:w}}(t)),[t]),a=(0,s.VK)((()=>g.L0()),[]),c=(0,s.VK)((()=>g.AZ()),[]);return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(k.Z,{style:i,onClick:()=>function(e){g.Yw(e,!0),h.nB(e,{itemName:"undo"})}(t),mobileFeedback:!0,disabled:!a,disabledFeedback:!0,children:m(j(e))}),(0,l.jsx)(k.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:"none",width:w,paddingRight:4},onClick:()=>function(e){g.KX(e,!0),h.nB(e,{itemName:"redo"})}(t),mobileFeedback:!0,disabled:!c,disabledFeedback:!0,children:d(j(e))})]})}function V(){const e=(0,r.Fg)(),t=(0,n.O7)(),i=(0,s.VK)((()=>function(e){const{WindowSizeStore:t}=e,{isTablet:i}=e.device;return{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:1,paddingRight:t.getSafePaddingRightCSS(18),...i&&{justifyContent:"center",flex:"none",paddingRight:0,width:w,marginRight:"auto"}}}(t)),[t]),o=(0,s.VK)((()=>Boolean(x.default.state.currentSpaceStore&&x.default.state.currentSpaceStore.canEdit())),[]);return(0,l.jsx)(k.Z,{style:i,onClick:()=>function(e){y.quickAddPage({environment:e,from:"mobile_bottom_bar"}),h.nB(e,{itemName:"add_page"})}(t),mobileFeedback:!0,disabled:!o,disabledFeedback:!0,children:c(j(e))})}function P(){return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(B,{}),(0,l.jsx)(I,{}),(0,l.jsx)(V,{})]})}function R(){return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(B,{}),(0,l.jsx)(I,{}),(0,l.jsx)(V,{}),(0,l.jsx)(_,{})]})}},221326:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var o=i(667294),n=i(215828),s=i(851811),r=i(800480),a=i(886628),l=i(427328),c=i(559054),d=i(76233),u=i(608055),m=i(587531),p=i(81598),h=i(828344),g=i(484681),f=i(724199),b=i(741799),v=i(510102),S=i(499768),y=i(798180),C=i(866881),x=i(869454),M=i(785893);const k=function(){const e=(0,r.O7)(),[t,i]=(0,o.useState)(!1),n=(0,a.VK)((()=>C.g.state),[]),s=(0,a.VK)((()=>(0,l.w_)(e.TabbedRouterStore.state)),[e]),k=(0,a.VK)((()=>{var e,t;return Boolean("web"===s.type&&("nativeTab"===s.route.name&&"assistant"===s.route.tab||"nativeTab"===(null===(e=s.redirectedTo)||void 0===e?void 0:e.route.name)&&"assistant"===(null===(t=s.redirectedTo)||void 0===t?void 0:t.route.tab)))}),[s]),T=(0,a.VK)((()=>e.WindowSizeStore.state.paddingTopCSS),[e.WindowSizeStore]),w=(0,a.VK)((()=>x.Z.mobileNativeBottomPadding(e)),[e]),A=(0,a.VK)((()=>({paddingLeft:e.WindowSizeStore.state.paddingLeftCSS,paddingRight:e.WindowSizeStore.state.paddingRightCSS})),[e]);return(0,c.r5)((async()=>{const{assistantActions:t}=await p.assistantDependency.load();if(!y.default.getActiveSessionId()||n.shouldReset){var o;C.g.update((e=>({...e,shouldReset:!1})));const s=Boolean(n.query&&n.query.length>m.LR),r=s?void 0:n.query;(0,g.setPrimeTextInput)(r);const a=y.default.getNextSessionId();if(s){const i=await t.resetAndInitializeAssistantSession({environment:e});await t.commitHumanStep({environment:e,text:(0,d.TPx)(n.query),sessionId:i.sessionId,assistantSurfaceType:"mobileNative"})}const l=null===(o=y.default.getSessionContext(a))||void 0===o||null===(o=o.assistantConfigurationStore)||void 0===o?void 0:o.state,c=y.default.getSessionContext(a);h.trackAssistantOpened(e,{hasQuery:s,from:n.from??"mobile_app_start",searchSessionId:n.searchSessionId,isReminder:!1,reminderType:void 0,sessionId:a,startTimestamp:(null==l?void 0:l.sessionStartTimestamp)||Date.now(),transcript:(null==c?void 0:c.evaluator.getTranscript())||[]}),i(!0)}else k&&i(!0)}),[n.shouldReset,n.query,n.from,n.searchSessionId,k,e]),(0,o.useEffect)((()=>{k&&f.assistantMenuActions.navigateToView({view:"chat"})}),[k]),(0,o.useEffect)((()=>{var i;k&&t&&(null===(i=e.mobileNative)||void 0===i||i.markTransitionReady({type:"assistant"}))}),[e.mobileNative,k,t]),(0,M.jsx)(S.Z,{capture:!0,render:t=>(0,M.jsx)("div",{style:{paddingTop:T,paddingBottom:w,...A,flex:1,minWidth:0},...t,children:(0,M.jsx)(v.JU,{surface:v.FP.mobileNative,children:(0,M.jsx)(b.Q,{onClose:()=>u.op(e)})})})})};var T=i(980133);const w=function(e){const{route:t}=e;return"updates"===t.tab?(0,M.jsx)(T.Z,{format:s.EX.RenderAsPage,renderId:(0,n.ZP)()}):"assistant"===t.tab?(0,M.jsx)(k,{}):null}},314694:(e,t,i)=>{i.d(t,{Z:()=>u});i(667294);var o=i(800480),n=i(886628),s=i(724405),r=i(439567),a=i(950659),l=i(224646),c=i(785893);function d(){const e=(0,s.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,c.jsx)("div",{children:(0,r.Y)(e.icon)})}function u(e){var t;const i=(0,o.O7)(),r=i.device.isMobile,u=(0,n.VK)((()=>{var t,o;if(r)return i.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(o=e.style)||void 0===o?void 0:o.paddingLeft:10)}),[i.WindowSizeStore,r,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),m=(0,n.VK)((()=>(0,l.BH)(i)),[i]),p=(0,n.VK)((()=>(0,a.MF)(i)),[i]),h=(0,s.yK)((t=>({wrapper:{...r?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:u,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,paddingTop:2,paddingBottom:2,...m&&{height:l.H3,paddingTop:4,paddingBottom:4},...!m&&{marginTop:1,marginBottom:1},...p},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:r?28:22,height:r?24:18,marginLeft:m?void 0:-3,marginRight:m?8:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:r?24:m?l.MY:22,height:r?24:m?l.MY:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!r?"clip":"ellipsis",...e.childrenStyle}})),[r,u,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle,m,p]);return(0,c.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:h.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,c.jsx)("div",{style:h.left,children:e.left}),e.icon&&(0,c.jsxs)("div",{style:h.icon,children:[e.icon,e.isAlias&&(0,c.jsx)(d,{})]}),(0,c.jsx)("div",{style:h.children,children:e.children}),e.right&&(0,c.jsx)("div",{style:h.right,children:e.right})]})}},240698:(e,t,i)=>{i.d(t,{Im:()=>R,K0:()=>I,b6:()=>Z,dQ:()=>w,pd:()=>j,re:()=>A,ss:()=>_});i(757658);var o=i(815145),n=i(635013),s=i(121321),r=i(169628),a=i(917948),l=i(742696),c=i(110405),d=i(582356),u=i(554855),m=i(646783),p=i(973426),h=i(471924),g=i(709291),f=i(757549),b=i(275754),v=i(559389),S=i(210228),y=i(433929),C=i(889014),x=i(167940),M=i(992083),k=i(934593);const T=(0,g.defineMessages)({emptyWithIcon:{defaultMessage:"Empty page with icon",id:"templatePickerHelpers.basicTemplateItems.emptyWithIcon"},empty:{defaultMessage:"Empty page",id:"templatePickerHelpers.basicTemplateItems.empty"},templates:{defaultMessage:"Templates",id:"templatePickerHelpers.basicTemplateItems.templates"},import:{defaultMessage:"Import",id:"templatePickerHelpers.basicTemplateItems.import"}}),w={name:y.default.formatMessage(T.empty),iconFn:u.a,type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{S.createAndCommit({userAction:"templatePickerHelpers.emptyTemplateItems",environment:e,perform:i=>{v.eV({environment:e,store:t,transaction:i})}})}},A={name:y.default.formatMessage(T.templates),type:"templates",iconFn:e=>(0,p.i)(e),shouldShow:()=>!0,onClick:e=>{(0,k.H)({cloneTo:"current_page",analyticsFrom:"newPage",environment:e})}},I={name:y.default.formatMessage(T.templates),type:"templates",iconFn:e=>(0,m.w)(e),shouldShow:()=>!0,onClick:e=>{(0,k.H)({cloneTo:"current_page",analyticsFrom:"newPage",environment:e})}},j={name:y.default.formatMessage(T.import),type:"import",iconFn:d.l,shouldShow:()=>!0,onClick:(e,t)=>{const i=h.Il();x.Z.setState({flowId:i}),f.Sy(e,{from:"new_page",flowId:i}),M.Z.setState({...M.Z.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0})}},B=(0,g.defineMessages)({pageWithIcon:{defaultMessage:"Page with icon",id:"templatePickerHelpers.mobileBasicTemplateItems.pageWithIcon"},emptyPage:{defaultMessage:"Empty page",id:"templatePickerHelpers.mobileBasicTemplateItems.emptyPage"}}),_=[{name:y.default.formatMessage(B.pageWithIcon),type:"page_with_icon",shouldShow:()=>!0,onClick:(e,t)=>{S.createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,perform:i=>{v.T_({environment:e,store:t,transaction:i})}})}},{name:y.default.formatMessage(B.emptyPage),type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{S.createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,perform:i=>{v.eV({environment:e,store:t,transaction:i})}})}}],V=(0,g.defineMessages)({table:{defaultMessage:"Table",id:"templatePickerHelpers.databaseTemplateNames.table"},board:{defaultMessage:"Board",id:"templatePickerHelpers.databaseTemplateNames.board"},list:{defaultMessage:"List",id:"templatePickerHelpers.databaseTemplateNames.list"},calendar:{defaultMessage:"Calendar",id:"templatePickerHelpers.databaseTemplateNames.calendar"},gallery:{defaultMessage:"Gallery",id:"templatePickerHelpers.databaseTemplateNames.gallery"},timeline:{defaultMessage:"Timeline",id:"templatePickerHelpers.databaseTemplateNames.timeline"},tableView:{defaultMessage:"Table view",id:"templatePickerHelpers.databaseTemplateNames.tableView"},boardView:{defaultMessage:"Board view",id:"templatePickerHelpers.databaseTemplateNames.boardView"},listView:{defaultMessage:"List view",id:"templatePickerHelpers.databaseTemplateNames.listView"},calendarView:{defaultMessage:"Calendar view",id:"templatePickerHelpers.databaseTemplateNames.calendarView"},galleryView:{defaultMessage:"Gallery view",id:"templatePickerHelpers.databaseTemplateNames.galleryView"},timelineView:{defaultMessage:"Timeline view",id:"templatePickerHelpers.databaseTemplateNames.timelineView"}});function P(e){const{environment:t,store:i,viewType:n}=e;S.createAndCommit({userAction:"templatePickerHelpers.handleClickForViewType",environment:t,perform:e=>{v.Ud({environment:t,store:i,viewType:n,transaction:e}),b._c({environment:t,store:i,pageVisitSource:o.tY.LinkInPage});const s=i.getCollectionViewStores()[0];s&&(0,C.u)(s.id,{viewType:n})}})}const R=[{name:y.default.formatMessage(V.table),type:"table",iconFn:l.t,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>P({environment:e,store:t,viewType:"table"})},{name:y.default.formatMessage(V.board),type:"board",iconFn:n.i,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>P({environment:e,store:t,viewType:"board"})},{name:y.default.formatMessage(V.list),type:"list",iconFn:a.O,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>P({environment:e,store:t,viewType:"list"})},{name:y.default.formatMessage(V.timeline),type:"timeline",iconFn:c._,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>P({environment:e,store:t,viewType:"timeline"})},{name:y.default.formatMessage(V.calendar),type:"calendar",iconFn:s.N,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>P({environment:e,store:t,viewType:"calendar"})},{name:y.default.formatMessage(V.gallery),type:"gallery",iconFn:r.n,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>P({environment:e,store:t,viewType:"gallery"})}];function Z(e,t){const i=new Map(e.map((e=>[e.type,e])));return t.reduce(((e,t)=>(i.has(t)&&e.push(i.get(t)),e)),[])}},38933:(e,t,i)=>{i.d(t,{Z:()=>I});var o=i(667294),n=i(800480),s=i(797511),r=i(886628),a=i(724405),l=i(949271),c=i(745238),d=i(785893);const u=(0,c.IU)("repeatDisabled",{viewBox:"0 0 16 14",svg:(0,d.jsxs)("svg",{children:[(0,d.jsx)("path",{d:"M1.11621 8.32422C0.888346 8.32422 0.69694 8.24674 0.541992 8.0918C0.391602 7.93685 0.316406 7.74772 0.316406 7.52441V6.77246C0.316406 6.08431 0.469076 5.49186 0.774414 4.99512C1.08431 4.49837 1.51953 4.11784 2.08008 3.85352C2.64518 3.58464 3.31283 3.4502 4.08301 3.4502H9.23047V1.95312C9.23047 1.76628 9.28288 1.62272 9.3877 1.52246C9.49251 1.41764 9.63607 1.36523 9.81836 1.36523C9.90495 1.36523 9.9847 1.37891 10.0576 1.40625C10.1305 1.43359 10.1966 1.47233 10.2559 1.52246L13.0107 3.83301C13.1566 3.9515 13.2272 4.09277 13.2227 4.25684C13.2227 4.4209 13.152 4.56217 13.0107 4.68066L10.2559 6.99121C10.1966 7.03678 10.1305 7.07552 10.0576 7.10742C9.9847 7.13477 9.90495 7.14844 9.81836 7.14844C9.63607 7.14844 9.49251 7.09603 9.3877 6.99121C9.28288 6.88639 9.23047 6.74284 9.23047 6.56055V5.00195H3.98047C3.34245 5.00195 2.83659 5.17741 2.46289 5.52832C2.09375 5.87923 1.90918 6.35319 1.90918 6.9502V7.52441C1.90918 7.74772 1.83171 7.93685 1.67676 8.0918C1.52181 8.24674 1.33496 8.32422 1.11621 8.32422ZM14.8906 7.54492C15.1094 7.54492 15.2962 7.6224 15.4512 7.77734C15.6061 7.92773 15.6836 8.11686 15.6836 8.34473V9.09668C15.6836 9.78483 15.5286 10.3773 15.2188 10.874C14.9134 11.3708 14.4782 11.7536 13.9131 12.0225C13.348 12.2868 12.6803 12.4189 11.9102 12.4189H6.7627V13.9229C6.7627 14.1051 6.71029 14.2464 6.60547 14.3467C6.50521 14.4515 6.36393 14.5039 6.18164 14.5039C6.09505 14.5039 6.01302 14.4902 5.93555 14.4629C5.86263 14.4355 5.79655 14.3968 5.7373 14.3467L2.98242 12.0361C2.84115 11.9222 2.77051 11.7832 2.77051 11.6191C2.77051 11.4505 2.84115 11.307 2.98242 11.1885L5.7373 8.87793C5.79655 8.8278 5.86263 8.78906 5.93555 8.76172C6.01302 8.73438 6.09505 8.7207 6.18164 8.7207C6.36393 8.7207 6.50521 8.77311 6.60547 8.87793C6.71029 8.97819 6.7627 9.12174 6.7627 9.30859V10.8604H12.0127C12.6553 10.8604 13.1611 10.6872 13.5303 10.3408C13.904 9.98991 14.0908 9.51595 14.0908 8.91895V8.34473C14.0908 8.11686 14.166 7.92773 14.3164 7.77734C14.4714 7.6224 14.6628 7.54492 14.8906 7.54492Z",fill:"#C7C6C4"}),(0,d.jsx)("path",{d:"M4 2L12 14",stroke:"white",strokeWidth:"3",strokeLinecap:"round"}),(0,d.jsx)("path",{d:"M4 2L12 14",stroke:"#C7C6C4",strokeLinecap:"round"})]})});var m=i(709291),p=i(531701),h=i(137810),g=i(292595),f=i(237181),b=i(80444),v=i(319385);(0,g.exposeDebugValue)("resetDictationTooltip",(e=>{const t=b.default.state.currentUserSettingsStore;t&&f.B1({environment:e,userSettingsStore:t,dismissed:!1})}));var S=i(319124),y=i(825464),C=i(552689),x=i(164921),M=i(552275),k=i(973420),T=i(828451),w=i(526388),A=i(481415);const I=function(e){let{format:t,className:i,icon:o,title:n,isDefault:s,recurrence:r,recurrenceDisabled:a,right:l,focused:c,onClick:u,onMouseMove:m,onMouseEnter:p,onMouseLeave:h,locked:g,type:f}=e;return"collection-overlay"===t?(0,d.jsx)(B,{className:i,icon:o,format:t,title:n,isDefault:s,recurrence:r,recurrenceDisabled:a,right:l,focused:c,onClick:u,onMouseMove:m,onMouseEnter:p,onMouseLeave:h,locked:g,type:f}):"phone-modal"===t?(0,d.jsx)(_,{icon:o,format:t,title:n,isDefault:s,recurrence:r,focused:c,onClick:u}):"experimental-new-page"===t?"dictation"===f?(0,d.jsx)(F,{focused:c,onClick:u,onMouseMove:m,onMouseEnter:p,onMouseLeave:h,icon:o,title:n,type:f}):(0,d.jsx)(Z,{focused:c,onClick:u,onMouseMove:m,onMouseEnter:p,onMouseLeave:h,icon:o,title:n,type:f}):"experimental-new-page-submenu"===t?(0,d.jsx)(L,{focused:c,onClick:u,onMouseMove:m,onMouseEnter:p,onMouseLeave:h,icon:o,title:n}):(0,d.jsx)(P,{focused:c,onClick:u,onMouseMove:m,onMouseEnter:p,onMouseLeave:h,icon:o,format:t,title:n,isDefault:s,recurrence:r,recurrenceDisabled:a,right:l})};function j(e){let{format:t,title:i,isDefault:o,recurrenceDisabled:n}=e;const s=(0,a.Fg)(),l=(0,r.VK)((()=>v.default.checkGate({gateName:"recurrence_queue_task_improvements"})),[]);return"collection-overlay"!==t?(0,d.jsx)(d.Fragment,{children:i}):(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i,(0,d.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o&&(0,d.jsx)("span",{style:{fontSize:12,fontWeight:h.Z.fontWeight.medium,color:s.mediumTextColor},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"DEFAULT",id:"database.templatePickerMenuItem.default"})}),n&&l&&u({width:14,height:12.25,color:p.ZP.lightIconColor,marginLeft:8})]})]})}function B(e){let{className:t,icon:i,format:o,title:s,isDefault:r,recurrence:a,recurrenceDisabled:l,right:c,focused:u,onClick:m,onMouseMove:p,onMouseEnter:h,onMouseLeave:g,locked:f,type:b}=e;const v=(0,n.O7)(),{device:S}=v;return(0,d.jsx)(M.Z,{className:t,icon:i,title:(0,d.jsx)(j,{format:o,title:s,isDefault:r,recurrence:a,recurrenceDisabled:l}),right:c,focused:u,onClick:m,onMouseMove:p,onMouseEnter:h,onMouseLeave:g,showDragHandle:!S.isMobile&&!f,dragHandleDisabled:"empty_page"===b})}function _(e){let{icon:t,format:i,title:o,isDefault:n,recurrence:s,focused:r,onClick:a}=e;return(0,d.jsx)(M.Z,{icon:t?(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:t}):null,title:(0,d.jsx)(j,{format:i,title:o,isDefault:n,recurrence:s}),focused:r,onClick:a,showDragHandle:!1})}function V(e,t,i){const{device:o}=e;return{...l.ZD,display:"flex",alignItems:"center",flexGrow:1,height:o.isMobile?36:32,fontSize:16,borderRadius:4,paddingLeft:8,marginBottom:2,color:i?t.mediumTextColor:t.lightTextColor}}function P(e){let{focused:t,onClick:i,onMouseMove:o,onMouseEnter:l,onMouseLeave:c,icon:u,format:m,title:p,isDefault:h,recurrence:g,recurrenceDisabled:f,right:b}=e;const v=(0,a.Fg)(),y=(0,n.O7)(),C=(0,s.l)(),M=(0,r.VK)((()=>{const e=null==C?void 0:C.publicEditModeStore.state;return(0,S.GD)(e)}),[C]);return(0,d.jsxs)(x.Z,{style:V(y,v,M),hovered:t,onClick:i,onMouseMove:o,onMouseEnter:l,onMouseLeave:c,hoveredStyle:{background:v.buttonHoveredBackground,color:v.regularTextColor},pressedStyle:{background:v.buttonPressedBackground},children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",width:24,height:24,marginRight:10},children:u}),(0,d.jsx)(j,{format:m,title:p,isDefault:h,recurrence:g,recurrenceDisabled:f}),b&&(0,d.jsx)("div",{style:{marginLeft:"auto",marginRight:4},children:b})]})}const R=(0,m.defineMessages)({experimentalNewPageDictationItemTooltip:{id:"experimental.new.page.dictation.item.tooltip",defaultMessage:"Use your voice to write"},dictationCalloutHeader:{id:"TemplatePickerMenuItem.dictationCallout.Header",defaultMessage:"Use your voice to write with high-quality speech-to-text"}});function Z(e){const{focused:t,onClick:i,onMouseMove:o,onMouseEnter:s,onMouseLeave:l,icon:c,title:u,type:m,tooltipEvents:p}=e,h=(0,n.O7)(),g=(0,r.VK)((()=>!h.device.isMobile&&"control"!==v.default.getEligibleGroup({experimentId:"horizon_1_quick_templates",defaultGroup:"control"})),[h.device]),f=(0,a.yK)((e=>({item:{display:"flex",alignItems:"center",padding:"6px 14px 6px 10px",border:`1px solid ${e.stroke.regular}`,borderRadius:100},moreItem:{width:32,height:32,padding:0,justifyContent:"center"},itemFocused:{background:e.tint.regular},itemFilled:{borderColor:e.tint.regular,background:e.tint.regular},itemFilledAndFocused:{background:e.fill.gray}})),[]),b=(0,r.VK)((()=>{if(!g)return!1;if("ai"===m||"dictation"===m)return!0;return!("on"!==v.default.getEligibleGroup({experimentId:"horizon_1_templates_above_fold",defaultGroup:"control"}))&&"templates"===m}),[g,m]),S=g&&"more"===m;return(0,d.jsx)("div",{onClick:i,onMouseMove:o,onMouseEnter:s,onMouseLeave:l,...p||{},style:{...f.item,...S?f.moreItem:{},...b?f.itemFilled:{},...t?f.itemFocused:{},...b&&t?f.itemFilledAndFocused:{}},children:(0,d.jsxs)(k.X2,{gap:4,alignItems:"center",children:[c,u]})})}function L(e){const{focused:t,onClick:i,onMouseMove:o,onMouseEnter:n,onMouseLeave:s,icon:r,title:l}=e,c=(0,a.yK)((e=>({item:{display:"flex",alignItems:"center",padding:"4px 10px 4px 8px"},itemFocused:{background:e.tint.regular}})),[]);return(0,d.jsx)("div",{onClick:i,onMouseMove:o,onMouseEnter:n,onMouseLeave:s,style:{...c.item,...t?c.itemFocused:{}},children:(0,d.jsxs)(k.X2,{gap:8,alignItems:"center",children:[r,l]})})}function F(e){const t=(0,o.useRef)(null),[i,s]=function(){const[e,t]=(0,o.useState)(!1),i=(0,n.O7)(),s=(0,r.VK)((()=>b.default.state.currentUserSettingsStore),[]);return[(0,r.VK)((()=>{const t=v.default.checkGate({gateName:"dictation_new_page_nux"}),i=null==s?void 0:s.getSettings(),o=Boolean(null==i?void 0:i.dismissed_dictation_new_page_nux);return t&&!o&&!e}),[s,e]),(0,o.useCallback)((()=>{s&&(t(!0),f.B1({environment:i,userSettingsStore:s,dismissed:!0}))}),[i,s,t])]}(),l=(0,a.yK)((e=>({tooltipContainer:{display:"flex",flexDirection:"row",gap:"6px",padding:"0px 0",alignItems:"center",marginLeft:"-4px"},badge:{background:e.accentColors.translucentGray[300],color:e.mediumInvertedTextColor,marginLeft:0,width:"fit-content"}})),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(T.g,{shouldShow:i,calloutId:"dictation_new_page_origin_element_tooltip",children:(0,d.jsx)(A.U,{style:{width:200},pointerLength:25,pointerPosition:"50%",origin:t,placementToOrigin:"top",alignmentToOrigin:y.v.Center,header:(0,d.jsx)(C.Z,{style:l.badge}),content:(0,d.jsx)(m.FormattedMessage,{...R.dictationCalloutHeader}),shouldDismissUponOutsideClick:!0,onCloseClick:s})}),(0,d.jsx)(w.Z,{disableTooltip:i,renderTooltip:()=>(0,d.jsxs)("div",{style:l.tooltipContainer,children:[(0,d.jsx)(C.Z,{style:l.badge}),(0,d.jsx)(m.FormattedMessage,{...R.experimentalNewPageDictationItemTooltip})]}),originGap:6,placement:y.u.Top,render:i=>(0,d.jsx)("div",{ref:t,children:(0,d.jsx)(Z,{...e,tooltipEvents:i})})})]})}},348190:(e,t,i)=>{i.d(t,{P:()=>m,Z:()=>u});var o=i(667294),n=i(701302),s=i(886628),r=i(528155),a=i(540107),l=i(653965),c=i(215828),d=i(710274);function u(e){const{id:t,reducer:i,collectionContextStore:r,groupsPointer:u,debounceWait:p}=e,h=(0,s.VK)((()=>u),[u],{useDeepEqual:!0}),g=(0,s.VK)((()=>i),[i],{useDeepEqual:!0}),f=(0,s.VK)((()=>r.collectionViewStore()),[r]),b=(0,s.VK)((()=>{var e;return null==f||null===(e=f.getFormatStore())||void 0===e?void 0:e.getKeyStore("collection_view_source").getValue()}),[f]),v=(0,o.useRef)(!1),S=(0,a.S)(),[y,C]=(0,o.useReducer)(((e,t)=>l.Xy(e,t)?e:t),void 0),x=(0,o.useCallback)((()=>{const e=r.localResultStore.state,i=r.remoteResultStore.state,o=e&&"reducer"===e.type?e.reducerResults[t]:void 0,n=i&&"reducer"===i.type?i.reducerResults[t]:void 0;return m({reducerId:t,collectionContextStore:r,reducer:g,localReducerResult:o,remoteReducerResult:n})}),[r,g,t]),M=(0,o.useCallback)((()=>{v.current=!1,S()||C(x())}),[x,S]),k=(0,o.useCallback)((()=>{v.current||(v.current=!0,n.default.afterNextFlush(M))}),[M]),[T]=(0,o.useState)((()=>(0,c.ZP)()));return(0,o.useEffect)((()=>{const e=p?(0,l.Ds)(k,p,{leading:!0}):k;return r.remoteResultStore.addListener(k),r.localResultStore.addListener(e),()=>{r.remoteResultStore.removeListener(k),r.localResultStore.removeListener(e)}}),[r,k,p]),(0,o.useEffect)((()=>(d.$D({reducerId:t,instanceId:T,reducer:g,collectionContextStore:r,groupsPointer:h}),()=>{d.$D({reducerId:t,instanceId:T,reducer:void 0,collectionContextStore:r,groupsPointer:h})})),[r,f,b,h,g,t,T]),(0,o.useEffect)((()=>{k()}),[]),y}function m(e){const{reducerId:t,localReducerResult:i,remoteReducerResult:o,collectionContextStore:n,reducer:s}=e,a=n.reducersStore.state,c=n.remoteResultStore.state;if(n.isClientModeEnabledStore.state)return i;if("aggregation"===s.type||"groups"===s.type){if(null!=c&&c.reducerResults[t])return c.reducerResults[t];const e=Boolean(c&&"reducer"===c.type&&l.sE(c.reducerResults,((e,t)=>{const i=a[t];return Boolean(i&&"results"===i.reducer.type&&!i.reducer.searchQuery&&"results"===e.type&&e.hasMore&&l.Xy(s.filter,i.reducer.filter))})));return e?i:o}if("results"===s.type){var d;const e=n.wasCreatedThisSessionStore.state,s=Boolean(c&&"reducer"===c.type&&c.reducerResults[t]),a=(0,r.nx)(null===(d=n.collectionViewStore())||void 0===d?void 0:d.getCollectionSource());if((s||e)&&!a&&i&&"results"===i.type){return{...i,hasMore:o&&"results"===o.type?o.hasMore:i.hasMore}}return o}}},161735:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ze});var o=i(667294),n=i(883355),s=i(568719),r=i(800480),a=i(541432),l=i(531701),c=i(401898),d=i(63811),u=i(212847);function m(e,t,i){const{content:o,apiRequestValue:n}=i;return{id:e,content:o,action:{type:t,apiRequestValue:n}}}const p=["insertBlock","turnInto","textColor","textSelectionColor"],h=["suggested","textFormatting","slashMenu","turnInto","textColor","textSelectionColor","more"];function g(e,t){return{type:e,apiRequestValue:t}}function f(e,t,i){const o={type:e,from:i,data:t};return JSON.stringify(o)}const b={showActionBarMenu:u.object({required:{type:u.literal("showActionBarMenu"),data:u.object({required:{actionBarMenuId:u.literals("template")},optional:{}})},optional:{}}),blockAction:u.object({required:{type:u.literals("blockAction"),data:u.object({required:{action:u.literals("bold","italic","underline","strikethrough","link","code","equation","mention","trash","comment","filePicker","indent","unindent","moveUp","moveDown","undo","redo","dismissKeyboard","more","ai","voiceInput","filing")},optional:{}})},optional:{from:u.literals("mobile_action_bar","mobile_text_formatting_menu")}})},v=Object.keys(b);let S=function(e){return e[e.InvalidActionType=0]="InvalidActionType",e[e.MissingPayload=1]="MissingPayload",e[e.InvalidRequestType=2]="InvalidRequestType",e[e.InvalidData=3]="InvalidData",e}({});class y{constructor(e,t){this.type=e,this.message=t}}function C(e){return 0===e.reduce(((e,t)=>e+t.items.length),0)}const x=m("mab.button.back","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"chevron.backward.2",localImageIdentifier:"back"},accessibilityText:""},apiRequestValue:{subMenuType:null}}),M=m("mab.button.noResults","nativeAction_setSubMenuType",{content:{type:"text_and_icon",imageReference:{},accessibilityText:"",text:"No results",fullWidth:!0,disabled:!0},apiRequestValue:{subMenuType:null}});function k(e,t,i){return m("mab.button.filePicker","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"photo.on.rectangle.angled",localImageIdentifier:"filePicker"},disabled:!e&&t,accessibilityText:i},apiRequestValue:{jsonPayload:f("blockAction",{action:"filePicker"})}})}function T(e,t){return m("mab.button.comment","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"text.bubble",localImageIdentifier:"comment"},disabled:e,accessibilityText:t},apiRequestValue:{jsonPayload:f("blockAction",{action:"comment"},"mobile_action_bar")}})}function w(e,t){return m("mab.button.undo","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"arrow.uturn.backward",localImageIdentifier:"undo"},disabled:e,accessibilityText:t},apiRequestValue:{jsonPayload:f("blockAction",{action:"undo"})}})}function A(e,t){return m("mab.button.delete","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"trash",localImageIdentifier:"trash"},disabled:e,accessibilityText:t},apiRequestValue:{jsonPayload:f("blockAction",{action:"trash"})}})}function I(e,t){return m("mab.button.mention","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"at",localImageIdentifier:"mention"},disabled:e,accessibilityText:t},apiRequestValue:{jsonPayload:f("blockAction",{action:"mention"})}})}function j(e,t,i){return m("mab.button.indent","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"increase.indent",localImageIdentifier:"indent"},disabled:e||t,accessibilityText:i},apiRequestValue:{jsonPayload:f("blockAction",{action:"indent"})}})}function B(e,t,i){return m("mab.button.unindent","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"decrease.indent",localImageIdentifier:"unindent"},accessibilityText:i,disabled:e||t},apiRequestValue:{jsonPayload:f("blockAction",{action:"unindent"})}})}function _(e,t){return m("mab.button.moveUp","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"arrow.up.to.line.alt",localImageIdentifier:"moveUp"},accessibilityText:t,disabled:e},apiRequestValue:{jsonPayload:f("blockAction",{action:"moveUp"})}})}function V(e,t){return m("mab.button.moveDown","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"arrow.down.to.line.alt",localImageIdentifier:"moveDown"},accessibilityText:t,disabled:e},apiRequestValue:{jsonPayload:f("blockAction",{action:"moveDown"})}})}function P(e){const{buttonMap:t,accessibilityTexts:i}=e;return[x,t.filePicker,t.comment,t.undo,t.mention,t.delete,t.indent,t.unindent,t.moveUp,t.moveDown,m("mab.button.more","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"ellipsis",localImageIdentifier:"more"},accessibilityText:i.more},apiRequestValue:{jsonPayload:f("blockAction",{action:"more"})}})]}function R(e){return e.id=`${e.id}.prioritized`,e}var Z=i(76233),L=i(709291),F=i(653965),D=i(646225),N=i(436610),O=i(844886),H=i(452423),K=i(524677),E=i(384084),z=i(137231),U=i(898104),q=i(210228),Y=i(296994),W=i(68688),G=i(628020),$=i(304708),Q=i(319124),X=i(433929),J=i(551783),ee=i(268056),te=i(745162),ie=i(165598),oe=i(637034),ne=i(489086),se=i(635328);var re=i(277907),ae=i(453809);const le=new class{constructor(){this.lruKeyStore=new ae.D({key:"frequentlyUsedActions",namespace:"NativeMobileActionBar",important:!1,trackingType:"necessary"})}load(){const e=this.lruKeyStore.state;let t={};try{t=e&&JSON.parse(e)||{}}catch(i){}return t}get(){const e=this.load();return Object.keys(e).sort(((t,i)=>{const o=e[t]||0,n=e[i]||0;return o===n?0:n-o}))}track(e){const t=this.load();t[e]=(t[e]??0)+1,this.lruKeyStore.setState(JSON.stringify(t))}};var ce=i(444534),de=i(164359),ue=i(905162),me=i(80444),pe=i(521273),he=i(400807),ge=i(319385),fe=i(449682),be=i(619671),ve=i(206258),Se=i(27724),ye=i(410743),Ce=i(924666),xe=(i(757658),i(221797)),Me=i(811732),ke=i(483249),Te=i(211302),we=i(672711),Ae=i(922705),Ie=i(68204),je=i(273959),Be=i(731352);function _e(e){const{type:t,actionSections:i,closeParentMenu:o,context:n}=e,s={},r=[];for(const a of i){const e={id:`${a.key}`,title:a.title,items:a.actions.map((e=>{var i;const r=`${e.key}-${e.displayName||""}`;return s[r]={...e,closeParentMenu:o},{id:r,title:e.displayName||"",icon:(null===(i=e.nativeImageReference)||void 0===i?void 0:i.call(e,n))??{},action:g("webAction_genericAction",{menuType:t,actionId:r}),checked:!1}}))};r.push(e)}return{actions:s,sections:r}}function Ve(e){const{key:t,displayName:i,analyticsName:o,closeParentMenu:n,action:s}=e,r=i;return{key:`action ${t}`,displayName:i?X.default.formatMessage(i):void 0,analyticsName:o||`textformatting_action_${t}`,searchName:r?`${X.default.formatMessage(r)} ${r.defaultMessage}`:void 0,validators:[],action:s,closeParentMenu:Boolean(n)}}const Pe={bold:Ve({key:"bold",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.pk(t,["b"])}}),italic:Ve({key:"italic",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.pk(t,["i"])}}),underline:Ve({key:"underline",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.pk(t,["_"])}}),strikethrough:Ve({key:"strikethrough",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.pk(t,["s"])}}),code:Ve({key:"code",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.pk(t,["c"])}}),comment:Ve({key:"comment",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),J.ol(i,"mobile_action_bar"),ke.YO(i,{itemName:"comment",from:"mobile_action_bar"})}}),equation:Ve({key:"equation",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),J._W(i)}}),filePicker:Ve({key:"filePicker",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),J.vs(i)}}),indent:Ve({key:"indent",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.O2(t)}}),unindent:Ve({key:"unindent",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.$$(t)}}),moveDown:Ve({key:"moveDown",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.rZ(t)}}),moveUp:Ve({key:"moveUp",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.s0(t)}}),undo:Ve({key:"undo",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.i2(t)}}),redo:Ve({key:"redo",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.GH(t)}}),trash:Ve({key:"trash",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.fn(t)}}),mention:Ve({key:"mention",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),J.Z3(i)}}),ai:Ve({key:"ai",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),J.QG(i)}}),voiceInput:Ve({key:"voiceInput",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary());Ae.ZP.state.enabled&&!Ae.ZP.state.loading?await we.dictationActions.stopDictation({environment:i,from:"native_action"}):await we.dictationActions.smartToggleDictation({environment:i,from:"native_action",preCreateDictationBlock:i.device.isIOS&&De()})}}),link:Ve({key:"link",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),J.UF(i)}}),more:Ve({key:"more",closeParentMenu:!1,action:e=>{let{environment:t}=e;J.w1(t,void 0,void 0)}}),filing:Ve({key:"filing",closeParentMenu:!1,action:async e=>{let{environment:t}=e;const i=(0,G.np)();if(!i)return;const o=i.getParentStore();if(!o)return;const n=ge.default.checkGate({gateName:"mobile_horizon1_quick_capture_v2"}),s=Se.default.getEditing(),r=Ce.default.state,a="editing"===r.mode?(0,ee.QY)(r.multiSelection):void 0;U.sD(),U.ZH({debug:{userAction:"nativeActionRegistry.blockActions"},environment:t}),K.ZH({debug:{userAction:"nativeActionRegistry.blockActions"},environment:t});const l=()=>{var e;n&&(s&&K.eP({environment:t,store:s}),a&&(U.Z5(a),t.device.isAndroid&&(null===(e=t.mobileNative)||void 0===e||e.forceShowSoftKeyboard())))},{currentSpaceStore:c}=me.default.state,d=o instanceof ve.H2&&c&&o.id===c.id,u=t.RouterStore.state.route,m="page"===u.name&&u.showMoveTo;await Te.$X({environment:t,blocks:[i],moveToContext:"quick_add_mab",disableSuccessToast:!0,onAccept:e=>{ke.xx(t),l()},onCanceled:()=>{l()},isAddTo:m,isDefaultPrivateLocation:d})}}),dismissKeyboard:Ve({key:"dismissKeyboard",closeParentMenu:!0,action:e=>{let{environment:t}=e;K.ZH({debug:{userAction:"nativeActionRegistry.blockActions"},environment:t}),ce.HM.clearSelection(),J.hc(t,null,!1),J.hD(t,null,!1),J.Oh(t,"hide_keyboard"),U.sD()}})};function Re(e,t,i){const o=Be.zK(t.textStore,t.oldTextValue,!t.isAddMenu),n=(0,Ie.sG)({sections:t.isAddMenu?i:[Me.g],context:e,query:o||""}).flatMap((e=>e.actions)).map((i=>{var o;const n=`${i.key}-${i.displayName||""}`,s=(null===(o=i.nativeImageReference)||void 0===o?void 0:o.call(i,e))??{},r=g("webAction_genericAction",{menuType:t.isAddMenu?"insertBlock":"turnInto",actionId:n});return m(n,"webAction_genericAction",{content:{type:"text_and_icon",imageReference:s,accessibilityText:i.displayName||"",text:i.displayName||""},apiRequestValue:r.apiRequestValue})})).filter(c.$K);return 0===n.length?[M]:[x,...n]}function Ze(e){const t=Ie.L1([Me.g],e).flatMap((t=>t.actions.map((t=>{var i;const o=`${t.key}-${t.displayName||""}`,n=(null===(i=t.nativeImageReference)||void 0===i?void 0:i.call(t,e))??{},s=g("webAction_genericAction",{menuType:"turnInto",actionId:o});return m(o,"webAction_genericAction",{content:{type:"text_and_icon",imageReference:n,accessibilityText:t.displayName||"",text:t.displayName||""},apiRequestValue:s.apiRequestValue})})))).filter(c.$K);return[x,...t]}function Le(e,t){const i=Ie.L1("textColor"===t?[xe.rz,xe.Vm]:[xe.b4,xe.Sw],e).flatMap((i=>i.actions.map((i=>{var o;const n=`${i.key}-${i.displayName||""}`,s=(null===(o=i.nativeImageReference)||void 0===o?void 0:o.call(i,e))??{},r=g("webAction_genericAction",{menuType:t,actionId:n});return m(n,"webAction_genericAction",{content:{type:"icon",imageReference:s,accessibilityText:i.displayName||""},apiRequestValue:r.apiRequestValue})})))).filter(c.$K);return[x,...i]}function Fe(e,t,i,o){let n=[];const s=e=>e.sort(((e,t)=>{const i=o.indexOf(e)||0,n=o.indexOf(t)||0;return i===n?0:n-i})).map((e=>t[e]));switch(i){case"indent":{const e=["ai","insert","turnInto","biu","mention","delete","comment"];n=[t.unindent,t.indent,t.moveUp,t.moveDown,...s(e)].filter(c.$K);break}case"empty":{const e=["turnInto","filePicker","biu","mention","comment","moveUp","moveDown"];n=[t.ai,t.insert,...s(e)].filter(c.$K);break}case"simple_table":case void 0:break;default:(0,c.t1)(i)}return[x,...n]}function De(){if("editing"!==Ce.default.state.mode)return!1;const e=Ce.default.state.multiSelection.start.store;return!!(0,je.x7)(e)}var Ne=i(785893);const Oe=(0,L.defineMessages)({subMenuLabelSuggested:{defaultMessage:"Suggested",id:"mobileActionBar.subMenuLabel.suggested"},subMenuLabelInsert:{defaultMessage:"Add",id:"mobileActionBar.subMenuLabel.insert"},subMenuLabelTurnInto:{defaultMessage:"Turn into",id:"mobileActionBar.subMenuLabel.turnInto"},subMenuLabelTextFormatting:{defaultMessage:"Format",id:"mobileActionBar.subMenuLabel.textFormatting"},subMenuLabelTextColor:{defaultMessage:"Text color",id:"mobileActionBar.subMenuLabel.textColor"},templatesButtonTitle:{defaultMessage:"Templates",id:"mobileActionBar.templateButtonTitle"},templatesButtonTitleLegacy:{defaultMessage:"Choose a template...",id:"mobileActionBar.templateButtonTitleLegacy"},actionMenuInsertBlockTitle:{defaultMessage:"Insert Block",id:"mobileActionBar.actionMenuTitle.insertBlock"},actionMenuTurnIntoTitle:{defaultMessage:"Turn Into",id:"mobileActionBar.actionMenuTitle.turnInto"},actionMenuColorTitle:{defaultMessage:"Color",id:"mobileActionBar.actionMenuTitle.blockColor"},accessibilityInsert:{defaultMessage:"Add block",id:"mobileActionBar.accessibility.insertBlock"},accessibilityTurnInto:{defaultMessage:"Turn into block",id:"mobileActionBar.accessibility.turnInto"},accessibilityFilePicker:{defaultMessage:"Add image",id:"mobileActionBar.accessibility.filePicker"},accessibilityMention:{defaultMessage:"Add mention",id:"mobileActionBar.accessibility.mention"},accessibilityBlockColor:{defaultMessage:"Change block color",id:"mobileActionBar.accessibility.blockColor"},accessibilityTextFormatting:{defaultMessage:"Open text formatting menu",id:"mobileActionBar.accessibility.textFormatting"},accessibilityComment:{defaultMessage:"Add comment",id:"mobileActionBar.accessibility.comment"},accessibilityTrash:{defaultMessage:"Delete block",id:"mobileActionBar.accessibility.trash"},accessibilityIndent:{defaultMessage:"Indent block",id:"mobileActionBar.accessibility.indent"},accessibilityDedent:{defaultMessage:"Unindent block",id:"mobileActionBar.accessibility.unindent"},accessibilityMoveUp:{defaultMessage:"Move a block up",id:"mobileActionBar.accessibility.moveUp"},accessibilityMoveDown:{defaultMessage:"Move a block down",id:"mobileActionBar.accessibility.moveDown"},accessibilityUndo:{defaultMessage:"Undo edit",id:"mobileActionBar.accessibility.udno"},accessibilityRedo:{defaultMessage:"Redo edit",id:"mobileActionBar.accessibility.redo"},accessibilityMore:{defaultMessage:"More block actions",id:"mobileActionBar.accessibility.more"},accessibilityBold:{defaultMessage:"Bold",id:"mobileActionBar.accessibility.bold"},accessibilityItalics:{defaultMessage:"Italicize",id:"mobileActionBar.accessibility.italics"},accessibilityUnderline:{defaultMessage:"Underline",id:"mobileActionBar.accessibility.underline"},accessibilityStrikethrough:{defaultMessage:"Strikethrough",id:"mobileActionBar.accessibility.strikethrough"},accessibilityTextColor:{defaultMessage:"Text color",id:"mobileActionBar.accessibility.textColor"},accessibilityCode:{defaultMessage:"Code",id:"mobileActionBar.accessibility.code"},accessibilityLink:{defaultMessage:"Add link",id:"mobileActionBar.accessibility.link"},accessibilityEquation:{defaultMessage:"Add equation",id:"mobileActionBar.accessibility.equation"},accessibilityFiling:{defaultMessage:"Page location",id:"mobileActionBar.accessibility.filing"},accessibilityCloseTextFormattingMenu:{defaultMessage:"Close text formatting menu",id:"mobileActionBar.accessibility.close"},accessibilityDismissKeyboard:{defaultMessage:"End editing",id:"mobileActionBar.accessibility.endEditing"},accessibilityCloseActionMenu:{defaultMessage:"Close menu",id:"mobileActionBar.accessibility.closeMenu"},accessibilityAi:{defaultMessage:"Notion AI",id:"mobileActionBar.accessibility.ai"},filingButtonPrivateSection:{defaultMessage:"Private",id:"mobileActionBar.filing.private"}}),He={text:!1,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,column:!1,transclusion_container:!1,callout:!1,quote:!1};function Ke(e){var t;const{onAction:i,fallbackRenderer:n,...a}=e,l=null===(t=(0,r.O7)().mobileNative)||void 0===t?void 0:t.api.renderMobileActionBar,c=(0,s.e)(l,a);return function(e,t,i,n){var s;const a=null===(s=(0,r.O7)().mobileNative)||void 0===s?void 0:s.componentEvents;(0,o.useEffect)((()=>{if(a&&n&&t)return a.addListener(e,t,i,n)}),[e,t,i,n,a])}("MobileActionBar",c,"onAction",i),!c&&n?(0,Ne.jsx)(Ne.Fragment,{children:n()}):null}class Ee extends n.Z{constructor(){super(...arguments),this.handleMobileActionBarBridgeEvent=e=>{const{action:t}=e;switch(t.type){case"nativeAction_setMenuType":!function(e,t){const i=function(e){if("nativeAction_setMenuType"!==e.type)return new y(S.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("menuType"in t))return new y(S.MissingPayload,void 0);const i=u.object({required:{menuType:u.literals(...p,null)},optional:{}}),o=(0,d.Gu)(i,t);return o?new y(S.InvalidRequestType,JSON.stringify(o)):t.menuType}(e);if(i instanceof y)return void console.error(JSON.stringify(i));if((t.NativeMobileActionBarStore?t.NativeMobileActionBarStore.state.menuType:null)===i)J.hc(t,null,!0);else switch(J.hc(t,i,!0),i){case"insertBlock":J.Oh(t,"insert");break;case"turnInto":J.Oh(t,"turn_into");break;case"textColor":J.Oh(t,"color","mobile_action_bar");break;case"textSelectionColor":J.Oh(t,"color","mobile_text_formatting_menu")}}(t,this.environment);break;case"nativeAction_setSubMenuType":!function(e,t,i){const o=function(e){if("nativeAction_setSubMenuType"!==e.type)return new y(S.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("subMenuType"in t))return new y(S.MissingPayload,void 0);const i=u.object({required:{subMenuType:u.literals(...h,null)},optional:{}}),o=(0,d.Gu)(i,t);return o?new y(S.InvalidRequestType,JSON.stringify(o)):t.subMenuType}(e);if(o instanceof y)return void console.error(JSON.stringify(o));if(!(0,ue.Y)("supportsNativeMobileDynamicActionBar")||"slashMenu"!==o&&"turnInto"!==o)J.hD(t,o,!0);else{const e="slashMenu"===o;J.hc(t,null,!0);const n=Ce.default.state,s="editing"===n.mode&&(0,ee.QY)(n.multiSelection);s&&q.createAndCommit({userAction:"NativeMobileActionBar.SlashMenu.insertTurnInto",environment:t,perform:o=>{z.hJ({environment:t,editorMode:i,store:s.store,string:E.pZ(),selection:s.selection,disableMentions:!1,disableSlashCommands:!1,disableEmojiCommands:!0,transaction:o,mobileActionBarEnableInsertInsteadOfTurnIntoInSlashCommands:e})}})}}(t,this.environment,this.editorModeStore.state);break;case"webAction_generic":!function(e,t,i,o,n,s){const r=function(e){if("webAction_generic"!==e.type)return new y(S.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("jsonPayload"in t))return new y(S.MissingPayload,void 0);const i=JSON.parse(t.jsonPayload),o=u.object({required:{type:u.literals(...v)},optional:{}}),n=(0,d.Gu)(o,i);if(n)return new y(S.InvalidRequestType,JSON.stringify(n));const s=i,r=b[s.type],a=(0,d.Gu)(r,s);return a?new y(S.InvalidData,JSON.stringify(a)):s}(e);if(r instanceof y)return void console.error(JSON.stringify(r));switch(r.type){case"blockAction":const e=Pe[r.data.action];if(!e)break;const o=e.action;if(o){const{mainEditorCurrentBlockStore:a}=me.default.state;if(!a)break;const{device:l}=n;e.closeParentMenu&&!l.isTablet&&J.hc(n,null,!0),o({environment:n,blocks:[a],publicEditMode:void 0,lazyDependencies:{markdownLinkifyIt:t,tinyMceMicrosoftWordPasteFilter:i}}),s(r.data.action)}break;case"showActionBarMenu":if("template"===r.data.actionBarMenuId)!function(e){K.ZH({debug:{userAction:"NativeMobileActionBar.handleTemplate"},environment:e}),U.sD(),fe.Z.setState({open:!0}),J.Oh(e,"templates")}(n)}}(t,this.props.markdownLinkifyIt,this.props.tinyMceMicrosoftWordPasteFilter,this.props.stores,this.environment,(e=>{const t=e;this.buttonMapStore.state[t]&&le.track(t)}));break;case"webAction_genericAction":this.handleActionRegistryAction(t)}},this.handleTextSelectionCompositeStoreChanged=()=>{if(!this.textSelectionCompositeStore.state)return;const{source:e}=this.textSelectionCompositeStore.state,{NativeMobileActionBarStore:t,device:i}=this.environment;"TextSelectionStore"!==e||null===(null==t?void 0:t.state.menuType)||i.isTablet||J.hc(this.environment,null,!0)},this.handleTextSelectionStoreChanged=()=>{if(!this.textSelectionPositionsStore.state)return;const{NativeMobileActionBarStore:e}=this.environment;e&&e.state.isSubMenuOverridden&&!ye.Z.state.open&&J.hD(this.environment,null,!1)},this.handleCurrentBlockStoreChanged=()=>{if(!(0,ue.Y)("supportsNativeMobileDynamicActionBar"))return;const e=this.suggestedMenuTypeStore.state;Boolean(e)&&J.hD(this.environment,"suggested",!0)},this.actionBarTextSelectionStore=this.createComputedStore((()=>{const e="editing"===Ce.default.state.mode&&Ce.default.state.multiSelection,t=this.props.stores.ignoreSelectionAreaStore.state.savedTextSelectionStoreState,i=t&&"editing"===t.mode&&t.multiSelection;return e||i||void 0}),{useDeepEqual:!0}),this.textSelectedBlocksStore=this.createComputedStore((()=>{var e;const t=this.actionBarTextSelectionStore.state;return t&&(null===(e=(0,te.tp)({multiSelection:t,focus:void 0,filterCommonAncestors:!1}))||void 0===e?void 0:e.stores)})),this.disableMentionCommentsStore=this.createComputedStore((()=>{const e=this.actionBarTextSelectionStore.state,t=Boolean(e&&(0,ee.qS)(e)),i=this.props.currentBlockStore.getType(),o=function(e,t){if(e&&(0,a._T)(e,t))return!0;return!1}(i,this.props.currentBlockStore.getFormat())||Boolean(this.renderStore.state.disableComment)||be.Z.state.isOpen,n=!t,s=!t||function(e){if(e&&(0,a.lQ)(e))return!0;return!1}(i);return{disableCommentAction:o,disableLinkAction:n,disableMentionAction:s,disableEquationAction:!t}})),this.disableIndentStore=this.createComputedStore((()=>{const e=Se.default.state.stores;return{disableIndent:!e.every(O.nt),disableUnindent:!e.every(O.gq)}})),this.editorModeStore=this.createComputedStore((()=>{var e,t;return null!==(e=this.pageContext)&&void 0!==e&&e.pageStore?he.Z.getMode(null===(t=this.pageContext)||void 0===t?void 0:t.pageStore):"default"})),this.disableUndoRedoStore=this.createComputedStore((()=>({disableUndo:!H.L0(),disableRedo:!H.AZ()}))),this.disableDictationStore=this.createComputedStore((()=>!!this.isEditingCollectionViewTitleStore.state||!(0,W.d)())),this.showTemplatesButtonStore=this.createComputedStore((()=>J.Tz({environment:this.environment,store:this.props.currentBlockStore}))),this.isEditingCurrentPageTitleStore=this.createComputedStore(G.JE),this.isEditingCollectionViewTitleStore=this.createComputedStore(G.VV),this.reactiveMemoizedNativeMenusStore=this.createComputedStore((()=>this.memoizedNativeMenus({blocks:Se.default.state.stores,environment:this.environment}))),this.getCurrentActionBarSchemaStore=this.createComputedStore(this.recomputeCurrentActionBarSchema.bind(this),{useDeepEqual:!0,debugName:"getCurrentActionBarSchema"}),this.buttonSectionsConfigStore=this.createComputedStore((()=>{var e,t;const{NativeMobileActionBarStore:i}=this.environment,o=Boolean(this.renderStore.state.disableStyleAnnotations),n=i?i.state.menuType:null;let s=null;const r=Boolean(null==i||null===(e=i.state)||void 0===e?void 0:e.isSubMenuOverridden),a=ye.Z.state.open,l=this.shouldShowTextActionsStore.state,c=i?i.state.subMenuType:null;r?s=c:a?(s="slashMenu",null==i||i.update((e=>({...e,isSubMenuOverridden:!1,subMenuType:null})))):l&&!o&&(s="textFormatting",null==i||i.update((e=>({...e,isSubMenuOverridden:!1,subMenuType:null}))));const d=!this.canTriggerTextActionsStore.state,u=!this.canTriggerBlockActionsStore.state,{disableCommentAction:m,disableLinkAction:p,disableMentionAction:h,disableEquationAction:g}=this.disableMentionCommentsStore.state,{disableIndent:f,disableUnindent:b}=this.disableIndentStore.state,v=this.isEditingCurrentPageTitleStore.state||this.isEditingCollectionViewTitleStore.state,{disableUndo:S,disableRedo:y}=this.disableUndoRedoStore.state,x=(0,Q.GD)(null===(t=this.pageContext)||void 0===t?void 0:t.publicEditModeStore.state),M=!this.disableDictationStore.state,k=de.Z.state.isActive,T=v||k,w=this.reactiveMemoizedNativeMenusStore.state;return{selectedSubMenu:s,createAIAction:x,createDictationAction:M,disableAIAction:T,disableBlockActions:u,disableCommentAction:m,disableMentionAction:h,selectedMenuType:n,disableTextFormatting:o,disableTextColorAction:C(w.textColor.sections),disableDeleteBlock:v,disableInsertBlockAction:C(w.insertBlock.sections),disableTurnIntoAction:C(w.turnInto.sections),disableIndent:f,disableUnindent:b,disableUndo:S,disableRedo:y,disableTextActions:d,isEditingTitle:v,disableLinkAction:p,disableEquationAction:g,shouldShowTextActions:!0===l,filingButtonTitle:this.filingButtonTitleStore.state}})),this.shouldShowFilingStore=this.createComputedStore((()=>{var e;const t=this.isEditingCurrentPageTitleStore.state||this.isEditingCollectionViewTitleStore.state,i=this.isMobileHorizon1QuickCaptureV2Store,o=t||!i,n=Boolean("page"===this.environment.RouterStore.state.route.name&&(null===(e=this.pageContext)||void 0===e?void 0:e.pageStore.canEdit())&&this.environment.currentUser.isLoggedIn());return o&&n&&(0,$.kS)(this.environment)})),this.isMobileHorizon1QuickCaptureV2Store=this.createComputedStore((()=>ge.default.checkGate({gateName:"mobile_horizon1_quick_capture_v2"}))),this.filingButtonTitleStore=this.createComputedStore((()=>{var e;if(!this.shouldShowFilingStore.state)return null;const t=null===(e=this.pageContext)||void 0===e?void 0:e.pageStore;if(!t)return null;if(!this.isMobileHorizon1QuickCaptureV2Store&&!function(e){if(!e.hasContent())return!0;return e.getContentStores().every((e=>e.isEmptyEditableBlock()))}(t))return null;const i=t.getParentStore();if(!i)return null;if(!(i instanceof ve.G||i instanceof ve.H2||i instanceof ve.NW||i instanceof ve.Xr||i instanceof ve.zX))return null;const{currentSpaceStore:o}=me.default.state;function n(e){if(!e)return null;return e.length>10?`${Array.from(e).slice(0,10).join("").trim()}…`:e}return i instanceof ve.H2&&o&&i.id===o.id?n(X.default.formatMessage(Oe.filingButtonPrivateSection)):n((0,oe.V)(i,this.props.intl,this.environment,pe.Z.shouldEnablePageTitleDiffs(this.environment.device)))})),this.buttonMapStore=this.createComputedStore((()=>{const{createDictationAction:e,createAIAction:t,disableAIAction:i,disableBlockActions:o,disableTextActions:n,disableCommentAction:s,disableMentionAction:r,disableInsertBlockAction:a,disableTurnIntoAction:c,disableTextFormatting:d,disableTextColorAction:u,disableDeleteBlock:p,disableUndo:h,disableIndent:g,disableUnindent:b,disableLinkAction:v,disableEquationAction:S,filingButtonTitle:y,isEditingTitle:C,selectedMenuType:x,shouldShowTextActions:M}=this.buttonSectionsConfigStore.state;return function(e){const{createAIAction:t,createDictationAction:i,disableTextActions:o,disableAIAction:n,disableBlockActions:s,disableCommentAction:r,disableMentionAction:a,disableInsertBlockAction:c,disableTurnIntoAction:d,disableTextFormatting:u,disableTextColorAction:p,disableDeleteBlock:h,disableUndo:g,disableIndent:b,disableUnindent:v,disableLinkAction:S,disableEquationAction:y,isEditingTitle:C,selectedMenuType:x,supportsDynamicMobileActionBar:M,accessibilityTexts:P,shouldShowTextActions:Z,textColorImageReference:L,selections:F,filingButtonTitle:D}=e,N=Z?"textSelectionColor":"textColor";return{ai:t?m("mab.button.ai","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"sparkles",localImageIdentifier:"ai",imageTintColor:(0,l.J1)(l.FN.light.purple[500])},disabled:n,accessibilityText:P.ai},apiRequestValue:{jsonPayload:f("blockAction",{action:"ai"})}}):void 0,speech:i?m("mab.button.speech","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"mic.fill",localImageIdentifier:"micFilled"},accessibilityText:P.ai},apiRequestValue:{jsonPayload:f("blockAction",{action:"voiceInput"})}}):void 0,insert:M?m("mab.button.insert","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"plus",localImageIdentifier:"insertBlock"},accessibilityText:P.insert,disabled:s||c,selected:"insertBlock"===x},apiRequestValue:{subMenuType:"slashMenu"}}):m("mab.button.insert","nativeAction_setMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"plus",localImageIdentifier:"insertBlock"},accessibilityText:P.insert,disabled:s||c,selected:"insertBlock"===x},apiRequestValue:{menuType:"insertBlock"}}),turnInto:M?m("mab.button.turnInto","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"arrow.2.squarepath",localImageIdentifier:"turnInto"},disabled:s||d,selected:"turnInto"===x,accessibilityText:P.turnInto},apiRequestValue:{subMenuType:"turnInto"}}):m("mab.button.turnInto","nativeAction_setMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"arrow.2.squarepath",localImageIdentifier:"turnInto"},disabled:s||d,selected:"turnInto"===x,accessibilityText:P.turnInto},apiRequestValue:{menuType:"turnInto"}}),filePicker:k(C,s,P.filePicker),mention:I(a,P.mention),comment:T(r,P.comment),biu:m("bold.italic.underline","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"textformat",localImageIdentifier:"textFormat"},disabled:u,accessibilityText:P.textFormatting},apiRequestValue:{subMenuType:"textFormatting"}}),delete:A(h,P.trash),undo:w(g,P.undo),more:M?m("mab.button.more","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"ellipsis",localImageIdentifier:"more"},disabled:s,accessibilityText:P.more},apiRequestValue:{subMenuType:"more"}}):m("mab.button.more","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"ellipsis",localImageIdentifier:"more"},accessibilityText:P.more,disabled:s},apiRequestValue:{jsonPayload:f("blockAction",{action:"more"})}}),indent:j(s,b,P.indent),unindent:B(s,v,P.unindent),moveUp:_(s,P.moveUp),moveDown:V(s,P.moveDown),indentPrioritized:R(j(s,b,P.indent)),unindentPioritized:R(B(s,v,P.unindent)),moveUpPrioritized:R(_(s,P.moveUp)),moveDownPrioritized:R(V(s,P.moveDown)),color:M?m("mab.button.textFormatting.textSelectionColor.native","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:L,disabled:o||p,selected:x===N,accessibilityText:P.textColor},apiRequestValue:{subMenuType:N}}):m("mab.button.textFormatting.textSelectionColor.native","nativeAction_setMenuType",{content:{type:"icon",imageReference:L,disabled:o||p,selected:x===N,accessibilityText:P.textColor},apiRequestValue:{menuType:N}}),bold:m("mab.button.bold","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"bold",localImageIdentifier:"bold"},accessibilityText:P.bold,disabled:o,selected:F.bold},apiRequestValue:{jsonPayload:f("blockAction",{action:"bold"})}}),italic:m("mab.button.italic","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"italic",localImageIdentifier:"italic"},disabled:o,selected:F.italic,accessibilityText:P.italics},apiRequestValue:{jsonPayload:f("blockAction",{action:"italic"})}}),underline:m("mab.button.underline","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"underline",localImageIdentifier:"underline"},disabled:o,selected:F.underline,accessibilityText:P.underline},apiRequestValue:{jsonPayload:f("blockAction",{action:"underline"})}}),strikethrough:m("mab.button.strikethrough","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"strikethrough",localImageIdentifier:"strikethrough"},disabled:o,selected:F.strikethrough,accessibilityText:P.strikethrough},apiRequestValue:{jsonPayload:f("blockAction",{action:"strikethrough"})}}),link:m("mab.button.link","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"link",localImageIdentifier:"link"},accessibilityText:P.link,disabled:o||S,selected:F.link},apiRequestValue:{jsonPayload:f("blockAction",{action:"link"})}}),code:m("mab.button.code","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"chevron.left.slash.chevron.right",localImageIdentifier:"code"},accessibilityText:P.code,disabled:o,selected:F.code},apiRequestValue:{jsonPayload:f("blockAction",{action:"code"})}}),equation:m("mab.button.equation","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"x.squareroot",localImageIdentifier:"equation"},accessibilityText:P.equation,disabled:o||y,selected:F.equation},apiRequestValue:{jsonPayload:f("blockAction",{action:"equation"})}}),filing:m("mab.button.filing","webAction_generic",{content:D?{type:"text_and_icon",text:D,style:"filled",imageReference:{sfProGlyphName:"folder",localImageIdentifier:"folder"},accessibilityText:P.filing}:{type:"icon",style:"filled",imageReference:{sfProGlyphName:"folder",localImageIdentifier:"folder"},accessibilityText:P.filing},apiRequestValue:{jsonPayload:f("blockAction",{action:"filing"})}}),templates:m("mab.buttonSection.template","webAction_generic",{content:{type:"text_and_icon",text:P.templateTitle,style:"filled",imageReference:{localImageIdentifier:"template"}},apiRequestValue:{jsonPayload:f("showActionBarMenu",{actionBarMenuId:"template"})}}),templatesLegacy:m("mab.buttonSection.templateLegacy","webAction_generic",{content:{type:"text_and_icon",text:P.templateTitleLegacy,imageReference:{localImageIdentifier:"template"}},apiRequestValue:{jsonPayload:f("showActionBarMenu",{actionBarMenuId:"template"})}})}}({createAIAction:t,createDictationAction:e,disableTextActions:n,disableAIAction:i,disableBlockActions:o,disableCommentAction:s,disableMentionAction:r,disableInsertBlockAction:a,disableTurnIntoAction:c,disableTextFormatting:d,disableTextColorAction:u,disableDeleteBlock:p,disableUndo:h,disableIndent:g,disableUnindent:b,disableLinkAction:v,disableEquationAction:S,isEditingTitle:C,selectedMenuType:x,shouldShowTextActions:M,filingButtonTitle:y,supportsDynamicMobileActionBar:(0,ue.Y)("supportsNativeMobileDynamicActionBar"),textColorImageReference:Ue(this.textSelectionColorStore.state,this.theme),selections:this.textFormattingSelectionStore.state,accessibilityTexts:{insert:X.default.formatMessage(Oe.accessibilityInsert),turnInto:X.default.formatMessage(Oe.accessibilityTurnInto),filePicker:X.default.formatMessage(Oe.accessibilityFilePicker),mention:X.default.formatMessage(Oe.accessibilityMention),comment:X.default.formatMessage(Oe.accessibilityComment),textFormatting:X.default.formatMessage(Oe.accessibilityTextFormatting),trash:X.default.formatMessage(Oe.accessibilityTrash),ai:X.default.formatMessage(Oe.accessibilityAi),undo:X.default.formatMessage(Oe.accessibilityUndo),more:X.default.formatMessage(Oe.accessibilityMore),indent:X.default.formatMessage(Oe.accessibilityIndent),unindent:X.default.formatMessage(Oe.accessibilityDedent),moveUp:X.default.formatMessage(Oe.accessibilityMoveUp),moveDown:X.default.formatMessage(Oe.accessibilityMoveDown),bold:X.default.formatMessage(Oe.accessibilityBold),italics:X.default.formatMessage(Oe.accessibilityItalics),underline:X.default.formatMessage(Oe.accessibilityUnderline),strikethrough:X.default.formatMessage(Oe.accessibilityStrikethrough),textColor:X.default.formatMessage(Oe.accessibilityTextColor),code:X.default.formatMessage(Oe.accessibilityCode),link:X.default.formatMessage(Oe.accessibilityLink),equation:X.default.formatMessage(Oe.accessibilityEquation),close:X.default.formatMessage(Oe.accessibilityCloseTextFormattingMenu),filing:X.default.formatMessage(Oe.accessibilityFiling),templateTitle:X.default.formatMessage(Oe.templatesButtonTitle),templateTitleLegacy:X.default.formatMessage(Oe.templatesButtonTitleLegacy)}})})),this.primaryActionButtonSectionsStoreV2=this.createComputedStore((()=>{const{isEditingTitle:e,disableBlockActions:t,disableIndent:i,disableUnindent:o}=this.buttonSectionsConfigStore.state,n=this.textSelectedBlocksStore.state,s=!!n&&n.some((e=>{const t=e.getType();return t&&He[t]}));return function(e){const{buttonMap:t,isEditingTitle:i,disableBlockActions:o,disableIndent:n,disableUnindent:s,shouldShowFiling:r,shouldShowTemplates:a,someBlockPrioritizesIndentation:l,supportsDynamicMobileActionBar:d,isMobileHorizon1QuickCaptureV2:u}=e,m=!(o||n&&s);if(d)return[{id:"mab.buttonSection.main",buttons:(i?[t.ai,t.speech,t.insert,t.mention,t.comment,t.more]:[t.ai,t.speech,t.insert,t.turnInto,t.biu,t.more]).filter(c.$K)}];if(m&&l)return[{id:"mab.buttonSection.main",buttons:[...[t.ai,t.unindentPioritized,t.indentPrioritized,t.moveUpPrioritized,t.moveDownPrioritized].filter(c.$K),...u?[t.insert,t.speech,t.filePicker,t.turnInto].filter(c.$K):[t.insert,t.turnInto,t.filePicker,t.speech].filter(c.$K),...[t.biu,t.comment,t.undo,t.mention,t.delete,t.more].filter(c.$K)],skipSectionDivider:!0}];return[{id:"mab.buttonSection.main",buttons:(()=>{if(i){if(r){const e=a?[t.templates]:[],i=u?[t.speech,t.filePicker]:[];return[t.filing,...e,...i]}if(a)return[t.templatesLegacy]}const e=u?[t.speech,t.filePicker,t.turnInto]:[t.turnInto,t.speech,t.filePicker];return[r?t.filing:void 0,t.ai,t.insert,...e,t.biu,t.comment,t.undo,t.mention,t.delete,t.indent,t.unindent,t.moveUp,t.moveDown,t.more]})().filter(c.$K)}]}({buttonMap:this.buttonMapStore.state,isEditingTitle:e,disableBlockActions:t,disableIndent:i,disableUnindent:o,someBlockPrioritizesIndentation:s,shouldShowFiling:this.shouldShowFilingStore.state,shouldShowTemplates:this.showTemplatesButtonStore.state,supportsDynamicMobileActionBar:(0,ue.Y)("supportsNativeMobileDynamicActionBar"),isMobileHorizon1QuickCaptureV2:this.isMobileHorizon1QuickCaptureV2Store.state})})),this.textFormattingButtonSectionsStoreV2=this.createComputedStore((()=>{const{shouldShowTextActions:e}=this.buttonSectionsConfigStore.state;return function(e){const{buttonMap:t,shouldShowTextActions:i}=e;let o;return o=i?[x,t.ai,t.color,t.comment,t.bold,t.italic,t.underline,t.strikethrough,t.link,t.code,t.equation].filter(c.$K):[x,t.color,t.bold,t.italic,t.underline,t.strikethrough,t.link,t.code,t.equation].filter(c.$K),{id:"mab.buttonSection.textFormatting",shouldFadeIn:!0,buttons:o}}({buttonMap:this.buttonMapStore.state,shouldShowTextActions:e})})),this.mainButtonSectionsStoreV2=this.createComputedStore((()=>this.primaryActionButtonSectionsStoreV2.state)),this.textSelectionPositionsStore=this.createComputedStore((()=>{const e=this.textSelectionCompositeStore.state;if(!e)return;const{source:t,...i}=e;return i}),{useDeepEqual:!0}),this.currentBlockStore=this.createComputedStore((()=>{const e=this.textSelectedBlocksStore.state;return 1===(null==e?void 0:e.length)?e[0]:void 0}),{useDeepEqual:!0}),this.suggestedMenuTypeStore=this.createComputedStore((()=>{const e=this.currentBlockStore.state,t=null==e?void 0:e.getType(),i=t&&He[t],o=e&&(0,ie.Nm)(e);return i?"indent":o?"empty":void 0})),this.suggestedMenuStore=this.createComputedStore((()=>{if(!(0,ue.Y)("supportsNativeMobileDynamicActionBar"))return{id:"mab.buttonSection.suggested",shouldFadeIn:!0,buttons:[]};this.environment,Se.default.state.stores;return{id:"mab.buttonSection.suggested",shouldFadeIn:!0,buttons:Fe(0,this.buttonMapStore.state,this.suggestedMenuTypeStore.state,le.get())}})),this.slashSubMenuStore=this.createComputedStore((()=>{if(!(0,ue.Y)("supportsNativeMobileDynamicActionBar"))return{id:"mab.buttonSection.slashMenu",shouldFadeIn:!0,buttons:[]};const e=ye.Z.state;if(!e.open)return{id:"mab.buttonSection.slashMenu",shouldFadeIn:!0,buttons:[]};return{id:"mab.buttonSection.slashMenu",shouldFadeIn:!0,buttons:Re({environment:this.environment,blocks:Se.default.state.stores,publicEditMode:void 0},e,this.createComputedStore((()=>D.vC.state.insertActions)).state)}})),this.turnIntoSubmenuStore=this.createComputedStore((()=>{if(!(0,ue.Y)("supportsNativeMobileDynamicActionBar"))return{id:"mab.buttonSection.turnInto",shouldFadeIn:!0,buttons:[]};return{id:"mab.buttonSection.turnInto",shouldFadeIn:!0,buttons:Ze({environment:this.environment,blocks:Se.default.state.stores,publicEditMode:void 0})}})),this.moreSubmenuStore=this.createComputedStore((()=>(0,ue.Y)("supportsNativeMobileDynamicActionBar")?{id:"mab.buttonSection.more",shouldFadeIn:!0,buttons:P({buttonMap:this.buttonMapStore.state,accessibilityTexts:{more:X.default.formatMessage(Oe.accessibilityMore)}})}:{id:"mab.buttonSection.turnInto",shouldFadeIn:!0,buttons:[]})),this.textColorSubmenuStore=this.createComputedStore((()=>{if(!(0,ue.Y)("supportsNativeMobileDynamicActionBar"))return{id:"mab.buttonSection.textColor",shouldFadeIn:!0,buttons:[]};return{id:"mab.buttonSection.textColor",shouldFadeIn:!0,buttons:Le({environment:this.environment,blocks:Se.default.state.stores,publicEditMode:void 0},"textColor")}})),this.textSelectionColorSubmenuStore=this.createComputedStore((()=>{if(!(0,ue.Y)("supportsNativeMobileDynamicActionBar"))return{id:"mab.buttonSection.textSelectionColor",shouldFadeIn:!0,buttons:[]};return{id:"mab.buttonSection.textSelectionColor",shouldFadeIn:!0,buttons:Le({environment:this.environment,blocks:Se.default.state.stores,publicEditMode:void 0},"textSelectionColor")}})),this.textSelectionCompositeStore=this.createComputedStore((()=>{const e=(e,t)=>{if(!e||"editing"!==e.mode)return;const{multiSelection:i}=e;return{startRecord:i.start.store.pointer,startIndex:i.start.index,endRecord:i.end.store.pointer,endIndex:i.end.index,source:t}};return e(Ce.default.state,"TextSelectionStore")||e(this.props.stores.ignoreSelectionAreaStore.state.savedTextSelectionStoreState,"IgnoreSelectionAreaStore")}),{useDeepEqual:!0}),this.renderStore=this.createComputedStore((()=>{var e;const t=J.$3(this.environment,this.props.currentBlockStore,null===(e=this.pageContext)||void 0===e?void 0:e.publicEditModeStore.state);if(!t){const e=this.environment.NativeMobileActionBarStore;null!==(null==e?void 0:e.state.menuType)&&F.gw((()=>{var e;J.$3(this.environment,this.props.currentBlockStore,null===(e=this.pageContext)||void 0===e?void 0:e.publicEditModeStore.state)||J.hc(this.environment,null,!1)}),500),null!==(null==e?void 0:e.state.subMenuType)&&F.gw((()=>{var e;J.$3(this.environment,this.props.currentBlockStore,null===(e=this.pageContext)||void 0===e?void 0:e.publicEditModeStore.state)||J.hD(this.environment,null,!1)}),500)}return t})),this.shouldShowTextActionsStore=this.createComputedStore((()=>J.oQ(this.props.stores.ignoreSelectionAreaStore,this.environment.TextSelectionCompositionStore))),this.canTriggerBlockActionsStore=this.createComputedStore((()=>J.Bo(this.pageContext&&this.pageContext.publicEditModeStore.state))),this.canTriggerTextActionsStore=this.createComputedStore((()=>J.eQ(this.pageContext&&this.pageContext.publicEditModeStore.state,this.props.currentBlockStore))),this.memoizedNativeMenus=F.HP((e=>{const{blocks:t,environment:i}=e,o=this.createComputedStore((()=>D.vC.state.insertActions));return n={environment:i,blocks:t,publicEditMode:void 0},s=o.state,{insertBlock:_e({type:"insertBlock",actionSections:Ie.L1(s,n),context:n,closeParentMenu:!0}),turnInto:_e({type:"turnInto",actionSections:Ie.L1([Me.g],n),context:n,closeParentMenu:!0}),textColor:_e({type:"textColor",actionSections:Ie.L1([xe.rz,xe.Vm],n),context:n,closeParentMenu:!0}),textSelectionColor:_e({type:"textSelectionColor",actionSections:Ie.L1([xe.b4,xe.Sw],n),context:n,closeParentMenu:!0})};var n,s}),(e=>{let{blocks:t,environment:i}=e;const o=t.map((e=>e.key)).join(",");return`${i.key}-${o}`})),this.textFormattingSelectionStore=this.createComputedStore((()=>{let e;e="editing"===Ce.default.state.mode?(0,ne.k2)([Z.GKr.Bold,Z.GKr.Italic,Z.GKr.Underline,Z.GKr.Strike,Z.GKr.Code,Z.GKr.Link,Z.GKr.Equation,Z.GKr.Highlight],Ce.default.state.multiSelection,Ce.default.state.forceExtendAnnotations):{};const t=e[Z.GKr.Highlight];return{bold:Boolean(e[Z.GKr.Bold]),italic:Boolean(e[Z.GKr.Italic]),underline:Boolean(e[Z.GKr.Underline]),strikethrough:Boolean(Boolean(e[Z.GKr.Strike])),code:Boolean(e[Z.GKr.Code]),link:Boolean(e[Z.GKr.Link]),equation:Boolean(e[Z.GKr.Equation]),highlight:t?(0,Z.zIN)(t):void 0}})),this.textSelectionColorStore=this.createComputedStore((()=>{const{NativeMobileActionBarStore:e}=this.environment,t=e&&null!==e.state.menuType?this.props.stores.ignoreSelectionAreaStore.state.savedTextSelectionStoreState:void 0;if(!t)return this.textFormattingSelectionStore.state.highlight;const i="editing"===t.mode&&(0,ne.a6)("h",t.multiSelection,t.forceExtendAnnotations);return i?(0,Z.zIN)(i):void 0}))}didMount(){this.textSelectionCompositeStore.addListener(this.handleTextSelectionCompositeStoreChanged),this.textSelectionPositionsStore.addListener(this.handleTextSelectionStoreChanged),this.currentBlockStore.addListener(this.handleCurrentBlockStoreChanged)}willUnmount(){this.textSelectionCompositeStore.removeListener(this.handleTextSelectionCompositeStoreChanged),this.textSelectionPositionsStore.removeListener(this.handleTextSelectionStoreChanged),this.currentBlockStore.removeListener(this.handleCurrentBlockStoreChanged),this.props.renderApi&&this.props.renderApi({type:"unmount",id:""})}renderComponent(){const{fallbackRenderer:e,stores:t}=this.props;return(0,Ne.jsx)(Ke,{isOpen:this.renderStore.state.shouldShow,canShow:this.renderStore.state.canShowNativeBar,isEmpty:this.renderStore.state.isEmpty,schema:this.getCurrentActionBarSchemaStore.state,onAction:this.handleMobileActionBarBridgeEvent,fallbackRenderer:e&&(()=>e(t))})}recomputeCurrentActionBarSchema(){const{selectedMenuType:e,selectedSubMenu:t}=this.buttonSectionsConfigStore.state,i=(0,ue.Y)("supportsNativeMobileDynamicActionBar"),o=this.reactiveMemoizedNativeMenusStore.state;return function(e){const{version:t,selectedMenu:i,selectedSubMenu:o,nativeMenus:n,buttonSections:s,nativeSubMenus:r,accessibilityTexts:a,localizedMessages:l}=e;return{nativeMenus:n,nativeSubMenus:r,localizedMessages:l,state:{buttonSections:s,selectedMenu:i,selectedSubMenu:o,dismissKeyboardButton:null!==i?m("mab.dismissKeyboard","nativeAction_setMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"xmark.circle.fill",localImageIdentifier:"cancel"},accessibilityText:a.closeActionMenu},apiRequestValue:{menuType:null}}):m("mab.dismissKeyboard","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"keyboard.chevron.compact.down",localImageIdentifier:"keyboardDown"},accessibilityText:a.dismissKeyboard},apiRequestValue:{jsonPayload:f("blockAction",{action:"dismissKeyboard"})}})},version:t}}({version:(0,ue.Y)("supportsNativeMobileDynamicActionBar")?2:1,selectedMenu:e,selectedSubMenu:t,nativeMenus:{textColor:{id:"textColor",title:X.default.formatMessage(Oe.actionMenuColorTitle),sections:i?[]:o.textColor.sections},textSelectionColor:{id:"textSelectionColor",title:X.default.formatMessage(Oe.actionMenuColorTitle),sections:i?[]:o.textSelectionColor.sections},insertBlock:{id:"insertBlock",title:X.default.formatMessage(Oe.actionMenuInsertBlockTitle),sections:i?[]:o.insertBlock.sections},turnInto:{id:"turnInto",title:X.default.formatMessage(Oe.actionMenuTurnIntoTitle),sections:i?[]:o.turnInto.sections}},nativeSubMenus:{suggested:[this.suggestedMenuStore.state],textFormatting:[this.textFormattingButtonSectionsStoreV2.state],slashMenu:[this.slashSubMenuStore.state],turnInto:[this.turnIntoSubmenuStore.state],textColor:[this.textColorSubmenuStore.state],textSelectionColor:[this.textSelectionColorSubmenuStore.state],more:[this.moreSubmenuStore.state]},buttonSections:this.mainButtonSectionsStoreV2.state,accessibilityTexts:{dismissKeyboard:X.default.formatMessage(Oe.accessibilityDismissKeyboard),closeActionMenu:X.default.formatMessage(Oe.accessibilityCloseActionMenu)},localizedMessages:{...this.getLabelForSelectedSubMenu(t)}})}getLabelForSelectedSubMenu(e){let t;switch(e){case null:break;case"suggested":t=X.default.formatMessage(Oe.subMenuLabelSuggested);break;case"slashMenu":t=ye.Z.state.open&&ye.Z.state.isAddMenu?X.default.formatMessage(Oe.subMenuLabelInsert):X.default.formatMessage(Oe.subMenuLabelTurnInto);break;case"turnInto":t=X.default.formatMessage(Oe.subMenuLabelTurnInto);break;case"textFormatting":t=X.default.formatMessage(Oe.subMenuLabelTextFormatting);break;case"textColor":case"textSelectionColor":t=X.default.formatMessage(Oe.subMenuLabelTextColor)}return t?{selectedSubMenuLabel:t}:void 0}handleActionRegistryAction(e){var t,i;const{markdownLinkifyIt:o,tinyMceMicrosoftWordPasteFilter:n}=this.props,s=null===(t=e.apiRequestValue)||void 0===t?void 0:t.menuType,r=null===(i=e.apiRequestValue)||void 0===i?void 0:i.actionId;if(!s||!r)return;const a=this.memoizedNativeMenus({environment:this.environment,blocks:Se.default.state.stores})[s].actions[r];if(!a)return;const l=a.action;l&&(a.closeParentMenu&&J.hc(this.environment,null,!0),(0,ue.Y)("supportsNativeMobileDynamicActionBar")&&ye.Z.state.open&&q.createAndCommit({userAction:"NativeMobileActionBar.SlashMenu.handleAccept",environment:this.environment,perform:e=>{E.RL({environment:this.environment,transaction:e})}}),l({environment:this.environment,blocks:Se.default.state.stores,publicEditMode:void 0,lazyDependencies:{markdownLinkifyIt:o,tinyMceMicrosoftWordPasteFilter:n}}));const c=Se.default.state.stores[0];if(c){const e=c.getType(),t=c.getFormat();N.dh(this.environment,{analyticsName:a.analyticsName,action_type:a.analyticsActionType,from:"slash_menu",block_id:c.id,block_type:e,is_toggleable:e?(0,se._A)(e,t):void 0,slash_menu_filter_length:0,slash_menu_section:`Mobile Action Bar ${s}`,parent_collection_id:c.getParentCollectionIdUpToTwoLevels()})}}}function ze(e){const t=(0,L.useIntl)(),{value:i}=(0,re.XJ)(Y.FF.markdownLinkifyIt),{value:o}=(0,re.XJ)(Y.FF.tinyMceMicrosoftWordPasteFilter);return(0,Ne.jsx)(Ee,{...e,intl:t,markdownLinkifyIt:i,tinyMceMicrosoftWordPasteFilter:o})}function Ue(e,t){let i="textColor";const o=l.E_.find((t=>t===e));let n;"default"===e||o&&(o.includes("background")?(n="background",i="textBackgroundColor"):n="color");const s=n&&o?(0,l.fi)(o,t)[n]:void 0;return{localImageIdentifier:i,imageTintColor:s?(0,l.J1)(s):void 0}}Ee.displayName="NativeMobileActionBar"},391615:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ct,handleCancelQuickAdd:()=>xt});i(757658);var o=i(667294),n=i(701302),s=i(800480),r=i(886628),a=i(724405),l=i(427328),c=i(399747),d=i(815145),u=i(542853),m=i(213148),p=i(63261),h=i(844495),g=i(745238),f=i(785893);const b=(0,g.IU)("mobileOffline",{viewBox:"0 0 26 26",svg:(0,f.jsx)("path",{d:"M26.0029 13.2441C25.9922 11.9873 24.2842 11.0742 22.2324 11.0742H17.9033C17.3018 11.0742 17.0762 10.9775 16.7217 10.5693L9.50293 2.69531C9.27734 2.4375 8.99805 2.30859 8.67578 2.30859H7.42969C7.15039 2.30859 6.98926 2.55566 7.12891 2.85645L10.8457 11.0742L5.38867 11.6973L3.44434 8.13086C3.30469 7.8623 3.06836 7.74414 2.71387 7.74414H2.25195C1.97266 7.74414 1.79004 7.92676 1.79004 8.20605V18.2822C1.79004 18.5615 1.97266 18.7334 2.25195 18.7334H2.71387C3.06836 18.7334 3.30469 18.6152 3.44434 18.3574L5.38867 14.791L10.8457 15.4141L7.12891 23.6318C6.98926 23.9219 7.15039 24.1797 7.42969 24.1797H8.67578C8.99805 24.1797 9.27734 24.04 9.50293 23.793L16.7217 15.9082C17.0762 15.5107 17.3018 15.4141 17.9033 15.4141H22.2324C24.2842 15.4141 25.9922 14.4902 26.0029 13.2441Z"})}),v=(0,g.IU)("mobileQuickCaptureComment",{viewBox:"0 0 14 14",svg:(0,f.jsx)("path",{d:"M4.25781 13.373C4 13.373 3.79688 13.2891 3.64844 13.1211C3.50391 12.9531 3.43164 12.7285 3.43164 12.4473V11.0586H3.0918C2.53711 11.0586 2.05469 10.9473 1.64453 10.7246C1.23438 10.502 0.916016 10.1816 0.689453 9.76367C0.466797 9.3457 0.355469 8.84375 0.355469 8.25781V3.66992C0.355469 3.08398 0.464844 2.58203 0.683594 2.16406C0.90625 1.74609 1.22656 1.42578 1.64453 1.20312C2.0625 0.976562 2.56641 0.863281 3.15625 0.863281H10.8379C11.4316 0.863281 11.9355 0.976562 12.3496 1.20312C12.7676 1.42578 13.0859 1.74609 13.3047 2.16406C13.5273 2.58203 13.6387 3.08398 13.6387 3.66992V8.25781C13.6387 8.84375 13.5273 9.3457 13.3047 9.76367C13.0859 10.1816 12.7676 10.502 12.3496 10.7246C11.9355 10.9473 11.4316 11.0586 10.8379 11.0586H7.32227L5.33008 12.8164C5.11133 13.0078 4.92188 13.1484 4.76172 13.2383C4.60547 13.3281 4.4375 13.373 4.25781 13.373ZM4.57422 11.9141L6.42578 10.0918C6.55469 9.95898 6.67578 9.87109 6.78906 9.82812C6.90234 9.78125 7.05273 9.75781 7.24023 9.75781H10.7793C11.3027 9.75781 11.6934 9.62695 11.9512 9.36523C12.209 9.10352 12.3379 8.71484 12.3379 8.19922V3.72266C12.3379 3.21094 12.209 2.82422 11.9512 2.5625C11.6934 2.30078 11.3027 2.16992 10.7793 2.16992H3.21484C2.6875 2.16992 2.29492 2.30078 2.03711 2.5625C1.7832 2.82422 1.65625 3.21094 1.65625 3.72266V8.19922C1.65625 8.71484 1.7832 9.10352 2.03711 9.36523C2.29492 9.62695 2.6875 9.75781 3.21484 9.75781H4.07031C4.24219 9.75781 4.36914 9.79688 4.45117 9.875C4.5332 9.94922 4.57422 10.0781 4.57422 10.2617V11.9141ZM4.04102 4.47266C3.93555 4.47266 3.8457 4.43555 3.77148 4.36133C3.70117 4.2832 3.66602 4.19336 3.66602 4.0918C3.66602 3.98633 3.70117 3.89648 3.77148 3.82227C3.8457 3.74805 3.93555 3.71094 4.04102 3.71094H9.90039C10.0059 3.71094 10.0957 3.74805 10.1699 3.82227C10.2441 3.89648 10.2812 3.98633 10.2812 4.0918C10.2812 4.19336 10.2441 4.2832 10.1699 4.36133C10.0957 4.43555 10.0059 4.47266 9.90039 4.47266H4.04102ZM4.04102 6.30664C3.93555 6.30664 3.8457 6.26953 3.77148 6.19531C3.70117 6.12109 3.66602 6.03125 3.66602 5.92578C3.66602 5.82422 3.70117 5.73438 3.77148 5.65625C3.8457 5.57812 3.93555 5.53906 4.04102 5.53906H9.90039C10.0059 5.53906 10.0957 5.57812 10.1699 5.65625C10.2441 5.73047 10.2812 5.82031 10.2812 5.92578C10.2812 6.03125 10.2441 6.12109 10.1699 6.19531C10.0957 6.26953 10.0059 6.30664 9.90039 6.30664H4.04102ZM4.04102 8.14648C3.93555 8.14648 3.8457 8.10938 3.77148 8.03516C3.70117 7.95703 3.66602 7.86719 3.66602 7.76562C3.66602 7.66016 3.70117 7.57031 3.77148 7.49609C3.8457 7.41797 3.93555 7.37891 4.04102 7.37891H7.86133C7.9668 7.37891 8.05664 7.41602 8.13086 7.49023C8.20508 7.56445 8.24219 7.65625 8.24219 7.76562C8.24219 7.86719 8.20508 7.95703 8.13086 8.03516C8.05664 8.10938 7.9668 8.14648 7.86133 8.14648H4.04102Z"})}),S=(0,g.IU)("mobileTopbarComments",{viewBox:"0 0 27 27",svg:(0,f.jsx)("path",{d:"M8.74414 24.6816C9.22266 24.6816 9.55469 24.4277 10.1504 23.9004L13.5195 20.9023H19.7891C22.6992 20.9023 24.2617 19.291 24.2617 16.4297V8.94922C24.2617 6.08789 22.6992 4.47656 19.7891 4.47656H7.21094C4.30078 4.47656 2.73828 6.07812 2.73828 8.94922V16.4297C2.73828 19.3008 4.30078 20.9023 7.21094 20.9023H7.67969V23.4414C7.67969 24.1934 8.06055 24.6816 8.74414 24.6816ZM9.14453 22.8945V20.0625C9.14453 19.5352 8.93945 19.3301 8.41211 19.3301H7.21094C5.23828 19.3301 4.31055 18.3242 4.31055 16.4199V8.94922C4.31055 7.04492 5.23828 6.04883 7.21094 6.04883H19.7891C21.752 6.04883 22.6895 7.04492 22.6895 8.94922V16.4199C22.6895 18.3242 21.752 19.3301 19.7891 19.3301H13.4609C12.9141 19.3301 12.6406 19.4082 12.2695 19.7891L9.14453 22.8945ZM8.4707 9.99414H18.4121C18.7246 9.99414 18.9688 9.75 18.9688 9.42773C18.9688 9.125 18.7246 8.87109 18.4121 8.87109H8.4707C8.1582 8.87109 7.9043 9.125 7.9043 9.42773C7.9043 9.75 8.1582 9.99414 8.4707 9.99414ZM8.4707 13.1777H18.4121C18.7246 13.1777 18.9688 12.9238 18.9688 12.6016C18.9688 12.2988 18.7246 12.0449 18.4121 12.0449H8.4707C8.1582 12.0449 7.9043 12.2988 7.9043 12.6016C7.9043 12.9238 8.1582 13.1777 8.4707 13.1777ZM8.4707 16.3516H14.9355C15.248 16.3516 15.4922 16.1074 15.4922 15.7949C15.4922 15.4727 15.248 15.2188 14.9355 15.2188H8.4707C8.1582 15.2188 7.9043 15.4727 7.9043 15.7949C7.9043 16.1074 8.1582 16.3516 8.4707 16.3516Z"})});var y=i(435840),C=i(242973),x=i(89101),M=i(421202),k=i(151454),T=i(709291),w=i(531701),A=i(137810),I=i(436610),j=i(483249),B=i(519719),_=i(211302),V=i(275754),P=i(608055),R=i(901357),Z=i(587531),L=i(524677),F=i(29974),D=i(898104),N=i(210228),O=i(239865),H=i(303043),K=i(133767),E=i(155408),z=i(296994),U=i(724098),q=i(730459),Y=i(628020),W=i(772770),G=i(843250),$=i(304708),Q=i(460709),X=i(367669),J=i(918514),ee=i(548779),te=i(99340),ie=i(277907),oe=i(448451),ne=i(572530),se=i(717432),re=i(881170),ae=i(394841),le=i(457345),ce=i(966324),de=i(224646),ue=i(938676),me=i(621853),pe=i(825464),he=i(905162),ge=i(80444),fe=i(592547),be=i(869454),ve=i(242330),Se=i(530496),ye=i(282136),Ce=i(206258),xe=i(924666),Me=i(452258),ke=i(766708),Te=i(791754),we=i(164921),Ae=i(231945),Ie=i(661519),je=i(573063),Be=i(478140),_e=i(840721),Ve=i(489728),Pe=i(953437),Re=i(731278),Ze=i(776798),Le=i(45653),Fe=i(39849),De=i(781258),Ne=i(884708),Oe=i(582598);function He(){const e=(0,o.useCallback)((()=>(0,f.jsx)(Oe.Z,{message:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"Any changes to this page will show up here.",id:"updatesModal.currentPageTab.emptyPrompt"}),title:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"No page updates",id:"updatesModal.currentPageTab.emptyPromptTitle"})})),[]),t=(0,r.VK)((()=>ge.default.state.currentSpaceStore),[]),i=(0,r.VK)((()=>ge.default.state.mainEditorCurrentBlockStore),[]),n=(0,r.VK)((()=>{var e;const t=null==i||null===(e=i.getCollectionPointer())||void 0===e?void 0:e.id,o=null==i?void 0:i.isCollectionView();return null!=i&&i.isDefined()?{id:i.id,isCollection:o,collectionId:t}:void 0}),[i]),s=(0,a.yK)((()=>({getNotifiedFor:{padding:18}})),[]);return t&&n&&i?(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{style:s.getNotifiedFor,children:(0,f.jsx)(oe.Xm,{navigableBlockStore:i,from:"page_updates",buttonPopupStore:De.Z})}),(0,f.jsx)(Ne.Z,{navigableBlockStore:i,collectionId:n.collectionId,spaceId:t.id,empty:e,source:"updates_sidebar"},"current-page")]}):null}var Ke=i(458493),Ee=i(913612),ze=i(553194),Ue=i(101464),qe=i(612392),Ye=i(13530);const We=(0,g.IU)("mobileQuickCaptureChevronLeft",{viewBox:"0 0 8 14",svg:(0,f.jsx)("path",{d:"M-0.00488281 7.06445C-0.000325521 6.92318 0.0270182 6.79329 0.0771484 6.6748C0.131836 6.55632 0.213867 6.44238 0.323242 6.33301L5.58691 1.18555C5.76009 1.01237 5.97201 0.925781 6.22266 0.925781C6.39583 0.925781 6.55078 0.966797 6.6875 1.04883C6.82878 1.13086 6.94043 1.24251 7.02246 1.38379C7.10905 1.52051 7.15234 1.67318 7.15234 1.8418C7.15234 2.09701 7.05664 2.32031 6.86523 2.51172L2.18262 7.06445L6.86523 11.6172C7.05664 11.8132 7.15234 12.0365 7.15234 12.2871C7.15234 12.4603 7.10905 12.6152 7.02246 12.752C6.94043 12.8887 6.82878 12.998 6.6875 13.0801C6.55078 13.1621 6.39583 13.2031 6.22266 13.2031C5.97201 13.2031 5.76009 13.1165 5.58691 12.9434L0.323242 7.7959C0.20931 7.68652 0.125 7.57259 0.0703125 7.4541C0.0201823 7.33105 -0.00488281 7.20117 -0.00488281 7.06445Z"})});var Ge=i(42543);const $e={position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:32};function Qe(e){let{supportsNativeHomeTabPhone:t,styling:i}=e;const o=(0,s.O7)(),n=(0,r.VK)((()=>!t&&!J.NW(o)),[t,o]),a=(0,Ge.Kr)();let l,c;return"mobile_horizon1_quick_capture_circle_icons"===i?(l=We(a.mobile_horizon1_quick_capture_circle_icons.iconStyle),c={...a.mobile_horizon1_quick_capture_circle_icons.iconContainer,marginLeft:16}):"mobile_horizon1_quick_capture"===i?(l=(0,Ue.k)(),c={...$e,fill:a.mobile_horizon1_quick_capture.iconStyle.fill}):t?(l=(0,Ue.k)(),c=$e):(l=(0,qe.S)({width:16,height:16}),c=$e),(0,f.jsx)(we.Z,{onClick:()=>function(e,t){const{mobileNative:i}=e;J.__(e)||!t||J.NW(e)?P.op(e):null==i||i.showNativeHomeTab()}(o,t),className:"notion-history-back-button",disabled:n,disabledFeedback:!0,mobileFeedback:!0,style:c,children:l})}function Xe(){const e=(0,s.O7)(),t=(0,r.VK)((()=>!J.vy(e)),[e]);return(0,f.jsx)(we.Z,{onClick:()=>{P.eH()},className:"notion-history-forward-button",disabled:t,mobileFeedback:!0,disabledFeedback:!0,style:$e,children:(0,Ye.s)({width:16,height:16})})}const Je=function(e){let{supportsNativeHomeTabPhone:t,styling:i}=e;const o=(0,s.O7)(),n=(0,r.VK)((()=>o.device.isTablet),[o]),a=t?{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",paddingLeft:4,paddingRight:t?0:4}:{display:"flex",flexShrink:0,height:"100%",paddingLeft:4,paddingRight:t?0:4};return t||n?(0,f.jsx)(U.Z,{capture:!0,render:e=>(0,f.jsxs)("div",{style:a,...e,children:[(0,f.jsx)(Qe,{supportsNativeHomeTabPhone:t,styling:i}),!t&&(0,f.jsx)(Xe,{})]})}):null};var et=i(500007),tt=i(139998),it=i(484920),ot=i(326399),nt=i(486467),st=i(507715),rt=i(204341);const at=(0,T.defineMessages)({comments:{id:"topbarMobile.commentsButton.label",defaultMessage:"Comments"}});function lt(e,t){(0,q.K4)(e,"page_creation_topbar_click",t)}const ct=function(e){let{store:t,shouldShowAddTo:i,pageVisitStore:n,presenceStore:l,hideActionButtons:c,isInvalidPage:d,spaceStore:u,collectionViewStore:m,spaceViewStore:p,isOffline:h,banners:g}=e;const v=(0,s.O7)(),S=(0,a.Fg)(),{WindowSizeStore:y,device:x}=v,M=(0,r.VK)((()=>(0,X.IJ)(v,t)),[v,t]),w=(0,o.useMemo)((()=>new fe.Z),[]),A=(0,r.VK)((()=>(0,$.kS)(v)),[v]),I=(0,r.VK)((()=>(t.isLocked()||w.state.justUnlocked)&&t.canEdit()),[t,w]),j=(0,r.VK)((()=>(!M||t.canEditCollection())&&x.isPhone&&(t.isRestricted()||I)),[t,M,x,I]),B=A&&h;return(0,f.jsx)(U.Z,{capture:!0,render:e=>(0,f.jsxs)("header",{...e,style:{width:"100%",maxWidth:"100vw",zIndex:k.lI},children:[h&&A&&(0,f.jsx)(Te.Z,{styleKey:W.v.White,isMobile:!0,style:{background:S.tint.regular,borderTopWidth:"0px",marginTop:"env(safe-area-inset-top)"},children:(0,f.jsxs)("div",{style:{color:S.text.secondary,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",paddingLeft:y.getSafePaddingLeftCSS(10),paddingRight:y.getSafePaddingRightCSS(14)},children:[(0,C.i)({width:26,marginRight:12}),(0,f.jsx)("div",{children:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"You're offline",id:"topbarMobile.offline.message"})})]})}),M?(0,f.jsx)(kt,{store:t,shouldShowAddTo:i,showTopPadding:B}):(0,f.jsx)(Pt,{store:t,pageVisitStore:n,presenceStore:l,hideActionButtons:c,isInvalidPage:d,spaceStore:u,shouldShowAddTo:i,spaceViewStore:p,showTopPadding:!B}),j&&(0,f.jsxs)(Te.Z,{styleKey:W.v.White,isMobile:!0,style:{justifyContent:"unset"},children:[(0,f.jsx)(Ke.Z,{store:t,isMobile:!0,lockStore:w},t.id),t.isRestricted()&&(0,f.jsxs)(f.Fragment,{children:[I&&(0,f.jsx)(Ie.Z,{vertical:!0,size:10,style:{height:"50%"}}),(0,f.jsx)(st.Z,{style:{marginRight:8},onClick:()=>le.lG(v)})]})]}),h&&!A&&(0,f.jsx)(Te.Z,{styleKey:W.v.White,isMobile:!0,children:(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",paddingLeft:y.getSafePaddingLeftCSS(10),paddingRight:y.getSafePaddingRightCSS(14)},children:[b({width:26,marginRight:12}),(0,f.jsx)("div",{children:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"You're offline",id:"topbarMobile.offline.message"})})]})}),(0,f.jsx)(z.t$,{banners:g,isMobile:!0,isInPeekRenderer:!1})]})})};function dt(){const e={menuType:Q.og.Modal,title:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"Page Updates",id:"pageUpdatesModal.mobileMenu.title"}),right:(0,f.jsx)(_e.DoneMenuText,{}),onClickRight:()=>Se.Z.setState({open:!1}),whiteBackground:!0},t=(0,r.VK)((()=>Se.Z.state.open),[]);return(0,f.jsx)(Pe.ZP,{open:t,popupType:Ae.Z4.SlideUp,alignmentToOrigin:pe.v.Start,placementToOrigin:pe.u.Right,onDismiss:()=>Se.Z.setState({open:!1}),originGap:0,isWideTabletWidth:!0,render:()=>(0,f.jsx)(Be.Z,{...e,children:(0,f.jsx)(He,{})}),isFullWidthOnMobile:!0,preventScaleTransition:!0})}function ut(e){const t=e.getParentStore(),{currentSpaceStore:i}=ge.default.state;return t instanceof Ce.H2&&i&&t.id===i.id}function mt(e){let{store:t,spaceViewStore:i,isInvalidPage:o}=e;const n=(0,te.cR)(t);return o||!i?null:(0,f.jsxs)(f.Fragment,{children:[!n&&(0,f.jsx)(ot.Z,{store:t,spaceViewStore:i}),(0,f.jsx)(re.Z,{})]})}function pt(e){let{store:t,shouldShowAddTo:i,styling:o}=e;return(0,f.jsx)(z.KA,{store:t,buttonPopupStore:Me.Z,shouldShowAddTo:i,styling:o})}function ht(e){let{store:t,styling:i}=e;return(0,f.jsx)(z.jZ,{store:t,buttonPopupStore:ke.Z,styling:i})}function gt(e){return(0,he.Y)("supportsNativeHome")&&e.device.isTablet}function ft(e){const{shouldShowAddTo:t,environment:i}=e,{TabbedRouterStore:o}=i;if(t&&(0,$.kS)(i))return!1;const n=(0,J.NW)(i)||"native"===(0,l.w_)(o.state).type;return!(0,J.__)(i)||n}function bt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;const{mobileNative:o}=e;return{flexGrow:0,marginLeft:null!=o&&o.supportsNativeHomeOnPhone()?t?0:20:2,overflow:"auto",WebkitOverflowScrolling:"touch",marginRight:i?16:8,height:"100%"}}function vt(){const e=(0,s.O7)(),t=(0,r.VK)((()=>(0,de.Jr)(e)&&ue.sidebarExpandedStore.state),[e]);return(0,f.jsxs)(we.Z,{mobileFeedback:!0,style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:"100%",width:36,marginLeft:4},onClick:()=>{var t;if(gt(e))null===(t=e.mobileNative)||void 0===t||t.toggleNativeHome();else if((0,de.Jr)(e))ce.setExpand({environment:e,isExpanded:!ue.sidebarExpandedStore.state,from:"topbar_mobile"});else{const{NativeMobileActionBarStore:t}=e,i=t?t.state.menuType:null;"editing"===xe.default.state.mode||null!==i?(D.ZH({debug:{userAction:"TopbarMobile.HamburgerButton"},environment:e}),null==t||t.clear(!1),be.Z.onHide((()=>{n.default.afterNextFlush((()=>ce.open({fromElectron:!1})))}))):ce.open({fromElectron:!1})}j.jD(e)},children:[(0,p._)({width:18,height:18}),t?(0,f.jsx)(Fe.Z,{color:Fe.N.Red,style:{position:"absolute",top:9,right:1},count:0}):(0,f.jsx)(oe.k2,{type:e.device.isMobileBrowser?"allSpaces":"otherSpaces",color:Fe.N.Red,style:{position:"absolute",top:9,right:1}})]})}function St(e,t,i,o){const{WindowSizeStore:n}=t;let s=`0 1px 0 ${i.regularDividerColor}`;const r=(0,$.kS)(t);return((0,$.oj)(t)||e&&r)&&(s=void 0),{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"100vw",height:c.g,marginTop:o?n.state.paddingTopCSS:0,paddingLeft:n.getSafePaddingLeftCSS(0),paddingRight:e?n.getSafePaddingRightCSS(0):n.getSafePaddingRightCSS(7),boxShadow:s,background:i.contentBackground,transition:"box-shadow 300ms",WebkitUserSelect:"none",cursor:"pointer"}}function yt(){const e=(0,a.Fg)();return(0,u.i)({marginLeft:4,width:10,fill:e.lightTextColor})}function Ct(e){L.ZH({debug:{userAction:"TopbarMobile.handleTopbarClick"},environment:e})}function xt(e,t){const i=ge.default.state.mainEditorCurrentBlockStore,o=ve.ZP.state.lastPageId;if(i){var n;const s=null===(n=e.mobileNative)||void 0===n?void 0:n.supportsNativeHomeOnPhone();s?R.d(e):o?V._c({environment:e,store:Ce.G.createChildStore(i,{table:M.iU,id:o}),showMoveTo:!1,saveParent:!1,redirect:s,pageVisitSource:d.tY.BackForward}):P.c4({environment:e,url:x._j.root,redirect:!0}),t.isMobileHorizon1QuickCapture&&lt(e,{action:"cancel"}),N.createAndCommit({userAction:"TopbarMobile.handleCancelQuickAdd",environment:e,perform:t=>{O.y8({environment:e,blocks:[i],transaction:t}),t.postSubmitCallbacks.push((t=>{t||I.dh(e,{analyticsName:"delete",from:"mobile_topbar",block_id:i.id,block_type:"page"})}))}})}}async function Mt(e,t){await _.$X({environment:t,blocks:[e],moveToContext:"quick_add",onAccept:e=>function(e){j.xx(e)}(t),isAddTo:!0,isDefaultPrivateLocation:ut(e)})}function kt(e){let{store:t,shouldShowAddTo:i,showTopPadding:n}=e;const l=(0,a.Fg)(),c=(0,s.O7)(),u=(0,s.Fy)(),m=Boolean(c.currentUser.isLoggedIn()||c.publicDomainUserId),p=u.isTablet,h=(0,r.VK)((()=>St(i,c,l,n)),[c,i,l,n]),g=(0,r.VK)((()=>bt(c,!0,p)),[c,p]);return(0,f.jsxs)("div",{onClick:()=>Ct(c),style:h,className:G.ZHw,children:[c.currentUser.isLoggedIn()&&(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(we.Z,{style:{display:"flex",alignItems:"center",height:"100%",paddingLeft:14,paddingRight:14,fontWeight:A.Z.fontWeight.medium,color:l.regularTextColor,whiteSpace:"nowrap"},mobileFeedback:!0,onClick:()=>function(e){const{currentUserRootStore:t,currentUserSettingsStore:i}=ge.default.state;t&&i&&F.L5({environment:e,userRootStore:t,userSettingsStore:i,pageVisitSource:d.tY.SwitchSpace})}(c),children:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"Back",id:"topbarMobile.backButton.label"})}),(0,f.jsx)("div",{style:{height:18,width:1,flexShrink:0,marginRight:6,background:l.darkDividerColor}})]}),(0,f.jsx)(H.l2,{store:t,style:g,maxAncestorCount:1,showCurrentPageControls:!1,ancestorMaxWidth:100,currentPageMaxWidth:220,isMobile:!0}),(0,f.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,f.jsx)(Ve.Z,{onClick:()=>function(e){Z.UT({environment:e,analyticsFrom:"public-page-topbar"})}(c),children:(0,y.R)({width:20,height:20})}),(0,f.jsx)(Ee.Z,{store:t,buttonPopupStore:Me.Z,useEllipsisIcon:!m}),!m&&(0,f.jsx)(et.C,{store:t,onClick:()=>async function(e){await(0,Ge.i3)({environment:e,route:x._j.signup})}(c)})]})}function Tt(e){let{store:t,shouldShowAddTo:i}=e;const o=(0,a.Fg)(),n=(0,s.O7)(),l=(0,r.VK)((()=>t.getParentStore()),[t]),c=(0,r.VK)((()=>ut(t)),[t]),d=(0,r.VK)((()=>t instanceof Ce.H2?(0,ee.Wd)(n,t):t.getIcon()),[t,n]),u=(0,r.VK)((()=>(null==l?void 0:l.table)===M.iU&&l.isEmptyPage()),[l]),m=(0,r.VK)((()=>l instanceof Ce.H2?(0,ee.rn)(n,l):void 0),[n,l]),p=(0,r.VK)((()=>(0,Y.B7)(n)),[n]),h=(0,r.VK)((()=>function(e){const{shouldShowAddTo:t,environment:i}=e;let o=0;return o=gt(i)?8:ft({shouldShowAddTo:t,environment:i})?6:16,{display:"flex",alignItems:"center",paddingLeft:o,paddingRight:12,fontSize:A.Z.fontSize.UIRegular.mobile,lineHeight:A.Z.lineHeight.UIRegular.mobile,whiteSpace:"nowrap",minWidth:0}}({shouldShowAddTo:i,environment:n})),[i,n]);if(l instanceof Ce.T5||l instanceof Ce.zq||l instanceof Ce.Vf)return null;if(l){if(c){const e=o.mediumTextColor;return(0,f.jsxs)(we.Z,{mobileFeedback:!0,style:h,onClick:()=>Mt(t,n),children:[(0,f.jsx)(T.FormattedMessage,{defaultMessage:"<mediumcolor>Add to</mediumcolor>{userAvatar}<mediumweight>Private pages</mediumweight>",id:"topbarMobile.addToPrivateSectionButton.label",values:{mediumcolor:t=>(0,f.jsx)("span",{style:{color:e,marginRight:8},children:t}),mediumweight:e=>(0,f.jsx)("span",{style:{fontWeight:A.Z.fontWeight.medium,marginLeft:4},children:e}),userAvatar:(0,f.jsx)(Le.Z,{size:22,avatarShouldShowShadow:!0,userStore:p})}}),(0,f.jsx)(yt,{})]})}return(0,f.jsxs)(we.Z,{mobileFeedback:!0,style:h,onClick:()=>Mt(t,n),children:[(0,f.jsxs)("span",{style:{color:o.mediumTextColor},children:[(0,f.jsx)(T.FormattedMessage,{defaultMessage:"Add to",id:"topbarMobile.addToPageOrWorkspaceSectionButton.label"})," "]}),(0,f.jsx)(Re.Z,{disabled:!0,icon:d,isEmptyPage:u,title:m,size:24,style:{marginLeft:8,marginRight:4}}),(0,f.jsx)(Ze.Z,{style:{fontWeight:A.Z.fontWeight.semibold},store:l}),(0,f.jsx)(yt,{})]})}return null}function wt(){const e=(0,s.O7)();return(0,f.jsx)(we.Z,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",height:"100%",paddingLeft:16,paddingRight:16,fontWeight:A.Z.fontWeight.medium,color:w.ZP.blue},onClick:t=>xt(e,{isMobileHorizon1QuickCapture:!1}),children:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"Cancel",id:"topbarMobile.cancelQuickAddButton.label"})})}function At(){const e=(0,s.O7)(),t=(0,T.useIntl)(),i=(0,a.yK)((e=>({iconButton:{background:e.tint.regular,marginRight:20,borderRadius:17,width:34,height:34}})),[]);return(0,f.jsx)(je.Z,{icon:e=>(0,m.U)({width:20,height:20}),style:i.iconButton,isDarkIconColor:!0,onClick:t=>xt(e,{isMobileHorizon1QuickCapture:!0}),ariaLabel:t.formatMessage({defaultMessage:"Close",id:"topbarMobile.closeButton.label"})})}function It(){const e=(0,s.O7)(),t=(0,a.yK)((e=>({doneButton:{display:"flex",alignItems:"center",height:34,paddingLeft:12,paddingRight:12,marginLeft:2,marginRight:8,fontWeight:A.Z.fontWeight.medium,color:e.text.primary,background:e.tint.regular,borderRadius:17}})),[]);return(0,f.jsx)(we.Z,{mobileFeedback:!0,style:t.doneButton,onClick:t=>function(e,t){const i=ge.default.state.mainEditorCurrentBlockStore,o=ve.ZP.state.lastPageId;if(i){var n;const e=null===(n=t.mobileNative)||void 0===n?void 0:n.supportsNativeHomeOnPhone();e?R.d(t):o?V._c({environment:t,store:Ce.G.createChildStore(i,{table:M.iU,id:o}),showMoveTo:!1,saveParent:!1,redirect:e,pageVisitSource:d.tY.BackForward}):P.c4({environment:t,url:x._j.root,redirect:!0}),lt(t,{action:"done"})}}(0,e),children:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"Done",id:"topbarMobile.doneQuickAddButton.label"})})}function jt(e){let{showingHistoryButtons:t=!0,shouldShowAddTo:i,store:o}=e;const n=(0,s.O7)(),a=(0,s.Fy)().isTablet,l=(0,r.VK)((()=>bt(n,t,a)),[n,a,t]);return i?(0,f.jsx)(Tt,{store:o,shouldShowAddTo:i}):(0,f.jsx)(H.l2,{store:o,style:l,maxAncestorCount:a?2:1,showCurrentPageControls:!1,ancestorMaxWidth:a?160:100,currentPageMaxWidth:a?240:220,isMobile:!0})}function Bt(e){let{hasUnreadComments:t,styling:i}=e;const n=(0,T.useIntl)(),s=(0,r.VK)((()=>me.Z.state.open),[]),[a,l]=(0,o.useState)(Date.now());(0,o.useEffect)((()=>{s&&l(Date.now())}),[s]);const c=(0,Ge.Kr)();let d;return d="mobile_horizon1_quick_capture_circle_icons"===i?{}:"mobile_horizon1_quick_capture"===i?{marginRight:4}:{position:"relative",height:"100%"},(0,f.jsx)(Ae.ZP,{buttonPopupStore:me.Z,popupType:Ae.Z4.SlideUp,alignmentToOrigin:pe.v.Start,placementToOrigin:pe.u.Right,originGap:0,stopClickPropagation:!0,isWideTabletWidth:!0,render:e=>(0,f.jsx)(ze.J,{timeViewed:a,location:"popup",onMobileClose:()=>e.close()}),isFullWidthOnMobile:!0,preventScaleTransition:!0,renderOrigin:e=>(0,f.jsxs)("div",{style:d,children:[("default"===i||void 0===i)&&(0,f.jsx)(je.Z,{icon:S,iconStyle:c.default.iconStyle,ariaLabel:n.formatMessage(at.comments),isDarkIconColor:!0,style:c.default.iconContainer,mobileFeedback:!0,...e}),"mobile_horizon1_quick_capture"===i&&(0,f.jsx)(je.Z,{icon:S,iconStyle:c[i].iconStyle,ariaLabel:n.formatMessage(at.comments),isDarkIconColor:!0,style:c[i].iconContainer,mobileFeedback:!0,...e}),"mobile_horizon1_quick_capture_circle_icons"===i&&(0,f.jsx)(je.Z,{icon:v,iconStyle:c[i].iconStyle,ariaLabel:n.formatMessage(at.comments),isDarkIconColor:!0,style:c[i].iconContainer,mobileFeedback:!0,...e}),t&&(0,f.jsx)("div",{style:{position:"absolute",top:9,right:5,height:8,width:8,borderRadius:4,background:w.ZP.red}})]})})}function _t(e){let{store:t,detailsModules:i}=e;const o=(0,T.useIntl)();return i?(0,f.jsx)(Ae.ZP,{popupType:Ae.Z4.SlideUp,originGap:0,stopClickPropagation:!0,isWideTabletWidth:!0,render:e=>(0,f.jsx)(Be.Z,{menuType:Q.og.Modal,scrollerStyle:{paddingBottom:0},title:(0,f.jsx)(T.FormattedMessage,{defaultMessage:"Details",id:"topbarMobile.header.info"}),right:(0,f.jsx)(_e.DoneMenuText,{}),onClickRight:e.close,children:(0,f.jsx)(z.Jc,{store:t,context:ye.S.Frame,disabled:!1,modules:i,shownAs:"sidebar"})}),isFullWidthOnMobile:!0,preventScaleTransition:!0,renderOrigin:e=>(0,f.jsx)("div",{style:{position:"relative",height:"100%",paddingRight:8},children:(0,f.jsx)(je.Z,{ariaLabel:o.formatMessage({defaultMessage:"Info",id:"topbarMobile.infoButton.label"}),icon:h.D,iconStyle:{width:23,height:23,fill:"inherit"},isDarkIconColor:!0,style:{marginLeft:6,marginRight:6,height:"100%"},mobileFeedback:!0,...e})})}):null}function Vt(e){let{store:t,spaceStore:i,isInvalidPage:n,shouldShowAddTo:a,styling:l}=e;const c=(0,s.O7)(),{value:d}=(0,ie.XJ)(K.commentsDependency),u=(0,r.VK)((()=>{if(!d)return!1;const{discussionViewActions:e,discussionHelpers:{getAndSortCommentStoresByTime:i}}=d;return(0,E.getDiscussions)(t).some((t=>!t.getResolved()&&i(t).some((i=>e.isCommentUnread({discussionStore:t,commentStore:i})))))}),[d,t]),m=(0,r.VK)((()=>Boolean(i&&!i.canEdit())),[i]),p=(0,r.VK)((()=>t.canEdit()),[t]),h=(0,tt.UP)({isSpaceGuest:m,canEditPage:p,isPersonalHomePage:!1,isFormBlock:!1}),g=(0,r.VK)((()=>(0,tt.W2)({canEditPage:p,device:c.device,isPersonalHomePage:!1,isFormBlock:!1})),[p,c.device]),b=(0,r.VK)((()=>!a&&(!t.isCollectionView()||t.isCollectionViewPageWithContent())),[a,t]),v=(0,r.VK)((()=>(0,Ge.OZ)(l)),[l]),{modules:S}=(0,ne.V)(t);return n?null:v?(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(dt,{}),h&&(0,f.jsx)(ht,{store:t,styling:l}),(0,f.jsx)(_t,{store:t}),b&&(0,f.jsx)(Bt,{hasUnreadComments:u,styling:l}),(0,f.jsx)(pt,{store:t,shouldShowAddTo:a,styling:l}),a&&(0,f.jsx)(It,{}),(0,f.jsx)("div",{style:{width:5}})]}):(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(dt,{}),h&&(0,f.jsx)(ht,{store:t,styling:l}),(null==S?void 0:S.length)&&(0,f.jsx)(_t,{store:t,detailsModules:S}),b&&(0,f.jsx)(Bt,{hasUnreadComments:u,styling:l}),g&&(0,f.jsx)(rt.lI,{onClick:()=>function(e){Se.Z.setState({open:!0}),B.gM(e)}(c)}),(0,f.jsx)(pt,{store:t,shouldShowAddTo:a,styling:l})]})}function Pt(e){let{store:t,pageVisitStore:i,presenceStore:o,hideActionButtons:n,isInvalidPage:l,spaceStore:c,shouldShowAddTo:d,spaceViewStore:u,showTopPadding:m}=e;const p=(0,a.Fg)(),h=(0,s.O7)(),{isTablet:g}=(0,s.Fy)(),b=(0,r.VK)((()=>ft({shouldShowAddTo:d,environment:h})),[d,h]),v=(0,r.VK)((()=>(0,ae.WE)(t)),[t]),S=(0,r.VK)((()=>t.canEditCollection()),[t]),y=(0,r.VK)((()=>(0,$.oj)(h)?"mobile_horizon1_quick_capture_circle_icons":(0,$.kS)(h)?"mobile_horizon1_quick_capture":"default"),[h]),C=(0,r.VK)((()=>(0,Ge.OZ)(y)),[y]),x=(0,r.VK)((()=>t.isRestricted()),[t]),M=(0,r.VK)((()=>t.canEdit()),[t]),k=(0,r.VK)((()=>function(e,t){return e&&function(e){return e.isEmptyTitle()&&e.isEmptyPage()}(t)}(d,t)),[d,t]),T=(0,r.VK)((()=>(0,Y.qG)(t.id)),[t]);let w;w=k?C?(0,f.jsx)(At,{}):(0,f.jsx)(wt,{}):T?(0,f.jsx)(mt,{store:t,spaceViewStore:u,isInvalidPage:l}):(0,f.jsx)(Vt,{store:t,spaceStore:c,isInvalidPage:l,shouldShowAddTo:d,styling:y});const A=v?(0,f.jsx)(se.E,{store:t,isInvalidPage:Boolean(l)}):(0,f.jsxs)(f.Fragment,{children:[x&&g&&(0,f.jsx)(st.Z,{style:{marginRight:8},onClick:()=>le.lG(h)}),g&&M&&i&&o&&(0,f.jsx)(nt.ZP,{rootStore:t,pageVisitStore:i,presenceStore:o}),w]}),I=(0,r.VK)((()=>St(d,h,p,m)),[h,d,p,m]),j=(0,r.VK)((()=>function(e){return gt(e)||!(0,he.Y)("supportsNativeHome")}(h)),[h]),B=(0,r.VK)((()=>(!d||!(0,Ge.OZ)(y))&&(!(!d&&"mobile_horizon1_quick_capture_circle_icons"===y)&&!l)),[d,y,l]);return(0,f.jsxs)("div",{onClick:()=>Ct(h),style:I,className:G.ZHw,children:[j&&(0,f.jsx)(vt,{}),b&&(0,f.jsx)(Je,{supportsNativeHomeTabPhone:!g&&(0,he.Y)("supportsNativeHome"),styling:y}),B&&(0,f.jsx)(jt,{shouldShowAddTo:d,store:t,showingHistoryButtons:b}),S&&g&&(0,f.jsx)(Ke.Z,{store:t,isMobile:!1},t.id),(0,f.jsx)(it.Z,{}),!n&&A]})}},840863:(e,t,i)=>{i.d(t,{$G:()=>s,AN:()=>a,du:()=>n});i(757658);var o=i(730120);function n(e){const t=o.ou.fromMillis(e.startUnixTimestampMS),i=e.endUnixTimestampMS?o.ou.fromMillis(e.endUnixTimestampMS):void 0,n=o.ou.fromMillis(e.startOfWeekUnixTimestampMS),s=o.ou.fromMillis(e.endOfWeekUnixTimestampMS),r=t.startOf("day"),a=o.ou.max(n,r),l=Math.ceil(a.diff(n,"days").get("days"));let c=1;if(i){const e=i.endOf("day"),t=o.ou.min(s,e);c=Math.ceil(t.diff(a,"days").get("days"))}return{start:t,end:i,startOfWeek:n,endOfWeek:s,startColumn:l,columnCount:c}}function s(e){const t=(null==e?void 0:e.attendees)||[];return e.hasParticipants&&t.filter((e=>!e.self&&!e.resource)).every((e=>"declined"===e.responseStatus))}const r={upcomingMinsThreshold:10,startingMinsThreshold:5,startedMinsThreshold:15};function a(e){const t=e.filter((e=>{var t;if(!e.conferencing)return!1;return!function(e){if("declined"===e)return!0;return!1}((null===(t=e.attendees)||void 0===t?void 0:t.find((e=>e.self)))?e.responseStatus??"accepted":"accepted")&&!e.isAllDay}));if(0===t.length)return;const{upcomingMinsThreshold:i,startingMinsThreshold:n,startedMinsThreshold:s}=r,a=[],c=[],d=[],u=[],m=[];for(const r of t){if(r.isAllDay)continue;const e=l(r),t=o.ou.now(),p=e.start.diff(t,"minutes").minutes;p>=0&&p<=i?a.push(r):-p>=n?d.push(r):-p>=s?u.push(r):e.contains(t)?c.push(r):m.push(r)}return[...a,...d,...u,...c,...m][0]}function l(e){const t=o.ou.fromISO(e.start.dateTime,{zone:e.start.timeZone}),i=o.ou.fromISO(e.end.dateTime,{zone:e.end.timeZone});return o.Xp.fromDateTimes(t,i)}},627249:(e,t,i)=>{i.d(t,{CN:()=>c,H_:()=>a,ay:()=>l});var o=i(811002),n=i(284465),s=i(194952),r=i(173314);function a(e){let{persona:t,defaultToLife:i}=e;if(!t)return;if(t in n._5)return t;const o={customer_support:"support",designer:"design",educator:"student",entrepreneur:"hr",freelancer:"design",hr_recruiting:"hr",it:"eng",marketing_sales:"marketing",media:"marketing",operations:"hr",operations_hr:"hr",personal:"life",product_manager:"product",programmer:"eng",other:i?"life":void 0,unfilled:i?"life":void 0,undefined:i?"life":void 0,creative:"design",founderCeo:"hr",internalCommunication:"hr",productDesign:"design",projectProgramMgmt:"product",finance:void 0,itAdmin:"eng",knowledgeManagement:"hr"};return(null==o?void 0:o[t])??void 0}function l(e,t){const i=a({persona:t,defaultToLife:!0});return(i?null==d?void 0:d[i]:[]).filter((t=>(0,s.G)(t,e)))}function c(e,t,i){return function(e,t){const i=a({persona:e,defaultToLife:!1});return(i?null===n.J9||void 0===n.J9?void 0:n.J9[i]:[]).filter((e=>(0,s.G)(e,t)))}(e,t).map((e=>(0,r.G)(e,i)))}const d={...n.J9,design:[o.Yt.designSprint,o.Yt.designPortfolio],product:[o.Yt.productSpec,o.Yt.productWiki,o.Yt.visionAndStrategy],marketing:[o.Yt.blogEditorialCalendar,o.Yt.socialMediaCalendar,o.Yt.presentation],hr:[o.Yt.companyHome,o.Yt.employeeBenefits,o.Yt.peopleDirectory],sales:[o.Yt.salesWiki,o.Yt.presentation,o.Yt.oneOnOneNotes],support:[],life:[]}},530439:(e,t,i)=>{i.r(t),i.d(t,{TopLevelMobileComponents:()=>b});i(667294);var o=i(800480),n=i(886628),s=i(530664),r=i(728385),a=i(161671),l=i(372425),c=i(823586),d=i(843250),u=i(171119),m=i(775538),p=i(727177),h=i(80444),g=i(672087),f=i(785893);function b(){const e=(0,o.O7)(),t=(0,n.qz)(void 0,g.Z),i=(0,n.VK)((()=>{const e=m.default.state;return e.isOnboarding&&"workspace_setup"===e.stage}),[]),b=(0,n.VK)((()=>h.default.state.currentSpaceStore),[]),v=(0,n.VK)((()=>h.default.state.mainEditorCurrentBlockStore),[]),S=(0,n.VK)((()=>b&&b.canEdit()),[b]);return i?(0,f.jsx)(f.Fragment,{}):(0,f.jsxs)("div",{className:d.alX,children:[(0,f.jsx)(p.Z,{createType:"add-account"}),b&&(0,f.jsx)(r.Z,{store:b}),(0,f.jsx)(c.Z,{request:{},render:()=>null,requestStore:t,performRequest:()=>(0,u.pu)(e)}),(0,f.jsx)(a.Z,{passwordRequestStore:t}),S&&v&&(0,f.jsx)(l.Z,{store:v,isMobile:!0}),(0,f.jsx)(s.Z,{})]})}},572530:(e,t,i)=>{i.d(t,{V:()=>s});var o=i(886628),n=i(305971);function s(e){const t=(0,n.E)("page_layouts"),i=(0,o.VK)((()=>{if(!e)return;const t=e.getAssociatedCollectionStore(),i=null==t?void 0:t.getLayoutStore();return null==i?void 0:i.getModules().page_details}),[e]);return t?{modules:i}:{}}},745483:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(749085),n=i(292595);class s extends o.default{getInitialState(){return{openModals:new Set}}}const r=new s,a=r;(0,n.exposeDebugValue)("GlobalModalStore",r)},866881:(e,t,i)=>{i.d(t,{g:()=>o});const o=i(749085).default.createValue({shouldReset:!1},{name:"MobileAssistantMenuStore"})},72653:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(14577),n=i(905162),s=i(869454),r=i(155320);const a=new o.Z((()=>{const{phase:e}=s.Z.state;if(r.default.state.open)return!0;return(0,n.Y)("supportsFixedSizeWebView")&&!s.Z.state.shouldResizeWebView||e===s.i.hidden||e===s.i.willHide}),{debugName:"MobileBottomBarStore"})},449682:(e,t,i)=>{i.d(t,{Z:()=>o});const o=new(i(61766).Z)},361254:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(749085);class n extends o.default{getInitialState(){return{open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0}}}const s=n},508769:(e,t,i)=>{i.d(t,{X:()=>n});var o=i(180951);function n(e){const{block:t,property:i,schema:n,getRecordModel:s,userId:r,userTimeZone:a,intl:l}=e;if(!t)return!1;if("title"===i)return!1;const c=n[i];return!(!c||"checkbox"!==c.type)||(!(!c||"button"!==c.type)||(!(!c||"status"!==c.type)||!o.wV({property:i,schema:n,block:t,getRecordModel:s,userId:r,userTimeZone:a,intl:l})))}},303338:(e,t,i)=>{i.d(t,{p:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("circleCheck",{viewBox:"0 0 12 12",svg:(0,n.jsx)("path",{d:"M6.09277 11.1855C8.88574 11.1855 11.1855 8.88574 11.1855 6.09277C11.1855 3.30469 8.88086 1 6.08789 1C3.2998 1 1 3.30469 1 6.09277C1 8.88574 3.2998 11.1855 6.09277 11.1855ZM6.09277 10.0674C3.89062 10.0674 2.12305 8.29492 2.12305 6.09277C2.12305 3.89062 3.88574 2.11816 6.08789 2.11816C8.29492 2.11816 10.0625 3.89062 10.0674 6.09277C10.0723 8.29492 8.29492 10.0674 6.09277 10.0674ZM5.57031 8.41699C5.75586 8.41699 5.92188 8.31934 6.0293 8.15332L8.17773 4.81836C8.24609 4.71094 8.2998 4.58887 8.2998 4.47656C8.2998 4.21289 8.07031 4.03711 7.82129 4.03711C7.66016 4.03711 7.51855 4.125 7.41113 4.30078L5.55566 7.2793L4.68652 6.19043C4.56934 6.03906 4.44727 5.98047 4.2959 5.98047C4.03711 5.98047 3.82715 6.18555 3.82715 6.44922C3.82715 6.57129 3.87598 6.68359 3.96387 6.7959L5.0918 8.1582C5.22852 8.3291 5.37988 8.41699 5.57031 8.41699Z"})})},664878:(e,t,i)=>{i.d(t,{h:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("dot",{viewBox:"0 0 5 4",svg:(0,n.jsx)("circle",{cx:"2.5",cy:"2",r:"2"})})},821197:(e,t,i)=>{i.d(t,{Q:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("filter",{viewBox:"0 0 16 16",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4C2 3.58579 2.33579 3.25 2.75 3.25H13.25C13.6642 3.25 14 3.58579 14 4C14 4.41421 13.6642 4.75 13.25 4.75H2.75C2.33579 4.75 2 4.41421 2 4Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 8C3.75 7.58579 4.08579 7.25 4.5 7.25H11.5C11.9142 7.25 12.25 7.58579 12.25 8C12.25 8.41421 11.9142 8.75 11.5 8.75H4.5C4.08579 8.75 3.75 8.41421 3.75 8Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12C5.5 11.5858 5.83579 11.25 6.25 11.25H9.75C10.1642 11.25 10.5 11.5858 10.5 12C10.5 12.4142 10.1642 12.75 9.75 12.75H6.25C5.83579 12.75 5.5 12.4142 5.5 12Z"})]})})},63261:(e,t,i)=>{i.d(t,{_:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("hamburgerMenu",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})})},13530:(e,t,i)=>{i.d(t,{s:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("historyForward",{viewBox:"0 0 14 14",svg:(0,n.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})})},375071:(e,t,i)=>{i.d(t,{f:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("plusThick",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},973426:(e,t,i)=>{i.d(t,{i:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("templatesColor",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z",fill:"#3C9ED7"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z",fill:"#E7595E"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z",fill:"#F5BC4E"})]})})},242973:(e,t,i)=>{i.d(t,{i:()=>s});i(667294);var o=i(745238),n=i(785893);const s=(0,o.IU)("wifiExclamationMark",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.99414 13.2441C7.81055 13.2441 7.64062 13.1992 7.48438 13.1094C7.33203 13.0195 7.21094 12.8984 7.12109 12.7461C7.03125 12.5977 6.98633 12.4316 6.98633 12.248C6.98633 12.0645 7.03125 11.8984 7.12109 11.75C7.21094 11.5977 7.33203 11.4785 7.48438 11.3926C7.64062 11.3027 7.81055 11.2578 7.99414 11.2578C8.18164 11.2578 8.35156 11.3027 8.50391 11.3926C8.66016 11.4785 8.78125 11.5977 8.86719 11.75C8.95703 11.8984 9.00195 12.0645 9.00195 12.248C9.00195 12.4316 8.95703 12.5977 8.86719 12.7461C8.78125 12.8984 8.66016 13.0195 8.50391 13.1094C8.35156 13.1992 8.18164 13.2441 7.99414 13.2441ZM8 10.2676C7.79688 10.2676 7.63672 10.209 7.51953 10.0918C7.40234 9.9707 7.33984 9.80469 7.33203 9.59375C7.32812 9.20703 7.32422 8.80859 7.32031 8.39844C7.31641 7.98438 7.31055 7.56641 7.30273 7.14453C7.29492 6.71875 7.28711 6.29492 7.2793 5.87305C7.27539 5.45117 7.26953 5.03906 7.26172 4.63672C7.25781 4.23047 7.25391 3.83789 7.25 3.45898C7.25 3.25195 7.32031 3.08008 7.46094 2.94336C7.60547 2.80273 7.7832 2.73242 7.99414 2.73242C8.20898 2.73242 8.38672 2.80273 8.52734 2.94336C8.66797 3.08008 8.73828 3.25195 8.73828 3.45898C8.73438 3.83789 8.73047 4.23047 8.72656 4.63672C8.72266 5.03906 8.71875 5.45117 8.71484 5.87305C8.71094 6.29492 8.70508 6.71875 8.69727 7.14453C8.69336 7.56641 8.6875 7.98438 8.67969 8.39844C8.67578 8.80859 8.67188 9.20703 8.66797 9.59375C8.66016 9.80469 8.59766 9.9707 8.48047 10.0918C8.36328 10.209 8.20312 10.2676 8 10.2676ZM6.37109 3.48828L6.40625 5.36328C5.66797 5.50781 4.96875 5.76172 4.30859 6.125C3.65234 6.48828 3.05469 6.95508 2.51562 7.52539C2.45312 7.5918 2.37891 7.62695 2.29297 7.63086C2.21094 7.63086 2.13672 7.59961 2.07031 7.53711L1.25 6.69922C1.19922 6.64062 1.17188 6.57617 1.16797 6.50586C1.16406 6.43555 1.18555 6.37305 1.23242 6.31836C1.61133 5.84961 2.06641 5.42578 2.59766 5.04688C3.13281 4.66406 3.7207 4.33984 4.36133 4.07422C5.00195 3.80859 5.67188 3.61328 6.37109 3.48828ZM9.61133 3.48828C10.3184 3.60938 10.9922 3.80469 11.6328 4.07422C12.2734 4.33984 12.8574 4.66406 13.3848 5.04688C13.916 5.42969 14.375 5.85352 14.7617 6.31836C14.8086 6.37305 14.8301 6.43555 14.8262 6.50586C14.8262 6.57617 14.7969 6.64062 14.7383 6.69922L13.918 7.51953C13.8555 7.58594 13.7832 7.62109 13.7012 7.625C13.6191 7.625 13.5488 7.5957 13.4902 7.53711C12.9395 6.96289 12.3359 6.49219 11.6797 6.125C11.0234 5.75781 10.3242 5.50391 9.58203 5.36328L9.61133 3.48828ZM9.57031 7.00391C10.1602 7.14453 10.7012 7.36523 11.1934 7.66602C11.6855 7.9668 12.0918 8.31055 12.4121 8.69727C12.459 8.75195 12.4805 8.81445 12.4766 8.88477C12.4727 8.95117 12.4434 9.01172 12.3887 9.06641L11.4746 9.96289C11.4043 10.0293 11.3301 10.0645 11.252 10.0684C11.1738 10.0684 11.1055 10.0352 11.0469 9.96875C10.8477 9.75781 10.6191 9.56641 10.3613 9.39453C10.1074 9.21875 9.83398 9.07422 9.54102 8.96094L9.57031 7.00391ZM6.42969 7.00391L6.45898 8.95508C6.17383 9.06445 5.9043 9.20508 5.65039 9.37695C5.40039 9.54492 5.17773 9.73438 4.98242 9.94531C4.91602 10.0195 4.83984 10.0605 4.75391 10.0684C4.67188 10.0723 4.5957 10.041 4.52539 9.97461L3.60547 9.06641C3.55078 9.01172 3.52148 8.95117 3.51758 8.88477C3.51367 8.81445 3.53516 8.75195 3.58203 8.69727C3.91016 8.30273 4.31836 7.95898 4.80664 7.66602C5.29883 7.36914 5.83984 7.14844 6.42969 7.00391Z"})})},284465:(e,t,i)=>{i.d(t,{J9:()=>d,_5:()=>r,d6:()=>l,e8:()=>c,gh:()=>a});var o=i(371663),n=i(811002),s=i(598251);const r={suggested:s.sY.suggestedCategory,design:s.sY.designer,eng:s.sY.engineering,product:s.sY.productManagement,marketing:s.sY.marketing,sales:s.sY.sales,support:s.sY.support,hr:s.sY.hr,life:s.sY.life,student:s.sY.student},a={suggested:[o.Ll,o.Yb,o.tt,o.KW,o.r],product:[o.tt],design:[o.Yb],eng:[o.tt],marketing:[o.Yb],hr:[o.Yb],sales:[o.Yb],support:[o.Yb],life:[],student:[]},l=[n.Yt.taskList,n.Yt.quickNoteV2,n.Yt.habitTrackerV2,n.Yt.journalV2,n.Yt.weeklyTodoV2,n.Yt.classNotesV2],c=[n.Yt.taskList,n.Yt.quickNoteV2,n.Yt.oneOnOneNotesV2,n.Yt.weeklyTodoV2],d={suggested:[n.Yt.defaultWiki],product:[n.Yt.oneOnOneNotes,n.Yt.productWiki,n.Yt.productSpec,n.Yt.visionAndStrategy,n.Yt.presentation,n.Yt.investorUpdate,n.Yt.userResearch,n.Yt.experimentResults,n.Yt.brainstorm,n.Yt.productLaunchBrief],design:[n.Yt.designSprint,n.Yt.designSystem,n.Yt.designPortfolio,n.Yt.userResearch,n.Yt.brainstorm],eng:[n.Yt.engineeringWiki,n.Yt.engineeringTechSpec,n.Yt.experimentResults,n.Yt.brainstorm],marketing:[n.Yt.presentation,n.Yt.brandAssets,n.Yt.brainstorm,n.Yt.contentCalendar,n.Yt.blogEditorialCalendar,n.Yt.socialMediaCalendar,n.Yt.campaignBrief,n.Yt.moodBoard,n.Yt.mediaList],hr:[n.Yt.companyHome,n.Yt.newHireOnboarding,n.Yt.employeeBenefits,n.Yt.interviewGuide,n.Yt.recruitingTracker,n.Yt.jobBoard,n.Yt.applicantTracker,n.Yt.peopleDirectory],sales:[n.Yt.salesWiki,n.Yt.salesCRM,n.Yt.salesAssets,n.Yt.competitiveAnalysis],support:[n.Yt.productFAQs,n.Yt.helpCenter],life:[n.Yt.readingListV2,n.Yt.habitTrackerV2,n.Yt.simpleBudgetV2,n.Yt.weeklyTodoV2,n.Yt.travelPlannerV2,n.Yt.journalV2,n.Yt.resumeV2,n.Yt.personalHomeV3,n.Yt.quickNoteV2,n.Yt.jobApplicationsV2,n.Yt.lifeWikiV2,n.Yt.moodBoardV2,n.Yt.blogPostV2,n.Yt.personalCRMV2],student:[n.Yt.studentPlanner,n.Yt.classNotesV2,n.Yt.courseScheduleV2,n.Yt.gradeCalculatorV2,n.Yt.cornellNotesSystemV2,n.Yt.syllabusV2,n.Yt.lessonPlansV2,n.Yt.classDirectoryV2,n.Yt.classroomHomeV2,n.Yt.clubHomepageV2]}}}]);