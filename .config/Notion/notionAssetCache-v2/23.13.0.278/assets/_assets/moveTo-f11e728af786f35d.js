"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[94670],{54814:(e,t,a)=>{a.d(t,{nc:()=>c,rG:()=>i});a(757658);var n=a(606287),s=a(798165),o=a(206258),r=a(454642);async function i(e){let{environment:t,spaceId:a,databaseType:s,parentStore:i}=e;if(!a)return;const c=await r.getTypedDatabases(t,{spaceId:a,databaseType:s});return"success"===c.type?c.data.result.map((e=>o.NW.createChildStore(i,{table:n.vF,id:e.collectionId}))):void 0}async function c(e){let{environment:t,spaceId:a,databaseTypes:n,parentStore:o,teamId:r}=e;const c=[];return await Promise.all(n.map((async e=>{const n=await async function(e){let{environment:t,spaceId:a,databaseType:n,parentStore:o,teamId:r}=e;const c=await i({spaceId:a,environment:t,databaseType:n,parentStore:o});if(!c)return!1;for(const i of c){const e=s.VP(i);if(e&&e.id===r)return!0}return!1}({environment:t,spaceId:a,databaseType:e,parentStore:o,teamId:r});n&&c.push(e)}))),c}},760442:(e,t,a)=>{a.d(t,{Z:()=>r});a(667294);var n=a(137810),s=a(847853),o=a(785893);const r=function(e){let{imageURL:t,imageWidth:a,imageHeight:n,caption:r,title:c}=e;if(t){const e=(0,s.D)(t);return(0,o.jsxs)("div",{style:{width:a||200,marginTop:4,marginBottom:4},children:[(0,o.jsx)("div",{style:{width:"100%",height:n||100,borderRadius:4,backgroundImage:`url(${e})`,backgroundSize:"cover",marginBottom:6}}),(0,o.jsx)(i,{caption:r,title:c})]})}return(0,o.jsx)(i,{caption:r,title:c,style:{width:a}})};function i(e){let{style:t,caption:a,title:s}=e;return(0,o.jsxs)("div",{style:{whiteSpace:"normal",lineHeight:1.4,...t},children:[s&&(0,o.jsx)("header",{style:{fontWeight:n.Z.fontWeight.bold,marginBottom:4},children:s}),a]})}},983564:(e,t,a)=>{a.r(t),a.d(t,{MoveOrDuplicateProgress:()=>y.Z,MoveToMenuRenderer:()=>f,MoveToOrCreateMenu:()=>n.ZP,MoveToSnackbarButtons:()=>g.Z});var n=a(51253),s=(a(667294),a(800480)),o=a(886628),r=a(73990),i=a(211302),c=a(691851),d=a(953437),l=a(175770),p=a(223196),u=a(242330),v=a(785893);function m(){const e=(0,s.O7)(),t=(0,o.VK)((()=>{const e=u.ZP.state;if(e.isOpen)return{autocompleteQuery:e.autocompleteQuery,targets:e.targets,isAddTo:e.isAddTo,isOpen:e.isOpen,forceShowPrivatePageOption:Boolean(e.forceShowPrivatePageOption)}}),[]);if(void 0===t||!t.isOpen)return null;const a=()=>{if(u.ZP.state.isOpen){const{flowId:t,targets:a,moveToContext:n}=u.ZP.state;r.A6(e,{from:n,render_type:"web",target_block_ids:a.map((e=>e.id)),flowId:t})}i.xv({environment:e,clearSelection:!0})},{autocompleteQuery:d,targets:p,isAddTo:m}=t,f=e.device.isMobile;return(0,v.jsx)(n.ZP,{captureSelection:!0,restoreSelection:!f,autocompleteQuery:d,targets:p,onAutocompleteQueryChange:t=>{if(u.ZP.state.isOpen){u.ZP.setState({...u.ZP.state,queryLimit:l.Kg,autocompleteQuery:t});const{flowId:a,moveToContext:n}=u.ZP.state;r.a6(e,{flowId:a,from:n,newValue:t})}},onAccept:async t=>{const n=u.ZP.state.isOpen&&u.ZP.state.targets||[],s=await(0,l.ed)({environment:e,blocks:n,from:"moveTo",moveToArgs:{moveToValue:t,destination:(0,l.uw)(t)}});if(!s.confirmed)return void a();for(const r of n){const t=await c.NN({environment:e,block:r,action:"move"});"user_canceled"===t?a():t.length>1&&u.ZP.state.isOpen&&u.ZP.setState({...u.ZP.state,targets:t})}if(u.ZP.state.isOpen){const{flowId:a,targets:n,moveToContext:s,openedTimeMs:o,autocompleteQuery:i}=u.ZP.state,c="space-private-pages"===t.type?-1:n.findIndex((e=>e.id===t.id));r.mf(e,{from:s,render_type:"web",type:t.type,target_block_ids:n.map((e=>e.id)),time_to_select_ms:Date.now()-o,selected_item_index:c,query_length:i.length,flowId:a})}const{shouldClearPagePermissions:o}=s;(async t=>{let{value:a,shouldClearPagePermissions:n}=t;await i.pB({environment:e,value:a,useSudoMode:u.ZP.state.isOpen&&u.ZP.state.useSudoMode,renderType:"web",shouldClearPagePermissions:n})})({value:t,shouldClearPagePermissions:o})},onCancel:a,desktopWidth:330,isAddTo:m,isCreateIn:!1,forceShowPrivatePageOption:t.forceShowPrivatePageOption})}function f(){const e=(0,s.O7)(),t=(0,o.VK)((()=>e.device.isPhone),[e]),a=(0,o.VK)((()=>{const e=u.ZP.state;if(e.isOpen)return{renderType:e.renderType,isOpen:e.isOpen,rect:e.rect}}),[]);return(0,v.jsx)(d.ZP,{popupType:t?p.k.SlideUp:p.k.Popup,alignmentToOrigin:d.ZP.Alignment.Start,open:void 0!==a&&"mobileNative"!==a.renderType&&a.isOpen,render:()=>(0,v.jsx)(m,{}),originRect:null==a?void 0:a.rect,onDismiss:()=>{if(u.ZP.state.isOpen){const{flowId:t,targets:a,moveToContext:n}=u.ZP.state;r.A6(e,{from:n,render_type:"web",target_block_ids:a.map((e=>e.id)),flowId:t})}i.xv({environment:e,clearSelection:!0})}})}f.displayName="MoveToMenuRenderer";var g=a(698110),y=a(591948)},862395:(e,t,a)=>{a.d(t,{n:()=>n});const n=a(749085).default.createValue(void 0,{name:"CachedTypedDatabasesStore"})},863334:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(749085);class s extends n.default{getInitialState(){return{}}}const o=s},340215:(e,t,a)=>{a.d(t,{F:()=>g});var n=a(886628),s=a(494714),o=a(559054),r=a(606287),i=a(54814),c=a(123924),d=a(296994),l=a(277907),p=a(675822),u=a(862395),v=a(319385),m=a(242330),f=a(206258);function g(e){let{environment:t,spaceStore:a,joinedTeamIds:g,parentStore:y,moveToTargets:h,overrideDatabaseType:C}=e;const P=(0,n.VK)((()=>{const e=null==a?void 0:a.id;if(e)return function(e){if(!u.n.state)return;if(e!==u.n.state.spaceId)return;return u.n.state.typedDatabases}(e)}),[null==a?void 0:a.id]),T=(0,n.VK)((()=>v.default.checkGate({gateName:"typed_move_to_improved_default_results"})),[]),b=(0,l.XJ)(d.FF.searchActions),[{value:w,status:Z}]=(0,o.r5)((async()=>{if(P)return P;if(!a||!y)return;const e=m.ZP.getTargetsDatabaseType()??C;if(!e)return;if("resolved"!==b.status)return;const n=b.value;let o=[];if(T){const s=((await n.searchCollectionsWithRecents({environment:t,query:"",limit:20,databaseType:[e],spaceStore:a,parentStore:a,collectionViewBlockStore:void 0,searchSessionId:m.ZP.state.isOpen?m.ZP.state.flowId:void 0})).results||[]).map((e=>f.NW.createChildStore(y,{table:r.vF,id:e})));o=(0,c.qJ)({typedDatabases:s,blocksToFilterParents:h})}else{const n=await i.rG({environment:t,spaceId:a.id,databaseType:e,parentStore:y})??[];o=(0,c.mL)({environment:t,typedDatabases:n,spaceStore:a,joinedTeamIds:g})}return u.n.setState({typedDatabases:o,spaceId:a.id}),m.ZP.setState({...m.ZP.state,variant:s.ii}),o}),[P,a,T,t,h,C,y,g,b.status,b.value],{debounce:p.vp,throttle:p.vp});return P?{success:!0,typedDatabases:P}:"resolved"===Z&&w?{success:!0,typedDatabases:w}:{success:!1}}},240745:(e,t,a)=>{a.d(t,{M:()=>o});a(667294);var n=a(745238),s=a(785893);const o=(0,n.IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},222686:(e,t,a)=>{a.d(t,{f:()=>o});a(667294);var n=a(745238),s=a(785893);const o=(0,n.IU)("person",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},414734:(e,t,a)=>{a.d(t,{X:()=>o});a(667294);var n=a(745238),s=a(785893);const o=(0,n.IU)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,s.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,s.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},435840:(e,t,a)=>{a.d(t,{R:()=>o,T:()=>s});a(667294);var n=a(745238);const s=(0,a(785893).jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"}),o=(0,n.IU)("search",{viewBox:"0 0 16 16",svg:s})}}]);